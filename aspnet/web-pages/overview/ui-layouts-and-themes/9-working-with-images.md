---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Arbeiten mit Bildern an einem Standort der ASP.NET Web Pages (Razor) | Microsoft Docs
author: tfitzmac
description: Das Kapitel zeigt, wie Sie hinzufügen, anzeigen und Bearbeiten von Bildern (Größe ändern, spiegeln und Hinzufügen von Wasserzeichen) in Ihrer Website.
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2014
ms.topic: article
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 74838dd364a43f3f4c966c1417d0f0b2cc242f28
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
ms.locfileid: "26530149"
---
<a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="bf4d6-103">Arbeiten mit Bildern an einem Standort der ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="bf4d6-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>
====================
<span data-ttu-id="bf4d6-104">durch [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="bf4d6-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="bf4d6-105">Diesem Artikel erfahren Sie, wie Sie hinzufügen, anzeigen und Bearbeiten von Bildern (Größe ändern, spiegeln und Hinzufügen von Wasserzeichen) in einer ASP.NET Web Pages (Razor)-Website.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="bf4d6-106">Lernen Sie:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="bf4d6-107">Wie Sie ein Bild dynamisch zu einer Seite hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="bf4d6-108">Wie können Benutzer ein Image hochladen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="bf4d6-109">So ändern Sie die Größe ein Bild.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-109">How to resize an image.</span></span>
> - <span data-ttu-id="bf4d6-110">Vorgehensweise spiegeln oder drehen ein Bild.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="bf4d6-111">Wie Sie ein Wasserzeichen auf ein Bild hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="bf4d6-112">Wie Sie ein Bild als Wasserzeichen verwenden.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="bf4d6-113">Hierbei handelt es sich um den ASP.NET Programmieren von Funktionen, die im Artikel:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="bf4d6-114">Die `WebImage` Helper.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="bf4d6-115">Die `Path` -Objekt, das Methoden bereitstellt, mit denen Sie den Pfad und den Dateinamen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="bf4d6-116">In diesem Lernprogramm verwendeten Versionen der Software</span><span class="sxs-lookup"><span data-stu-id="bf4d6-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="bf4d6-117">ASP.NET Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="bf4d6-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="bf4d6-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="bf4d6-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="bf4d6-119">Dieses Lernprogramm funktioniert auch mit WebMatrix-3.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-119">This tutorial also works with WebMatrix 3.</span></span>


<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="bf4d6-120">Hinzufügen eines Bilds zu einer Webseite dynamisch</span><span class="sxs-lookup"><span data-stu-id="bf4d6-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="bf4d6-121">Sie können Bilder zu Ihrer Website und für einzelne Seiten hinzufügen, während der Entwicklung der Website.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="bf4d6-122">Ferner können Benutzer, die Bilder, hochgeladen, die für Aufgaben wie z. B. ein Profilfoto hinzufügen birgt dies nützlich sein können.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="bf4d6-123">Wenn ein Image bereits auf Ihrer Website verfügbar ist, und Sie nur auf einer Seite anzeigen möchten, verwenden Sie ein HTML `<img>` Element wie folgt:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="bf4d6-124">In einigen Fällen müssen Sie jedoch in der Lage, Anzeige von Bildern dynamisch sein & #8212; d. h. wissen nicht Sie, welches Bild angezeigt, bis die Seite ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="bf4d6-125">Die Verfahren in diesem Abschnitt wird gezeigt, wie ein Bild im Handumdrehen angezeigt, in dem Benutzer den Bilddateinamen aus einer Liste der imagenamen angeben, wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="bf4d6-126">Benutzer den Namen des Bilds aus einer Dropdownliste auswählen, und wenn sie die Seite senden, wird das Bild, das sie ausgewählt angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="bf4d6-127">![[Image]](9-working-with-images/_static/image1.jpg "ch9images 1.jpg")</span><span class="sxs-lookup"><span data-stu-id="bf4d6-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="bf4d6-128">Erstellen Sie eine neue Website in WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="bf4d6-129">Fügen Sie eine neue Seite mit dem Namen *DynamicImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="bf4d6-130">Klicken Sie im Stammordner der Website, fügen Sie einen neuen Ordner hinzu, und nennen Sie sie *Bilder*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="bf4d6-131">Hinzufügen von vier Bilder für die *Bilder* soeben erstellten Ordner.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="bf4d6-132">(Keine Bilder haben Sie praktisch führen wird, aber sie sollten auf eine Seite passen.) Benennen Sie die Bilder *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, und *Photo4.jpg*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="bf4d6-133">(Sie wird nicht verwenden, *Photo4.jpg* in dieser Prozedur, aber Sie verwenden es später in diesem Artikel.)</span><span class="sxs-lookup"><span data-stu-id="bf4d6-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="bf4d6-134">Stellen Sie sicher, dass die vier Bilder nicht als schreibgeschützt markiert sind.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="bf4d6-135">Ersetzen Sie den vorhandenen Inhalt auf der Seite mit den folgenden:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="bf4d6-136">Der Text der Seite enthält eine Dropdown-Liste (eine `<select>` Element) mit der Bezeichnung `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="bf4d6-137">Die Liste enthält drei Optionen und die `value` Attribut der einzelnen Optionen für die Liste hat den Namen eines der Bilder aus, das Sie in einfügen die *Bilder* Ordner.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="bf4d6-138">Im Wesentlichen kann die Liste den Benutzer, wählen Sie einen Anzeigenamen wie &quot;Foto 1&quot;, und übergibt dann die *jpg* Dateiname, wenn die Seite übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="bf4d6-139">Im Code können Sie die Auswahl des Benutzers (also den Bilddateinamen) aus der Liste abrufen, indem Sie lesen `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="bf4d6-140">Zuerst angezeigt, wenn eine Auswahl überhaupt vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="bf4d6-141">Wenn Sie vorhanden ist, erstellen Sie einen Pfad für das Bild, das der den Namen des Ordners für die Bilder und Bilddateinamen des Benutzers besteht.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="bf4d6-142">(Wenn Sie versucht haben, erstellen Sie einen Pfad, aber es nichts in wurde `Request["photoChoice"]`, erhalten Sie eine Fehlermeldung.) Daraus ergibt sich ein relativer Pfad wie folgt:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="bf4d6-143">*Bilder/Photo1.jpg*</span><span class="sxs-lookup"><span data-stu-id="bf4d6-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="bf4d6-144">Der Pfad befindet sich in der Variablen, die mit dem Namen `imagePath` , die Sie weiter unten auf der Seite benötigen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="bf4d6-145">Im Hauptteil, es gibt auch eine `<img>` -Element, das verwendet wird, um das Bild angezeigt wird, die der Benutzer ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="bf4d6-146">Die `src` Attribut ist nicht auf einen Dateinamen oder eine URL festgelegt, wie Sie vornehmen möchten, um ein statisches Element anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="bf4d6-147">Stattdessen wird er auf festgelegt `@imagePath`, was bedeutet, dass er seinen Wert aus dem Pfad ruft im Code festlegen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="bf4d6-148">Beim ersten, der die Seite ausgeführt wird, jedoch besteht kein Bild angezeigt, da der Benutzer nichts ausgewählt wurde nicht.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="bf4d6-149">Dies würde normalerweise bedeuten, dass die `src` wäre Attribut leer und das Bild als ein rotes angezeigt würde &quot;x&quot; (oder nach Belieben der Browser rendert, wenn ein Image gefunden werden kann).</span><span class="sxs-lookup"><span data-stu-id="bf4d6-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="bf4d6-150">Vermeiden möchten, setzen Sie die `<img>` Element in eine `if` Block, der testet, ob die `imagePath` Variable hat nichts darin.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="bf4d6-151">Wenn der Benutzer eine Auswahl getroffen `imagePath` enthält den Pfad.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="bf4d6-152">Wenn der Benutzer hat nicht ein Bild auswählen, oder wenn das erste Mal wird die Seite angezeigt, die `<img>` Element befindet sich nicht selbst gerendert.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="bf4d6-153">Speichern Sie die Datei, und führen Sie die Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="bf4d6-154">(Stellen Sie sicher, dass die Seite ist ausgewählt, der **Dateien** Arbeitsbereich vor der Ausführung.)</span><span class="sxs-lookup"><span data-stu-id="bf4d6-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="bf4d6-155">Wählen Sie ein Image aus der Dropdown-Liste, und klicken Sie dann auf **Beispielbild**.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="bf4d6-156">Stellen Sie sicher, dass Sie verschiedene Bilder für die verschiedenen Auswahlmöglichkeiten finden Sie unter.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="bf4d6-157">Ein Image hochladen</span><span class="sxs-lookup"><span data-stu-id="bf4d6-157">Uploading an Image</span></span>

<span data-ttu-id="bf4d6-158">Im vorherige Beispiel wurde gezeigt, wie ein Bild angezeigt wird, dynamisch, aber es funktioniert nur mit Bildern, die bereits auf Ihrer Website waren.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="bf4d6-159">Dieses Verfahren veranschaulicht, wie Benutzer ein Image hochladen, die dann auf der Seite angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="bf4d6-160">In ASP.NET können Sie Bearbeiten von Bildern auf einfache Weise mithilfe der `WebImage` Helper, verfügt über Methoden, mit denen Sie erstellen, bearbeiten und Speichern von Bildern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="bf4d6-161">Die `WebImage` Helper unterstützt alle die allgemeine Web Bilddateitypen, einschließlich *jpg*, *PNG*, und *.bmp*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="bf4d6-162">Verwenden Sie in diesem Artikel *jpg* Bilder, aber Sie können den Image-Typen verwenden.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="bf4d6-163">![[Image]](9-working-with-images/_static/image2.jpg "ch9images 2.jpg")</span><span class="sxs-lookup"><span data-stu-id="bf4d6-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="bf4d6-164">Fügen Sie eine neue Seite hinzu, und nennen Sie sie *UploadImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="bf4d6-165">Ersetzen Sie den vorhandenen Inhalt auf der Seite mit den folgenden:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="bf4d6-166">Der Textkörper des Texts wurde ein `<input type="file">` -Element, das Benutzer eine Datei zum Hochladen auswählen kann.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="bf4d6-167">Wenn die klicken Sie auf **Absenden**, die Datei, die sie ausgewählt wird zusammen mit der Form übermittelt.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="bf4d6-168">Um ein hochgeladenes Image zu erhalten, verwenden Sie die `WebImage` Hilfsfunktion, die alle möglichen nützlichen Methoden zum Arbeiten mit Bildern hat.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="bf4d6-169">Verwenden Sie insbesondere `WebImage.GetImageFromRequest` erhalten ein hochgeladenes Image (sofern vorhanden), und speichern es in einer Variablen namens `photo`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="bf4d6-170">Ein Großteil der Arbeit in diesem Beispiel beinhaltet abrufen und Festlegen von Datei-und Pfadnamen auf.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="bf4d6-171">Das Problem ist, dass Sie verwenden möchten, rufen Sie den Namen (und nur der Name) des Bilds, die der Benutzer hochgeladen haben, und erstellen Sie einen neuen Pfad für Sie zum Speichern des Abbilds wo an.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="bf4d6-172">Da Benutzer möglicherweise mehrere Abbilder, die den gleichen Namen haben hochladen können, verwenden Sie viel zusätzlichen Code zum Erstellen von eindeutiger Namen und stellen Sie sicher, dass Benutzer nicht vorhandener Bilder überschrieben.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="bf4d6-173">Wenn tatsächlich ein Bild hochgeladen wurde (der Test `if (photo != null)`), Sie erhalten den Namen des Abbilds aus des Images `FileName` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="bf4d6-174">Wenn der Benutzer das Bild hochlädt `FileName` enthält den Namen des Benutzers ursprünglichen, der den Pfad von dem Computer des Benutzers enthält.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="bf4d6-175">Es kann wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-175">It might look like this:</span></span>

    <span data-ttu-id="bf4d6-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="bf4d6-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="bf4d6-177">Sie möchten schließlich nicht alle dieser Pfadinformationen, obwohl & #8212; Sie möchten nur den tatsächlichen Dateinamen (*SamplePhoto1.jpg*).</span><span class="sxs-lookup"><span data-stu-id="bf4d6-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="bf4d6-178">Sie müssen nur die Datei aus einem Pfad entfernen können, mithilfe der `Path.GetFileName` -Methode, wie folgt:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="bf4d6-179">Anschließend erstellen Sie einen neuen eindeutigen Dateinamen an, indem Sie eine GUID an den ursprünglichen Namen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="bf4d6-180">(Weitere Informationen über GUIDs finden Sie unter [zu GUIDs](#SB_AboutGUIDs) weiter unten in diesem Artikel.) Anschließend erstellen Sie einen vollständigen Pfad, den Sie verwenden können, um das Bild zu speichern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="bf4d6-181">Der Speichervorgang Pfad setzt sich aus den neuen Dateinamen an, den Ordner (Images) und den aktuellen Speicherort der Website.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="bf4d6-182">In der Reihenfolge für den Code zum Speichern von Dateien in den *Bilder* Ordner der Anwendung muss Lese-/ Schreibzugriff Berechtigungen für diesen Ordner.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="bf4d6-183">Auf Ihrem Computer ist dies nicht in der Regel ein Problem.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="bf4d6-184">Wenn Sie Ihre Website mit einem Hostinganbieter Webserver veröffentlichen, müssen Sie diese Berechtigungen explizit festzulegen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="bf4d6-185">Wenn Sie diesen Code auf einem Hostinganbieter Server ausführen und Fehler gemeldet werden, überprüfen Sie mit dem Hostinganbieter, herauszufinden, wie diese Berechtigungen festlegen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="bf4d6-186">Übergeben Sie Sie abschließend den Speichervorgang Pfad zu der `Save` Methode der `WebImage` Helper.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="bf4d6-187">Dadurch werden die hochgeladene Image unter dem neuen Namen gespeichert.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="bf4d6-188">Der Speichervorgang Methode sieht wie folgt: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="bf4d6-189">Der vollständige Pfad angefügt `@"~\"`, also in den aktuellen Speicherort der Website.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="bf4d6-190">(Informationen zu den `~` -Operator, finden Sie unter [Einführung in ASP.NET Web-Programmierung mithilfe der Razor-Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="bf4d6-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="bf4d6-191">Wie im vorherigen Beispiel enthält der Hauptteil der Seite ein `<img>` Element zur Anzeige des Bilds.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="bf4d6-192">Wenn `imagePath` festgelegt wurde, wird die `<img>` Element gerendert wird und die zugehörige `src` -Attributsatz zur der `imagePath` Wert.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="bf4d6-193">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="bf4d6-194">Laden Sie ein Bild hoch, und stellen Sie sicher, dass er auf der Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="bf4d6-195">Öffnen Sie an Ihrem Standort die *Bilder* Ordner.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="bf4d6-196">Sie sehen, dass eine neue Datei hinzugefügt wurde, deren Dateiname etwa wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="bf4d6-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span><span class="sxs-lookup"><span data-stu-id="bf4d6-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="bf4d6-198">Hierbei handelt es sich um das Image, das Sie mit einer GUID, die den Namen vorangestellt hochgeladen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="bf4d6-199">(Eine eigene Datei müssen Sie einen anderen GUID und wahrscheinlich heißt etwas anderes als *MyPhoto.png*.)</span><span class="sxs-lookup"><span data-stu-id="bf4d6-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="bf4d6-200">Informationen zu GUIDs</span><span class="sxs-lookup"><span data-stu-id="bf4d6-200">About GUIDs</span></span>
> 
> <span data-ttu-id="bf4d6-201">Eine GUID (global eindeutige ID) ist ein Bezeichner, der in der Regel in einem Format wie folgt gerendert wird: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="bf4d6-202">Die Zahlen und Buchstaben (A-F) unterscheiden sich die für jede GUID, folgen das Muster der Verwendung von Gruppen von 8-4-4-4-12 Zeichen jedoch.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="bf4d6-203">(Eine GUID ist technisch gesehen eine 16-Byte/128-Bit-Zahl.) Wenn Sie eine GUID benötigen, können Sie spezielle Code aufrufen, die eine GUID für Sie generiert.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="bf4d6-204">Die Idee GUIDs wird zwischen der beachtliche Größe der Zahl (3.4 x 10<sup>38</sup>) und der Algorithmus zum Generieren von es, die daraus resultierende Zahl ist eine Art kann praktisch garantiert.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="bf4d6-205">GUIDs sind daher eine gute Möglichkeit zum Generieren von Namen für Elemente, wenn Sie sicherstellen müssen, dass Sie zwei Mal den gleichen Namen verwenden wird nicht.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="bf4d6-206">Der Nachteil ist natürlich, dass GUIDs nicht besonders benutzerfreundlich, damit sie tendenziell eher verwendet werden, wenn der Name nur im Code verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>


<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="bf4d6-207">Größenänderungen bei Bildern</span><span class="sxs-lookup"><span data-stu-id="bf4d6-207">Resizing an Image</span></span>

<span data-ttu-id="bf4d6-208">Wenn Ihre Website Abbilder von einem Benutzer annimmt, empfiehlt es sich, die Bilder Größe ändern, bevor Sie anzeigen oder speichern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="bf4d6-209">Vorgang können Sie die `WebImage` für dieses Hilfsprogramm.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="bf4d6-210">Dieses Verfahren veranschaulicht das Ändern der Größe eines hochgeladenen Images zum Erstellen einer Miniaturansicht und speichern Sie dann die Miniaturansicht und das ursprüngliche Bild auf der Website.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="bf4d6-211">Sie die Miniaturansicht auf der Seite anzeigen und verwenden einen Link, um Benutzer umzuleiten, auf das Bild in voller Größe.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="bf4d6-212">![[Image]](9-working-with-images/_static/image3.jpg "ch9images 3.jpg")</span><span class="sxs-lookup"><span data-stu-id="bf4d6-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="bf4d6-213">Fügen Sie eine neue Seite mit dem Namen *Thumbnail.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="bf4d6-214">In der *Bilder* Ordner einen Unterordner mit dem Namen *Daumen*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="bf4d6-215">Ersetzen Sie den vorhandenen Inhalt auf der Seite mit den folgenden:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="bf4d6-216">Dieser Code stellt ähnlich dem Code aus dem vorherigen Beispiel.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="bf4d6-217">Der Unterschied besteht darin, dass dieser Code das Bild zweimal, einmal normalerweise speichert einmal nach dem Erstellen einer Miniaturansichten Kopie des Abbilds.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="bf4d6-218">Zuerst ein hochgeladenes Image abrufen und speichern Sie sie in der *Bilder* Ordner.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="bf4d6-219">Sie erstellen dann einen neuen Pfad für die Miniaturansicht.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="bf4d6-220">Um die Miniaturansicht tatsächlich zu erstellen, rufen Sie die `WebImage` der Hilfsfunktion `Resize` Methode zum Erstellen eines Abbilds 60 x 60 Pixel.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="bf4d6-221">Im Beispiel wird gezeigt, wie Sie das Seitenverhältnis beibehalten und wie Sie verhindern, können das Bild wird vergrößert (für den Fall, dass die neue Größe tatsächlich das Bild größer machen würden).</span><span class="sxs-lookup"><span data-stu-id="bf4d6-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="bf4d6-222">Das vergrößerte Bild wird dann gespeichert, der *Daumen* Unterordner.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="bf4d6-223">Am Ende des Markups, verwenden Sie die gleiche `<img>` Element mit dynamischen `src` -Attribut, das Sie in den vorherigen Beispielen gesehen haben, um das Bild bedingt anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="bf4d6-224">In diesem Fall die Miniaturansicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="bf4d6-225">Sie verwenden, auch ein `<a>` Element, um einen Link, um die big-Version des Images zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="bf4d6-226">Wie bei der `src` Attribut des der `<img>` Element, legen Sie die `href` Attribut des der `<a>` Element dynamisch an den Inhalt `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="bf4d6-227">Um sicherzustellen, dass der Pfad als URL arbeiten kann, übergeben Sie `imagePath` auf die `Html.AttributeEncode` -Methode, die reservierte Zeichen in den Pfad in Zeichen konvertiert wird, die in einer URL Ordnung sein.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="bf4d6-228">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="bf4d6-229">Ein Foto hochladen, und stellen Sie sicher, dass die Miniaturansicht angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="bf4d6-230">Klicken Sie auf die Miniaturansicht, um das Bild in voller Größe anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="bf4d6-231">In der *Bilder* und *Bilder/Daumen*, beachten Sie, dass neue Dateien hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="bf4d6-232">Drehen und Kippen eines Bildes</span><span class="sxs-lookup"><span data-stu-id="bf4d6-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="bf4d6-233">Die `WebImage` Hilfsprogramm können Sie auch kippen und Drehen von Bildern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="bf4d6-234">Dieses Verfahren wird gezeigt, wie ein Bild vom Server abrufen, spiegeln das Bild stehend (vertikal), speichern Sie sie und klicken Sie dann das gespiegelte Bild auf der Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="bf4d6-235">In diesem Beispiel verwenden Sie nur eine Datei, die Sie bereits, auf dem Server verfügen (*Photo2.jpg*).</span><span class="sxs-lookup"><span data-stu-id="bf4d6-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="bf4d6-236">In einer echten Anwendung würden Sie wahrscheinlich ein Bild Blättern, deren Namen Sie dynamisch, erhalten wie Sie in den vorherigen Beispielen ausgeführt haben.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="bf4d6-237">![[Image]](9-working-with-images/_static/image4.jpg "ch9images 4.jpg")</span><span class="sxs-lookup"><span data-stu-id="bf4d6-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="bf4d6-238">Fügen Sie eine neue Seite mit dem Namen *FlipImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="bf4d6-239">Ersetzen Sie den vorhandenen Inhalt auf der Seite mit den folgenden:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="bf4d6-240">Der Code verwendet die `WebImage` Helper ein Bild vom Server abgerufen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="bf4d6-241">Sie erstellen den Pfad zu dem Bild, das über das gleiche Verfahren, die Sie für das Speichern von Bildern in vorherigen Beispielen verwendete und, dass der Pfad zu übergeben, wenn Sie ein Bild mit erstellen `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="bf4d6-242">Wenn ein Bild gefunden wird, erstellen Sie einen neuen Pfad und Dateinamen ein, wie Sie in vorherigen Beispielen ausgeführt haben.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="bf4d6-243">Um das Bild zu blättern, rufen Sie die `FlipVertical` speichern Sie das Bild-Methode, und klicken Sie dann erneut.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="bf4d6-244">Das Bild wird wieder auf der Seite angezeigt, mit der `<img>` Element mit dem `src` -Attributsatz zur `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="bf4d6-245">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-245">Run the page in a browser.</span></span> <span data-ttu-id="bf4d6-246">Das Bild für *Photo2.jpg* stehend angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="bf4d6-247">Aktualisieren Sie die Seite, oder bitten Sie die Seite erneut aus, um feststellen, dass das Bild rechts gekippte wieder einsatzbereit ist.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="bf4d6-248">Um ein Bild zu wechseln, verwenden Sie den gleichen Code, außer dass statt der `FlipVertical` oder `FlipHorizontal`, rufen Sie `RotateLeft` oder `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="bf4d6-249">Hinzufügen von Wasserzeichen zu einem Bild</span><span class="sxs-lookup"><span data-stu-id="bf4d6-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="bf4d6-250">Wenn Sie Ihre Website Bilder hinzufügen, empfiehlt es sich, ein Wasserzeichen auf das Abbild hinzufügen, bevor Sie speichern oder auf einer Seite anzeigen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="bf4d6-251">Benutzer verwenden häufig Wasserzeichen copyright-Informationen zu einem Bild hinzuzufügen oder um ihre Geschäftsnamen ankündigen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="bf4d6-252">![[Image]](9-working-with-images/_static/image5.jpg "ch9images 5.jpg")</span><span class="sxs-lookup"><span data-stu-id="bf4d6-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="bf4d6-253">Fügen Sie eine neue Seite mit dem Namen *Watermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="bf4d6-254">Ersetzen Sie den vorhandenen Inhalt auf der Seite mit den folgenden:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="bf4d6-255">Dieser Code ist wie der Code in der *FlipImage.cshtml* Seite von oben (Obwohl dieses Mal es verwendet die *Photo3.jpg* Datei).</span><span class="sxs-lookup"><span data-stu-id="bf4d6-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="bf4d6-256">Um das Wasserzeichen hinzuzufügen, rufen Sie die `WebImage` der Hilfsfunktion `AddTextWatermark` -Methode auf, bevor Sie das Abbild zu speichern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="bf4d6-257">Im Aufruf von `AddTextWatermark`, übergeben Sie den Text &quot;Meine Wasserzeichen&quot;, legen Sie die Schriftart Farbe in Gelb und Schriftfamilie auf Arial festgelegt.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="bf4d6-258">(Obwohl hier nicht angezeigt wird die `WebImage` Hilfsprogramm ermöglicht auch die Angabe Deckkraft, Schriftart und Schriftgrad und die Position des Wasserzeichentexts.) Wenn Sie das Abbild zu speichern darf es nicht schreibgeschützt sein.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="bf4d6-259">Wie Sie vor dem gesehen haben, wird das Bild auf der Seite mit angezeigten der `<img>` mit dem Src-Attribut-Elementgruppe `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="bf4d6-260">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-260">Run the page in a browser.</span></span> <span data-ttu-id="bf4d6-261">Beachten Sie den Text "Meine Watermark" in der unteren rechten Ecke des Bilds ein.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="bf4d6-262">Verwenden eines Bilds als Wasserzeichen</span><span class="sxs-lookup"><span data-stu-id="bf4d6-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="bf4d6-263">Anstelle von Text für ein Wasserzeichen verwenden, können Sie ein anderes Bild.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="bf4d6-264">Personen Bilder, z. B. ein Unternehmenslogo manchmal als Wasserzeichen verwenden, oder sie verwenden ein Wasserzeichenbild anstelle von Text aus, für die copyright-Informationen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="bf4d6-265">![[Image] ](9-working-with-images/_static/image6.jpg "ch9images 6.jpg")</span><span class="sxs-lookup"><span data-stu-id="bf4d6-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="bf4d6-266">Fügen Sie eine neue Seite mit dem Namen *ImageWatermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="bf4d6-267">Hinzufügen eines Bilds auf der *Bilder* Ordner, in dem Sie können als ein Logo aus, und benennen Sie das Bild *MyCompanyLogo.jpg*.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="bf4d6-268">Dieses Bild muss ein Bild, das Sie deutlich erkennen können, wenn er auf 80 Pixel breit und 20 Pixel hoch festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="bf4d6-269">Ersetzen Sie den vorhandenen Inhalt auf der Seite mit den folgenden:</span><span class="sxs-lookup"><span data-stu-id="bf4d6-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="bf4d6-270">Dies ist eine Variante für den Code aus den vorherigen Beispielen.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="bf4d6-271">In diesem Fall rufen Sie `AddImageWatermark` so die Zielbild Wasserzeichenbild hinzu (*Photo3.jpg*), bevor Sie das Abbild zu speichern.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="bf4d6-272">Beim Aufruf `AddImageWatermark`, legen Sie seine Breite auf 80 Pixel und die Höhe auf 20 Pixel.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="bf4d6-273">Die *MyCompanyLogo.jpg* Bild horizontal ausgerichtet wird, in der Mitte und am unteren Rand der Zielbild vertikal ausgerichtet ist.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="bf4d6-274">Die Deckkraft auf 100 % und die Auffüllung wird auf 10 Pixel festgelegt.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="bf4d6-275">Wenn das Wasserzeichenbild größer als das Ziel-Image ist, geschieht nichts.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="bf4d6-276">Das Wasserzeichenbild ist größer als das Ziel-Image, und legen Sie die Auffüllung für das Image Wasserzeichen auf 0 (null), wird das Wasserzeichen ignoriert.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="bf4d6-277">Wie bereits zuvor können Sie das Bild mithilfe anzeigen, die `<img>` Element und ein dynamisches `src` Attribut.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="bf4d6-278">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-278">Run the page in a browser.</span></span> <span data-ttu-id="bf4d6-279">Beachten Sie, dass das Wasserzeichenbild am unteren Rand der wichtigsten Bild angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d6-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="bf4d6-280">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="bf4d6-280">Additional Resources</span></span>


[<span data-ttu-id="bf4d6-281">Arbeiten mit Dateien in einer ASP.NET Web Pages-Website</span><span class="sxs-lookup"><span data-stu-id="bf4d6-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="bf4d6-282">Einführung in ASP.NET Web Pages Programmierung mithilfe von Razor-Syntax</span><span class="sxs-lookup"><span data-stu-id="bf4d6-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
