---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-cs
title: Strategien zur Datenbankentwicklung und-Bereitstellung (c#) | Microsoft Docs
author: rick-anderson
description: "Beim Bereitstellen einer datengesteuerte Anwendung zum ersten Mal können Sie die Datenbank Blind in der Entwicklungsumgebung in die produktionsumgebung kopieren. B..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/23/2009
ms.topic: article
ms.assetid: 3e8b0627-3eb7-488e-807e-067cba7cec05
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-cs
msc.type: authoredcontent
ms.openlocfilehash: 551a04296ff92e174a14bd9d2636714e823397e1
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2018
---
<a name="strategies-for-database-development-and-deployment-c"></a><span data-ttu-id="f8203-104">Strategien zur Datenbankentwicklung und-Bereitstellung (c#)</span><span class="sxs-lookup"><span data-stu-id="f8203-104">Strategies for Database Development and Deployment (C#)</span></span>
====================
<span data-ttu-id="f8203-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f8203-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="f8203-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="f8203-106">Download PDF</span></span>](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial10_DBDevel_cs.pdf)

> <span data-ttu-id="f8203-107">Beim Bereitstellen einer datengesteuerte Anwendung zum ersten Mal können Sie die Datenbank Blind in der Entwicklungsumgebung in die produktionsumgebung kopieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-107">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="f8203-108">Aber Ausführen einer Blind Kopie in nachfolgenden Bereitstellungen überschreibt keine Daten eingegeben werden, in der Produktionsdatenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-108">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="f8203-109">Stattdessen angewandt Bereitstellen einer Datenbank die Änderungen in der Entwicklungsdatenbank seit der letzten Bereitstellung auf der Produktionsdatenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-109">Instead, deploying a database involves applying the changes made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="f8203-110">In diesem Lernprogramm überprüft diese Herausforderungen bereit und bietet verschiedene Strategien zur Unterstützung beim chronicling und Anwenden der Änderungen an der Datenbank seit der letzten Bereitstellung vorgenommen wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-110">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>


## <a name="introduction"></a><span data-ttu-id="f8203-111">Einführung</span><span class="sxs-lookup"><span data-stu-id="f8203-111">Introduction</span></span>

<span data-ttu-id="f8203-112">Kopieren den relevanten Inhalt aus der Entwicklungsumgebung, in der produktionsumgebung als in vorherigen Lernprogrammen erläutert wird, umfasst Bereitstellung einer ASP.NET-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f8203-112">As discussed in previous tutorials, deploying an ASP.NET application entails copying the pertinent content from the development environment to the production environment.</span></span> <span data-ttu-id="f8203-113">Bereitstellung ist keine einmalige, aber stattdessen etwas, das erfolgt jedes Mal, wenn eine neue Version der Software veröffentlicht wird, oder wenn Fehler oder die Sicherheitsrisiken identifiziert und behoben wurden.</span><span class="sxs-lookup"><span data-stu-id="f8203-113">Deployment is not a one-time event, but rather something that happens every time a new version of the software is released or when bugs or security concerns have been identified and addressed.</span></span> <span data-ttu-id="f8203-114">Beim Kopieren von ASP.NET-Seiten wurden Bilder, JavaScript-Dateien und andere solche Dateien in der produktionsumgebung, die Sie nicht benötigen, um sich mit der Verwendung dieser Datei betreffen die seit der letzten Bereitstellung geändert.</span><span class="sxs-lookup"><span data-stu-id="f8203-114">When copying ASP.NET pages, images, JavaScript files, and other such files to the production environment you do not need to concern yourself with how these file have been changed since the last deployment.</span></span> <span data-ttu-id="f8203-115">Sie können die Datei Blind bis hin zur Produktion, kopieren, den vorhandenen Inhalt überschrieben.</span><span class="sxs-lookup"><span data-stu-id="f8203-115">You can blindly copy the file to production, overwriting the existing content.</span></span> <span data-ttu-id="f8203-116">Leider erstreckt diese Einfachheit sich nicht zum Bereitstellen der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-116">Unfortunately, this simplicity does not extend to deploying the database.</span></span>

<span data-ttu-id="f8203-117">Beim Bereitstellen einer datengesteuerte Anwendung zum ersten Mal können Sie die Datenbank Blind in der Entwicklungsumgebung in die produktionsumgebung kopieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-117">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="f8203-118">Aber Ausführen einer Blind Kopie in nachfolgenden Bereitstellungen überschreibt keine Daten eingegeben werden, in der Produktionsdatenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-118">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="f8203-119">Bereitstellen einer Datenbank stattdessen angewandt der *Änderungen* in der Entwicklungsdatenbank seit der letzten Bereitstellung auf der Produktionsdatenbank vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="f8203-119">Instead, deploying a database involves applying the *changes* made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="f8203-120">In diesem Lernprogramm überprüft diese Herausforderungen bereit und bietet verschiedene Strategien zur Unterstützung beim chronicling und Anwenden der Änderungen an der Datenbank seit der letzten Bereitstellung vorgenommen wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-120">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="the-challenges-of-deploying-a-database"></a><span data-ttu-id="f8203-121">Die Herausforderungen der Bereitstellung einer Datenbank</span><span class="sxs-lookup"><span data-stu-id="f8203-121">The Challenges of Deploying a Database</span></span>

<span data-ttu-id="f8203-122">Bevor eine datengesteuerte Anwendung zum ersten Mal bereitgestellt wurde, nur eine Datenbank vorhanden ist, d. h. die Datenbank in der Entwicklungsumgebung, weshalb beim Bereitstellen einer datengesteuerte Anwendung zum ersten Mal Sie blind können kopieren Sie die Datenbank in der Entwicklungsumgebung in der produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="f8203-122">Before a data-driven application has been deployed for the first time, there is only one database, namely the database in the development environment, which is why when deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="f8203-123">Nachdem die Anwendung bereitgestellt wurde, stehen zwei Kopien der Datenbank aber: eine Entwicklungs-und eine in der Produktion.</span><span class="sxs-lookup"><span data-stu-id="f8203-123">But once the application has been deployed there are two copies of the database: one in development and one in production.</span></span>

<span data-ttu-id="f8203-124">Zwischen Bereitstellungen können die Entwicklungs- und produktionsumgebungen Datenbanken nicht synchronisiert werden. Während der Produktion s Datenbankschema unverändert bleibt, kann die Development-s-Datenbankschema ändern, wenn neue Funktionen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-124">Between deployments the development and production databases can become out of sync. While the production database s schema remains unchanged, the development database s schema may change as new features are added.</span></span> <span data-ttu-id="f8203-125">Sie können hinzufügen oder Entfernen von Spalten, Tabellen, Sichten oder gespeicherte Prozeduren.</span><span class="sxs-lookup"><span data-stu-id="f8203-125">You might add or remove columns, tables, views, or stored procedures.</span></span> <span data-ttu-id="f8203-126">Möglicherweise ist auch nicht wichtige Daten, die in der Entwicklungsdatenbank hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-126">There may also be important data that gets added to the development database.</span></span> <span data-ttu-id="f8203-127">Viele datengesteuerte Anwendungen enthalten Nachschlagetabellen mit hartcodierten, anwendungsspezifische Daten, die nicht Benutzer bearbeitet werden aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="f8203-127">Many data-driven applications include lookup tables populated with hard-coded, application-specific data that are not user-editable.</span></span> <span data-ttu-id="f8203-128">Z. B. möglicherweise eine Auktion Website eine Dropdown-Liste mit Auswahlmöglichkeiten, die die Bedingung des Elements wird versteigert beschreiben: neu, wie neue funktionierende und Fair.</span><span class="sxs-lookup"><span data-stu-id="f8203-128">For example, an auction website might have a drop-down list with choices that describe the condition of the item being auctioned: New, Like New, Good, and Fair.</span></span> <span data-ttu-id="f8203-129">Anstatt eine feste Programmierung dieser Optionen direkt in der Dropdown-Liste ist es normalerweise besser, diese in einer Datenbanktabelle zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-129">Rather than hard-coding these options directly in the drop-down list it is usually better to place them in a database table.</span></span> <span data-ttu-id="f8203-130">Wenn während der Entwicklung eine neue Bedingung mit dem Namen schlecht die Tabelle dann beim Bereitstellen der Anwendung hinzugefügt wird muss denselben Datensatz zur Nachschlagetabelle in der Produktionsdatenbank hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-130">If, during development, a new condition named Poor is added to the table then when deploying the application this same record needs to be added to the lookup table in the production database.</span></span>

<span data-ttu-id="f8203-131">Im Idealfall würde Bereitstellen der Datenbank das Kopieren der Datenbank von der Entwicklung bis hin zur Produktion.</span><span class="sxs-lookup"><span data-stu-id="f8203-131">Ideally, deploying the database would involve copying the database from development to production.</span></span> <span data-ttu-id="f8203-132">Jedoch sollten Sie bedenken, dass nach der Anwendung bereitgestellt und Entwicklung fortgesetzt, die Produktionsdatenbank mit um echte Daten von wirklichen Benutzer aufgefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-132">But keep in mind that after you have deployed the application and resumed development, the production database is being populated with real data from real users.</span></span> <span data-ttu-id="f8203-133">Aus diesem Grund würden Sie die Datenbank einfach von der Entwicklung bis hin zur Produktion, bei der nächsten Bereitstellung zu kopieren Sie die Produktionsdatenbank zu überschreiben und die vorhandenen Daten verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="f8203-133">Therefore, if you were to simply copy the database from development to production at the next deployment you would overwrite the production database and lose its existing data.</span></span> <span data-ttu-id="f8203-134">Das Ergebnis ist, dass zum Anwenden der Änderungen in der Entwicklungsdatenbank seit der letzten Bereitstellung Kristallisieren Bereitstellen der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-134">The net result is that deploying the database boils down to applying the changes made to the development database since the last deployment.</span></span>

<span data-ttu-id="f8203-135">Da Bereitstellen einer Datenbank die Änderungen in das Schema und möglicherweise die Daten seit der letzten Bereitstellung anwenden umfasst, der Änderungsverlauf muss beibehalten (oder zum Zeitpunkt der Bereitstellung bestimmt), damit diese Änderungen auf die Produktion angewendet werden können.</span><span class="sxs-lookup"><span data-stu-id="f8203-135">Because deploying a database involves applying the changes in the schema and, possibly, the data since the last deployment, a history of changes must be maintained (or determined at deploy-time) so that those changes can be applied on production.</span></span> <span data-ttu-id="f8203-136">Es gibt eine Vielzahl von Techniken für die Verwaltung und Änderungen in das Datenmodell anwenden.</span><span class="sxs-lookup"><span data-stu-id="f8203-136">There are a variety of techniques for managing and applying changes to the data model.</span></span>

### <a name="defining-the-baseline"></a><span data-ttu-id="f8203-137">Definieren der Basislinie</span><span class="sxs-lookup"><span data-stu-id="f8203-137">Defining the Baseline</span></span>

<span data-ttu-id="f8203-138">Um die Änderungen an Ihrer Anwendung-s-Datenbank zu gewährleisten, müssen Sie einige Anfangszustand einer Baseline verfügen, für die Änderungen übernommen werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-138">To maintain the changes to your application s database you need to have some starting state, a baseline to which the changes are applied to.</span></span> <span data-ttu-id="f8203-139">Einerseits konnte der Startzustand eine leere Datenbank mit keine Tabellen, Sichten oder gespeicherte Prozeduren sein.</span><span class="sxs-lookup"><span data-stu-id="f8203-139">At one extreme the starting state could be an empty database with no tables, views, or stored procedures.</span></span> <span data-ttu-id="f8203-140">Solche eine Baseline führt in einem LargeChange-Protokoll, da die Erstellung aller s Datenbanktabellen, Ansichten und gespeicherten Prozeduren sowie alle Änderungen, die nach der ersten Bereitstellung berücksichtigt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="f8203-140">Such a baseline results in a large change log because it must include the creation of all of the database s tables, views, and stored procedures along with any changes made after the initial deployment.</span></span> <span data-ttu-id="f8203-141">Am anderen Ende des Spektrums können Sie die Baseline als die Version der Datenbank festlegen, die anfänglich in der produktionsumgebung bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-141">At the other end of the spectrum you could set the baseline as the version of the database that is initially deployed to the production environment.</span></span> <span data-ttu-id="f8203-142">Diese Auswahl führt zu eine wesentlich kleinere Änderungsprotokoll, da sie nur die Änderungen an der Datenbank nach der ersten Bereitstellung enthalten.</span><span class="sxs-lookup"><span data-stu-id="f8203-142">This choice results in a much smaller change log because it only includes the changes made to the database following the first deployment.</span></span> <span data-ttu-id="f8203-143">Dies ist der Ansatz, den ich möchte.</span><span class="sxs-lookup"><span data-stu-id="f8203-143">This is the approach I prefer.</span></span> <span data-ttu-id="f8203-144">Und natürlich Sie können eine weitere Mitte des Ansatzes Road definieren die Baseline als bestimmten Zeitpunkt zwischen der ursprünglichen Erstellung der Datenbank und wenn die Datenbank zuerst bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-144">And of course you can choose a more middle of the road approach, defining the baseline as some point between the initial creation of the database and when the database is first deployed.</span></span>

<span data-ttu-id="f8203-145">Nachdem Sie haben berücksichtigen ausgewählte Basislinie Generieren eines SQL-Skripts, das ausgeführt werden kann, um die Baseline-Version neu zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-145">Once you have chosen a baseline consider generating a SQL script that can be executed to recreate the baseline version.</span></span> <span data-ttu-id="f8203-146">Solches Skript ermöglicht die Baseline-Version der Datenbank schnell neu zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-146">Such a script makes it possible to quickly recreate the baseline version of the database.</span></span> <span data-ttu-id="f8203-147">Diese Funktionalität ist vor allem hilfreich bei größeren Projekten, wobei es möglicherweise mehrere Entwickler arbeiten auf das Projekt oder die zusätzliche Umgebungen, wie z. B. Test- oder Staging, benötigen, die jeweils ihre eigenen Kopie der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-147">This functionality is especially useful in larger projects, where there may be multiple developers working on the project or additional environments, such as testing or staging, that each need their own copy of the database.</span></span>

<span data-ttu-id="f8203-148">Es gibt eine Vielzahl von Tools zur Verfügung, die zum Generieren eines SQL-Skripts der baselineversion.</span><span class="sxs-lookup"><span data-stu-id="f8203-148">There are a variety of tools at your disposal to generate a SQL script of the baseline version.</span></span> <span data-ttu-id="f8203-149">Von SQL Server Management Studio (SSMS) auf die Datenbank Rechtsklick, wechseln Sie zu dem Untermenü Tasks, und wählen Sie die Option Skripts generieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-149">From SQL Server Management Studio (SSMS) you can right-click on the database, go to the Tasks submenu, and choose the Generate Scripts option.</span></span> <span data-ttu-id="f8203-150">Dies startet des Skript-Assistenten, in dem mitgeteilt wird, um eine Datei zu generieren, die SQL-Befehle zum Erstellen Ihrer Datenbank s Objekte enthält.</span><span class="sxs-lookup"><span data-stu-id="f8203-150">This launches the Script Wizard, which you can instruct to generate a file that contains the SQL commands to create your database s objects.</span></span> <span data-ttu-id="f8203-151">Eine andere Möglichkeit ist die Datenbankveröffentlichungs-Assistenten, die die SQL-Befehle nicht nur das Schema der Datenbank, sondern auch die Daten in den Datenbanktabellen erstellen generieren können.</span><span class="sxs-lookup"><span data-stu-id="f8203-151">Another option is the Database Publishing Wizard, which can generate the SQL commands to not only create the database schema, but also the data in the database tables.</span></span> <span data-ttu-id="f8203-152">Der Datenbankveröffentlichungs-Assistent wurde ausführlich untersucht zurück in die *Bereitstellen einer Datenbank* Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="f8203-152">The Database Publishing Wizard was examined in detail back in the *Deploying a Database* tutorial.</span></span> <span data-ttu-id="f8203-153">Unabhängig davon, welches Tool Sie verwenden, müssen Sie, am Ende die Notwendigkeit eine Skriptdatei, die Sie verwenden können, die Baseline-Version Ihrer Datenbank neu erstellen sollte auftreten.</span><span class="sxs-lookup"><span data-stu-id="f8203-153">Regardless of what tool you use, in the end you should have a script file that you can use to recreate the baseline version of your database, should the need arise.</span></span>

## <a name="documenting-the-database-changes-in-prose"></a><span data-ttu-id="f8203-154">Dokumentieren von Datenbankänderungen in Text</span><span class="sxs-lookup"><span data-stu-id="f8203-154">Documenting the Database Changes in Prose</span></span>

<span data-ttu-id="f8203-155">Die einfachste Möglichkeit, die während der Entwicklungsphase ein Protokolls der Änderungen in das Datenmodell verwalten werden die Änderungen im Programmierkontext aufzeichnen.</span><span class="sxs-lookup"><span data-stu-id="f8203-155">The simplest way to maintain a log of changes to the data model during the development phase is to record the changes in prose.</span></span> <span data-ttu-id="f8203-156">Wenn während der Entwicklung einer bereits bereitgestellte Anwendung Sie eine neue Spalte hinzufügen, z. B. die `Employees` Tabelle und eine Spalte aus der `Orders` Tabelle, und fügen Sie eine neue Tabelle (`ProductCategories`), verwalten Sie würde eine Textdatei oder Microsoft Word-Dokument mit dem folgenden Verlauf:</span><span class="sxs-lookup"><span data-stu-id="f8203-156">For example, if during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`), you would maintain a text file or Microsoft Word document with the following history:</span></span>

<a id="0.4_table01"></a>


| <span data-ttu-id="f8203-157">**Änderungsdatum**</span><span class="sxs-lookup"><span data-stu-id="f8203-157">**Change Date**</span></span> | <span data-ttu-id="f8203-158">**Ändern von Details**</span><span class="sxs-lookup"><span data-stu-id="f8203-158">**Change Details**</span></span> |
| --- | --- |
| <span data-ttu-id="f8203-159">2009-02-03:</span><span class="sxs-lookup"><span data-stu-id="f8203-159">2009-02-03:</span></span> | <span data-ttu-id="f8203-160">Hinzugefügte Spalte `DepartmentID` (`int`, NOT NULL), die `Employees` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="f8203-160">Added column `DepartmentID` (`int`, NOT NULL) to the `Employees` table.</span></span> <span data-ttu-id="f8203-161">Eine foreign Key-Einschränkung von hinzugefügt `Departments.DepartmentID` auf `Employees.DepartmentID`.</span><span class="sxs-lookup"><span data-stu-id="f8203-161">Added a foreign key constraint from `Departments.DepartmentID` to `Employees.DepartmentID`.</span></span> |
| <span data-ttu-id="f8203-162">2009-02-05:</span><span class="sxs-lookup"><span data-stu-id="f8203-162">2009-02-05:</span></span> | <span data-ttu-id="f8203-163">Entfernte Spalte `TotalWeight` aus der `Orders` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="f8203-163">Removed column `TotalWeight` from the `Orders` table.</span></span> <span data-ttu-id="f8203-164">Zugeordnete Daten, die bereits erfasst `OrderDetails` Datensätze.</span><span class="sxs-lookup"><span data-stu-id="f8203-164">Data already captured in associated `OrderDetails` records.</span></span> |
| <span data-ttu-id="f8203-165">2009-02-12:</span><span class="sxs-lookup"><span data-stu-id="f8203-165">2009-02-12:</span></span> | <span data-ttu-id="f8203-166">Erstellt die `ProductCategories` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="f8203-166">Created the `ProductCategories` table.</span></span> <span data-ttu-id="f8203-167">Es gibt drei Spalten: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`), und `Active` (`bit`, `NOT NULL`).</span><span class="sxs-lookup"><span data-stu-id="f8203-167">There are three columns: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`), and `Active` (`bit`, `NOT NULL`).</span></span> <span data-ttu-id="f8203-168">Um eine primary Key-Einschränkung hinzugefügt `ProductCategoryID`, und ein Standardwert von 1 bis `Active`.</span><span class="sxs-lookup"><span data-stu-id="f8203-168">Added a primary key constraint to `ProductCategoryID`, and a default value of 1 to `Active`.</span></span> |


<span data-ttu-id="f8203-169">Es gibt diverse Nachteil dieses Ansatzes liegt.</span><span class="sxs-lookup"><span data-stu-id="f8203-169">There are a number of drawbacks to this approach.</span></span> <span data-ttu-id="f8203-170">Zunächst einmal besteht keine Möglichkeit für die Automatisierung.</span><span class="sxs-lookup"><span data-stu-id="f8203-170">For starters, there is no hope for automation.</span></span> <span data-ttu-id="f8203-171">Jederzeit müssen diese Änderungen in einer Datenbank - angewendet werden, z. B. wenn die Anwendung bereitgestellt wird – ein Entwickler muss manuell implementieren zum Ändern der einzelnen einzeln nacheinander.</span><span class="sxs-lookup"><span data-stu-id="f8203-171">Anytime these changes need to be applied to a database - such as when the application is deployed - a developer must manually implement each change, one at a time.</span></span> <span data-ttu-id="f8203-172">Darüber hinaus, wenn Sie eine bestimmte Version der Datenbank, aus der Basislinie mithilfe der Änderungsprotokoll rekonstruieren müssen, wird dadurch so mehr Zeit in Anspruch nehmen als das Protokoll wächst.</span><span class="sxs-lookup"><span data-stu-id="f8203-172">Moreover, if you need to reconstruct a particular version of the database from the baseline using the change log, doing so will take more and more time as the size of the log grows.</span></span> <span data-ttu-id="f8203-173">Ein weiterer Nachteil dieser Methode ist, dass die Klarheit und die Detailebene der Protokolleintrag für die Änderung an die Person, die Aufzeichnung der Änderung bleibt.</span><span class="sxs-lookup"><span data-stu-id="f8203-173">Another drawback to this method is that the clarity and level of detail of each change log entry is left to the person recording the change.</span></span> <span data-ttu-id="f8203-174">In einem Team mehrere Entwickler möglicherweise einige ausführlichere, besser lesbar und eine genauere Einträge als andere Stellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-174">In a team with multiple developers some may make more detailed, more readable, or more precise entries than others.</span></span> <span data-ttu-id="f8203-175">Darüber hinaus sind Tippfehler und andere Human bezogene Dateneingabefehler möglich.</span><span class="sxs-lookup"><span data-stu-id="f8203-175">Also, typos and other human-related data entry errors are possible.</span></span>

<span data-ttu-id="f8203-176">Der Hauptvorteil der dokumentieren die datenbankänderungen in Text ist die Einfachheit.</span><span class="sxs-lookup"><span data-stu-id="f8203-176">The primary benefit of documenting the database changes in prose is simplicity.</span></span> <span data-ttu-id="f8203-177">Sie Verschlüsselungskennwort t mit der SQL-Syntax für das Erstellen und Ändern von Datenbankobjekten müssen vertraut sind.</span><span class="sxs-lookup"><span data-stu-id="f8203-177">You don t need familiarity with the SQL syntax for creating and altering database objects.</span></span> <span data-ttu-id="f8203-178">Stattdessen können die Änderungen in Programmierkontext aufzuzeichnen, und über SQL Server Management Studio s grafische Benutzeroberfläche zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-178">Instead, you can record the changes in prose and implement them through SQL Server Management Studio s graphical user interface.</span></span>

<span data-ttu-id="f8203-179">Verwalten Ihrer Änderungsprotokoll in Programmierkontext, zugegeben, nicht sehr anspruchsvolle und erzielter t Arbeit auch mit bestimmten Projekten, wie diejenigen, die im Gültigkeitsbereich befindet, groß sind haben Sie häufige Änderungen in das Datenmodell oder umfassen Sie mehrere Entwickler.</span><span class="sxs-lookup"><span data-stu-id="f8203-179">Maintaining your change log in prose is, admittedly, not very sophisticated and won t work well with certain projects, such as ones that are large in scope, have frequent changes to the data model, or involve multiple developers.</span></span> <span data-ttu-id="f8203-180">Aber ich haben gesehen, dass dieser Ansatz funktioniert sehr gut in kleinen, one-man-Projekten, die nur gelegentliche Änderungen in das Datenmodell besitzen und, in dem die Steigung Developer verfügt nicht über Kenntnisse in der SQL-Syntax für das Erstellen und Ändern von Datenbankobjekten.</span><span class="sxs-lookup"><span data-stu-id="f8203-180">But I have seen this approach work quite well in small, one-man projects that have only occasional changes to the data model and where the solo developer does not have a strong background in the SQL syntax for creating and altering database objects.</span></span>

> [!NOTE]
> <span data-ttu-id="f8203-181">Während die Informationen in das Änderungsprotokoll nur benötigt, bis eine bereitstellen Zeit wird, technisch gesehen, empfehlen wir der Änderungsverlauf beibehalten.</span><span class="sxs-lookup"><span data-stu-id="f8203-181">While the information in the change log is, technically, only needed until deploy-time, I recommend keeping a history of changes.</span></span> <span data-ttu-id="f8203-182">Aber anstatt zu warten ein einzelnes, ständig Protokolldatei ändern, verwenden Sie eine andere Änderung Protokolldatei für jede Datenbankversion.</span><span class="sxs-lookup"><span data-stu-id="f8203-182">But rather than maintaining a single, ever growing change log file, consider having a different change log file for each database version.</span></span> <span data-ttu-id="f8203-183">In der Regel sollten auf Version die Datenbank jedes Mal Sie sie bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-183">Typically you will want to version the database each time it is deployed.</span></span> <span data-ttu-id="f8203-184">Indem Sie ein Protokoll Änderungsprotokolle verwalten können, beginnend mit der Basislinie ruht, neu erstellen einer beliebigen Datenbankversion durch Ausführen der Protokoll-Änderungsskripts, die beginnend mit Version 1 und fortsetzen, bis Sie erreichen, dass die Version müssen Sie neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-184">By maintaining a log of change logs you can, starting from the baseline, recreate any database version by executing the change log scripts starting from version 1 and continuing until you reach the version you need to recreate.</span></span>


## <a name="recording-the-sql-change-statements"></a><span data-ttu-id="f8203-185">Aufzeichnen der SQL-Anweisungen ändern</span><span class="sxs-lookup"><span data-stu-id="f8203-185">Recording the SQL Change Statements</span></span>

<span data-ttu-id="f8203-186">Der primäre Nachteil des Verwalten des Änderungsprotokolls in Text ist das Fehlen der Automatisierung.</span><span class="sxs-lookup"><span data-stu-id="f8203-186">The primary drawback of maintaining the change log in prose is the lack of automation.</span></span> <span data-ttu-id="f8203-187">Im Idealfall, implementieren die Änderungen an Datenbanken in der Produktionsdatenbank zum Zeitpunkt der Bereitstellung so einfach wie das Klicken auf eine Schaltfläche zum Ausführen eines Skripts, anstatt manuell eine Liste von Anweisungen ausführen wäre.</span><span class="sxs-lookup"><span data-stu-id="f8203-187">Ideally, implementing the database changes to the production database at deploy-time would be as easy as clicking a button to execute a script rather than having to manually perform a list of instructions.</span></span> <span data-ttu-id="f8203-188">Solche Automatisierung ist möglich durch Verwalten einer Änderungsprotokoll, die diese SQL-Befehle, die auch verwendet, um das Datenmodell enthält.</span><span class="sxs-lookup"><span data-stu-id="f8203-188">Such automation is possible by maintaining a change log that contains those SQL commands used to alter the data model.</span></span>

<span data-ttu-id="f8203-189">Die SQL-Syntax umfasst eine Reihe von Anweisungen zum Erstellen und Ändern von verschiedenen Datenbankobjekten.</span><span class="sxs-lookup"><span data-stu-id="f8203-189">The SQL syntax includes a number of statements for creating and modifying various database objects.</span></span> <span data-ttu-id="f8203-190">Z. B. die [ *CREATE TABLE-Anweisung*](https://msdn.microsoft.com/library/ms174979.aspx), bei der Ausführung erstellt eine neue Tabelle mit den angegebenen Spalten und Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="f8203-190">For example, the [*CREATE TABLE statement*](https://msdn.microsoft.com/library/ms174979.aspx), when executed, creates a new table with the specified columns and constraints.</span></span> <span data-ttu-id="f8203-191">Die [ *ALTER TABLE-Anweisung* ](https://msdn.microsoft.com/library/ms190273.aspx) ändert eine vorhandene Tabelle hinzufügen, entfernen oder ändern die Spalten bzw. Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="f8203-191">The [*ALTER TABLE statement*](https://msdn.microsoft.com/library/ms190273.aspx) modifies an existing table, adding, removing, or modifying its columns or constraints.</span></span> <span data-ttu-id="f8203-192">Es sind auch Anweisungen zum Erstellen, ändern und Löschen von Indizes, Sichten, benutzerdefinierte Funktionen, gespeicherte Prozeduren, Trigger und andere Datenbankobjekte.</span><span class="sxs-lookup"><span data-stu-id="f8203-192">There are also statements to create, modify, and drop indexes, views, user-defined functions, stored procedures, triggers, and other database objects.</span></span>

<span data-ttu-id="f8203-193">Zur im Beispiel oben zurückkehren, die während der Entwicklung einer bereits bereitgestellte Anwendung, die Sie eine neue Spalte hinzufügen image der `Employees` Tabelle und eine Spalte aus der `Orders` Tabelle, und fügen Sie eine neue Tabelle (`ProductCategories`).</span><span class="sxs-lookup"><span data-stu-id="f8203-193">Returning to our earlier example, image that during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`).</span></span> <span data-ttu-id="f8203-194">Solche Aktionen führt zu einer Änderung Protokolldatei mit den folgenden SQL-Befehlen:</span><span class="sxs-lookup"><span data-stu-id="f8203-194">Such actions would result in a change log file with the following SQL commands:</span></span>

[!code-sql[Main](strategies-for-database-development-and-deployment-cs/samples/sample1.sql)]

<span data-ttu-id="f8203-195">Übertragen diese Änderungen in der Produktionsdatenbank zum Zeitpunkt der Bereitstellung ist ein einmalklick-Vorgang: Öffnen Sie SQL Server Management Studio, Herstellen einer Verbindung mit der Produktionsdatenbank, ein neues Abfragefenster öffnen, fügen Sie den Inhalt des Änderungsprotokolls, und klicken Sie auf Ausführen, um das Skript auszuführen.</span><span class="sxs-lookup"><span data-stu-id="f8203-195">Pushing these changes to the production database at deploy-time is a one-click operation: open SQL Server Management Studio, connect to your production database, open a New Query window, paste the contents of the change log, and click Execute to run the script.</span></span>

## <a name="using-a-comparison-tool-to-synchronize-the-data-models"></a><span data-ttu-id="f8203-196">Mithilfe eines Vergleichs-Tools zum Synchronisieren der Datenmodelle</span><span class="sxs-lookup"><span data-stu-id="f8203-196">Using a Comparison Tool to Synchronize the Data Models</span></span>

<span data-ttu-id="f8203-197">Dokumentieren von datenbankänderungen in Text ist einfach, aber implementieren die Änderungen erfordert jede Änderung in der Produktionsdatenbank eine zu einem Zeitpunkt stellen Entwickler; Dokumentieren die SQL-Änderungsbefehle macht, implementieren diese Änderungen in der Produktionsdatenbank so einfach und schnell, wie das Klicken auf eine Schaltfläche, erfordert jedoch erlernen und mastering der SQL-Anweisungen und die Syntax für das Erstellen und Ändern von Datenbankobjekten.</span><span class="sxs-lookup"><span data-stu-id="f8203-197">Documenting database changes in prose is easy, but implementing the changes requires a developer to make each change on the production database one at a time; documenting the change SQL commands makes implementing those changes on the production database as easy and quick as clicking a button, but requires learning and mastering the SQL statements and syntax for creating and altering database objects.</span></span> <span data-ttu-id="f8203-198">Vergleich Datenbanktools nehmen Sie das beste aus beiden Ansätzen und die schlechteste verwerfen.</span><span class="sxs-lookup"><span data-stu-id="f8203-198">Database comparison tools take the best from both approaches and discard the worst.</span></span>

<span data-ttu-id="f8203-199">Eine Datenbank Vergleichstool vergleicht das Schema oder Daten von zwei Datenbanken und zeigt einen zusammenfassenden Bericht anzeigt, wie die Datenbanken unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="f8203-199">A database comparison tool compares the schema or data of two databases and displays a summary report showing you how the databases differ.</span></span> <span data-ttu-id="f8203-200">Anschließend können Sie mit einem Klick auf eine Schaltfläche, die SQL-Befehle für die Synchronisierung eine oder mehrere Datenbankobjekte erstellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-200">Then, with the click of a button, you can generate the SQL commands for synchronizing one or more database objects.</span></span> <span data-ttu-id="f8203-201">Kurz gesagt, können Sie eine Datenbank Vergleichstool vergleichen Sie die Entwicklung und Produktionsdatenbanken zum Zeitpunkt der bereitstellen, generieren eine Datei mit der SQL-Befehle, wenn ausgeführt, gelten die Änderungen für das Produktions-Datenbankschema s so, dass die It Spiegelt das Entwicklung-s-Datenbankschema.</span><span class="sxs-lookup"><span data-stu-id="f8203-201">In a nutshell, you can use a database comparison tool to compare the development and production databases at deploy-time, generating a file that contains the SQL commands that, when executed, will apply the changes to the production database s schema so that it mirrors the development database s schema.</span></span>

<span data-ttu-id="f8203-202">Es gibt eine Vielzahl von Drittanbieter-Database Vergleichstools, die von vielen verschiedenen Anbietern angeboten.</span><span class="sxs-lookup"><span data-stu-id="f8203-202">There are a variety of third-party database comparison tools offered by many different vendors.</span></span> <span data-ttu-id="f8203-203">Ein Beispiel ist [ *SQL Compare*](http://www.red-gate.com/products/SQL_Compare/), von [ *Red Gate Software*](http://www.red-gate.com/).</span><span class="sxs-lookup"><span data-stu-id="f8203-203">One such example is [*SQL Compare*](http://www.red-gate.com/products/SQL_Compare/), by [*Red Gate Software*](http://www.red-gate.com/).</span></span> <span data-ttu-id="f8203-204">Lassen Sie s, die durch die Verwendung von SQL Compare zu vergleichen und Synchronisieren der Schemas für Entwicklungs- und produktionsumgebungen Datenbanken zu durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="f8203-204">Let s walk through the process of using SQL Compare to compare and synchronize the development and production databases schemas.</span></span>

> [!NOTE]
> <span data-ttu-id="f8203-205">Zum Zeitpunkt der Erstellung dieses Dokuments wurde die aktuelle Version von SQL Compare-Version 7.1, mit der Standard Edition Kostenberechnungen 395.</span><span class="sxs-lookup"><span data-stu-id="f8203-205">At the time of this writing the current version of SQL Compare was version 7.1, with the Standard Edition costing $395.</span></span> <span data-ttu-id="f8203-206">Sie können durch Herunterladen der 14-Tage-Testversion nachvollziehen.</span><span class="sxs-lookup"><span data-stu-id="f8203-206">You can follow along by downloading a free 14-day trial.</span></span>


<span data-ttu-id="f8203-207">Beim Starten von SQL Compare Öffnet das Dialogfeld Vergleich Projekte, die mit der gespeicherten SQL Compare-Projekte.</span><span class="sxs-lookup"><span data-stu-id="f8203-207">When SQL Compare starts the Comparison Projects dialog box opens, showing the saved SQL Compare projects.</span></span> <span data-ttu-id="f8203-208">Erstellen Sie ein neues Projekt.</span><span class="sxs-lookup"><span data-stu-id="f8203-208">Create a new project.</span></span> <span data-ttu-id="f8203-209">Dies startet den Projekt-Assistenten, der für Informationen zu den Datenbanken werden Sie aufgefordert, verglichen werden soll (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="f8203-209">This launches the Project Configuration wizard, which prompts for information about the databases to compare (see Figure 1).</span></span> <span data-ttu-id="f8203-210">Geben Sie die Informationen für die Entwicklung und Produktion Umgebung Datenbanken aus.</span><span class="sxs-lookup"><span data-stu-id="f8203-210">Enter the information for the development and production environment databases.</span></span>


<span data-ttu-id="f8203-211">[![Vergleichen Sie die Entwicklung und Produktionsdatenbanken](strategies-for-database-development-and-deployment-cs/_static/image2.jpg)](strategies-for-database-development-and-deployment-cs/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="f8203-211">[![Compare the Development and Production Databases](strategies-for-database-development-and-deployment-cs/_static/image2.jpg)](strategies-for-database-development-and-deployment-cs/_static/image1.jpg)</span></span>

<span data-ttu-id="f8203-212">**Abbildung 1**: Vergleichen der Entwicklungs- und Produktionsdatenbanken ([klicken Sie hier, um das Bild in voller Größe angezeigt](strategies-for-database-development-and-deployment-cs/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="f8203-212">**Figure 1**: Compare the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-cs/_static/image3.jpg))</span></span>


> [!NOTE]
> <span data-ttu-id="f8203-213">Wenn Ihre Umgebung Entwicklungsdatenbank eine SQL Express Edition-Datenbankdatei in ist die `App_Data` Ordner der Website Sie die Datenbank auf dem SQL Server Express-Datenbankserver zu registrieren, um ihn über das Dialogfeld, das in Abbildung 1 veranschaulichte auszuwählen müssen.</span><span class="sxs-lookup"><span data-stu-id="f8203-213">If your development environment database is a SQL Express Edition database file in the `App_Data` folder of your website you will need to register the database in the SQL Server Express database server in order to select it from the dialog box shown in Figure 1.</span></span> <span data-ttu-id="f8203-214">Die einfachste Möglichkeit, dies zu erreichen, werden von SQL Server Management Studio (SSMS) öffnen, eine Verbindung mit SQL Server Express-Datenbankserver und fügen Sie die Datenbank ab.</span><span class="sxs-lookup"><span data-stu-id="f8203-214">The easiest way to accomplish this is to open SQL Server Management Studio (SSMS), connect to the SQL Server Express database server, and attach the database.</span></span> <span data-ttu-id="f8203-215">Wenn Sie nicht SSMS, die auf Ihrem Computer installiert haben können Sie herunterladen und installieren Sie die kostenlose [ *Version von SQL Server 2008 Management Studio Basic*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en).</span><span class="sxs-lookup"><span data-stu-id="f8203-215">If you do not have SSMS installed on your computer you can download and install the free [*SQL Server 2008 Management Studio Basic version*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en).</span></span>


<span data-ttu-id="f8203-216">Zusätzlich zur Auswahl der Datenbanken, verglichen werden soll, können Sie auch eine Reihe von vergleichseinstellungen aus der Registerkarte "Optionen" angeben. Eine Option, die Sie aktivieren möchten, möglicherweise ist die "Ignore Einschränkung und Index Namen."</span><span class="sxs-lookup"><span data-stu-id="f8203-216">In addition to selecting the databases to compare, you can also specify a variety of comparison settings from the Options tab. One option you may want to turn on is the "Ignore constraint and index names."</span></span> <span data-ttu-id="f8203-217">Beachten Sie, dass in dem vorherigen Lernprogramm aus, den wir, dass die Anwendungsdienste Datenbankobjekte, die die Entwicklung und Produktion Datenbanken hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="f8203-217">Recall that in the preceding tutorial we added the application services database objects to the development and production databases.</span></span> <span data-ttu-id="f8203-218">Bei Verwendung der `aspnet_regsql.exe` Tool zum Erstellen dieser Objekte in der Produktionsdatenbank, und Sie sehen, dass die primary key- und unique-Einschränkungsnamen zwischen den Datenbanken Entwicklungs- und produktionsumgebungen unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="f8203-218">If you used the `aspnet_regsql.exe` tool to create these objects on the production database then you will find that the primary key and unique constraint names differ between the development and production databases.</span></span> <span data-ttu-id="f8203-219">Folglich wird SQL Compare alle Tabellen der Anwendung Dienste als unterschiedliche kennzeichnen.</span><span class="sxs-lookup"><span data-stu-id="f8203-219">Consequently, SQL Compare will flag all of the application services tables as differing.</span></span> <span data-ttu-id="f8203-220">Lassen Sie entweder die "Ignore Einschränkung und Index Names" deaktiviert und synchronisieren Sie die Namen der Einschränkungen oder anweisen, SQL vergleichen, um diese Unterschiede zu ignorieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-220">You can either leave the "Ignore constraint and index names" unchecked and synchronize the constraint names, or instruct SQL Compare to ignore these differences.</span></span>

<span data-ttu-id="f8203-221">Nach der Auswahl der Datenbanken auf ' vergleichen ' (und überprüfen die Vergleichsoptionen), klicken Sie auf die Schaltfläche "jetzt vergleichen", um den Vergleich zu starten.</span><span class="sxs-lookup"><span data-stu-id="f8203-221">After selecting the databases to compare (and reviewing the comparison options), click the Compare Now button to begin the comparison.</span></span> <span data-ttu-id="f8203-222">Über den nächsten Sekunden SQL Compare untersucht die Schemas der beiden Datenbanken und generiert einen Bericht, wie sie sich unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="f8203-222">Over the next several seconds, SQL Compare examines the schemas of the two databases and generates a report of how they differ.</span></span> <span data-ttu-id="f8203-223">Ich Ve vorgenommen absichtlich einige Änderungen in der Entwicklungsdatenbank aus, um anzuzeigen, wie solche abweichungen in der SQL Compare-Schnittstelle hingewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-223">I ve purposefully made some modifications to the development database to show how such discrepancies are noted in the SQL Compare interface.</span></span> <span data-ttu-id="f8203-224">Wie in Abbildung 2 gezeigt, ich hinzugefügt haben eine `BirthDate` Spalte die `Authors` Tabelle entfernt die `ISBN` Spalte aus der `Books` Tabelle, und eine neue Tabelle hinzugefügt `Ratings`, die Benutzer besuchen der Website-Rate überprüft Bücher können sollen.</span><span class="sxs-lookup"><span data-stu-id="f8203-224">As Figure 2 shows, I ve added a `BirthDate` column to the `Authors` table, removed the `ISBN` column from the `Books` table, and added a new table, `Ratings`, which is meant to let users visiting the site rate the reviewed books.</span></span>

> [!NOTE]
> <span data-ttu-id="f8203-225">Datenmodelländerungen, die in diesem Lernprogramm vorgenommen wurden ausgeführt, um mit einem Vergleichstool Datenbank zu veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="f8203-225">The data model changes made in this tutorial were done to illustrate using a database comparison tool.</span></span> <span data-ttu-id="f8203-226">Sie werden diese Änderungen nicht in der Datenbank in zukünftigen Lernprogrammen feststellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-226">You will not find these changes in the database in future tutorials.</span></span>


<span data-ttu-id="f8203-227">[![SQL Compare sind die Unterschiede zwischen der Entwicklungs- und Produktionsdatenbanken aufgeführt.](strategies-for-database-development-and-deployment-cs/_static/image5.jpg)](strategies-for-database-development-and-deployment-cs/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="f8203-227">[![SQL Compare Lists the Differences Between the Development and Production Databases](strategies-for-database-development-and-deployment-cs/_static/image5.jpg)](strategies-for-database-development-and-deployment-cs/_static/image4.jpg)</span></span>

<span data-ttu-id="f8203-228">**Abbildung 2**: SQL Compare aufgeführt, die Unterschiede zwischen der Entwicklungs- und Produktionsdatenbanken ([klicken Sie hier, um das Bild in voller Größe angezeigt](strategies-for-database-development-and-deployment-cs/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="f8203-228">**Figure 2**: SQL Compare Lists the Differences Between the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-cs/_static/image6.jpg))</span></span>


<span data-ttu-id="f8203-229">SQL Compare gliedert die Datenbankobjekte in Gruppen, welche Objekte schnell angezeigt in beiden Datenbanken vorhanden, aber unterschiedlich sind, die Objekte in einer Datenbank, aber nicht in der anderen vorhanden, und welche Objekte identisch sind.</span><span class="sxs-lookup"><span data-stu-id="f8203-229">SQL Compare breaks down the database objects into groups, quickly showing you what objects exist in both databases but are different, which objects exist in one database but not the other, and which objects are identical.</span></span> <span data-ttu-id="f8203-230">Wie Sie sehen können, sind zwei Objekte, die in beiden Datenbanken vorhanden sind, jedoch unterscheiden: das `Authors` Tabelle, die eine Spalte hinzugefügt haben, und die `Books` Tabelle, die eine entfernt wurde.</span><span class="sxs-lookup"><span data-stu-id="f8203-230">As you can see, there are two objects that exist in both databases but are different: the `Authors` table, which had a column added, and the `Books` table, which had one removed.</span></span> <span data-ttu-id="f8203-231">Es ist ein Objekt, das nur in der Entwicklungsdatenbank, nämlich das neu erstellte zurückgeht `Ratings` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="f8203-231">There is one object that exists only in the development database, namely the newly created `Ratings` table.</span></span> <span data-ttu-id="f8203-232">Und stehen 117 Objekte, die in beiden Datenbanken identisch sind.</span><span class="sxs-lookup"><span data-stu-id="f8203-232">And there are 117 objects that are identical in both databases.</span></span>

<span data-ttu-id="f8203-233">Ein Datenbankobjekt auswählen, zeigt das Fenster SQL Unterschiede, das zeigt, wie diese Objekte unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="f8203-233">Selecting a database object displays the SQL Differences window, which shows how these objects differ.</span></span> <span data-ttu-id="f8203-234">Hervorgehoben Fenster SQL Unterschiede unten in Abbildung 2 angezeigt wird, die `Authors` Tabelle in der Entwicklungsdatenbank verfügt über die `BirthDate` Spalte, die nicht im ist die `Authors` Tabelle in der Produktionsdatenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-234">The SQL Differences window, displayed at the bottom in Figure 2, highlights that the `Authors` table in the development database has the `BirthDate` column, which is not found in the `Authors` table on the production database.</span></span>

<span data-ttu-id="f8203-235">Als Nächstes werden nach dem Überprüfen der Unterschiede und Auswählen der Objekte, die Sie synchronisieren möchten, die SQL-Befehle erforderlich, um die Produktion s Datenbankschema aktualisieren, entsprechend die Entwicklungsdatenbank erstellen.</span><span class="sxs-lookup"><span data-stu-id="f8203-235">After reviewing the differences and selecting which objects you want to synchronize, the next step is to generate the SQL commands needed to update the production database s schema to match the development database.</span></span> <span data-ttu-id="f8203-236">Dies geschieht mithilfe des Assistenten für die Synchronisierung.</span><span class="sxs-lookup"><span data-stu-id="f8203-236">This is accomplished through the Synchronization Wizard.</span></span> <span data-ttu-id="f8203-237">Die Synchronisierung-Assistent bestätigt, welche Objekte zum Synchronisieren, und die Aktionen zusammengefasst (siehe Abbildung 3) planen.</span><span class="sxs-lookup"><span data-stu-id="f8203-237">The Synchronization Wizard confirms what objects to synchronize and summarizes the action plan (see Figure 3).</span></span> <span data-ttu-id="f8203-238">Sie können die Datenbanken sofort zu synchronisieren oder Generieren eines Skripts mit den SQL-Befehlen, die jederzeit ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="f8203-238">You can synchronize the databases immediately or generate a script with the SQL commands that can be run at your leisure.</span></span>


<span data-ttu-id="f8203-239">[![Mithilfe des Assistenten für die Synchronisierung Ihrer Schemas Datenbanken synchronisieren](strategies-for-database-development-and-deployment-cs/_static/image8.jpg)](strategies-for-database-development-and-deployment-cs/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="f8203-239">[![Use the Synchronization Wizard to Synchronize Your Databases Schemas](strategies-for-database-development-and-deployment-cs/_static/image8.jpg)](strategies-for-database-development-and-deployment-cs/_static/image7.jpg)</span></span>

<span data-ttu-id="f8203-240">**Abbildung 3**: Verwenden Sie den Synchronisierung-Assistenten zum Synchronisieren der Datenbanken Schemas ([klicken Sie hier, um das Bild in voller Größe angezeigt](strategies-for-database-development-and-deployment-cs/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="f8203-240">**Figure 3**: Use the Synchronization Wizard to Synchronize Your Databases Schemas ([Click to view full-size image](strategies-for-database-development-and-deployment-cs/_static/image9.jpg))</span></span>


<span data-ttu-id="f8203-241">Vergleich von Datenbanktools wie Red Gate Software SQL Compare s stellen Anwenden der Änderungen am Datenbankschema "Entwicklung" in der Produktionsdatenbank so einfach wie zeigen, und klicken Sie auf.</span><span class="sxs-lookup"><span data-stu-id="f8203-241">Database comparison tools like Red Gate Software s SQL Compare make applying the changes to the development database schema to the production database as easy as point and click.</span></span>

> [!NOTE]
> <span data-ttu-id="f8203-242">Vergleicht und zwei Datenbanken synchronisiert SQL Compare *Schemas*.</span><span class="sxs-lookup"><span data-stu-id="f8203-242">SQL Compare compares and synchronizes two databases *schemas*.</span></span> <span data-ttu-id="f8203-243">Leider nicht verglichen werden soll, und die Daten in zwei Datenbanken Tabellen zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-243">Unfortunately, it does not compare and synchronize the data within two databases tables.</span></span> <span data-ttu-id="f8203-244">Red Gate Software bietet ein Produkt mit dem Namen [ *SQL Datenvergleich* ](http://www.red-gate.com/products/SQL_Data_Compare/) , vergleicht und synchronisiert die Daten zwischen zwei Datenbanken, aber es ist ein separates Produkt aus SQL vergleichen und die Kosten liegen bei einem anderen 395.</span><span class="sxs-lookup"><span data-stu-id="f8203-244">Red Gate Software does offer a product named [*SQL Data Compare*](http://www.red-gate.com/products/SQL_Data_Compare/) that compares and synchronizes the data between two databases, but it is a separate product from SQL Compare and costs another $395.</span></span>


## <a name="taking-the-application-offline-during-deployment"></a><span data-ttu-id="f8203-245">Erstellen die Anwendung Offline, während der Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="f8203-245">Taking the Application Offline During Deployment</span></span>

<span data-ttu-id="f8203-246">Als wir in diesen Lernprogrammen sehen Ve Bereitstellung ist ein Prozess, die mehrere Schritte umfasst: kopieren die ASP.NET-Seiten, Masterseiten, CSS-Dateien, JavaScript-Dateien, Bilder und anderen erforderlichen Inhalte aus der Entwicklungsumgebung für die Produktion Umgebung; Kopieren Sie die Konfigurationsinformationen der Produktion umgebungsspezifische bei Bedarf; und Anwenden der Änderungen in das Datenmodell seit der letzten Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="f8203-246">As we ve seen throughout these tutorials, deployment is a process that involves multiple steps: copying the ASP.NET pages, master pages, CSS files, JavaScript files, images, and other necessary content from the development environment to the production environment; copying up the production environment-specific configuration information, if needed; and applying the changes to the data model since the last deployment.</span></span> <span data-ttu-id="f8203-247">Abhängig von der Anzahl der Dateien und die Komplexität der Änderungen an der Datenbank können folgendermaßen von ein paar Sekunden mehrere Minuten dauern.</span><span class="sxs-lookup"><span data-stu-id="f8203-247">Depending on the number of files and the complexity of your database changes, these steps can take anywhere from a few seconds to several minutes to complete.</span></span> <span data-ttu-id="f8203-248">Während dieses Fenster wird die Webanwendung endgültig festgelegt ist, und Benutzern der Website möglicherweise Fehler oder unerwartetes Verhalten auftreten.</span><span class="sxs-lookup"><span data-stu-id="f8203-248">During this window the web application is in flux and users visiting the site may experience errors or unexpected behavior.</span></span>

<span data-ttu-id="f8203-249">Beim Bereitstellen einer Websites empfiehlt es sich um die Webanwendung "offline" dauern, bis zum Abschluss der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="f8203-249">When deploying a website it is best to take the web application "offline" until deployment has completed.</span></span> <span data-ttu-id="f8203-250">Offlineschalten der Anwendung (und Sichern Sie zu schalten, nachdem der Bereitstellungsvorgang abgeschlossen ist) ist genauso einfach wie das Hochladen einer Datei, und klicken Sie dann löschen.</span><span class="sxs-lookup"><span data-stu-id="f8203-250">Taking the application offline (and bringing it back up once the deployment process has finished) is as easy as uploading a file and then deleting it.</span></span> <span data-ttu-id="f8203-251">Beginnend mit ASP.NET 2.0, die Anwesenheit einer Datei mit dem Namen `app_offline.htm` in der Anwendung s schaltet Stammverzeichnis die gesamte Website "offline".</span><span class="sxs-lookup"><span data-stu-id="f8203-251">Starting with ASP.NET 2.0, the mere presence of a file named `app_offline.htm` in the application s root directory takes the entire website "offline."</span></span> <span data-ttu-id="f8203-252">Jede Anforderung zu einer ASP.NET-Seite an diesem Standort automatisch mit dem Inhalt des beantwortet die `app_offline.htm` Datei.</span><span class="sxs-lookup"><span data-stu-id="f8203-252">Any request to an ASP.NET page on that site is automatically responded with the contents of the `app_offline.htm` file.</span></span> <span data-ttu-id="f8203-253">Sobald die Datei entfernt wurde, die Anwendung wieder online geschaltet wird.</span><span class="sxs-lookup"><span data-stu-id="f8203-253">Once that file is removed, the application comes back online.</span></span>

<span data-ttu-id="f8203-254">Erstellen von einer Anwendung offline, während der Bereitstellung, dann ist so einfach wie das Hochladen einer `app_offline.htm` Datei in der produktionsumgebung s Stammverzeichnis vor der Bereitstellung beginnen und dann löschen (oder etwas anderes umbenennen) nach Bereitstellung ist abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="f8203-254">Taking an application offline during deployment, then, is as simple as uploading an `app_offline.htm` file to the production environment s root directory prior to beginning the deployment process and then deleting it (or renaming it to something else) once deployment is complete.</span></span> <span data-ttu-id="f8203-255">Weitere Informationen zu dieser Technik finden Sie unter John Peterson s-Artikel dauert ein [ *ASP.NET Anwendung Offline*](http://www.15seconds.com/issue/061207.htm).</span><span class="sxs-lookup"><span data-stu-id="f8203-255">For more information on this technique refer to John Peterson s article, Taking an [*ASP.NET Application Offline*](http://www.15seconds.com/issue/061207.htm).</span></span>

## <a name="summary"></a><span data-ttu-id="f8203-256">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="f8203-256">Summary</span></span>

<span data-ttu-id="f8203-257">Die größte Herausforderung beim Bereitstellen einer Anwendung eines datengesteuerten dreht sich alles um Bereitstellen der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-257">The main challenge in deploying a data-driven application centers around deploying the database.</span></span> <span data-ttu-id="f8203-258">Da es zwei Versionen der Datenbank - einen in der Entwicklungsumgebung und einen in der produktionsumgebung gibt können diese Schemas der beiden Datenbanken synchronisiert sind, wie die neue Funktionen in der Entwicklung hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-258">Because there are two versions of the database - one in the development environment and one in the production environment - these two databases schemas can become out of sync as new features are added in development.</span></span> <span data-ttu-id="f8203-259">Welche mehr, da der Produktionsdatenbank als mit um echte Daten von wirklichen Benutzer aufgefüllt wird, Sie nicht die Produktionsdatenbank mit der geänderten Entwicklungsdatenbank überschreiben können wie beim Bereitstellen von Dateien, aus denen die Anwendung (ASP.NET-Seiten, s Bilddateien usw.).</span><span class="sxs-lookup"><span data-stu-id="f8203-259">What s more, because the production database as being populated with real data from real users, you cannot overwrite the production database with the modified development database like you can when deploying the files that make up the application (the ASP.NET pages, image files, and so forth).</span></span> <span data-ttu-id="f8203-260">Bereitstellen einer Datenbank umfasst stattdessen den genauen Satz von Änderungen in der Entwicklungsdatenbank in der Produktionsdatenbank seit der letzten Bereitstellung implementieren.</span><span class="sxs-lookup"><span data-stu-id="f8203-260">Instead, deploying a database entails implementing the precise set of changes made to the development database on the production database since the last deployment.</span></span>

<span data-ttu-id="f8203-261">In diesem Lernprogramm erläutert drei Verfahren zum Verwalten und zum Anwenden eines Protokolls der Änderungen an der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f8203-261">This tutorial looked at three techniques for maintaining and applying a log of database changes.</span></span> <span data-ttu-id="f8203-262">Der einfachste Ansatz ist die Änderungen im Programmierkontext aufzeichnen.</span><span class="sxs-lookup"><span data-stu-id="f8203-262">The simplest approach is to record the changes in prose.</span></span> <span data-ttu-id="f8203-263">Trotz aller bemühungen dies zu Kompilierungsfehlern implementieren diese Änderungen auf die Produktionsdatenbank ein manueller Prozess, ist es nicht Kenntnisse über die SQL-Befehle zum Erstellen und Ändern von Datenbankobjekten erforderlich.</span><span class="sxs-lookup"><span data-stu-id="f8203-263">While this tactic makes implementing these changes on the production database a manual process, it does not require knowledge of the SQL commands for creating and altering database objects.</span></span> <span data-ttu-id="f8203-264">Eine anspruchsvollere Vorgehensweise, und einem gefällt in größeren oder Projekte mit mehreren Entwicklern wird zum Aufzeichnen von Änderungen als eine Reihe von SQL-Befehle.</span><span class="sxs-lookup"><span data-stu-id="f8203-264">A more sophisticated approach, and one that is much more palatable in larger projects or projects with multiple developers, is to record the changes as a series of SQL commands.</span></span> <span data-ttu-id="f8203-265">Dies beschleunigt erheblich, diese Änderungen in die Zieldatenbank eingeführt.</span><span class="sxs-lookup"><span data-stu-id="f8203-265">This greatly hastens rolling out these changes to the target database.</span></span> <span data-ttu-id="f8203-266">Das beste aus beiden Ansätzen können mit einem Vergleichstool Datenbank z. B. Red Gate Software s SQL Compare erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="f8203-266">The best of both approaches can be achieved by using a database comparison tool, such as Red Gate Software s SQL Compare.</span></span>

<span data-ttu-id="f8203-267">Dieses Lernprogramm geht unser Fokus zum Bereitstellen einer Anwendung eines datengesteuerten verwendet.</span><span class="sxs-lookup"><span data-stu-id="f8203-267">This tutorial concludes our focus on deploying a data-driven application.</span></span> <span data-ttu-id="f8203-268">Der nächste Satz von Lernprogramme prüft reagieren auf Fehler in der produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="f8203-268">The next set of tutorials looks at how to respond to errors in the production environment.</span></span> <span data-ttu-id="f8203-269">Sehen wir uns eine benutzerfreundlichen Fehlerseite stattdessen anstelle der gelben Bildschirm Tod anzeigen.</span><span class="sxs-lookup"><span data-stu-id="f8203-269">We'll look at how to display a friendly error page rather instead of the Yellow Screen of Death.</span></span> <span data-ttu-id="f8203-270">Und wir sehen, wie die s-Fehlerdetails protokollieren und um Sie zu warnen, wenn solche Fehler auftreten.</span><span class="sxs-lookup"><span data-stu-id="f8203-270">And we'll see how to log the error s details and how to alert you when such errors occur.</span></span>

<span data-ttu-id="f8203-271">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="f8203-271">Happy Programming!</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="f8203-272">[Zurück](configuring-a-website-that-uses-application-services-cs.md)
[Weiter](displaying-a-custom-error-page-cs.md)</span><span class="sxs-lookup"><span data-stu-id="f8203-272">[Previous](configuring-a-website-that-uses-application-services-cs.md)
[Next](displaying-a-custom-error-page-cs.md)</span></span>
