---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Master/Detail-Filterung über zwei Seiten (c#) | Microsoft Docs
author: rick-anderson
description: In diesem Lernprogramm betrachten wir einen Master/Detail-Bericht über zwei Seiten Trennung ein. Auf der Seite 'master' verwenden wir Wiederholungsmodul-Steuerelement, um eine Liste der Categ rendern...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/30/2010
ms.topic: article
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 6a3783175218438f2a9f735c3861c56e039a248e
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="19262-104">Master/Detail-Filterung über zwei Seiten (c#)</span><span class="sxs-lookup"><span data-stu-id="19262-104">Master/Detail Filtering Across Two Pages (C#)</span></span>
====================
<span data-ttu-id="19262-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="19262-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="19262-106">[Beispiel-App herunterladen](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) oder [PDF herunterladen](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="19262-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="19262-107">In diesem Lernprogramm betrachten wir einen Master/Detail-Bericht über zwei Seiten Trennung ein.</span><span class="sxs-lookup"><span data-stu-id="19262-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="19262-108">In "Masterseite" wird ein Wiederholungsmodul-Steuerelement verwendet, einer Liste der Kategorien, die beim geklickt haben, dauert des Benutzers auf der Seite "Details", in denen die Produkte, die der ausgewählten Kategorie gehören zeigt eine zweispaltige DataList gerendert.</span><span class="sxs-lookup"><span data-stu-id="19262-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="19262-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="19262-109">Introduction</span></span>

<span data-ttu-id="19262-110">In der [vorherigen Lernprogramm](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) Filtermenü Vorgehensweise beim Anzeigen von Master/Detail-Berichte in einer einzelnen Webseite mit DropDownLists zum Anzeigen der "master" Datensätze und DataList anzuzeigenden "Details".</span><span class="sxs-lookup"><span data-stu-id="19262-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="19262-111">Weiteres gängiges Muster für Master-/Detail-Berichte verwendet wird, haben die master-Datensätze auf einer Webseite und die Details auf einen anderen.</span><span class="sxs-lookup"><span data-stu-id="19262-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="19262-112">In den früheren [Master/Detail-Filterung über zwei Seiten](../masterdetail/master-detail-filtering-across-two-pages-cs.md) Lernprogramm, die dieses Muster mit GridView zum Anzeigen aller Lieferanten in das System untersucht.</span><span class="sxs-lookup"><span data-stu-id="19262-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="19262-113">Diese GridView enthalten eine HyperLinkField, die als Link zu einer zweiten Seite weiter und übergibt dabei gerendert der `SupplierID` in der Abfragezeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="19262-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="19262-114">Die zweite Seite verwendet eine GridView, um die Produkte, die von den ausgewählten Lieferanten bereitgestellte aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="19262-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="19262-115">Solche zweiseitige Master/Detail-Berichte können mithilfe von Steuerelementen DataList und Repeater erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="19262-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="19262-116">Der einzige Unterschied ist, dass weder das DataList noch Repeater Unterstützung für das Steuerelement HyperLinkField bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="19262-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="19262-117">Stattdessen müssen wir hinzufügen ein HyperLink-Websteuerelement oder ein HTML-Ankerelement (`<a>`) innerhalb des Steuerelements `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="19262-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="19262-118">Des Hyperlinks `NavigateUrl` Eigenschaft oder der Verankerung `href` Attribut kann dann verwenden deklarative oder programmgesteuerte Ansätze angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="19262-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="19262-119">In diesem Lernprogramm werden, die die Kategorien in einer Aufzählung auf einer Seite mit einem Wiederholungsmodul-Steuerelement enthält ein Beispiel vorgestellt.</span><span class="sxs-lookup"><span data-stu-id="19262-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="19262-120">Jedes Listenelement enthält Namen und eine Beschreibung der Kategorie mit dem Kategorienamen als Link zu einer zweiten Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="19262-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="19262-121">Mit diesem Link wird weiter den Benutzer auf die zweite Seite DataList wird, in denen diese Produkte angezeigt, die der ausgewählten Kategorie angehören.</span><span class="sxs-lookup"><span data-stu-id="19262-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="19262-122">Schritt 1: Anzeigen der Kategorien in einer Liste mit Aufzählungszeichen</span><span class="sxs-lookup"><span data-stu-id="19262-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="19262-123">Der erste Schritt bei der Erstellung jeder Master/Detail-Bericht ist von der "master" Datensätze anzeigen.</span><span class="sxs-lookup"><span data-stu-id="19262-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="19262-124">Aus diesem Grund ist unsere erste Aufgabe die Kategorien in der "Masterseite" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="19262-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="19262-125">Öffnen der `CategoryListMaster.aspx` auf der Seite der `DataListRepeaterFiltering` Ordner Wiederholungsmodul-Steuerelement hinzufügen und aus dem Smarttag abonnieren, um eine neue ObjectDataSource hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="19262-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="19262-126">Die neue ObjectDataSource so konfigurieren, dass Zugriff auf die Daten aus der `CategoriesBLL` Klasse `GetCategories` Methode (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="19262-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


<span data-ttu-id="19262-127">[![Konfigurieren der ObjectDataSource zur Verwendung der CategoriesBLL Klasse GetCategories-Methode](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="19262-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="19262-128">**Abbildung 1**: Konfigurieren der ObjectDataSource verwenden die `CategoriesBLL` Klasse `GetCategories` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="19262-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="19262-129">Als Nächstes definieren Sie die Repeater Vorlagen so, dass jeder Kategoriename und die Beschreibung als ein Element in einer Aufzählung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="19262-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="19262-130">Wir noch nicht kümmern müssen jeder Kategorie Link, um die Seite "Details".</span><span class="sxs-lookup"><span data-stu-id="19262-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="19262-131">Im folgenden gezeigt deklarative Markup für die Repeater und ObjectDataSource:</span><span class="sxs-lookup"><span data-stu-id="19262-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="19262-132">Bei diesem Markup abgeschlossen ist verwendet werden Sie, können Sie unseren Fortschritt über einen Browser anzeigen.</span><span class="sxs-lookup"><span data-stu-id="19262-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="19262-133">Wie in Abbildung 2 gezeigt, wird Sie als eine Liste mit Aufzählungszeichen mit Namen und eine Beschreibung jeder Kategorie Repeater gerendert.</span><span class="sxs-lookup"><span data-stu-id="19262-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


<span data-ttu-id="19262-134">[![Jede Kategorie wird als ein Aufzählungszeichen Listenelement angezeigt.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="19262-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="19262-135">**Abbildung 2**: jede Kategorie wird als ein Aufzählungszeichen Listenelement angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="19262-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="19262-136">Schritt 2: Aktivieren den Kategorienamen in einen Link auf der Seite "Details"</span><span class="sxs-lookup"><span data-stu-id="19262-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="19262-137">Damit wird einen Benutzer die Informationen "Details" nach einer bestimmten Kategorie anzuzeigen, müssen wir einen Link auf jede Aufzählung Element, das beim geklickt haben, dauert des Benutzers auf die zweite Seite hinzufügen (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="19262-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="19262-138">Dieser zweite Seite zeigt dann die Produkte für die ausgewählte Kategorie, die mit einem DataList.</span><span class="sxs-lookup"><span data-stu-id="19262-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="19262-139">Um die Kategorie zu ermitteln, deren Link geklickt wurde, müssen wir der angeklickte Kategorie übergeben `CategoryID` auf der zweiten Seite über einen Mechanismus.</span><span class="sxs-lookup"><span data-stu-id="19262-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="19262-140">Die einfachste und einfachste Möglichkeit zum Übertragen von skalarer Daten von einer Seite zu einem anderen ist über die Abfragezeichenfolge der die Option, die wir in diesem Lernprogramm verwenden.</span><span class="sxs-lookup"><span data-stu-id="19262-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="19262-141">Insbesondere die `ProductsForCategoryDetails.aspx` Seite erwarten, dass das ausgewählte *`categoryID`* Wert eine Querystring-Feld mit dem Namen weitergereicht werden `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="19262-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="19262-142">Um beispielsweise die Produkte für die Kategorie "Getränke" Anzeigen der verfügt über eine `CategoryID` 1, würde ein Benutzer besuchen Sie `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="19262-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="19262-143">So erstellen Sie einen Link für jedes Element der Liste mit Aufzählungszeichen aus im Wiederholungsmodul wir entweder ein HyperLink-Websteuerelement oder ein HTML-Ankerelement müssen (`<a>`) auf die `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="19262-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="19262-144">In Szenarien, in denen der Link angezeigt, wenn für jede Zeile, die beide Vorgehensweisen reicht aus.</span><span class="sxs-lookup"><span data-stu-id="19262-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="19262-145">Für Repeater möchte ich, mithilfe des Ankerelements.</span><span class="sxs-lookup"><span data-stu-id="19262-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="19262-146">Um die Ankerelement zu verwenden, aktualisieren Sie die Repeater ItemTemplate:</span><span class="sxs-lookup"><span data-stu-id="19262-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="19262-147">Beachten Sie, dass die `CategoryID` können direkt in des Ankerelements eingegeben werden `href` -Attribut; jedoch Seien Sie daher sicher, dass die Begrenzung der `href` Attributwert Apostrophe (und Anmerkung Anführungszeichen) seit der `Eval` Methode innerhalb der `href` Attribut begrenzt die Zeichenfolge (`"CategoryID"`) in Anführungszeichen ein.</span><span class="sxs-lookup"><span data-stu-id="19262-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="19262-148">Alternativ kann ein Link-Websteuerelement stattdessen verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="19262-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="19262-149">Hinweis wie die statische Teil der URL – `ProductsForCategoryDetails.aspx?CategoryID` – angefügt ist, auf das Ergebnis des `Eval("CategoryID")` direkt in die Verkettung von Zeichenfolgen mit Databinding-Syntax.</span><span class="sxs-lookup"><span data-stu-id="19262-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="19262-150">Ein Vorteil der Verwendung von des Linksteuerelements ist, dass es programmgesteuert kann, aus der Repeater zugegriffen werden `ItemDataBound` Ereignishandler, d. h. bei Bedarf.</span><span class="sxs-lookup"><span data-stu-id="19262-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="19262-151">Beispielsweise empfiehlt es sich um die Kategorienamen als Text statt als einen Link für die Kategorien mit keine zugehörigen Produkte anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="19262-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="19262-152">Eine solche Überprüfung kann programmgesteuert ausgeführt werden, der `ItemDataBound` Ereignishandler; bei Kategorien ohne zugeordnete Produkte, den Link des `NavigateUrl` Eigenschaftensatz konnte auf eine leere Zeichenfolge, wodurch diese bestimmten Kategorienamen die Darstellung als nur-Text (anstatt als Link).</span><span class="sxs-lookup"><span data-stu-id="19262-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="19262-153">Verweisen auf die [Formatierung des DataList und Repeater basierend auf Daten](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) -Lernprogramm für Weitere Informationen zum Formatieren der DataList und des Wiederholungsmoduls Inhalt auf der Grundlage von programmgesteuerte Logik über die `ItemDataBound` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="19262-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="19262-154">Wenn Sie entlang vorgehen, können Sie Ihrer Seite Ankerelement oder Link-Steuerelement Ansatz verwenden.</span><span class="sxs-lookup"><span data-stu-id="19262-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="19262-155">Unabhängig vom Ansatz, wenn die Seite über einen Browser anzeigen jedes Kategorienamen soll, als Link zum gerendert werden `ProductsForCategoryDetails.aspx`, und übergeben Sie die anwendbare `CategoryID` Wert (siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="19262-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


<span data-ttu-id="19262-156">[![Die Kategorienamen jetzt Verknüpfen mit ProductsForCategoryDetails.aspx.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="19262-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="19262-157">**Abbildung 3**: die Namen jetzt Kategorielink auf `ProductsForCategoryDetails.aspx` ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="19262-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="19262-158">Schritt 3: Auflisten der Produkte, die der ausgewählten Kategorie angehören</span><span class="sxs-lookup"><span data-stu-id="19262-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="19262-159">Mit der `CategoryListMaster.aspx` Seite vollständige wir jetzt können Sie unsere Aufmerksamkeit für die Implementierung der Seite "Details" aktivieren `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="19262-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="19262-160">Öffnen Sie die Seite, ein DataList aus der Toolbox in den Designer ziehen und Festlegen der `ID` Eigenschaft `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="19262-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="19262-161">Wählen Sie anschließend aus der DataList smart Tag auf der Seite, benennen sie eine neue ObjectDataSource hinzufügen `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="19262-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="19262-162">Konfigurieren, er ruft die `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode, die Menge der Dropdown-, in die INSERT-, Update- und DELETE-Registerkarten, um (keine Listen).</span><span class="sxs-lookup"><span data-stu-id="19262-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="19262-163">[![Konfigurieren der ObjectDataSource zur Verwendung der ProductsBLL Klasse GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="19262-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="19262-164">**Abbildung 4**: Konfigurieren der ObjectDataSource verwenden die `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="19262-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="19262-165">Da die `GetProductsByCategoryID(categoryID)` Methode akzeptiert einen Eingabeparameter (*`categoryID`*), der Datenquelle auswählen-Assistent bietet uns die Gelegenheit zur Quelle des Parameters angeben.</span><span class="sxs-lookup"><span data-stu-id="19262-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="19262-166">Legen Sie die Parameterquelle mit der QueryStringField QueryString `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="19262-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


<span data-ttu-id="19262-167">[![Verwenden Sie die CategoryID Querystring-Feld als Quelle für den Parameter](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="19262-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="19262-168">**Abbildung 5**: Verwenden Sie das Querystring-Field `CategoryID` als Quelle für den Parameter ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="19262-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="19262-169">Wie wir im vorherigen Lernprogrammen gesehen haben, nach Abschluss des Assistenten Datenquelle auswählen, erstellt Visual Studio automatisch eine `ItemTemplate` für DataList, die jede Datenfeldnamen und Wert enthält.</span><span class="sxs-lookup"><span data-stu-id="19262-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="19262-170">Ersetzen Sie diese Vorlage mit einem, das nur der Product Name, Lieferanten und Preis auflistet.</span><span class="sxs-lookup"><span data-stu-id="19262-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="19262-171">Legen Sie außerdem die DataList `RepeatColumns` -Eigenschaft auf 2.</span><span class="sxs-lookup"><span data-stu-id="19262-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="19262-172">Nach der Änderung sollte Ihre DataList und der ObjectDataSource deklarative Markup etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="19262-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="19262-173">Starten Sie zum Anzeigen dieser Seite in Aktion über die `CategoryListMaster.aspx` Seite; danach klicken Sie auf einen Link in der Aufzählung der Kategorien auf.</span><span class="sxs-lookup"><span data-stu-id="19262-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="19262-174">Auf diese Weise gelangen Sie zu `ProductsForCategoryDetails.aspx`, und übergeben Sie entlang der `CategoryID` über die Abfragezeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="19262-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="19262-175">Die `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` klicken Sie dann nur die Produkte für die angegebene Kategorie abrufen und in DataList, die beiden Produkte pro Zeile rendert anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="19262-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="19262-176">Abbildung 6 zeigt einen Screenshot der `ProductsForCategoryDetails.aspx` beim Anzeigen der Getränke.</span><span class="sxs-lookup"><span data-stu-id="19262-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


<span data-ttu-id="19262-177">[![Die Getränke werden angezeigt, zwei pro Zeile](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="19262-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="19262-178">**Abbildung 6**: die Getränke werden angezeigt, zwei pro Zeile ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="19262-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="19262-179">Schritt 4: Anzeigen von Informationen zu Auftragskategorien auf ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="19262-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="19262-180">Wenn ein Benutzer klickt auf eine Kategorie in `CategoryListMaster.aspx`, werden erstellt, um `ProductsForCategoryDetails.aspx` und die Produkte, die der ausgewählten Kategorie angezeigt.</span><span class="sxs-lookup"><span data-stu-id="19262-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="19262-181">Allerdings in `ProductsForCategoryDetails.aspx` stehen keine visuellen Hinweise auf welche Kategorie ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="19262-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="19262-182">Ein Benutzer vorgesehen, Sie Getränke jedoch versehentlich geklickt wurde "Gewürze", klicken Sie auf hat keine Möglichkeit, ihre Fehler bemerken, sobald sie erreichen `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="19262-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="19262-183">Um dieses potenzielle Problem zu beheben, können wir werden Informationen zu der ausgewählten Kategorie angezeigt, dessen Name und Beschreibung – am oberen Rand der `ProductsForCategoryDetails.aspx` Seite.</span><span class="sxs-lookup"><span data-stu-id="19262-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="19262-184">Um dies zu erreichen, fügen Sie einen FormView oben im Wiederholungsmodul-Steuerelement `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="19262-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="19262-185">Fügen Sie eine neue ObjectDataSource auf der Seite aus der FormView-Smarttag mit dem Namen `CategoryDataSource` und konfigurieren es für das Verwenden der `CategoriesBLL` Klasse `GetCategoryByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="19262-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="19262-186">[![Zugriff auf Informationen über die Kategorie über die CategoriesBLL Klasse GetCategoryByCategoryID(categoryID)-Methode](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="19262-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="19262-187">**Abbildung 7**: Zugriff auf Informationen über die Kategorie über die `CategoriesBLL` Klasse `GetCategoryByCategoryID(categoryID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="19262-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="19262-188">Wie bei der `ProductsInCategoryDataSource` ObjectDataSource hinzugefügt, in Schritt 3 die `CategoryDataSource`des Konfigurieren von Datenquellen-Assistent fordert uns als Quelle für die `GetCategoryByCategoryID(categoryID)` Methode der Eingabeparameter.</span><span class="sxs-lookup"><span data-stu-id="19262-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="19262-189">Verwenden Sie exakten denselben Einstellungen als vorher, indem Sie die Parameterquelle QueryString und der Wert QueryStringField `CategoryID` (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="19262-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="19262-190">Nach Abschluss des Assistenten, erstellt Visual Studio automatisch ein `ItemTemplate`, `EditItemTemplate`, und `InsertItemTemplate` für FormView.</span><span class="sxs-lookup"><span data-stu-id="19262-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="19262-191">Da wir eine nur-Lese Schnittstelle bereitstellen, können Sie entfernen die `EditItemTemplate` und `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="19262-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="19262-192">Darüber hinaus können Sie die FormView anpassen `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="19262-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="19262-193">Nach dem Entfernen überflüssigen Vorlagen und Anpassen von ItemTemplate, sollte Ihre FormView und der ObjectDataSource deklarative Markup etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="19262-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="19262-194">Abbildung 8 zeigt einen Screenshot, wenn Sie diese Seite über einen Browser anzeigen.</span><span class="sxs-lookup"><span data-stu-id="19262-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="19262-195">Zusätzlich zu den FormView haben ich auch ein Linksteuerelement oben, mit denen den Benutzer zurück zur Liste der Kategorien gelangen FormView hinzugefügt (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="19262-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="19262-196">Gerne auf diesen Link an anderer Stelle platzieren, oder er vollständig weggelassen werden soll.</span><span class="sxs-lookup"><span data-stu-id="19262-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


<span data-ttu-id="19262-197">[![Informationen zu Auftragskategorien ist jetzt am oberen Rand der Seite angezeigt.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="19262-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="19262-198">**Abbildung 8**: Kategorieinformationen ist jetzt am oberen Rand der Seite angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="19262-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="19262-199">Schritt 5: Anzeigen einer Meldung auf, wenn keine Produkte zu der ausgewählten Kategorie gehören</span><span class="sxs-lookup"><span data-stu-id="19262-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="19262-200">Die `CategoryListMaster.aspx` Seite listet alle Kategorien im System, unabhängig davon, ob vorhandene verknüpfte-Produkten.</span><span class="sxs-lookup"><span data-stu-id="19262-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="19262-201">Wenn ein Benutzer auf eine Kategorie mit keine zugehörigen Produkte, die DataList in klickt `ProductsForCategoryDetails.aspx` werden nicht gerendert werden, da dessen Datenquelle keine Elemente.</span><span class="sxs-lookup"><span data-stu-id="19262-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="19262-202">Wie wir im letzten Lernprogramme gesehen haben, enthält die GridView ein `EmptyDataText` -Eigenschaft, die zum Angeben einer SMS an angezeigt, wenn keine Datensätze, in der Datenquelle vorliegen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="19262-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="19262-203">Leider hat weder DataList noch Repeater eine solche Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="19262-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="19262-204">Um eine Meldung, die den Benutzer darüber informiert, dass es sind keine übereinstimmenden Produkte für die ausgewählte Kategorie, müssen wir hinzufügen angezeigt, eine Bezeichnung-Steuerelement auf der Seite ", dessen `Text` -Eigenschaft wird die Meldung angezeigt, es keine übereinstimmenden Produkte sind zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="19262-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="19262-205">Wir müssen dann programmgesteuert festlegen seiner `Visible` -Eigenschaft basierend auf, und zwar unabhängig davon, ob das DataList Elemente enthält.</span><span class="sxs-lookup"><span data-stu-id="19262-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="19262-206">Um dies zu erreichen, starten Sie durch Hinzufügen einer Bezeichnung unterhalb der DataList.</span><span class="sxs-lookup"><span data-stu-id="19262-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="19262-207">Legen Sie seine `ID` Eigenschaft, um `NoProductsMessage` und seine `Text` -Eigenschaft auf "Sind keine Produkte für die ausgewählte Kategorie..."</span><span class="sxs-lookup"><span data-stu-id="19262-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…"</span></span> <span data-ttu-id="19262-208">Als Nächstes müssen wir diese Bezeichnung programmgesteuert festgelegt `Visible` Eigenschaft fest, ob alle Daten an gebunden wurde anhand der `ProductsInCategory` DataList.</span><span class="sxs-lookup"><span data-stu-id="19262-208">Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="19262-209">Diese Zuweisung muss vorgenommen werden, nachdem die Daten an das DataList gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="19262-209">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="19262-210">Es konnte für die GridView, DetailsView und FormView, einen Ereignishandler für des Steuerelements erstellt `DataBound` Ereignis, das ausgelöst wird, nach dem Datenbindung abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="19262-210">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="19262-211">Allerdings weder DataList noch Repeater verfügt über eine `DataBound` Ereignis verfügbar.</span><span class="sxs-lookup"><span data-stu-id="19262-211">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="19262-212">Bei diesem speziellen Beispiel können wir der Bezeichnung zuweisen `Visible` Eigenschaft in der `Page_Load` -Ereignishandler, da die Daten vor der Seite DataList zugewiesen wurden werden `Load` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="19262-212">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="19262-213">Allerdings würde dieser Ansatz im allgemeinen Fall funktioniert nicht wie die Daten aus der ObjectDataSource zu einem späteren Zeitpunkt im Lebenszyklus der Seite DataList gebunden werden können.</span><span class="sxs-lookup"><span data-stu-id="19262-213">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="19262-214">Z. B. wenn die angezeigten Daten auf den Wert in ein anderes Steuerelement basiert, z. B. ist, wenn einen Master/Detail-Bericht mithilfe einer DropDownList zum Speichern der "master" Datensätze anzeigen, die Daten möglicherweise nicht erneut gebunden an das Webserver-Steuerelement bis der `PreRender` Stufe der Lebenszyklus der Seite.</span><span class="sxs-lookup"><span data-stu-id="19262-214">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="19262-215">Eine Lösung, die in allen Fällen funktioniert zugewiesen ist die `Visible` Eigenschaft `False` in das DataList `ItemDataBound` (oder `ItemCreated`) Ereignishandler beim Binden der Elementtyp der `Item` oder `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="19262-215">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="19262-216">In einem solchen Fall wissen wir, die es ist mindestens ein Data Element in der Datenquelle und aus diesem Grund können Ausblenden der `NoProductsMessage` Bezeichnung.</span><span class="sxs-lookup"><span data-stu-id="19262-216">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="19262-217">Zusätzlich zu diesem Ereignishandler benötigen wir auch einen Ereignishandler für das DataList `DataBinding` Ereignis, in dem der Bezeichnung initialisiert `Visible` Eigenschaft `True`.</span><span class="sxs-lookup"><span data-stu-id="19262-217">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="19262-218">Seit der `DataBinding` Ereignis wird ausgelöst, bevor die `ItemDataBound` Ereignisse, die Bezeichnung des `Visible` wird anfänglich-Eigenschaftensatz auf `True`; alle Datenelemente vorhanden sind, wenn es wird jedoch festgelegt werden, um `False`.</span><span class="sxs-lookup"><span data-stu-id="19262-218">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="19262-219">Der folgende Code implementiert diese Logik:</span><span class="sxs-lookup"><span data-stu-id="19262-219">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="19262-220">Alle Kategorien in der Northwind-Datenbank sind mit einem oder mehreren Produkten verknüpft.</span><span class="sxs-lookup"><span data-stu-id="19262-220">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="19262-221">Um diese Funktion zu testen, ich haben manuell angepasst die Northwind-Datenbank für dieses Lernprogramm Neuzuweisen aller Produkte, die der Kategorie erzeugen zugeordnet (`CategoryID` = 7) zu "Seafood" (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="19262-221">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="19262-222">Dies geschieht im Server-Explorer durch neue Abfrage auswählen und mithilfe des folgenden `UPDATE` Anweisung:</span><span class="sxs-lookup"><span data-stu-id="19262-222">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="19262-223">Nach der Aktualisierung der Datenbank entsprechend, zurückgeben, um die `CategoryListMaster.aspx` Seite, und klicken Sie auf den Link erstellt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="19262-223">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="19262-224">Da es sich nicht mehr alle Produkte aus der Kategorie erstellen, gehören, sehen Sie die "Sind keine Produkte für die ausgewählte Kategorie..."</span><span class="sxs-lookup"><span data-stu-id="19262-224">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…"</span></span> <span data-ttu-id="19262-225">Meldung, wie in Abbildung 9 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="19262-225">message, as shown in Figure 9.</span></span>


<span data-ttu-id="19262-226">[![Wenn es keine Produkte gehören zur Kategorie ausgewählt sind, wird eine Meldung angezeigt.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="19262-226">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="19262-227">**Abbildung 9**: eine Nachricht wird angezeigt, wenn es keine Produkte gehören zur Kategorie ausgewählt sind ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="19262-227">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="19262-228">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="19262-228">Summary</span></span>

<span data-ttu-id="19262-229">Während der Master und die Detaildatensätze auf einer einzelnen Seite Master/Detail-Berichte angezeigt werden können, werden auf vielen Websites sie über zwei Webseiten ausgelagert.</span><span class="sxs-lookup"><span data-stu-id="19262-229">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="19262-230">In diesem Lernprogramm erläutert wir, wie solche einen Master/Detail-Bericht implementiert, da die Kategorien aufgeführt, die in einer Aufzählung einen Repeater in der "master" Webseite und die zugehörigen Produkte aufgeführt, die auf der Seite "Details".</span><span class="sxs-lookup"><span data-stu-id="19262-230">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="19262-231">Jedes Listenelement in der master-Webseite enthalten einen Link zu der Detailseite, die der Zeile übergeben `CategoryID` Wert.</span><span class="sxs-lookup"><span data-stu-id="19262-231">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="19262-232">In der Seite "Details" Abrufen von dieser Produkte für den angegebenen Lieferanten wurde durchgeführt, über die `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="19262-232">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="19262-233">Die *`categoryID`* Parameterwert angegeben wurde, deklarativ mithilfe der `CategoryID` Querystring-Wert als Parameterquelle für.</span><span class="sxs-lookup"><span data-stu-id="19262-233">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="19262-234">Wir haben uns auch wie Kategoriedetails in der Seite Details zum Verwenden eines FormView angezeigt werden und wie eine Meldung angezeigt, wenn es keine Produkte wurden, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="19262-234">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="19262-235">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="19262-235">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="19262-236">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="19262-236">About the Author</span></span>

<span data-ttu-id="19262-237">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="19262-237">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="19262-238">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="19262-238">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="19262-239">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="19262-239">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="19262-240">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="19262-240">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="19262-241">Besonderen Dank an...</span><span class="sxs-lookup"><span data-stu-id="19262-241">Special Thanks To…</span></span>

<span data-ttu-id="19262-242">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="19262-242">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="19262-243">Lead Prüfer für dieses Lernprogramm wurden Zack Jones und Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="19262-243">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="19262-244">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="19262-244">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="19262-245">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="19262-245">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="19262-246">[Zurück](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Weiter](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="19262-246">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
