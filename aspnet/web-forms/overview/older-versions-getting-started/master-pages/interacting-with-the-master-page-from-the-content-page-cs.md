---
uid: web-forms/overview/older-versions-getting-started/master-pages/interacting-with-the-master-page-from-the-content-page-cs
title: Interaktion mit der Masterseite von der Inhaltsseite (c#) | Microsoft Docs
author: rick-anderson
description: Untersucht, wie Methoden aufrufen, legen Eigenschaften, die von der Seite "Master" usw., aus Code Inhaltsseite.
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/11/2008
ms.topic: article
ms.assetid: 32d54638-71b2-491d-81f4-f7417a13a62f
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/interacting-with-the-master-page-from-the-content-page-cs
msc.type: authoredcontent
ms.openlocfilehash: b550d8c2a64bb2ad91e1db7b2c25433f73dbd5b7
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="interacting-with-the-master-page-from-the-content-page-c"></a><span data-ttu-id="86b9d-103">Interaktion mit der Masterseite von der Inhaltsseite (c#)</span><span class="sxs-lookup"><span data-stu-id="86b9d-103">Interacting with the Master Page from the Content Page (C#)</span></span>
====================
<span data-ttu-id="86b9d-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="86b9d-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="86b9d-105">[Herunterladen von Code](http://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_06_CS.zip) oder [PDF herunterladen](http://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_06_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="86b9d-105">[Download Code](http://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_06_CS.zip) or [Download PDF](http://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_06_CS.pdf)</span></span>

> <span data-ttu-id="86b9d-106">Untersucht, wie Methoden aufrufen, legen Eigenschaften, die von der Seite "Master" usw., aus Code Inhaltsseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-106">Examines how to call methods, set properties, etc. of the Master Page from code in the Content Page.</span></span>


## <a name="introduction"></a><span data-ttu-id="86b9d-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="86b9d-107">Introduction</span></span>

<span data-ttu-id="86b9d-108">Im Verlauf der letzten fünf Lernprogramme haben erläutert, wie Erstellen einer Masterseite Inhaltsbereiche definieren, Binden von ASP.NET-Seiten auf einer Masterseite und seitenspezifische Inhalt definieren.</span><span class="sxs-lookup"><span data-stu-id="86b9d-108">Over the course of the past five tutorials we have looked at how to create a master page, define content regions, bind ASP.NET pages to a master page, and define page-specific content.</span></span> <span data-ttu-id="86b9d-109">Wenn ein Besucher eine bestimmte Seite Inhalte anfordert, werden der Inhalt und Masterseiten Markup zur Laufzeit, wodurch das Rendern einer Hierarchie einheitliche Steuerung fused.</span><span class="sxs-lookup"><span data-stu-id="86b9d-109">When a visitor requests a particular content page, the content and master pages' markup are fused at runtime, resulting in the rendering of a unified control hierarchy.</span></span> <span data-ttu-id="86b9d-110">Aus diesem Grund haben bereits gesehen einer Möglichkeit, die der Masterseite und eines seiner Inhaltsseiten interagieren können: die Seite Inhalte werden das Markup zum Rendern in die Masterseite ContentPlaceHolder Steuerelemente transfuse.</span><span class="sxs-lookup"><span data-stu-id="86b9d-110">Therefore, we have already seen one way in which the master page and one of its content pages can interact: the content page spells out the markup to transfuse into the master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="86b9d-111">Was wir noch nicht untersuchen ist wie der Masterseite und Inhaltsseite programmgesteuert interagieren können.</span><span class="sxs-lookup"><span data-stu-id="86b9d-111">What we have yet to examine is how the master page and content page can interact programmatically.</span></span> <span data-ttu-id="86b9d-112">Zusätzlich zum Definieren von des Markups für die Gestaltungsvorlage ContentPlaceHolder-Steuerelemente, eine Inhaltsseite auch die Masterseite öffentlichen Eigenschaften Werte zuweisen und Aufrufen ihrer öffentlichen Methoden.</span><span class="sxs-lookup"><span data-stu-id="86b9d-112">In addition to defining the markup for the master page's ContentPlaceHolder controls, a content page can also assign values to its master page's public properties and invoke its public methods.</span></span> <span data-ttu-id="86b9d-113">Auf ähnliche Weise kann eine Gestaltungsvorlage mit seiner Inhaltsseiten interagieren.</span><span class="sxs-lookup"><span data-stu-id="86b9d-113">Similarly, a master page may interact with its content pages.</span></span> <span data-ttu-id="86b9d-114">Während programmgesteuerte Interaktion zwischen Master- und Seite weniger gebräuchlich als die Interaktion zwischen ihren deklarativen Markups ist, gibt es viele Szenarien, in denen solche programmgesteuerte Interaktion erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="86b9d-114">While programmatic interaction between a master and content page is less common than the interaction between their declarative markups, there are many scenarios where such programmatic interaction is needed.</span></span>

<span data-ttu-id="86b9d-115">In diesem Lernprogramm wird untersucht, wie eine Inhaltsseite programmgesteuert mit Gestaltungsvorlage interagieren kann; in den nächsten Lernprogrammen betrachten wir wie die Gestaltungsvorlage auf ähnliche Weise mit seiner Inhaltsseiten interagieren kann.</span><span class="sxs-lookup"><span data-stu-id="86b9d-115">In this tutorial we examine how a content page can programmatically interact with its master page; in the next tutorial we will look at how the master page can similarly interact with its content pages.</span></span>

## <a name="examples-of-programmatic-interaction-between-a-content-page-and-its-master-page"></a><span data-ttu-id="86b9d-116">Beispiele für die programmgesteuerte Interaktion zwischen einer Inhaltsseite und der Gestaltungsvorlage</span><span class="sxs-lookup"><span data-stu-id="86b9d-116">Examples of Programmatic Interaction Between a Content Page and its Master Page</span></span>

<span data-ttu-id="86b9d-117">Wenn eine bestimmte Region einer Seite von Seite konfiguriert werden muss, verwenden wir ein ContentPlaceHolder-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="86b9d-117">When a particular region of a page needs to be configured on a page-by-page basis, we use a ContentPlaceHolder control.</span></span> <span data-ttu-id="86b9d-118">Aber was müssen Situationen, in denen die meisten der Seiten, die eine bestimmte Ausgabe, aber eine größere Anzahl von Seiten ausgeben müssen, so anzupassen, um etwas anderes anzuzeigen?</span><span class="sxs-lookup"><span data-stu-id="86b9d-118">But what about situations where the majority of pages need to emit a certain output, but a small number of pages need to customize it to show something else?</span></span> <span data-ttu-id="86b9d-119">Ein solches Beispiel, das wir im untersucht die [ *Inhalt standardmäßig und mehrere ContentPlaceHolders* ](multiple-contentplaceholders-and-default-content-cs.md) Lernprogramm umfasst eine Schnittstelle für die Anmeldung auf jeder Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-119">One such example, which we examined in the [*Multiple ContentPlaceHolders and Default Content*](multiple-contentplaceholders-and-default-content-cs.md) tutorial, involves displaying a login interface on each page.</span></span> <span data-ttu-id="86b9d-120">Während die meisten Seiten eine Anmeldeseite enthalten sollen, sie unterdrückt werden sollen für eine Handvoll Seiten, z. B.: der Haupt-Anmeldeseite (`Login.aspx`); die Seite "Konto erstellen", und die anderen Seiten, die nur für authentifizierte Benutzer verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="86b9d-120">While most pages should include a login interface, it should be suppressed for a handful of pages, such as: the main login page (`Login.aspx`); the Create Account page; and other pages that are only accessible to authenticated users.</span></span> <span data-ttu-id="86b9d-121">Die [ *mehrere ContentPlaceHolders und Standardinhalt* ](multiple-contentplaceholders-and-default-content-cs.md) Lernprogramm wurde gezeigt, wie den Standardinhalt für einen ContentPlaceHolder in die Masterseite definieren und dann das in diesen überschreiben Where der Standardinhalt wurde nicht erwünscht.</span><span class="sxs-lookup"><span data-stu-id="86b9d-121">The [*Multiple ContentPlaceHolders and Default Content*](multiple-contentplaceholders-and-default-content-cs.md) tutorial showed how to define the default content for a ContentPlaceHolder in the master page and then how to override it in those pages where the default content was not wanted.</span></span>

<span data-ttu-id="86b9d-122">Eine andere Möglichkeit ist die Erstellung einer öffentlichen Eigenschaft oder Methode innerhalb der Masterseite, die angibt, ob ein- oder Ausblenden der Anmelde-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="86b9d-122">Another option is to create a public property or method within the master page that indicates whether to show or hide the login interface.</span></span> <span data-ttu-id="86b9d-123">Die Gestaltungsvorlage kann z. B. eine öffentliche Eigenschaft mit dem Namen enthalten `ShowLoginUI` , dessen Wert wurde zum Festlegen der `Visible` Eigenschaft des Steuerelements Anmeldung auf der Masterseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-123">For example, the master page might include a public property named `ShowLoginUI` whose value was used to set the `Visible` property of the Login control in the master page.</span></span> <span data-ttu-id="86b9d-124">Diese Inhaltsseiten, in denen die Anmeldebenutzeroberfläche unterdrückt werden sollen. anschließend programmgesteuert legen die `ShowLoginUI` Eigenschaft `false`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-124">Those content pages where the login user interface should be suppressed could then programmatically set the `ShowLoginUI` property to `false`.</span></span>

<span data-ttu-id="86b9d-125">Das häufigste Beispiel des Inhalts und der Gestaltungsvorlage Interaktion tritt möglicherweise auf, wenn es sich bei Daten angezeigt, in der Gestaltungsvorlage muss aktualisiert werden, nachdem eine Aktion auf der Inhaltsseite vergangen ist.</span><span class="sxs-lookup"><span data-stu-id="86b9d-125">Perhaps the most common example of content and master page interaction occurs when data displayed in the master page needs to be refreshed after some action has transpired in the content page.</span></span> <span data-ttu-id="86b9d-126">Beachten Sie, dass eine Masterseite mit GridView, die die fünf zuletzt zeigt Datensätze aus einer bestimmten Datenbanktabelle hinzugefügt und, dass eine der entsprechenden Inhaltsseiten umfasst eine Schnittstelle für neue Datensätze zu derselben Tabelle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-126">Consider a master page that includes a GridView that displays the five most recently added records from a particular database table, and that one of its content pages includes an interface for adding new records to that same table.</span></span>

<span data-ttu-id="86b9d-127">Wenn ein Benutzer auf die Seite, um einen neuen Datensatz hinzufügen besucht, sieht er, dass die fünf zuletzt auf der Seite "master" angezeigten Datensätze hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-127">When a user visits the page to add a new record, she sees the five most recently added records displayed in the master page.</span></span> <span data-ttu-id="86b9d-128">Nach dem Füllen die Werte für Spalten des neuen Datensatzes, wie sie das Formular übermittelt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-128">After filling in the values for the new record's columns, she submits the form.</span></span> <span data-ttu-id="86b9d-129">Vorausgesetzt, dass die GridView in die Masterseite hat seine `EnableViewState` Eigenschaft auf "true" (Standard) festgelegt wurde, dessen Inhalt aus dem Ansichtszustand geladen wird und daher werden fünf dieselben Datensätze angezeigt, obwohl die Datenbank ein neuerer Datensatz hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-129">Assuming that the GridView in the master page has its `EnableViewState` property set to true (the default), its content is reloaded from view state and, consequently, the five same records are displayed even though a newer record was just added to the database.</span></span> <span data-ttu-id="86b9d-130">Dies kann den Benutzer verwirrend sein.</span><span class="sxs-lookup"><span data-stu-id="86b9d-130">This may confuse the user.</span></span>

> [!NOTE]
> <span data-ttu-id="86b9d-131">Auch wenn Sie so, dass er auf die zugrunde liegenden Datenquelle auf jedes Postback bindet die GridView Ansichtszustand deaktivieren, wird nicht er weiterhin den gerade hinzugefügten Eintrag angezeigt werden, weil die Daten gebunden werden, an die GridView weiter oben in den Lebenszyklus der Seite, als wenn der neue Datensatz der Datab hinzugefügt wird ASE.</span><span class="sxs-lookup"><span data-stu-id="86b9d-131">Even if you disable the GridView's view state so that it rebinds to its underlying data source on every postback, it still won't show the just-added record because the data is bound to the GridView earlier in the page lifecycle than when the new record is added to the database.</span></span>


<span data-ttu-id="86b9d-132">Um dieses Problem zu beheben, damit der gerade hinzugefügten Datensatz in die Masterseite angezeigt wird GridView Postback wir die GridView erneut an die Datenquelle binden anweisen müssen des *nach* des neuen Datensatzes der Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-132">To remedy this so that the just-added record is displayed in the master page's GridView on postback we need to instruct the GridView to rebind to its data source *after* the new record has been added to the database.</span></span> <span data-ttu-id="86b9d-133">Dies erfordert die Interaktion zwischen dem Inhalt und Masterseiten, auf der Masterseite ist die Schnittstelle für das Hinzufügen des neuen Datensatzes (und dessen Ereignishandler) befinden sich in der Inhaltsseite, aber die GridView, die aktualisiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="86b9d-133">This requires interaction between the content and master pages because the interface for adding the new record (and its event handlers) are in the content page but the GridView that needs to be refreshed is in the master page.</span></span>

<span data-ttu-id="86b9d-134">Da die Gestaltungsvorlage Anzeige von einem Ereignishandler auf der Inhaltsseite Aktualisieren eines der am häufigsten verwendeten Anforderungen für Inhalt und die Interaktion der Masterseite ist, lassen Sie uns in diesem Thema im Detail.</span><span class="sxs-lookup"><span data-stu-id="86b9d-134">Because refreshing the master page's display from an event handler in the content page is one of the most common needs for content and master page interaction, let's explore this topic in more detail.</span></span> <span data-ttu-id="86b9d-135">Der Download für dieses Lernprogramm enthält eine Microsoft SQL Server 2005 Express Edition-Datenbank mit dem Namen `NORTHWIND.MDF` auf der Website `App_Data` Ordner.</span><span class="sxs-lookup"><span data-stu-id="86b9d-135">The download for this tutorial includes a Microsoft SQL Server 2005 Express Edition database named `NORTHWIND.MDF` in the website's `App_Data` folder.</span></span> <span data-ttu-id="86b9d-136">Die Northwind-Datenbank speichert, Product, Mitarbeiter und Verkaufsinformationen für ein fiktives Unternehmen, Northwind Traders.</span><span class="sxs-lookup"><span data-stu-id="86b9d-136">The Northwind database stores product, employee, and sales information for a fictitious company, Northwind Traders.</span></span>

<span data-ttu-id="86b9d-137">Schritt 1 die fünf zuletzt anzeigen schrittweise hinzugefügt Produkte in einer GridView in die Masterseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-137">Step 1 walks through displaying the five most recently added products in a GridView in the master page.</span></span> <span data-ttu-id="86b9d-138">Schritt 2 erstellt eine Seite für das Hinzufügen neuer Produkte.</span><span class="sxs-lookup"><span data-stu-id="86b9d-138">Step 2 creates a content page for adding new products.</span></span> <span data-ttu-id="86b9d-139">Schritt 3 prüft zum Erstellen von öffentlichen Eigenschaften und Methoden in der Masterseite und Schritt 4 wird veranschaulicht, wie mit diesen Eigenschaften und Methoden aus der Inhaltsseite programmgesteuert Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="86b9d-139">Step 3 looks at how to create public properties and methods in the master page, and Step 4 illustrates how to programmatically interface with these properties and methods from the content page.</span></span>

> [!NOTE]
> <span data-ttu-id="86b9d-140">Dieses Lernprogramm ist in der Besonderheiten bei der Arbeit mit Daten in ASP.NET nicht eingegangen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-140">This tutorial does not delve into the specifics of working with data in ASP.NET.</span></span> <span data-ttu-id="86b9d-141">Die Schritte zum Einrichten der Masterseite zum Anzeigen von Daten und der Inhaltsseite zum Einfügen von Daten sind abgeschlossen wurde, noch breezy.</span><span class="sxs-lookup"><span data-stu-id="86b9d-141">The steps for setting up the master page to display data and the content page for inserting data are complete, yet breezy.</span></span> <span data-ttu-id="86b9d-142">Eine eingehendere Betrachtung anzeigen und Einfügen von Daten und Verwenden der SqlDataSource und GridView-Steuerelemente finden Sie in den Ressourcen im Abschnitt Weitere Messwerte am Ende dieses Lernprogramms.</span><span class="sxs-lookup"><span data-stu-id="86b9d-142">For a more in-depth look at displaying and inserting data and using the SqlDataSource and GridView controls, consult the resources in the Further Readings section at the end of this tutorial.</span></span>


## <a name="step-1-displaying-the-five-most-recently-added-products-in-the-master-page"></a><span data-ttu-id="86b9d-143">Schritt 1: Anzeigen von die fünf zuletzt Produkte hinzugefügt, der Gestaltungsvorlage</span><span class="sxs-lookup"><span data-stu-id="86b9d-143">Step 1: Displaying the Five Most Recently Added Products in the Master Page</span></span>

<span data-ttu-id="86b9d-144">Öffnen der `Site.master` Masterseite und fügen Sie eine Bezeichnung und eines GridView-Steuerelements an die `leftContent` `<div>`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-144">Open the `Site.master` master page and add a Label and a GridView control to the `leftContent` `<div>`.</span></span> <span data-ttu-id="86b9d-145">Deaktivieren Sie der Bezeichnung `Text` Eigenschaftensatz, dessen `EnableViewState` Eigenschaft auf "false", und die zugehörige `ID` Eigenschaft, um `GridMessage`; legen Sie der GridView `ID` Eigenschaft, um `RecentProducts`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-145">Clear out the Label's `Text` property, set its `EnableViewState` property to false, and its `ID` property to `GridMessage`; set the GridView's `ID` property to `RecentProducts`.</span></span> <span data-ttu-id="86b9d-146">Als Nächstes Designer erweitern Sie die GridView-Smarttag, und binden Sie es an eine neue Datenquelle.</span><span class="sxs-lookup"><span data-stu-id="86b9d-146">Next, from the Designer, expand the GridView's smart tag and choose to bind it to a new data source.</span></span> <span data-ttu-id="86b9d-147">Das Konfigurieren von Datenquellen-Assistent wird gestartet.</span><span class="sxs-lookup"><span data-stu-id="86b9d-147">This launches the Data Source Configuration wizard.</span></span> <span data-ttu-id="86b9d-148">Da die Northwind-Datenbank der `App_Data` Ordner ist eine Microsoft SQL Server-Datenbank entscheiden, erstellen ein SqlDataSource dazu (siehe Abbildung 1); benennen Sie die SqlDataSource `RecentProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-148">Because the Northwind database in the `App_Data` folder is a Microsoft SQL Server database, choose to create a SqlDataSource by selecting (see Figure 1); name the SqlDataSource `RecentProductsDataSource`.</span></span>


<span data-ttu-id="86b9d-149">[![Die GridView zu binden, um ein SqlDataSource-Steuerelement mit dem Namen RecentProductsDataSource](interacting-with-the-master-page-from-the-content-page-cs/_static/image2.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-149">[![Bind the GridView to a SqlDataSource Control Named RecentProductsDataSource](interacting-with-the-master-page-from-the-content-page-cs/_static/image2.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image1.png)</span></span>

<span data-ttu-id="86b9d-150">**Abbildung 01**: die GridView zu binden, um ein SqlDataSource-Steuerelement namens `RecentProductsDataSource` ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-150">**Figure 01**: Bind the GridView to a SqlDataSource Control Named `RecentProductsDataSource` ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image3.png))</span></span>


<span data-ttu-id="86b9d-151">Als Nächstes fordert uns um anzugeben, welche Datenbank eine Verbindung hergestellt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-151">The next step asks us to specify what database to connect to.</span></span> <span data-ttu-id="86b9d-152">Wählen Sie die `NORTHWIND.MDF` Datenbankdatei aus der Dropdown-Liste, und klicken Sie auf Weiter.</span><span class="sxs-lookup"><span data-stu-id="86b9d-152">Choose the `NORTHWIND.MDF` database file from the drop-down list and click Next.</span></span> <span data-ttu-id="86b9d-153">Da dies das erste Mal wir diese Datenbank verwendet ist haben, bietet der Assistent zum Speichern der Verbindungszeichenfolge in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-153">Because this is the first time we've used this database, the wizard will offer to store the connection string in `Web.config`.</span></span> <span data-ttu-id="86b9d-154">Haben sie die Verbindungszeichenfolge mit dem Namen speichern `NorthwindConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-154">Have it store the connection string using the name `NorthwindConnectionString`.</span></span>


<span data-ttu-id="86b9d-155">[![Herstellen einer Verbindung mit der Northwind-Datenbank](interacting-with-the-master-page-from-the-content-page-cs/_static/image5.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-155">[![Connect to the Northwind Database](interacting-with-the-master-page-from-the-content-page-cs/_static/image5.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image4.png)</span></span>

<span data-ttu-id="86b9d-156">**Abbildung 02**: Herstellen einer Verbindung mit der Northwind-Datenbank ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-156">**Figure 02**: Connect to the Northwind Database  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image6.png))</span></span>


<span data-ttu-id="86b9d-157">Konfigurieren von Datenquellen-Assistent bietet zwei bedeutet, dass nach denen wir zum Abrufen von Daten verwendete Abfrage angeben können:</span><span class="sxs-lookup"><span data-stu-id="86b9d-157">The Configure Data Source wizard provides two means by which we can specify the query used to retrieve data:</span></span>

- <span data-ttu-id="86b9d-158">Durch Angabe eines benutzerdefinierten SQL-Anweisung oder gespeicherte Prozedur oder</span><span class="sxs-lookup"><span data-stu-id="86b9d-158">By specifying a custom SQL statement or stored procedure, or</span></span>
- <span data-ttu-id="86b9d-159">Durch Auswählen einer Tabelle oder Sicht und gebe ich die Spalten zurückgegeben</span><span class="sxs-lookup"><span data-stu-id="86b9d-159">By picking a table or view and then specifying the columns to return</span></span>

<span data-ttu-id="86b9d-160">Da zurückgeben, dass nur die fünf zuletzt Produkte hinzugefügt werden soll, müssen wir eine benutzerdefinierte SQL­Anweisung angeben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-160">Because we want to return just the five most recently added products, we need to specify a custom SQL statement.</span></span> <span data-ttu-id="86b9d-161">Verwenden Sie die folgende SELECT-Abfrage:</span><span class="sxs-lookup"><span data-stu-id="86b9d-161">Use the following SELECT query:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample1.sql)]

<span data-ttu-id="86b9d-162">Die `TOP 5` Schlüsselwort gibt nur die ersten fünf Datensätze aus der Abfrage zurück.</span><span class="sxs-lookup"><span data-stu-id="86b9d-162">The `TOP 5` keyword returns only the first five records from the query.</span></span> <span data-ttu-id="86b9d-163">Die `Products` Primärschlüssel der Tabelle, `ProductID`, ist ein `IDENTITY` Spalte, die uns wird sichergestellt, dass jedes neue Produkt, die der Tabelle hinzugefügt, einen höheren Wert als der vorherige Wert hat.</span><span class="sxs-lookup"><span data-stu-id="86b9d-163">The `Products` table's primary key, `ProductID`, is an `IDENTITY` column, which assures us that each new product added to the table will have a larger value than the previous entry.</span></span> <span data-ttu-id="86b9d-164">Aus diesem Grund Sortieren der Ergebnisse von `ProductID` in absteigender Reihenfolge der Produkte, die beginnend mit den zuletzt erstellten zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-164">Therefore, sorting the results by `ProductID` in descending order returns the products starting with the most recently created ones.</span></span>


<span data-ttu-id="86b9d-165">[![Die fünf zuletzt hinzugefügte Produkte zurückgeben](interacting-with-the-master-page-from-the-content-page-cs/_static/image8.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-165">[![Return the Five Most Recently Added Products](interacting-with-the-master-page-from-the-content-page-cs/_static/image8.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image7.png)</span></span>

<span data-ttu-id="86b9d-166">**Abbildung 03**: die fünf am häufigsten vor kurzem hinzugefügt Produkte zurückgeben ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-166">**Figure 03**: Return the Five Most Recently Added Products  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image9.png))</span></span>


<span data-ttu-id="86b9d-167">Nach Abschluss des Assistenten, generiert Visual Studio zwei BoundFields für GridView zum Anzeigen der `ProductName` und `UnitPrice` Felder aus der Datenbank zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-167">After completing the wizard, Visual Studio generates two BoundFields for the GridView to display the `ProductName` and `UnitPrice` fields returned from the database.</span></span> <span data-ttu-id="86b9d-168">An diesem Punkt sollte die Masterseite deklarativem Markup Markup ähnlich der folgenden enthalten:</span><span class="sxs-lookup"><span data-stu-id="86b9d-168">At this point your master page's declarative markup should include markup similar to the following:</span></span>


[!code-aspx[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample2.aspx)]

<span data-ttu-id="86b9d-169">Wie Sie sehen können, die das Markup enthält: das Label-Steuerelement (`GridMessage`); die GridView `RecentProducts`mit zwei BoundFields; und ein SqlDataSource-Steuerelement, die fünf zuletzt hinzugefügten Produkte zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-169">As you can see, the markup contains: the Label Web control (`GridMessage`); the GridView `RecentProducts`, with two BoundFields; and a SqlDataSource control that returns the five most recently added products.</span></span>

<span data-ttu-id="86b9d-170">Mit diesem GridView erstellt und dessen SqlDataSource-Steuerelement, das so konfiguriert ist, besuchen Sie die Website über einen Browser.</span><span class="sxs-lookup"><span data-stu-id="86b9d-170">With this GridView created and its SqlDataSource control configured, visit the website through a browser.</span></span> <span data-ttu-id="86b9d-171">Wie in Abbildung 4 gezeigt, sehen Sie sich, dass ein Raster in der unteren linken Ecke, die die fünf zuletzt listet Produkte hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-171">As Figure 4 shows, you will see a grid in the lower left corner that lists the five most recently added products.</span></span>


<span data-ttu-id="86b9d-172">[![Die GridView zeigt die fünf zuletzt hinzugefügte Produkte](interacting-with-the-master-page-from-the-content-page-cs/_static/image11.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-172">[![The GridView Displays the Five Most Recently Added Products](interacting-with-the-master-page-from-the-content-page-cs/_static/image11.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image10.png)</span></span>

<span data-ttu-id="86b9d-173">**Abbildung 04**: GridView zeigt die fünf am häufigsten vor kurzem hinzugefügt Produkte ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-173">**Figure 04**: The GridView Displays the Five Most Recently Added Products ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image12.png))</span></span>


> [!NOTE]
> <span data-ttu-id="86b9d-174">Wahlweise können die Darstellung der GridView bereinigen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-174">Feel free to clean up the appearance of the GridView.</span></span> <span data-ttu-id="86b9d-175">Einige Vorschläge enthalten die angezeigten Formatierung `UnitPrice` Wert als Währung und mithilfe von Hintergrundfarben und Schriftarten zum Optimieren der Darstellung des Datenblatts.</span><span class="sxs-lookup"><span data-stu-id="86b9d-175">Some suggestions include formatting the displayed `UnitPrice` value as a currency and using background colors and fonts to improve the grid's appearance.</span></span>


## <a name="step-2-creating-a-content-page-to-add-new-products"></a><span data-ttu-id="86b9d-176">Schritt 2: Erstellen einer Inhaltsseite zum Hinzufügen neuer Produkte</span><span class="sxs-lookup"><span data-stu-id="86b9d-176">Step 2: Creating a Content Page to Add New Products</span></span>

<span data-ttu-id="86b9d-177">Unsere nächste Aufgabe ist die Erstellung eine Inhaltsseite, in dem ein Benutzer ein neues Produkt hinzufügen kann, die `Products` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="86b9d-177">Our next task is to create a content page from which a user can add a new product to the `Products` table.</span></span> <span data-ttu-id="86b9d-178">Fügen Sie eine neue Seite, die `Admin` Ordner mit dem Namen `AddProduct.aspx`, sodass Sie sicher, dass so binden Sie es der `Site.master` Masterseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-178">Add a new content page to the `Admin` folder named `AddProduct.aspx`, making sure to bind it to the `Site.master` master page.</span></span> <span data-ttu-id="86b9d-179">Abbildung 5 zeigt der Projektmappen-Explorer aus, nachdem dieser Seite auf der Website hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-179">Figure 5 shows the Solution Explorer after this page has been added to the website.</span></span>


<span data-ttu-id="86b9d-180">[![Fügen Sie eine neue ASP.NET-Seite, um den Ordner Admin](interacting-with-the-master-page-from-the-content-page-cs/_static/image14.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-180">[![Add a New ASP.NET Page to the Admin Folder](interacting-with-the-master-page-from-the-content-page-cs/_static/image14.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image13.png)</span></span>

<span data-ttu-id="86b9d-181">**Abbildung 05**: Fügen Sie eine neue ASP.NET-Seite, um die `Admin` Ordner ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-181">**Figure 05**: Add a New ASP.NET Page to the `Admin` Folder([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image15.png))</span></span>


<span data-ttu-id="86b9d-182">Denken Sie daran, dass in der [ *Titel, Meta-Tags und andere HTML-Header angeben, der Gestaltungsvorlage* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) Lernprogramm wir eine benutzerdefinierte Basisseite-Klasse, die mit dem Namen erstellt `BasePage` , die den Titel der Seite generiert, wenn es war nicht explizit festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-182">Recall that in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that generated the page's title if it was not explicitly set.</span></span> <span data-ttu-id="86b9d-183">Wechseln Sie zu der `AddProduct.aspx` Seite des Code-Behind-Klasse, und Ihr abgeleitet sein `BasePage` (anstelle von aus `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="86b9d-183">Go to the `AddProduct.aspx` page's code-behind class and have it derive from `BasePage` (instead of from `System.Web.UI.Page`).</span></span>

<span data-ttu-id="86b9d-184">Aktualisieren Sie schließlich die `Web.sitemap` Datei, die einen Eintrag in dieser Lektion hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-184">Finally, update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="86b9d-185">Fügen Sie das folgende Markup unterhalb der `<siteMapNode>` für die Steuerelement-ID Naming Probleme Lektion:</span><span class="sxs-lookup"><span data-stu-id="86b9d-185">Add the following markup beneath the `<siteMapNode>` for the Control ID Naming Issues lesson:</span></span>


[!code-xml[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample3.xml)]

<span data-ttu-id="86b9d-186">Wie in Abbildung 6: das Hinzufügen dieses gezeigt `<siteMapNode>` Elements in der Liste Lektionen wiedergegeben wird.</span><span class="sxs-lookup"><span data-stu-id="86b9d-186">As shown in Figure 6, the addition of this `<siteMapNode>` element is reflected in the Lessons list.</span></span>

<span data-ttu-id="86b9d-187">Zurück zu `AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-187">Return to `AddProduct.aspx`.</span></span> <span data-ttu-id="86b9d-188">Im Inhaltssteuerelement für die `MainContent` ContentPlaceHolder, DetailsView-Steuerelement hinzufügen, und nennen Sie sie `NewProduct`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-188">In the Content control for the `MainContent` ContentPlaceHolder, add a DetailsView control and name it `NewProduct`.</span></span> <span data-ttu-id="86b9d-189">Binden von DetailsView an ein neues SqlDataSource-Steuerelement mit dem Namen `NewProductDataSource`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-189">Bind the DetailsView to a new SqlDataSource control named `NewProductDataSource`.</span></span> <span data-ttu-id="86b9d-190">Wie Sie mit der SqlDataSource in Schritt 1, konfigurieren Sie den Assistenten so, dass sie die Northwind-Datenbank verwendet, und wählen Sie eine benutzerdefinierte SQL­Anweisung angeben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-190">Like with the SqlDataSource in Step 1, configure the wizard so that it uses the Northwind database and choose to specify a custom SQL statement.</span></span> <span data-ttu-id="86b9d-191">Da DetailsView Hinzufügen von Elementen in der Datenbank verwendet wird, müssen wir beide geben eine `SELECT` Anweisung und eine `INSERT` Anweisung.</span><span class="sxs-lookup"><span data-stu-id="86b9d-191">Because the DetailsView will be used to add items to the database, we need to specify both a `SELECT` statement and an `INSERT` statement.</span></span> <span data-ttu-id="86b9d-192">Verwenden Sie die folgenden `SELECT` Abfrage:</span><span class="sxs-lookup"><span data-stu-id="86b9d-192">Use the following `SELECT` query:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample4.sql)]

<span data-ttu-id="86b9d-193">Fügen Sie dann aus der Registerkarte "Einfügen" die folgenden `INSERT` Anweisung:</span><span class="sxs-lookup"><span data-stu-id="86b9d-193">Then, from the INSERT tab, add the following `INSERT` statement:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample5.sql)]

<span data-ttu-id="86b9d-194">Nach Abschluss des Assistenten wechseln Sie zu der DetailsView Smarttag, und aktivieren Sie das Kontrollkästchen "Einfügen aktivieren".</span><span class="sxs-lookup"><span data-stu-id="86b9d-194">After completing the wizard go to the DetailsView's smart tag and check the "Enable Inserting" checkbox.</span></span> <span data-ttu-id="86b9d-195">Dadurch wird eine CommandField, DetailsView mit seiner `ShowInsertButton` -Eigenschaft auf "true" festgelegt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-195">This adds a CommandField to the DetailsView with its `ShowInsertButton` property set to true.</span></span> <span data-ttu-id="86b9d-196">Festgelegt werden, da diese DetailsView ausschließlich zum Einfügen von Daten verwendet werden, DetailsView des `DefaultMode` Eigenschaft `Insert`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-196">Because this DetailsView will be used solely for inserting data, set the DetailsView's `DefaultMode` property to `Insert`.</span></span>

<span data-ttu-id="86b9d-197">Das ist alles vorhanden ist!</span><span class="sxs-lookup"><span data-stu-id="86b9d-197">That's all there is to it!</span></span> <span data-ttu-id="86b9d-198">Testen Sie nun auf dieser Seite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-198">Let's test this page.</span></span> <span data-ttu-id="86b9d-199">Besuchen Sie `AddProduct.aspx` über einen Webbrowser, und geben Sie einen Namen und den Preis (siehe Abbildung 6).</span><span class="sxs-lookup"><span data-stu-id="86b9d-199">Visit `AddProduct.aspx` through a browser, enter a name and price (see Figure 6).</span></span>


<span data-ttu-id="86b9d-200">[![Hinzufügen eines neuen Produkts in der Datenbank](interacting-with-the-master-page-from-the-content-page-cs/_static/image17.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-200">[![Add a New Product to the Database](interacting-with-the-master-page-from-the-content-page-cs/_static/image17.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image16.png)</span></span>

<span data-ttu-id="86b9d-201">**Abbildung 06**: Hinzufügen eines neuen Produkts in die Datenbank ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-201">**Figure 06**: Add a New Product to the Database  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image18.png))</span></span>


<span data-ttu-id="86b9d-202">Klicken Sie nach der Eingabe in den Namen und den Preis für das neue Produkt auf die Schaltfläche einfügen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-202">After typing in the name and price for your new product, click the Insert button.</span></span> <span data-ttu-id="86b9d-203">Dies bewirkt, dass das Formular für das postback.</span><span class="sxs-lookup"><span data-stu-id="86b9d-203">This causes the form to postback.</span></span> <span data-ttu-id="86b9d-204">Beim Postback SqlDataSource-Steuerelement des `INSERT` -Anweisung ausgeführt wird; die zwei Parameter mit den eingegebenen Werten in der DetailsView zwei TextBox-Steuerelemente aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="86b9d-204">On postback, the SqlDataSource control's `INSERT` statement is executed; its two parameters are populated with the user-entered values in the DetailsView's two TextBox controls.</span></span> <span data-ttu-id="86b9d-205">Leider ist keine visuelle Bestätigung, die eine Einfügung vorgenommen wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-205">Unfortunately, there is no visual feedback that an insert has occurred.</span></span> <span data-ttu-id="86b9d-206">Es wäre schön, weisen eine Meldung angezeigt wird, bestätigen, dass ein neuer Datensatz hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-206">It would be nice to have a message displayed, confirming that a new record has been added.</span></span> <span data-ttu-id="86b9d-207">Ich lassen Sie dieses als Übung für den Leser.</span><span class="sxs-lookup"><span data-stu-id="86b9d-207">I leave this as an exercise for the reader.</span></span> <span data-ttu-id="86b9d-208">Darüber hinaus wird gezeigt, nach dem Hinzufügen eines neuen Datensatzes aus der DetailsView GridView in die Masterseite weiterhin dieselben fünf Datensätze wie vor: Es umfasst nicht den gerade hinzugefügten Datensatz.</span><span class="sxs-lookup"><span data-stu-id="86b9d-208">Also, after adding a new record from the DetailsView the GridView in the master page still shows the same five records as before; it does not include the just-added record.</span></span> <span data-ttu-id="86b9d-209">Untersuchen wir wie dies in den nächsten Schritten zu beheben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-209">We'll examine how to remedy this in the upcoming steps.</span></span>

> [!NOTE]
> <span data-ttu-id="86b9d-210">Zusätzlich zum Hinzufügen von eine Form der visuelles Feedback, das die Einfügung erfolgreich war, empfehle ich Sie auch aktualisieren, Einfügen von der DetailsView-Schnittstelle bereit, eine Validierung beinhalten.</span><span class="sxs-lookup"><span data-stu-id="86b9d-210">In addition to adding some form of visual feedback that the insert has succeeded, I'd encourage you to also update the DetailsView's inserting interface to include validation.</span></span> <span data-ttu-id="86b9d-211">Es gibt derzeit keine Validierung.</span><span class="sxs-lookup"><span data-stu-id="86b9d-211">Currently, there is no validation.</span></span> <span data-ttu-id="86b9d-212">Wenn ein Benutzer für einen ungültigen Wert eingibt der `UnitPrice` Feld, z. B. "zu viel Leistung beanspruchen," eine Ausnahme wird beim Postback ausgelöst werden, wenn das System versucht, diese Zeichenfolge in eine Dezimalzahl umwandeln.</span><span class="sxs-lookup"><span data-stu-id="86b9d-212">If a user enters an invalid value for the `UnitPrice` field, such as "Too expensive," an exception will be thrown on postback when the system attempts to convert that string into a decimal.</span></span> <span data-ttu-id="86b9d-213">Weitere Informationen zum Anpassen der einfügen-Schnittstelle, finden Sie unter der [ *Anpassen der Benutzeroberfläche für die Änderung der Daten* Lernprogramm](../../data-access/editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) aus meiner [arbeiten mit Tutorial Datenreihe](../../data-access/index.md).</span><span class="sxs-lookup"><span data-stu-id="86b9d-213">For more information on customizing the inserting interface, refer to the [*Customizing the Data Modification Interface* tutorial](../../data-access/editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) from my [Working with Data tutorial series](../../data-access/index.md).</span></span>


## <a name="step-3-creating-public-properties-and-methods-in-the-master-page"></a><span data-ttu-id="86b9d-214">Schritt 3: Erstellen von öffentlichen Eigenschaften und Methoden in der Gestaltungsvorlage</span><span class="sxs-lookup"><span data-stu-id="86b9d-214">Step 3: Creating Public Properties and Methods in the Master Page</span></span>

<span data-ttu-id="86b9d-215">In Schritt 1 hinzugefügten wir ein Bezeichnung-Websteuerelement, der mit dem Namen `GridMessage` über die GridView in die Masterseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-215">In Step 1 we added a Label Web control named `GridMessage` above the GridView in the master page.</span></span> <span data-ttu-id="86b9d-216">Diese Beschriftung dient auch eine Meldung anzeigen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-216">This Label is intended to optionally display a message.</span></span> <span data-ttu-id="86b9d-217">Beispielsweise nach dem Hinzufügen eines neuen Datensatzes, der `Products` Tabelle wir möglicherweise eine Meldung anzeigen möchten, die gelesen: "*ProductName* der Datenbank hinzugefügt wurde."</span><span class="sxs-lookup"><span data-stu-id="86b9d-217">For example, after adding a new record to the `Products` table, we might want to show a message that reads: "*ProductName* has been added to the database."</span></span> <span data-ttu-id="86b9d-218">Anstatt hartcodieren der Text für diese Bezeichnung in die Masterseite sollten wir die Nachricht von der Seite Inhalt anpassbar sein.</span><span class="sxs-lookup"><span data-stu-id="86b9d-218">Rather than hard-code the text for this Label in the master page, we might want the message to be customizable by the content page.</span></span>

<span data-ttu-id="86b9d-219">Da das Label-Steuerelement als Variable geschützter Member innerhalb der Masterseite implementiert wird, die direkt von Inhaltsseiten zugegriffen werden kann.</span><span class="sxs-lookup"><span data-stu-id="86b9d-219">Because the Label control is implemented as a protected member variable within the master page it cannot be accessed directly from content pages.</span></span> <span data-ttu-id="86b9d-220">Für die Arbeit mit der Bezeichnung innerhalb einer Masterseite von der Seite Inhalt (oder zu alle Websteuerelement in die Masterseite) muss eine öffentliche Eigenschaft in die Masterseite erstellt werden, die das Websteuerelement macht oder fungiert als Proxy mit dem eine seiner Eigenschaften werden kann  der Zugriff auf.</span><span class="sxs-lookup"><span data-stu-id="86b9d-220">In order to work with the Label within a master page from the content page (or, for that matter, any Web control in the master page) we need to create a public property in the master page that exposes the Web control or serves as a proxy by which one of its properties can be accessed.</span></span> <span data-ttu-id="86b9d-221">Fügen Sie die folgende Syntax der Masterseite Code-Behind-Klasse, der Bezeichnung verfügbar zu machen `Text` Eigenschaft:</span><span class="sxs-lookup"><span data-stu-id="86b9d-221">Add the following syntax to the master page's code-behind class to expose the Label's `Text` property:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample6.cs)]

<span data-ttu-id="86b9d-222">Wenn ein neuer Datensatz hinzugefügt wird, um die `Products` Tabelle aus einer Inhaltsseite der `RecentProducts` GridView in die Masterseite muss erneut an die zugrunde liegenden Datenquelle binden.</span><span class="sxs-lookup"><span data-stu-id="86b9d-222">When a new record is added to the `Products` table from a content page the `RecentProducts` GridView in the master page needs to rebind to its underlying data source.</span></span> <span data-ttu-id="86b9d-223">Zum Binden des GridView-Aufrufs seine `DataBind` Methode.</span><span class="sxs-lookup"><span data-stu-id="86b9d-223">To rebind the GridView call its `DataBind` method.</span></span> <span data-ttu-id="86b9d-224">Da die GridView in die Masterseite nicht programmgesteuert zugegriffen werden kann, um die Inhaltsseiten ist, wir müssen eine öffentliche Methode in die Masterseite erstellen, das beim aufgerufen, bindet die Daten an die GridView.</span><span class="sxs-lookup"><span data-stu-id="86b9d-224">Because the GridView in the master page is not programmatically accessible to the content pages, we need to create a public method in the master page that, when called, rebinds the data to the GridView.</span></span> <span data-ttu-id="86b9d-225">Fügen Sie die folgende Methode, um die Gestaltungsvorlage Code-Behind-Klasse:</span><span class="sxs-lookup"><span data-stu-id="86b9d-225">Add the following method to the master page's code-behind class:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample7.cs)]

<span data-ttu-id="86b9d-226">Mit der `GridMessageText` Eigenschaft und `RefreshRecentProductsGrid` Methode vorhanden, jeder Inhaltsseite kann programmgesteuert festgelegt oder Lesen Sie den Wert des der `GridMessage` Bezeichnungsfelds `Text` Eigenschaft oder binden Sie die Daten der `RecentProducts` GridView.</span><span class="sxs-lookup"><span data-stu-id="86b9d-226">With the `GridMessageText` property and `RefreshRecentProductsGrid` method in place, any content page can programmatically set or read the value of the `GridMessage` Label's `Text` property or rebind the data to the `RecentProducts` GridView.</span></span> <span data-ttu-id="86b9d-227">Schritt 4 untersucht, wie auf einer Inhaltsseite der Masterseite öffentlichen Eigenschaften und Methoden zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-227">Step 4 examines how to access the master page's public properties and methods from a content page.</span></span>

> [!NOTE]
> <span data-ttu-id="86b9d-228">Vergessen Sie nicht, markieren Sie die Eigenschaften und Methoden wie der Gestaltungsvorlage `public`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-228">Don't forget to mark the master page's properties and methods as `public`.</span></span> <span data-ttu-id="86b9d-229">Wenn nicht explizit dieser Eigenschaften und Methoden als bezeichnen `public`, sie können nicht aus der Seite Inhalt zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="86b9d-229">If you do not explicitly denote these properties and methods as `public`, they will not be accessible from the content page.</span></span>


## <a name="step-4-calling-the-master-pages-public-members-from-a-content-page"></a><span data-ttu-id="86b9d-230">Schritt 4: Aufrufen der Gestaltungsvorlage öffentliche Member aus einer Inhaltsseite</span><span class="sxs-lookup"><span data-stu-id="86b9d-230">Step 4: Calling the Master Page's Public Members from a Content Page</span></span>

<span data-ttu-id="86b9d-231">Nun, da die Gestaltungsvorlage erforderlichen öffentlichen Eigenschaften und Methoden verfügt, können wir bereit, um diese Eigenschaften und Methoden aufzurufen der `AddProduct.aspx` Inhaltsseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-231">Now that the master page has the necessary public properties and methods, we're ready to invoke these properties and methods from the `AddProduct.aspx` content page.</span></span> <span data-ttu-id="86b9d-232">Insbesondere müssen wir die Gestaltungsvorlage festgelegt `GridMessageText` -Eigenschaft, und rufen die `RefreshRecentProductsGrid` -Methode auf, nachdem das neue Produkt mit der Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-232">Specifically, we need to set the master page's `GridMessageText` property and call its `RefreshRecentProductsGrid` method after the new product has been added to the database.</span></span> <span data-ttu-id="86b9d-233">Alle der ASP.NET Web Datensteuerelemente auslösen Ereignisse, unmittelbar vor und nach dem Ausführen verschiedener Aufgaben, die Seitenentwicklern die programmgesteuerte Maßnahmen entweder vor oder nach der Aufgabe zu erleichtern.</span><span class="sxs-lookup"><span data-stu-id="86b9d-233">All the ASP.NET data Web controls fire events immediately before and after completing various tasks, which make it easy for page developers to take some programmatic action either before or after the task.</span></span> <span data-ttu-id="86b9d-234">Angenommen, wenn der Endbenutzer die DetailsView Insert Schaltfläche klickt, auf postback der DetailsView löst die `ItemInserting` Ereignis vor dem Einfügen von Workflows.</span><span class="sxs-lookup"><span data-stu-id="86b9d-234">For example, when the end user clicks the DetailsView's Insert button, on postback the DetailsView raises its `ItemInserting` event before beginning the inserting workflow.</span></span> <span data-ttu-id="86b9d-235">Dann wird den Datensatz in die Datenbank eingefügt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-235">It then inserts the record into the database.</span></span> <span data-ttu-id="86b9d-236">Danach, DetailsView löst die `ItemInserted` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="86b9d-236">Following that, the DetailsView raises its `ItemInserted` event.</span></span> <span data-ttu-id="86b9d-237">Aus diesem Grund, um die Gestaltungsvorlage arbeiten möchten, nachdem das neue Produkt hinzugefügt wurde, für die DetailsView einen Ereignishandler erstellen `ItemInserted` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="86b9d-237">Therefore, in order to work with the master page after the new product has been added, create an event handler for the DetailsView's `ItemInserted` event.</span></span>

<span data-ttu-id="86b9d-238">Es gibt zwei Möglichkeiten, die eine Inhaltsseite programmgesteuert mit Gestaltungsvorlage Schnittstelle kann ein:</span><span class="sxs-lookup"><span data-stu-id="86b9d-238">There are two ways that a content page can programmatically interface with its master page:</span></span>

- <span data-ttu-id="86b9d-239">Mithilfe der `Page.Master` Eigenschaft, die einen lose typisierten Verweis auf die Gestaltungsvorlage zurückgibt, oder</span><span class="sxs-lookup"><span data-stu-id="86b9d-239">Using the `Page.Master` property, which returns a loosely-typed reference to the master page, or</span></span>
- <span data-ttu-id="86b9d-240">Geben Sie die Seite Masterseite Typ oder ein Dateipfad über eine `@MasterType` Richtlinie; dies Fügt eine stark typisierte Eigenschaft automatisch auf der Seite mit dem Namen `Master`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-240">Specify the page's master page type or file path via a `@MasterType` directive; this automatically adds a strongly-typed property to the page named `Master`.</span></span>

<span data-ttu-id="86b9d-241">Betrachten wir die beiden Ansätzen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-241">Let's examine both approaches.</span></span>

### <a name="using-the-loosely-typedpagemasterproperty"></a><span data-ttu-id="86b9d-242">Mithilfe der lose typisierten`Page.Master`Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="86b9d-242">Using the Loosely-Typed`Page.Master`Property</span></span>

<span data-ttu-id="86b9d-243">Alle ASP.NET-Webseiten leiten sich aus der `Page` -Klasse, befindet sich im die `System.Web.UI` Namespace.</span><span class="sxs-lookup"><span data-stu-id="86b9d-243">All ASP.NET web pages must derive from the `Page` class, which is located in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="86b9d-244">Die `Page` Klasse enthält eine [ `Master` Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.page.master.aspx) , die einen Verweis auf die Masterseite zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-244">The `Page` class includes a [`Master` property](https://msdn.microsoft.com/library/system.web.ui.page.master.aspx) that returns a reference to the page's master page.</span></span> <span data-ttu-id="86b9d-245">Wenn die Seite keine Masterseite `Master` gibt `null`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-245">If the page does not have a master page `Master` returns `null`.</span></span>

<span data-ttu-id="86b9d-246">Die `Master` Eigenschaft gibt ein Objekt vom Typ [ `MasterPage` ](https://msdn.microsoft.com/library/system.web.ui.masterpage.aspx) (befindet sich auch der `System.Web.UI` Namespace) ist der Basistyp, von dem alle Masterseiten abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="86b9d-246">The `Master` property returns an object of type [`MasterPage`](https://msdn.microsoft.com/library/system.web.ui.masterpage.aspx) (also located in the `System.Web.UI` namespace) which is the base type from which all master pages derive from.</span></span> <span data-ttu-id="86b9d-247">Aus diesem Grund auf mit öffentlichen Eigenschaften oder Methoden, die auf unserer Website Masterseite müssen wir umgewandelt definiert die `MasterPage` Objekt, das von der `Master` Eigenschaft in den entsprechenden Typ.</span><span class="sxs-lookup"><span data-stu-id="86b9d-247">Therefore, to use public properties or methods defined in our website's master page we must cast the `MasterPage` object returned from the `Master` property to the appropriate type.</span></span> <span data-ttu-id="86b9d-248">Da wir unsere Masterseitendatei mit dem Namen `Site.master`, wurde die Code-Behind-Klasse mit dem Namen `Site`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-248">Because we named our master page file `Site.master`, the code-behind class was named `Site`.</span></span> <span data-ttu-id="86b9d-249">Im folgenden code aus diesem Grund Umwandlungen die `Page.Master` Eigenschaft zu einer Instanz von der Website-Klasse.</span><span class="sxs-lookup"><span data-stu-id="86b9d-249">Therefore, the following code casts the `Page.Master` property to an instance of the Site class.</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample8.cs)]

<span data-ttu-id="86b9d-250">Nun mit dem umgewandelte die lose typisierten `Page.Master` Eigenschaft, um die `Site` geben wir können die Eigenschaften und Methoden, die Website zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-250">Now that we have casted the loosely-typed `Page.Master` property to the `Site` type we can reference the properties and methods specific to Site.</span></span> <span data-ttu-id="86b9d-251">Wie Abbildung 7 zeigt ein Beispiel, das die öffentliche Eigenschaft `GridMessageText` wird in der IntelliSense-Dropdownliste angezeigt.</span><span class="sxs-lookup"><span data-stu-id="86b9d-251">As Figure 7 shows, the public property `GridMessageText` appears in the IntelliSense drop-down.</span></span>


<span data-ttu-id="86b9d-252">[![IntelliSense zeigt unseren Gestaltungsvorlage öffentlichen Eigenschaften und Methoden](interacting-with-the-master-page-from-the-content-page-cs/_static/image20.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-252">[![IntelliSense Shows our Master Page's Public Properties and Methods](interacting-with-the-master-page-from-the-content-page-cs/_static/image20.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image19.png)</span></span>

<span data-ttu-id="86b9d-253">**Abbildung 07**: zeigt IntelliSense unsere Gestaltungsvorlage öffentlichen Eigenschaften und Methoden ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-253">**Figure 07**: IntelliSense Shows our Master Page's Public Properties and Methods  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image21.png))</span></span>


> [!NOTE]
> <span data-ttu-id="86b9d-254">Wenn Sie Ihre Masterseitendatei genannt `MasterPage.master` handelt, die Gestaltungsvorlage Code-Behind-Klassenname `MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-254">If you named your master page file `MasterPage.master` then the master page's code-behind class name is `MasterPage`.</span></span> <span data-ttu-id="86b9d-255">Kann dies zu mehrdeutigen Code bei der Umwandlung vom Typ `System.Web.UI.MasterPage` auf Ihre `MasterPage` Klasse.</span><span class="sxs-lookup"><span data-stu-id="86b9d-255">This can lead to ambiguous code when casting from the type `System.Web.UI.MasterPage` to your `MasterPage` class.</span></span> <span data-ttu-id="86b9d-256">Kurz gesagt, müssen Sie zur vollständigen Qualifizierung den Typ, dem Sie umwandeln, der kann ein bisschen sein, wenn das Modell der Website-Projekt verwenden.</span><span class="sxs-lookup"><span data-stu-id="86b9d-256">In short, you need to fully qualify the type you are casting to, which can be a little tricky when using the Web Site Project model.</span></span> <span data-ttu-id="86b9d-257">Ich schlage wäre entweder sicherstellen, dass bei der Erstellung der Masterseite Sie es etwas anderen als Namen `MasterPage.master` oder besser noch, erstellen Sie einen stark typisierten Verweis auf die Gestaltungsvorlage.</span><span class="sxs-lookup"><span data-stu-id="86b9d-257">My suggestion would be to either make sure that when you create your master page you name it something other than `MasterPage.master` or, even better, create a strongly-typed reference to the master page.</span></span>


### <a name="creating-a-strongly-typed-reference-with-themastertypedirective"></a><span data-ttu-id="86b9d-258">Erstellen einen stark typisierten Verweis mit der`@MasterType`Richtlinie</span><span class="sxs-lookup"><span data-stu-id="86b9d-258">Creating a Strongly-Typed Reference with the`@MasterType`Directive</span></span>

<span data-ttu-id="86b9d-259">Bei näherer Betrachtung können Sie sehen, dass eine ASP.NET-Seite Code-Behind-Klasse eine partielle Klasse ist (Beachten Sie die `partial` Schlüsselwort in der Klassendefinition).</span><span class="sxs-lookup"><span data-stu-id="86b9d-259">If you look closely you can see that an ASP.NET page's code-behind class is a partial class (note the `partial` keyword in the class definition).</span></span> <span data-ttu-id="86b9d-260">Partielle Klassen in c# und Visual Basic.NET Framework 2.0 eingeführt wurden und kurz gesagt, ermöglichen die Member einer Klasse auf mehrere Dateien definiert werden.</span><span class="sxs-lookup"><span data-stu-id="86b9d-260">Partial classes were introduced in C# and Visual Basic with.NET Framework 2.0 and, in a nutshell, allow for a class's members to be defined across multiple files.</span></span> <span data-ttu-id="86b9d-261">Die Code-Behind-Klassendatei - `AddProduct.aspx.cs`, z. B. - enthält den Code, den Sie, der Entwickler der Seite erstellen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-261">The code-behind class file - `AddProduct.aspx.cs`, for example - contains the code that we, the page developer, create.</span></span> <span data-ttu-id="86b9d-262">Zusätzlich zu den getesteten Codes das Modul für ASP.NET erstellt automatisch eine separate Klassendatei mit Eigenschaften und Ereignishandler, deklarative Markup in Klassenhierarchie der Seite übersetzen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-262">In addition to our code, the ASP.NET engine automatically creates a separate class file with properties and event handlers in that translate the declarative markup into the page's class hierarchy.</span></span>

<span data-ttu-id="86b9d-263">Die automatische codegenerierung, die Fehler tritt bei eine ASP.NET-Seite besuchten kontextspezifischen einige vielmehr interessanten und nützliche Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="86b9d-263">The automatic code generation that occurs whenever an ASP.NET page is visited paves the way for some rather interesting and useful possibilities.</span></span> <span data-ttu-id="86b9d-264">Im Fall von Masterseiten, wenn wir das Modul für ASP.NET Teilen von unseren Inhaltsseite welche Gestaltungsvorlage verwendet wird generiert er einen stark typisierten `Master` -Eigenschaft für uns.</span><span class="sxs-lookup"><span data-stu-id="86b9d-264">In the case of master pages, if we tell the ASP.NET engine what master page is being used by our content page it generates a strongly-typed `Master` property for us.</span></span>

<span data-ttu-id="86b9d-265">Verwenden der [ `@MasterType` Richtlinie](https://msdn.microsoft.com/library/ms228274.aspx) des ASP.NET-Moduls für die master Seitentyp der Seite Inhalt informiert.</span><span class="sxs-lookup"><span data-stu-id="86b9d-265">Use the [`@MasterType` directive](https://msdn.microsoft.com/library/ms228274.aspx) to inform the ASP.NET engine of the content page's master page type.</span></span> <span data-ttu-id="86b9d-266">Die `@MasterType` Richtlinie kann entweder der Typname der Masterseite oder des Dateipfads akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="86b9d-266">The `@MasterType` directive can accept either the type name of the master page or its file path.</span></span> <span data-ttu-id="86b9d-267">Um anzugeben, dass die `AddProduct.aspx` Seite verwendet `Site.master` als Gestaltungsvorlage, fügen Sie die folgende Direktive am Anfang `AddProduct.aspx`:</span><span class="sxs-lookup"><span data-stu-id="86b9d-267">To specify that the `AddProduct.aspx` page uses `Site.master` as its master page, add the following directive to the top of `AddProduct.aspx`:</span></span>


[!code-aspx[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample9.aspx)]

<span data-ttu-id="86b9d-268">Diese Direktive weist das ASP.NET-Modul um einen stark typisierten Verweis auf die Gestaltungsvorlage über eine Eigenschaft mit dem Namen hinzufügen `Master`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-268">This directive instructs the ASP.NET engine to add a strongly-typed reference to the master page through a property named `Master`.</span></span> <span data-ttu-id="86b9d-269">Mit der `@MasterType` Richtlinie vorhanden, wir können Aufrufen der `Site.master` "master" öffentlichen Eigenschaften und Methoden, die direkt über der Seite der `Master` Eigenschaft ohne alle Umwandlungen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-269">With the `@MasterType` directive in place, we can call the `Site.master` master page's public properties and methods directly through the `Master` property without any casts.</span></span>

> [!NOTE]
> <span data-ttu-id="86b9d-270">Wenn Sie weglassen der `@MasterType` Richtlinie, die Syntax `Page.Master` und `Master` dasselbe zurück: eine lose typisierten Objekt auf der Masterseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-270">If you omit the `@MasterType` directive, the syntax `Page.Master` and `Master` return the same thing: a loosely-typed object to the page's master page.</span></span> <span data-ttu-id="86b9d-271">Wenn Sie enthalten die `@MasterType` Richtlinie dann `Master` gibt einen stark typisierten Verweis auf die angegebene Masterseite.</span><span class="sxs-lookup"><span data-stu-id="86b9d-271">If you include the `@MasterType` directive then `Master` returns a strongly-typed reference to the specified master page.</span></span> <span data-ttu-id="86b9d-272">`Page.Master`, jedoch weiterhin einen lose typisierten Verweis zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-272">`Page.Master`, however, still returns a loosely-typed reference.</span></span> <span data-ttu-id="86b9d-273">Ein tiefer gehendes Betrachtung verdeutlichen, warum dies der Fall ist und wie die `Master` Eigenschaft erstellt wird bei der `@MasterType` Richtlinie enthalten ist, finden Sie unter [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx)des Blogeintrag [ `@MasterType` in ASP.NET 2.0](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx).</span><span class="sxs-lookup"><span data-stu-id="86b9d-273">For a more thorough look at why this is the case and how the `Master` property is constructed when the `@MasterType` directive is included, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx)'s blog entry [`@MasterType` in ASP.NET 2.0](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx).</span></span>


### <a name="updating-the-master-page-after-adding-a-new-product"></a><span data-ttu-id="86b9d-274">Aktualisieren die Seite "Master" nach dem Hinzufügen eines neuen Produkts</span><span class="sxs-lookup"><span data-stu-id="86b9d-274">Updating the Master Page After Adding a New Product</span></span>

<span data-ttu-id="86b9d-275">Nun, da wir wissen, wie einer Masterseite öffentlichen Eigenschaften und Methoden aus einer Inhaltsseite aufrufen, können wir zur Aktualisierung der `AddProduct.aspx` Seite, damit die Gestaltungsvorlage aktualisiert wird, nach dem Hinzufügen eines neuen Produkts.</span><span class="sxs-lookup"><span data-stu-id="86b9d-275">Now that we know how to invoke a master page's public properties and methods from a content page, we're ready to update the `AddProduct.aspx` page so that the master page is refreshed after adding a new product.</span></span> <span data-ttu-id="86b9d-276">Am Anfang des Schritt 4 erstellten einen Ereignishandler für des DetailsView-Steuerelements `ItemInserting` Ereignis, das ausgeführt wird, sofort, nachdem das neue Produkt mit der Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-276">At the beginning of Step 4 we created an event handler for the DetailsView control's `ItemInserting` event, which executes immediately after the new product has been added to the database.</span></span> <span data-ttu-id="86b9d-277">Fügen Sie zu diesem Ereignishandler den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="86b9d-277">Add the following code to that event handler:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample10.cs)]

<span data-ttu-id="86b9d-278">Der Code oben verwendet sowohl die lose typisierten `Page.Master` -Eigenschaft und die stark typisierte `Master` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="86b9d-278">The above code uses both the loosely-typed `Page.Master` property and the strongly-typed `Master` property.</span></span> <span data-ttu-id="86b9d-279">Beachten Sie, dass die `GridMessageText` -Eigenschaftensatz auf "*ProductName* Raster... hinzugefügt" Das gerade hinzugefügte Produkt Werte ist möglich, über die `e.Values` Auflistung, wie Sie sehen können, der gerade hinzugefügten `ProductName` Wert erfolgt über `e.Values["ProductName"]`.</span><span class="sxs-lookup"><span data-stu-id="86b9d-279">Note that the `GridMessageText` property is set to "*ProductName* added to grid..." The just-added product's values are accessible through the `e.Values` collection; as you can see, the just-added `ProductName` value is accessed via `e.Values["ProductName"]`.</span></span>

<span data-ttu-id="86b9d-280">Abbildung 8 zeigt die `AddProduct.aspx` Seite unmittelbar nach einem neuen Produkt - Scotts Soda - Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="86b9d-280">Figure 8 shows the `AddProduct.aspx` page immediately after a new product - Scott's Soda - has been added to the database.</span></span> <span data-ttu-id="86b9d-281">Beachten Sie, dass der gerade hinzugefügten Produktnamen in der Masterseite Bezeichnung angegeben ist und die GridView aktualisiert worden sind, um das Produkt und ihren Preis einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-281">Note that the just-added product name is noted in the master page's Label and that the GridView has been refreshed to include the product and its price.</span></span>


<span data-ttu-id="86b9d-282">[![Die Gestaltungsvorlage Bezeichnung und GridView anzeigen, das gerade hinzugefügte Produkt](interacting-with-the-master-page-from-the-content-page-cs/_static/image23.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="86b9d-282">[![The Master Page's Label and GridView Show the Just-Added Product](interacting-with-the-master-page-from-the-content-page-cs/_static/image23.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image22.png)</span></span>

<span data-ttu-id="86b9d-283">**Abbildung 08**: die Gestaltungsvorlage Bezeichnung und GridView Anzeigen des Produkts Just-Added ([klicken Sie hier, um das Bild in voller Größe angezeigt](interacting-with-the-master-page-from-the-content-page-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="86b9d-283">**Figure 08**: The Master Page's Label and GridView Show the Just-Added Product ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image24.png))</span></span>


## <a name="summary"></a><span data-ttu-id="86b9d-284">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="86b9d-284">Summary</span></span>

<span data-ttu-id="86b9d-285">Im Idealfall einer Masterseite und die Inhaltsseiten vollständig voneinander getrennt sind, und Sie erfordern keine Ebene Interaktion.</span><span class="sxs-lookup"><span data-stu-id="86b9d-285">Ideally, a master page and its content pages are completely separate from one another and require no level of interaction.</span></span> <span data-ttu-id="86b9d-286">Während Gestaltungsvorlagen und Inhaltsseiten mit diesem Ziel verwenden, beachten Sie gestaltet werden soll, gibt es diverse häufig vorkommende Szenarien, in denen Inhaltsseite mit Gestaltungsvorlage Schnittstelle muss.</span><span class="sxs-lookup"><span data-stu-id="86b9d-286">While master pages and content pages should be designed with that goal in mind, there are a number of common scenarios in which a content page must interface with its master page.</span></span> <span data-ttu-id="86b9d-287">Einer der häufigsten Gründe dreht sich alles um Aktualisieren eines bestimmten Teils der Gestaltungsvorlage Anzeige basierend auf eine Aktion, die auf der Inhaltsseite vergangen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-287">One of the most common reasons centers around updating a particular portion of the master page display based on some action that transpired in the content page.</span></span>

<span data-ttu-id="86b9d-288">Die gute Nachricht ist, dass es relativ einfach zu eine Inhaltsseite programmgesteuerte Interaktion mit Gestaltungsvorlage haben.</span><span class="sxs-lookup"><span data-stu-id="86b9d-288">The good news is that it's relatively straightforward to have a content page programmatically interact with its master page.</span></span> <span data-ttu-id="86b9d-289">Starten Sie durch das Erstellen von öffentlichen Eigenschaften oder Methoden in der master-Seite, die die Funktionalität zu kapseln, die von einer Inhaltsseite aufgerufen werden muss.</span><span class="sxs-lookup"><span data-stu-id="86b9d-289">Start by creating public properties or methods in the master page that encapsulate the functionality that needs to be invoked by a content page.</span></span> <span data-ttu-id="86b9d-290">Klicken Sie dann auf der Inhaltsseite Zugriff auf der Gestaltungsvorlage Eigenschaften und Methoden über den typenlosen `Page.Master` Eigenschaft oder mithilfe der `@MasterType` Direktive, um einen stark typisierten Verweis auf die Gestaltungsvorlage erstellen.</span><span class="sxs-lookup"><span data-stu-id="86b9d-290">Then, in the content page, access the master page's properties and methods through the loosely-typed `Page.Master` property or use the `@MasterType` directive to create a strongly-typed reference to the master page.</span></span>

<span data-ttu-id="86b9d-291">In den nächsten Lernprogrammen untersuchen wir wie die programmgesteuerte Interaktion mit einem entsprechenden Inhaltsseiten Gestaltungsvorlage.</span><span class="sxs-lookup"><span data-stu-id="86b9d-291">In the next tutorial we examine how to have the master page programmatically interact with one of its content pages.</span></span>

<span data-ttu-id="86b9d-292">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="86b9d-292">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="86b9d-293">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="86b9d-293">Further Reading</span></span>

<span data-ttu-id="86b9d-294">Weitere Informationen zu den Themen in diesem Lernprogramm erläutert finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="86b9d-294">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="86b9d-295">Zugreifen auf und Aktualisieren von Daten in ASP.NET</span><span class="sxs-lookup"><span data-stu-id="86b9d-295">Accessing and Updating Data in ASP.NET</span></span>](http://aspnet.4guysfromrolla.com/articles/011106-1.aspx)
- [<span data-ttu-id="86b9d-296">ASP.NET Masterseiten: Tipps, Tricks und Traps</span><span class="sxs-lookup"><span data-stu-id="86b9d-296">ASP.NET Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="86b9d-297">`@MasterType` in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="86b9d-297">`@MasterType` in ASP.NET 2.0</span></span>](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx)
- [<span data-ttu-id="86b9d-298">Übergeben von Informationen zwischen dem Inhalt und Masterseiten</span><span class="sxs-lookup"><span data-stu-id="86b9d-298">Passing Information Between Content and Master Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/013107-1.aspx)
- [<span data-ttu-id="86b9d-299">Arbeiten mit Daten in ASP.NET-Lernprogramme</span><span class="sxs-lookup"><span data-stu-id="86b9d-299">Working with Data in ASP.NET Tutorials</span></span>](../../data-access/index.md)

### <a name="about-the-author"></a><span data-ttu-id="86b9d-300">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="86b9d-300">About the Author</span></span>

<span data-ttu-id="86b9d-301">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor mehrerer ASP/ASP.NET-Büchern und Gründer von 4GuysFromRolla.com arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="86b9d-301">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="86b9d-302">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="86b9d-302">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="86b9d-303">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 3.5 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="86b9d-303">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="86b9d-304">Scott erreicht werden kann, zur [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog unter [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="86b9d-304">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="86b9d-305">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="86b9d-305">Special Thanks To</span></span>

<span data-ttu-id="86b9d-306">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="86b9d-306">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="86b9d-307">Lead Prüfer für dieses Lernprogramm wurde Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="86b9d-307">Lead reviewer for this tutorial was Zack Jones.</span></span> <span data-ttu-id="86b9d-308">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="86b9d-308">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="86b9d-309">Wenn dies der Fall ist, löschen Sie mich zeilenweise [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="86b9d-309">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="86b9d-310">[Zurück](control-id-naming-in-content-pages-cs.md)
> [Weiter](interacting-with-the-content-page-from-the-master-page-cs.md)</span><span class="sxs-lookup"><span data-stu-id="86b9d-310">[Previous](control-id-naming-in-content-pages-cs.md)
[Next](interacting-with-the-content-page-from-the-master-page-cs.md)</span></span>
