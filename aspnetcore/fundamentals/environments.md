---
title: Arbeiten mit mehreren Umgebungen in ASP.NET Core
author: ardalis
description: "Erfahren Sie, wie ASP.NET Core Unterstützung für das Steuern des Verhaltens der app über mehrere Umgebungen bereitstellt."
keywords: ASP.NET Core, umgebungseinstellungen, ASPNETCORE_ENVIRONMENT
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: b5bba985-be12-4464-9a01-df3599b2a6f1
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/environments
ms.openlocfilehash: 3eb19aa090d0a979ceaf4edc56752472ba47ae84
ms.sourcegitcommit: 8f42ab93402c1b8044815e1e48d0bb84c81f8b59
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/29/2017
---
# <a name="working-with-multiple-environments"></a><span data-ttu-id="9921a-104">Arbeiten mit mehreren Umgebungen</span><span class="sxs-lookup"><span data-stu-id="9921a-104">Working with multiple environments</span></span>

<span data-ttu-id="9921a-105">Durch [Steve Smith](https://ardalis.com/)</span><span class="sxs-lookup"><span data-stu-id="9921a-105">By [Steve Smith](https://ardalis.com/)</span></span>

<span data-ttu-id="9921a-106">ASP.NET Core bietet Unterstützung für das Steuern des Verhaltens der app über mehrere Umgebungen, wie z. B. Entwicklungs-, Staging- und produktionsumgebungen.</span><span class="sxs-lookup"><span data-stu-id="9921a-106">ASP.NET Core provides support for controlling app behavior across multiple environments, such as development, staging, and production.</span></span> <span data-ttu-id="9921a-107">Umgebungsvariablen werden verwendet, um anzugeben, die Common Language Runtime-Umgebung ermöglicht es der app für die Umgebung konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="9921a-107">Environment variables are used to indicate the runtime environment, allowing the app to be configured for that environment.</span></span>

<span data-ttu-id="9921a-108">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/environments/sample) ([Vorgehensweise zum Herunterladen](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="9921a-108">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/environments/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="development-staging-production"></a><span data-ttu-id="9921a-109">Entwicklung, Bereitstellung, Produktion</span><span class="sxs-lookup"><span data-stu-id="9921a-109">Development, Staging, Production</span></span>

<span data-ttu-id="9921a-110">ASP.NET Core verweist auf eine bestimmte Umgebungsvariable `ASPNETCORE_ENVIRONMENT` die Umgebung beschreiben Sie die Anwendung im derzeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="9921a-110">ASP.NET Core references a particular environment variable, `ASPNETCORE_ENVIRONMENT` to describe the environment the application is currently running in.</span></span> <span data-ttu-id="9921a-111">Diese Variable kann festgelegt werden, auf einen beliebigen Wert gewünscht jedoch drei Werte werden gemäß der Konvention verwendet: `Development`, `Staging`, und `Production`.</span><span class="sxs-lookup"><span data-stu-id="9921a-111">This variable can be set to any value you like, but three values are used by convention: `Development`, `Staging`, and `Production`.</span></span> <span data-ttu-id="9921a-112">Finden Sie diese in den Beispielen verwendeten Werte und die Vorlagen mit ASP.NET Core bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="9921a-112">You will find these values used in the samples and templates provided with ASP.NET Core.</span></span>

<span data-ttu-id="9921a-113">Die aktuelle umgebungseinstellung kann programmgesteuert aus innerhalb der Anwendung erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="9921a-113">The current environment setting can be detected programmatically from within your application.</span></span> <span data-ttu-id="9921a-114">Darüber hinaus können Sie die Umgebung [tag Helper](../mvc/views/tag-helpers/index.md) auf bestimmte Abschnitte enthalten die [Ansicht](../mvc/views/index.md) basierend auf der aktuellen Umgebung der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9921a-114">In addition, you can use the Environment [tag helper](../mvc/views/tag-helpers/index.md) to include certain sections in your [view](../mvc/views/index.md) based on the current application environment.</span></span>

<span data-ttu-id="9921a-115">Hinweis: Auf Windows- und Mac OS wird der angegebenen Umgebungsnamen Groß-/Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="9921a-115">Note: On Windows and macOS, the specified environment name is case insensitive.</span></span> <span data-ttu-id="9921a-116">Ob die Variable festgelegt wird, um `Development` oder `development` oder `DEVELOPMENT` werden die Ergebnissen identisch sein.</span><span class="sxs-lookup"><span data-stu-id="9921a-116">Whether you set the variable to `Development` or `development` or `DEVELOPMENT` the results will be the same.</span></span> <span data-ttu-id="9921a-117">Linux ist jedoch ein **Groß-/Kleinschreibung beachtet** OS standardmäßig.</span><span class="sxs-lookup"><span data-stu-id="9921a-117">However, Linux is a **case sensitive** OS by default.</span></span> <span data-ttu-id="9921a-118">Umgebungsvariablen, Dateinamen und Einstellungen erfordern Groß-/Kleinschreibung berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="9921a-118">Environment variables, file names and settings require case sensitivity.</span></span>

### <a name="development"></a><span data-ttu-id="9921a-119">Entwicklung</span><span class="sxs-lookup"><span data-stu-id="9921a-119">Development</span></span>

<span data-ttu-id="9921a-120">Dies sollte der Umgebung, die beim Entwickeln einer Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="9921a-120">This should be the environment used when developing an application.</span></span> <span data-ttu-id="9921a-121">Dient normalerweise zum Aktivieren von Funktionen, die wäre nicht verfügbar, wenn die app wie z. B. in der Produktion wird ausgeführt werden sollen die [Developer Ausnahmeseite](xref:fundamentals/error-handling#the-developer-exception-page).</span><span class="sxs-lookup"><span data-stu-id="9921a-121">It is typically used to enable features that you wouldn't want to be available when the app runs in production, such as the [developer exception page](xref:fundamentals/error-handling#the-developer-exception-page).</span></span>

<span data-ttu-id="9921a-122">Wenn Sie Visual Studio verwenden, kann die Umgebung in Ihrem Projekt debugprofile konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="9921a-122">If you're using Visual Studio, the environment can be configured in your project's debug profiles.</span></span> <span data-ttu-id="9921a-123">Debuggen Sie Profile angeben der [Server](xref:fundamentals/servers/index) mit, dass beim Starten der Anwendung und alle Umgebungsvariablen festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="9921a-123">Debug profiles specify the [server](xref:fundamentals/servers/index) to use when launching the application and any environment variables to be set.</span></span> <span data-ttu-id="9921a-124">Ihr Projekt kann mehrere debugprofile verfügen, die Umgebungsvariablen anders festgelegt.</span><span class="sxs-lookup"><span data-stu-id="9921a-124">Your project can have multiple debug profiles that set environment variables differently.</span></span> <span data-ttu-id="9921a-125">Sie verwalten diese Profile mit den **Debuggen** auf der Registerkarte des Webanwendungsprojekts **Eigenschaften** Menü.</span><span class="sxs-lookup"><span data-stu-id="9921a-125">You manage these profiles by using the **Debug** tab of your web application project's **Properties** menu.</span></span> <span data-ttu-id="9921a-126">Die Werte, die Sie in den Projekteigenschaften festlegen, werden beibehalten, der *launchSettings.json* -Datei, und Sie können auch Profile durch Konfigurieren dieser Datei direkt bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="9921a-126">The values you set in project properties are persisted in the *launchSettings.json* file, and you can also configure profiles by editing that file directly.</span></span>

<span data-ttu-id="9921a-127">Das Profil für IIS Express wird hier gezeigt:</span><span class="sxs-lookup"><span data-stu-id="9921a-127">The profile for IIS Express is shown here:</span></span>

![Projekt Umgebungsvariablen Eigenschaften festlegen](environments/_static/project-properties-debug.png)

<span data-ttu-id="9921a-129">Hier ist ein `launchSettings.json` -Datei, Profile für umfasst `Development` und `Staging`:</span><span class="sxs-lookup"><span data-stu-id="9921a-129">Here is a `launchSettings.json` file that includes profiles for `Development` and `Staging`:</span></span>

[!code-json[Main](../fundamentals/environments/sample/src/Environments/Properties/launchSettings.json?highlight=15,22)]

<span data-ttu-id="9921a-130">Änderungen an Projekt Profile möglicherweise nicht wirksam erst nach dem Neustart des Servers verwendet wird (insbesondere Kestrel muss neu gestartet werden, bevor es an ihre Umgebung vorgenommenen Änderungen erkannt werden).</span><span class="sxs-lookup"><span data-stu-id="9921a-130">Changes made to project profiles may not take effect until the web server used is restarted (in particular, Kestrel must be restarted before it will detect changes made to its environment).</span></span>

>[!WARNING]
> <span data-ttu-id="9921a-131">In Umgebungsvariablen gespeichert *launchSettings.json* nicht in keiner Weise gesichert werden und werden Teil der Quellcoderepository für Ihr Projekt aus, wenn Sie einen.</span><span class="sxs-lookup"><span data-stu-id="9921a-131">Environment variables stored in *launchSettings.json* are not secured in any way and will be part of the source code repository for your project, if you use one.</span></span> <span data-ttu-id="9921a-132">**Nie Anmeldeinformationen oder anderen vertraulichen Daten in dieser Datei gespeichert werden.**</span><span class="sxs-lookup"><span data-stu-id="9921a-132">**Never store credentials or other secret data in this file.**</span></span> <span data-ttu-id="9921a-133">Wenn Sie solche Daten speichern möchten, verwenden die *geheimen Manager* Tool beschrieben, [sichere Speicherung von app-Kennwörter während der Entwicklung](xref:security/app-secrets).</span><span class="sxs-lookup"><span data-stu-id="9921a-133">If you need a place to store such data, use the *Secret Manager* tool described in [Safe storage of app secrets during development](xref:security/app-secrets).</span></span>

### <a name="staging"></a><span data-ttu-id="9921a-134">Staging</span><span class="sxs-lookup"><span data-stu-id="9921a-134">Staging</span></span>

<span data-ttu-id="9921a-135">Gemäß der Konvention eine `Staging` Umgebung ist ein Pre-Production-Umgebung für die letzten Test-, vor der Bereitstellung bis hin zur Produktion verwendet.</span><span class="sxs-lookup"><span data-stu-id="9921a-135">By convention, a `Staging` environment is a pre-production environment used for final testing before deployment to production.</span></span> <span data-ttu-id="9921a-136">Im Idealfall sollte die physischen Merkmale der Produktion spiegeln, damit alle Probleme, die auftreten können, in der Produktion zuerst in der Stagingumgebung auftreten, in denen sie ohne Auswirkungen auf Benutzer behandelt werden können.</span><span class="sxs-lookup"><span data-stu-id="9921a-136">Ideally, its physical characteristics should mirror that of production, so that any issues that may arise in production occur first in the staging environment, where they can be addressed without impact to users.</span></span>

### <a name="production"></a><span data-ttu-id="9921a-137">Produktion</span><span class="sxs-lookup"><span data-stu-id="9921a-137">Production</span></span>

<span data-ttu-id="9921a-138">Die `Production` Umgebung ist die Umgebung, in dem die Anwendung ausgeführt wird, wenn es aktiv ist, und von Endbenutzern verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9921a-138">The `Production` environment is the environment in which the application runs when it is live and being used by end users.</span></span> <span data-ttu-id="9921a-139">Diese Umgebung sollte konfiguriert werden, um Sicherheit, Leistung und Stabilität der Anwendung zu maximieren.</span><span class="sxs-lookup"><span data-stu-id="9921a-139">This environment should be configured to maximize security, performance, and application robustness.</span></span> <span data-ttu-id="9921a-140">Einige allgemeinen Einstellungen, die möglicherweise von eine produktiven Umgebung, die von der Entwicklung unterscheiden würde gehören:</span><span class="sxs-lookup"><span data-stu-id="9921a-140">Some common settings that a production environment might have that would differ from development include:</span></span>

* <span data-ttu-id="9921a-141">Aktivieren Sie das Zwischenspeichern</span><span class="sxs-lookup"><span data-stu-id="9921a-141">Turn on caching</span></span>

* <span data-ttu-id="9921a-142">Sicherstellen, dass alle Ressourcen für die clientseitige gebündelt, verkleinert und potenziell von einem CDN bedient.</span><span class="sxs-lookup"><span data-stu-id="9921a-142">Ensure all client-side resources are bundled, minified, and potentially served from a CDN</span></span>

* <span data-ttu-id="9921a-143">Diagnose ErrorPages deaktivieren</span><span class="sxs-lookup"><span data-stu-id="9921a-143">Turn off diagnostic ErrorPages</span></span>

* <span data-ttu-id="9921a-144">Angezeigter Fehlerseiten aktivieren</span><span class="sxs-lookup"><span data-stu-id="9921a-144">Turn on friendly error pages</span></span>

* <span data-ttu-id="9921a-145">Produktion Protokollierung und Überwachung zu aktivieren (z. B. [Application Insights](https://azure.microsoft.com/documentation/articles/app-insights-asp-net-five/))</span><span class="sxs-lookup"><span data-stu-id="9921a-145">Enable production logging and monitoring (for example, [Application Insights](https://azure.microsoft.com/documentation/articles/app-insights-asp-net-five/))</span></span>

<span data-ttu-id="9921a-146">Dies ist keine soll eine vollständige Liste sein.</span><span class="sxs-lookup"><span data-stu-id="9921a-146">This is by no means meant to be a complete list.</span></span> <span data-ttu-id="9921a-147">Es wird empfohlen, um zu vermeiden, Streuung Umgebung Überprüfungen in vielen Teilen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9921a-147">It's best to avoid scattering environment checks in many parts of your application.</span></span> <span data-ttu-id="9921a-148">Stattdessen wird empfohlen, diese Prüfungen innerhalb der Anwendungsverzeichnis durchzuführen `Startup` Klasse(n) möglichst</span><span class="sxs-lookup"><span data-stu-id="9921a-148">Instead, the recommended approach is to perform such checks within the application's `Startup` class(es) wherever possible</span></span>

## <a name="setting-the-environment"></a><span data-ttu-id="9921a-149">Einrichten der Umgebung</span><span class="sxs-lookup"><span data-stu-id="9921a-149">Setting the environment</span></span>

<span data-ttu-id="9921a-150">Die Methode zum Festlegen der umgebungs hängt vom Betriebssystem ab.</span><span class="sxs-lookup"><span data-stu-id="9921a-150">The method for setting the environment depends on the operating system.</span></span>

### <a name="windows"></a><span data-ttu-id="9921a-151">Windows</span><span class="sxs-lookup"><span data-stu-id="9921a-151">Windows</span></span>
<span data-ttu-id="9921a-152">Festlegen der `ASPNETCORE_ENVIRONMENT` für die aktuelle Sitzung, wenn die app gestartet wird mit `dotnet run`, werden die folgenden Befehle verwendet.</span><span class="sxs-lookup"><span data-stu-id="9921a-152">To set the `ASPNETCORE_ENVIRONMENT` for the current session, if the app is started using `dotnet run`, the following commands are used</span></span>

<span data-ttu-id="9921a-153">**Befehlszeile**</span><span class="sxs-lookup"><span data-stu-id="9921a-153">**Command line**</span></span>
```
set ASPNETCORE_ENVIRONMENT=Development
```
<span data-ttu-id="9921a-154">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="9921a-154">**PowerShell**</span></span>
```
$Env:ASPNETCORE_ENVIRONMENT = "Development"
```

<span data-ttu-id="9921a-155">Diese Befehle wirksam, nur für das aktuelle Fenster.</span><span class="sxs-lookup"><span data-stu-id="9921a-155">These commands take effect only for the current window.</span></span> <span data-ttu-id="9921a-156">Wenn das Fenster geschlossen wird, wird die ASPNETCORE_ENVIRONMENT-Einstellung in der Standardeinstellung oder Computer Wert wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="9921a-156">When the window is closed, the ASPNETCORE_ENVIRONMENT setting reverts to the default setting or machine value.</span></span> <span data-ttu-id="9921a-157">Um den Wert global beim Öffnen von Windows Festlegen der **Systemsteuerung** > **System** > **Erweiterte Systemeinstellungen** und hinzufügen oder Bearbeiten der `ASPNETCORE_ENVIRONMENT` Wert.</span><span class="sxs-lookup"><span data-stu-id="9921a-157">In order to set the value globally on Windows open the **Control Panel** > **System** > **Advanced system settings** and add or edit the `ASPNETCORE_ENVIRONMENT` value.</span></span>

![Erweiterte Eigenschaften System](environments/_static/systemsetting_environment.png)

![ASPNET-Core-Umgebungsvariable](environments/_static/windows_aspnetcore_environment.png) 

<span data-ttu-id="9921a-160">**"Web.config"**</span><span class="sxs-lookup"><span data-stu-id="9921a-160">**web.config**</span></span>

<span data-ttu-id="9921a-161">Finden Sie unter der *Einstellungsumgebungsvariablen* Teil der [Konfigurationsverweis ASP.NET Core-Modul](xref:hosting/aspnet-core-module#setting-environment-variables) Thema.</span><span class="sxs-lookup"><span data-stu-id="9921a-161">See the *Setting environment variables* section of the [ASP.NET Core Module configuration reference](xref:hosting/aspnet-core-module#setting-environment-variables) topic.</span></span>

<span data-ttu-id="9921a-162">**Pro IIS-Anwendungspool**</span><span class="sxs-lookup"><span data-stu-id="9921a-162">**Per IIS Application Pool**</span></span>

<span data-ttu-id="9921a-163">Wenn Sie Umgebungsvariablen für einzelne Apps festlegen müssen, die in isolierten Anwendungspools ausgeführt werden (unterstützt für IIS 10.0 und höher), finden Sie weitere Informationen im Abschnitt zum *Befehl „AppCmd.exe“* im Thema [Umgebungsvariablen \< EnvironmentVariables >](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) in der IIS-Referenzdokumentation.</span><span class="sxs-lookup"><span data-stu-id="9921a-163">If you need to set environment variables for individual apps running in isolated Application Pools (supported on IIS 10.0+), see the *AppCmd.exe command* section of the [Environment Variables \<environmentVariables>](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

### <a name="macos"></a><span data-ttu-id="9921a-164">MacOS</span><span class="sxs-lookup"><span data-stu-id="9921a-164">macOS</span></span>
<span data-ttu-id="9921a-165">Festlegen der aktuellen Umgebung für MacOS kann Inline erfolgen, wenn die Anwendung ausgeführt;</span><span class="sxs-lookup"><span data-stu-id="9921a-165">Setting the current environment for macOS can be done in-line when running the application;</span></span>

```bash
ASPNETCORE_ENVIRONMENT=Development dotnet run
```
<span data-ttu-id="9921a-166">oder `export` vor dem Ausführen der app festlegen.</span><span class="sxs-lookup"><span data-stu-id="9921a-166">or using `export` to set it prior to running the app.</span></span>

```bash
export ASPNETCORE_ENVIRONMENT=Development
``` 
<span data-ttu-id="9921a-167">Level-Umgebungsvariablen festgelegt sind, der *.bashrc* oder *.bash_profile* Datei.</span><span class="sxs-lookup"><span data-stu-id="9921a-167">Machine level environment variables are set in the *.bashrc*  or *.bash_profile* file.</span></span> <span data-ttu-id="9921a-168">Bearbeiten Sie die Datei mit einem beliebigen Texteditor, und fügen Sie die folgende Anweisung hinzu.</span><span class="sxs-lookup"><span data-stu-id="9921a-168">Edit the file using any text editor and add the following statment.</span></span>

```
export ASPNETCORE_ENVIRONMENT=Development
```  

### <a name="linux"></a><span data-ttu-id="9921a-169">Linux</span><span class="sxs-lookup"><span data-stu-id="9921a-169">Linux</span></span>
<span data-ttu-id="9921a-170">Verwenden Sie für Linux-Distributionen der `export` -Befehl an der Befehlszeile für variableneinstellungen sitzungsbasierte und *Bash_profile* -Datei für Computer auf umgebungseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="9921a-170">For Linux distros, use the `export` command at the command line for session based variable settings and *bash_profile* file for machine level environment settings.</span></span>

## <a name="determining-the-environment-at-runtime"></a><span data-ttu-id="9921a-171">Bestimmen die Umgebung zur Laufzeit</span><span class="sxs-lookup"><span data-stu-id="9921a-171">Determining the environment at runtime</span></span>

<span data-ttu-id="9921a-172">Die `IHostingEnvironment` Service bietet die Core-Abstraktion für die Arbeit mit Umgebungen.</span><span class="sxs-lookup"><span data-stu-id="9921a-172">The `IHostingEnvironment` service provides the core abstraction for working with environments.</span></span> <span data-ttu-id="9921a-173">Dieser Dienst ist von ASP.NET gehostet Ebene, und können eingegeben werden, in die Startlogik über [Abhängigkeitsinjektion](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="9921a-173">This service is provided by the ASP.NET hosting layer, and can be injected into your startup logic via [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="9921a-174">Die ASP.NET Core-Website-Vorlage in Visual Studio verwendet diesen Ansatz, umgebungsspezifische Konfigurationsdateien (falls vorhanden) geladen und fehlerbehandlungseinstellungen für die app anpassen.</span><span class="sxs-lookup"><span data-stu-id="9921a-174">The ASP.NET Core web site template in Visual Studio uses this approach to load environment-specific configuration files (if present) and to customize the app's error handling settings.</span></span> <span data-ttu-id="9921a-175">In beiden Fällen erfolgt durch einen Verweis auf die aktuell angegebenen Umgebung durch Aufrufen dieses Verhalten `EnvironmentName` oder `IsEnvironment` für die Instanz von `IHostingEnvironment` an die entsprechende Methode übergeben.</span><span class="sxs-lookup"><span data-stu-id="9921a-175">In both cases, this behavior is achieved by referring to the currently specified environment by calling `EnvironmentName` or `IsEnvironment` on the instance of `IHostingEnvironment` passed into the appropriate method.</span></span>

> [!NOTE]
> <span data-ttu-id="9921a-176">Wenn Sie überprüfen, ob die Anwendung, in einer bestimmten Umgebung verwenden ausgeführt wird müssen `env.IsEnvironment("environmentname")` , da er ordnungsgemäß Groß-und Kleinschreibung wird (statt überprüft, ob `env.EnvironmentName == "Development"` z. B.).</span><span class="sxs-lookup"><span data-stu-id="9921a-176">If you need to check whether the application is running in a particular environment, use `env.IsEnvironment("environmentname")` since it will correctly ignore case (instead of checking if `env.EnvironmentName == "Development"` for example).</span></span>

<span data-ttu-id="9921a-177">Z. B. können den folgenden Code in der Methode konfigurieren Sie beim Einrichten der Umgebung bestimmte Fehlerbehandlung:</span><span class="sxs-lookup"><span data-stu-id="9921a-177">For example, you can use the following code in your Configure method to setup environment specific error handling:</span></span>

[!code-csharp[Main](environments/sample/src/Environments/Startup.cs?range=19-30)]

<span data-ttu-id="9921a-178">Wenn die app, in ausgeführt wird einer `Development` Umgebung, und es ermöglicht die Common Language Runtime-Unterstützung erforderlich ist, verwenden Sie die Funktion "BrowserLink" in Visual Studio, die Entwicklung-spezifische Fehlerseiten (die in der Regel nicht in der produktionsumgebung ausgeführt werden soll) und die spezielle Datenbank mit dem Fehler Seiten, die (der bieten eine Möglichkeit zum Anwenden von Migrationen und sollte daher nur in der Entwicklung verwendet werden).</span><span class="sxs-lookup"><span data-stu-id="9921a-178">If the app is running in a `Development` environment, then it enables the runtime support necessary to use the "BrowserLink" feature in Visual Studio, development-specific error pages (which typically should not be run in production) and special database error pages (which provide a way to apply migrations and should therefore only be used in development).</span></span> <span data-ttu-id="9921a-179">Andernfalls, wenn die app nicht in einer Entwicklungsumgebung ausgeführt wird, ist eine Standard-Fehlerbehandlung Seite konfiguriert als Antwort auf nicht behandelten Ausnahmen angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="9921a-179">Otherwise, if the app is not running in a development environment, a standard error handling page is configured to be displayed in response to any unhandled exceptions.</span></span>

<span data-ttu-id="9921a-180">Sie müssen, um zu bestimmen, welche Inhalte an den Client zur Laufzeit, abhängig von der aktuellen Umgebung zu senden.</span><span class="sxs-lookup"><span data-stu-id="9921a-180">You may need to determine which content to send to the client at runtime, depending on the current environment.</span></span> <span data-ttu-id="9921a-181">Beispielsweise dienen in einer Entwicklungsumgebung Sie im Allgemeinen nicht minimiert, Skripts und Stylesheets verwendet, wodurch das debugging erleichtern.</span><span class="sxs-lookup"><span data-stu-id="9921a-181">For example, in a development environment you generally serve non-minimized scripts and style sheets, which makes debugging easier.</span></span> <span data-ttu-id="9921a-182">Produktions- und Testcomputer-Umgebungen sollten die verkleinerte Versionen dienen und in der Regel aus einem CDN.</span><span class="sxs-lookup"><span data-stu-id="9921a-182">Production and test environments should serve the minified versions and generally from a CDN.</span></span> <span data-ttu-id="9921a-183">Hierzu können Sie mithilfe der Umgebung [tag Helper](../mvc/views/tag-helpers/intro.md).</span><span class="sxs-lookup"><span data-stu-id="9921a-183">You can do this using the Environment [tag helper](../mvc/views/tag-helpers/intro.md).</span></span> <span data-ttu-id="9921a-184">Die Umgebung Tags Hilfsprogramm nur seinen Inhalt gerendert, wenn die aktuelle Umgebung mit einer von Umgebungen mit angegebenen entspricht der `names` Attribut.</span><span class="sxs-lookup"><span data-stu-id="9921a-184">The Environment tag helper will only render its contents if the current environment matches one of the environments specified using the `names` attribute.</span></span>

[!code-html[Main](environments/sample/src/Environments/Views/Shared/_Layout.cshtml?range=13-22)]

<span data-ttu-id="9921a-185">Um die ersten Schritte mit der Tag-Hilfsprogramme in Ihrer Anwendung finden Sie unter [Einführung in die Tag-Hilfsprogrammen](../mvc/views/tag-helpers/intro.md).</span><span class="sxs-lookup"><span data-stu-id="9921a-185">To get started with using tag helpers in your application see [Introduction to Tag Helpers](../mvc/views/tag-helpers/intro.md).</span></span>

## <a name="startup-conventions"></a><span data-ttu-id="9921a-186">Start-Konventionen</span><span class="sxs-lookup"><span data-stu-id="9921a-186">Startup conventions</span></span>

<span data-ttu-id="9921a-187">ASP.NET Core unterstützt einen Konvention basierenden Ansatz zum Konfigurieren einer Anwendung starten, die basierend auf der aktuellen Umgebung.</span><span class="sxs-lookup"><span data-stu-id="9921a-187">ASP.NET Core supports a convention-based approach to configuring an application's startup based on the current environment.</span></span> <span data-ttu-id="9921a-188">Sie können auch programmgesteuert steuern, wie Ihre Anwendung verhält sich entsprechend, welcher Umgebung, wird Ihnen das Erstellen und verwalten Ihren eigenen Konventionen ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="9921a-188">You can also programmatically control how your application behaves according to which environment it is in, allowing you to create and manage your own conventions.</span></span>

<span data-ttu-id="9921a-189">Wenn eine ASP.NET Core-Anwendung gestartet wird, die `Startup` Klasse wird verwendet, um das Bootstrapping der Anwendung an, und Laden ihre Konfigurationseinstellungen usw. ([erfahren Sie mehr über ASP.NET Start](startup.md)).</span><span class="sxs-lookup"><span data-stu-id="9921a-189">When an ASP.NET Core application starts, the `Startup` class is used to bootstrap the application, load its configuration settings, etc. ([learn more about ASP.NET startup](startup.md)).</span></span> <span data-ttu-id="9921a-190">Jedoch ggf. eine Klasse mit dem Namen `Startup{EnvironmentName}` (z. B. `StartupDevelopment`), und die `ASPNETCORE_ENVIRONMENT` Umgebungsvariablen übereinstimmt, diesen Namen, und klicken Sie dann, `Startup` Klasse dient.</span><span class="sxs-lookup"><span data-stu-id="9921a-190">However, if a class exists named `Startup{EnvironmentName}` (for example `StartupDevelopment`), and the `ASPNETCORE_ENVIRONMENT` environment variable matches that name, then that `Startup` class is used instead.</span></span> <span data-ttu-id="9921a-191">Sie könnten daher festlegen `Startup` für die Entwicklung, bieten jedoch eine Separate `StartupProduction` , die beim Ausführen der app in der Produktion verwendet werden würde.</span><span class="sxs-lookup"><span data-stu-id="9921a-191">Thus, you could configure `Startup` for development, but have a separate `StartupProduction` that would be used when the app is run in production.</span></span> <span data-ttu-id="9921a-192">Oder umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="9921a-192">Or vice versa.</span></span>

> [!NOTE]
> <span data-ttu-id="9921a-193">Aufrufen von `WebHostBuilder.UseStartup<TStartup>()` Konfigurationsabschnitte überschreibt.</span><span class="sxs-lookup"><span data-stu-id="9921a-193">Calling `WebHostBuilder.UseStartup<TStartup>()` overrides configuration sections.</span></span>

<span data-ttu-id="9921a-194">Zusätzlich zur Verwendung einer vollständig separaten `Startup` -Klasse auf Grundlage der aktuellen Umgebung möglich auch Anpassungen an der Konfiguration der Anwendung innerhalb einer `Startup` Klasse.</span><span class="sxs-lookup"><span data-stu-id="9921a-194">In addition to using an entirely separate `Startup` class based on the current environment, you can also make adjustments to how the application is configured within a `Startup` class.</span></span> <span data-ttu-id="9921a-195">Die `Configure()` und `ConfigureServices()` Methoden unterstützen umgebungsspezifische Versionen ähnelt der `Startup` selbst dar, der das Formular `Configure{EnvironmentName}()` und `Configure{EnvironmentName}Services()`.</span><span class="sxs-lookup"><span data-stu-id="9921a-195">The `Configure()` and `ConfigureServices()` methods support environment-specific versions similar to the `Startup` class itself, of the form `Configure{EnvironmentName}()` and `Configure{EnvironmentName}Services()`.</span></span> <span data-ttu-id="9921a-196">Wenn Sie eine Methode definieren `ConfigureDevelopment()` wird anstelle von heißen `Configure()` Wenn die Umgebung auf Development festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="9921a-196">If you define a method `ConfigureDevelopment()` it will be called instead of `Configure()` when the environment is set to development.</span></span> <span data-ttu-id="9921a-197">Ebenso `ConfigureDevelopmentServices()` würde aufgerufen werden, anstelle von `ConfigureServices()` in derselben Umgebung.</span><span class="sxs-lookup"><span data-stu-id="9921a-197">Likewise, `ConfigureDevelopmentServices()` would be called instead of `ConfigureServices()` in the same environment.</span></span>

## <a name="summary"></a><span data-ttu-id="9921a-198">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="9921a-198">Summary</span></span>

<span data-ttu-id="9921a-199">ASP.NET Core bietet eine Reihe von Features und Konventionen, mit denen Entwickler auf einfache Weise zu steuern, wie ihre Anwendungen in verschiedenen Umgebungen Verhalten.</span><span class="sxs-lookup"><span data-stu-id="9921a-199">ASP.NET Core provides a number of features and conventions that allow developers to easily control how their applications behave in different environments.</span></span> <span data-ttu-id="9921a-200">Beim Veröffentlichen einer Anwendung von der Entwicklung in die Stagingumgebung bis hin zur Produktion Umgebungsvariablen festgelegt entsprechend für die Umgebung Optimierung ermöglicht der Anwendung für die Verwendung von Debuggen, testen oder zur Produktion, nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="9921a-200">When publishing an application from development to staging to production, environment variables set appropriately for the environment allow for optimization of the application for debugging, testing, or production use, as appropriate.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="9921a-201">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="9921a-201">Additional Resources</span></span>

* [<span data-ttu-id="9921a-202">Konfiguration</span><span class="sxs-lookup"><span data-stu-id="9921a-202">Configuration</span></span>](xref:fundamentals/configuration/index)

* [<span data-ttu-id="9921a-203">Einführung in Taghilfsprogramme</span><span class="sxs-lookup"><span data-stu-id="9921a-203">Introduction to Tag Helpers</span></span>](../mvc/views/tag-helpers/intro.md)
