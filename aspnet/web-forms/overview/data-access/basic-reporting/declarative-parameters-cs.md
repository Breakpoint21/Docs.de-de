---
uid: web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
title: Deklarative Parametern (c#) | Microsoft Docs
author: rick-anderson
description: In diesem Lernprogramm wird dies wie einen auf einen hartcodierten Wert festgelegten Parameter zur Auswahl der Daten in einem DetailsView-Steuerelement angezeigt veranschaulicht.
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 603c9bd3-b895-4ec6-853b-0c81ff36d580
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
msc.type: authoredcontent
ms.openlocfilehash: 840630852d28f49f4f4387f1d2cc6b275b468fc2
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
ms.locfileid: "30875938"
---
<a name="declarative-parameters-c"></a><span data-ttu-id="ccfd3-103">Deklarative Parametern (c#)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-103">Declarative Parameters (C#)</span></span>
====================
<span data-ttu-id="ccfd3-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ccfd3-105">[Beispiel-App herunterladen](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) oder [PDF herunterladen](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) or [Download PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span></span>

> <span data-ttu-id="ccfd3-106">In diesem Lernprogramm wird dies wie einen auf einen hartcodierten Wert festgelegten Parameter zur Auswahl der Daten in einem DetailsView-Steuerelement angezeigt veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-106">In this tutorial we'll illustrate how to use a parameter set to a hard-coded value to select the data to display in a DetailsView control.</span></span>


## <a name="introduction"></a><span data-ttu-id="ccfd3-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="ccfd3-107">Introduction</span></span>

<span data-ttu-id="ccfd3-108">In der [letzten Lernprogramm](displaying-data-with-the-objectdatasource-cs.md) erläutert, Anzeigen von Daten mit den GridView, DetailsView und FormView-Steuerelementen, die an einem ObjectDataSource-Steuerelement, das aufgerufen gebunden der `GetProducts()` Methode aus der `ProductsBLL` Klasse.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-108">In the [last tutorial](displaying-data-with-the-objectdatasource-cs.md) we looked at displaying data with the GridView, DetailsView, and FormView controls bound to an ObjectDataSource control that invoked the `GetProducts()` method from the `ProductsBLL` class.</span></span> <span data-ttu-id="ccfd3-109">Die `GetProducts()` Methodenrückgabe eine stark typisierten "DataTable" mit der alle Datensätze aus der Northwind-Datenbank aufgefüllt `Products` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-109">The `GetProducts()` method returns a strongly-typed DataTable populated with all of the records from the Northwind database's `Products` table.</span></span> <span data-ttu-id="ccfd3-110">Die `ProductsBLL` Klasse enthält zusätzliche Methoden für die Rückgabe einfach Teilmengen der Produkte - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, und `GetProductsBySupplierID(supplierID)`.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-110">The `ProductsBLL` class contains additional methods for returning just subsets of the products - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, and `GetProductsBySupplierID(supplierID)`.</span></span> <span data-ttu-id="ccfd3-111">Diese drei Methoden erwarten, dass einen Eingabeparameter, der angibt, wie die zurückgegebenen Produktinformationen gefiltert.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-111">These three methods expect an input parameter indicating how to filter the returned product information.</span></span>

<span data-ttu-id="ccfd3-112">Das ObjectDataSource kann verwendet werden, zum Aufrufen von Methoden, die Eingabeparameter erwartet, jedoch zu diesem Zweck müssen wir angeben, woher die Werte für diese Parameter aus.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-112">The ObjectDataSource can be used to invoke methods that expect input parameters, but in order to do so we must specify where the values for these parameters come from.</span></span> <span data-ttu-id="ccfd3-113">Die Parameterwerte können Programmcode oder stammen aus einer Vielzahl von dynamischen Quellen, einschließlich: Querystring-Werte, Sitzungsvariablen, Wert der Eigenschaft für ein Websteuerelement auf der Seite oder andere.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-113">The parameter values can be hard-coded or can come from a variety of dynamic sources, including: querystring values, Session variables, the property value of a Web control on the page, or others.</span></span>

<span data-ttu-id="ccfd3-114">Für dieses Lernprogramm beginnen wir mit zeigen, wie Sie mithilfe eines Parameters, der auf einen hartcodierten Wert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-114">For this tutorial let's start by illustrating how to use a parameter set to a hard-coded value.</span></span> <span data-ttu-id="ccfd3-115">Genauer gesagt betrachten wir eine DetailsView hinzufügen, auf der Seite mit Informationen zu einem bestimmten Produkt, nämlich Chef Anton's Gumbo Mix, besitzt eine `ProductID` von 5.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-115">Specifically, we'll look at adding a DetailsView to the page that displays information about a specific product, namely Chef Anton's Gumbo Mix, which has a `ProductID` of 5.</span></span> <span data-ttu-id="ccfd3-116">Als Nächstes sehen wir wie den Parameterwert basierend auf einem Webserver-Steuerelement festlegen.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-116">Next, we'll see how to set the parameter value based on a Web control.</span></span> <span data-ttu-id="ccfd3-117">Insbesondere verwenden wir ein Textfeld, damit der Benutzer, die in einem Land, geben Sie nach dem sie eine Schaltfläche, um die Liste der Lieferanten anzuzeigen, die in diesem Land befinden klicken können.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-117">In particular, we'll use a TextBox to let the user type in a country, after which they can click a Button to see the list of suppliers that reside in that country.</span></span>

## <a name="using-a-hard-coded-parameter-value"></a><span data-ttu-id="ccfd3-118">Verwenden einen hartcodierten Parameterwert</span><span class="sxs-lookup"><span data-stu-id="ccfd3-118">Using a Hard-Coded Parameter Value</span></span>

<span data-ttu-id="ccfd3-119">Starten Sie für das erste Beispiel durch Hinzufügen eines DetailsView-Steuerelements, zu der `DeclarativeParams.aspx` auf der Seite der `BasicReporting` Ordner.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-119">For the first example, start by adding a DetailsView control to the `DeclarativeParams.aspx` page in the `BasicReporting` folder.</span></span> <span data-ttu-id="ccfd3-120">Wählen Sie in der DetailsView Smarttag &lt;neue Datenquelle&gt; aus der Dropdownliste aus, und wählen Sie ein ObjectDataSource hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-120">From the DetailsView's smart tag, select &lt;New data source&gt; from the drop-down list and choose to add an ObjectDataSource.</span></span>


<span data-ttu-id="ccfd3-121">[![Hinzufügen von einem ObjectDataSource auf der Seite "](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-121">[![Add an ObjectDataSource to the Page](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span></span>

<span data-ttu-id="ccfd3-122">**Abbildung 1**: Hinzufügen von einem ObjectDataSource zur Seite ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-122">**Figure 1**: Add an ObjectDataSource to the Page ([Click to view full-size image](declarative-parameters-cs/_static/image3.png))</span></span>


<span data-ttu-id="ccfd3-123">Dadurch wird automatisch das ObjectDataSource-Steuerelement-Datenquelle auswählen-Assistent gestartet.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-123">This will automatically start the ObjectDataSource control's Choose Data Source wizard.</span></span> <span data-ttu-id="ccfd3-124">Wählen Sie die `ProductsBLL` Klasse aus dem ersten Bildschirm des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-124">Select the `ProductsBLL` class from the first screen of the wizard.</span></span>


<span data-ttu-id="ccfd3-125">[![Wählen Sie die ProductsBLL-Klasse](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-125">[![Select the ProductsBLL Class](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span></span>

<span data-ttu-id="ccfd3-126">**Abbildung 2**: Wählen Sie die `ProductsBLL` Klasse ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-126">**Figure 2**: Select the `ProductsBLL` Class ([Click to view full-size image](declarative-parameters-cs/_static/image6.png))</span></span>


<span data-ttu-id="ccfd3-127">Da es Informationen über ein bestimmtes Produkt angezeigt werden soll, die wir verwenden möchten die `GetProductByProductID(productID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-127">Since we want to display information about a particular product we want to use the `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="ccfd3-128">[![Wählen Sie die GetProductByProductID(productID)-Methode](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-128">[![Choose the GetProductByProductID(productID) method](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span></span>

<span data-ttu-id="ccfd3-129">**Abbildung 3**: Wählen Sie die `GetProductByProductID(productID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-129">**Figure 3**: Choose the `GetProductByProductID(productID)` method ([Click to view full-size image](declarative-parameters-cs/_static/image9.png))</span></span>


<span data-ttu-id="ccfd3-130">Da die Methode, die wir ausgewählt einen Parameter enthält, besteht eine weitere Bildschirm für die Assistenten, in dem wir gefragt werden, definieren Sie den Wert für den Parameter verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-130">Since the method we selected includes a parameter, there's one more screen for the wizard, where we're asked to define the value to be used for the parameter.</span></span> <span data-ttu-id="ccfd3-131">Die Liste auf der linken Seite zeigt alle Parameter für die ausgewählte Methode.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-131">The list on the left shows all of the parameters for the selected method.</span></span> <span data-ttu-id="ccfd3-132">Für `GetProductByProductID(productID)` ist nur ein `productID`.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-132">For `GetProductByProductID(productID)` there's only one `productID`.</span></span> <span data-ttu-id="ccfd3-133">Auf der rechten Seite können wir den Wert für den ausgewählten Parameter angeben.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-133">On the right we can specify the value for the selected parameter.</span></span> <span data-ttu-id="ccfd3-134">Der Parameter Quelle Dropdown-Liste zählt die verschiedenen möglichen Quellen für den Parameterwert.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-134">The parameter source drop-down list enumerates the various possible sources for the parameter value.</span></span> <span data-ttu-id="ccfd3-135">Da wir den hartcodierten Wert 5 für angeben möchten die `productID` Parameter, lassen Sie die Parameter-Quelle als None, und geben Sie 5 in das Textfeld "DefaultValue".</span><span class="sxs-lookup"><span data-stu-id="ccfd3-135">Since we want to specify a hard-coded value of 5 for the `productID` parameter, leave the Parameter source as None and enter 5 into the DefaultValue textbox.</span></span>


<span data-ttu-id="ccfd3-136">[![Eine Hard-Coded Parameter-Wert von 5 wird verwendet "ProductID" und Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-136">[![A Hard-Coded Parameter Value of 5 Will Be Used for the productID Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span></span>

<span data-ttu-id="ccfd3-137">**Abbildung 4**: A Hard-Coded Parameter Wert von 5 verwendet für die `productID` Parameter ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-137">**Figure 4**: A Hard-Coded Parameter Value of 5 Will Be Used for the `productID` Parameter ([Click to view full-size image](declarative-parameters-cs/_static/image12.png))</span></span>


<span data-ttu-id="ccfd3-138">Nach Abschluss des Assistenten für die Datenquelle konfigurieren deklaratives Markup für das ObjectDataSource-Steuerelement enthält eine `Parameter` Objekt in der `SelectParameters` Auflistung aller Eingabeparametern, die von der Methode definiert, die der `SelectMethod` Diese Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-138">After completing the Configure Data Source wizard, the ObjectDataSource control's declarative markup includes a `Parameter` object in the `SelectParameters` collection for each of the input parameters expected by the method defined in the `SelectMethod` property.</span></span> <span data-ttu-id="ccfd3-139">Da die Methode, die wir in diesem Beispiel verwenden nur einen einzelnen Eingabeparameter erwartet `parameterID`, hier nur ein Eintrag vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-139">Since the method we're using in this example expects just a single input parameter, `parameterID`, there's only one entry here.</span></span> <span data-ttu-id="ccfd3-140">Die `SelectParameters` Auflistung darf eine beliebige Klasse, abgeleitet wird, die `Parameter` -Klasse in der `System.Web.UI.WebControls` Namespace.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-140">The `SelectParameters` collection can contain any class that derives from the `Parameter` class in the `System.Web.UI.WebControls` namespace.</span></span> <span data-ttu-id="ccfd3-141">Für hartcodierte Parameterwerte in die Basis `Parameter` Klasse wird verwendet, aber für die anderen Parameter Quelle ' Optionen ' ein abgeleiteter `Parameter` Klasse verwendet wird; Sie können auch eigene erstellen [benutzerdefinierte Parametertypen](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), sofern erforderlich.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-141">For hard-coded parameter values the base `Parameter` class is used, but for the other parameter source options a derived `Parameter` class is used; you can also create your own [custom parameter types](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), if needed.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="ccfd3-142">Wenn Sie auf Ihrem eigenen Computer deklarative Markup entlang befolgen daraufhin an diesem Punkt Mai enthalten Werte für die `InsertMethod`, `UpdateMethod`, und `DeleteMethod` Eigenschaften als auch `DeleteParameters`.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-142">If you're following along on your own computer the declarative markup you see at this point may include values for the `InsertMethod`, `UpdateMethod`, and `DeleteMethod` properties, as well as `DeleteParameters`.</span></span> <span data-ttu-id="ccfd3-143">Assistent für das ObjectDataSource-Datenquelle auswählen gibt automatisch an die Methoden aus der `ProductBLL` zum Einfügen, aktualisieren und löschen, einsetzen, wenn Sie die out-explizit deaktiviert sie im obigen Markup enthalten sein müssen.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-143">The ObjectDataSource's Choose Data Source wizard automatically specifies the methods from the `ProductBLL` to use for inserting, updating, and deleting, so unless you explicitly cleared those out, they'll be included in the markup above.</span></span>


<span data-ttu-id="ccfd3-144">Wenn auf dieser Seite besuchen, rufen die Daten Websteuerelement das ObjectDataSource `Select` -Methode, die aufgerufen wird die `ProductsBLL` Klasse `GetProductByProductID(productID)` Methode, die mit den hartcodierten Wert von 5 für die `productID` Eingabeparameter.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-144">When visiting this page, the data Web control will invoke the ObjectDataSource's `Select` method, which will call the `ProductsBLL` class's `GetProductByProductID(productID)` method using the hard-coded value of 5 for the `productID` input parameter.</span></span> <span data-ttu-id="ccfd3-145">Die Methode gibt einen stark typisierten zurück `ProductDataTable` Objekt, das eine einzelne Zeile mit Informationen zu Chef Anton's Gumbo Mix enthält (das Produkt mit `ProductID` 5).</span><span class="sxs-lookup"><span data-stu-id="ccfd3-145">The method will return a strongly-typed `ProductDataTable` object that contains a single row with information about Chef Anton's Gumbo Mix (the product with `ProductID` 5).</span></span>


<span data-ttu-id="ccfd3-146">[![Informationen zu Chef Anton's Gumbo Mix werden angezeigt.](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-146">[![Information About Chef Anton's Gumbo Mix are Displayed](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span></span>

<span data-ttu-id="ccfd3-147">**Abbildung 5**: Es werden Informationen zu Chef Anton's Gumbo Mix angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-147">**Figure 5**: Information About Chef Anton's Gumbo Mix are Displayed ([Click to view full-size image](declarative-parameters-cs/_static/image15.png))</span></span>


## <a name="setting-the-parameter-value-to-the-property-value-of-a-web-control"></a><span data-ttu-id="ccfd3-148">Festlegen des Parameterwerts an den Eigenschaftswert eines Steuerelements Web</span><span class="sxs-lookup"><span data-stu-id="ccfd3-148">Setting the Parameter Value to the Property Value of a Web Control</span></span>

<span data-ttu-id="ccfd3-149">Das ObjectDataSource-Parameter können auch Werte festgelegt werden, basierend auf dem Wert eines Webserver-Steuerelements auf der Seite.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-149">The ObjectDataSource's parameter values can also be set based on the value of a Web control on the page.</span></span> <span data-ttu-id="ccfd3-150">Um dies zu veranschaulichen, lassen Sie uns eine GridView, die alle Lieferanten auflistet, die in einem vom Benutzer angegebene Land befinden.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-150">To illustrate this, let's have a GridView that lists all of the suppliers that are located in a country specified by the user.</span></span> <span data-ttu-id="ccfd3-151">Um ein Textfeld hinzufügen, auf die Seite, in der der Benutzer einen Ländernamen eingeben kann, um starten zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-151">To accomplish this start by adding a TextBox to the page into which the user can enter a country name.</span></span> <span data-ttu-id="ccfd3-152">Legen Sie diese TextBox-Steuerelement `ID` Eigenschaft `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-152">Set this TextBox control's `ID` property to `CountryName`.</span></span> <span data-ttu-id="ccfd3-153">Fügen Sie auch eine Schaltfläche Websteuerelement hinzu.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-153">Also add a Button Web control.</span></span>


<span data-ttu-id="ccfd3-154">[![Fügen Sie ein Textfeld auf der Seite mit der ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-154">[![Add a TextBox to the Page with ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span></span>

<span data-ttu-id="ccfd3-155">**Abbildung 6**: Fügen Sie ein Textfeld auf der Seite mit `ID` `CountryName` ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-155">**Figure 6**: Add a TextBox to the Page with `ID` `CountryName` ([Click to view full-size image](declarative-parameters-cs/_static/image18.png))</span></span>


<span data-ttu-id="ccfd3-156">Als Nächstes fügen Sie eine GridView, zur Seite und aus dem Smarttag Sie wahlweise eine neue ObjectDataSource hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-156">Next, add a GridView to the page and, from the smart tag, choose to add a new ObjectDataSource.</span></span> <span data-ttu-id="ccfd3-157">Da wir Lieferanten Informationen auswählen angezeigt werden soll die `SuppliersBLL` Klasse aus dem ersten Bildschirm des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-157">Since we want to display supplier information select the `SuppliersBLL` class from the wizard's first screen.</span></span> <span data-ttu-id="ccfd3-158">Wählen Sie aus dem zweiten Bildschirm die `GetSuppliersByCountry(country)` Methode.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-158">From the second screen, pick the `GetSuppliersByCountry(country)` method.</span></span>


<span data-ttu-id="ccfd3-159">[![Wählen Sie die GetSuppliersByCountry(country)-Methode](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-159">[![Choose the GetSuppliersByCountry(country) Method](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span></span>

<span data-ttu-id="ccfd3-160">**Abbildung 7**: Wählen Sie die `GetSuppliersByCountry(country)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-160">**Figure 7**: Choose the `GetSuppliersByCountry(country)` Method ([Click to view full-size image](declarative-parameters-cs/_static/image21.png))</span></span>


<span data-ttu-id="ccfd3-161">Da die `GetSuppliersByCountry(country)` Methode verfügt über einen Eingabeparameter, der Assistenten erneut einen abschließenden Bildschirm zum Auswählen der Wert des Parameters enthält.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-161">Since the `GetSuppliersByCountry(country)` method has an input parameter, the wizard once again includes a final screen for choosing the parameter value.</span></span> <span data-ttu-id="ccfd3-162">Legen Sie dieses Mal die Parameterquelle steuern.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-162">This time, set the Parameter source to Control.</span></span> <span data-ttu-id="ccfd3-163">Füllt diese mit den Namen der Steuerelemente auf der Seite in der Dropdownliste ControlID; Wählen Sie die `CountryName` Steuerelement aus der Liste.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-163">This will populate the ControlID drop-down list with the names of the controls on the page; select the `CountryName` control from the list.</span></span> <span data-ttu-id="ccfd3-164">Wenn die Seite zuerst besucht die `CountryName` Textfeld wird leer sein, damit keine Ergebnisse zurückgegeben werden, und es wird nichts angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-164">When the page is first visited the `CountryName` TextBox will be blank, so no results are returned and nothing is displayed.</span></span> <span data-ttu-id="ccfd3-165">Wenn einige Ergebnisse standardmäßig angezeigt werden sollen, wird das Textfeld "DefaultValue" entsprechend festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-165">If you want to display some results by default, set the DefaultValue textbox accordingly.</span></span>


<span data-ttu-id="ccfd3-166">[![Der Wert des Parameters auf den Steuerelementwert CountryName festgelegt](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-166">[![Set the Parameter Value to the CountryName Control Value](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span></span>

<span data-ttu-id="ccfd3-167">**Abbildung 8**: Legen Sie den Parameterwert auf den `CountryName` Steuerelementwert ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-167">**Figure 8**: Set the Parameter Value to the `CountryName` Control Value ([Click to view full-size image](declarative-parameters-cs/_static/image24.png))</span></span>


<span data-ttu-id="ccfd3-168">Das ObjectDataSource deklarative Markup unterscheidet sich geringfügig vom ersten Beispiel mit einer [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) anstelle des `Parameter` Objekt.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-168">The ObjectDataSource's declarative markup differs slightly from our first example, using a [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) instead of the standard `Parameter` object.</span></span> <span data-ttu-id="ccfd3-169">Ein `ControlParameter` verfügt über zusätzliche Eigenschaften zur Angabe der `ID` das Websteuerelement und den Eigenschaftswert angibt, für den Parameter verwendet (`PropertyName`).</span><span class="sxs-lookup"><span data-stu-id="ccfd3-169">A `ControlParameter` has additional properties to specify the `ID` of the Web control and the property value to use for the parameter (`PropertyName`).</span></span> <span data-ttu-id="ccfd3-170">Konfigurieren von Datenquellen-Assistenten wurde intelligent genug, um zu ermitteln, die für ein Textfeld wird wahrscheinlich verwenden möchten die `Text` Eigenschaft für den Parameterwert.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-170">The Configure Data Source wizard was smart enough to determine that, for a TextBox, we'll likely want to use the `Text` property for the parameter value.</span></span> <span data-ttu-id="ccfd3-171">Wenn Sie jedoch einen anderen Eigenschaftswert aus dem Web-Steuerelement verwenden möchten können Sie ändern die `PropertyName` Wert hier oder indem Sie auf den Link "Erweiterte Eigenschaften einblenden" im Assistenten.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-171">If, however, you want to use a different property value from the Web control you can change the `PropertyName` value here or by clicking the "Show advanced properties" link in the wizard.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample2.aspx)]

<span data-ttu-id="ccfd3-172">Wenn Sie die Seite zum ersten Mal besuchen der `CountryName` Textfeld ist leer.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-172">When visiting the page for the first time the `CountryName` TextBox is empty.</span></span> <span data-ttu-id="ccfd3-173">Das ObjectDataSource `Select` Methode wird immer noch aufgerufen, indem die GridView, aber der Wert `null` übergeben wird, in der `GetSuppliersByCountry(country)` Methode.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-173">The ObjectDataSource's `Select` method is still invoked by the GridView, but a value of `null` is passed into the `GetSuppliersByCountry(country)` method.</span></span> <span data-ttu-id="ccfd3-174">TableAdapter konvertiert der `null` in einer Datenbank `NULL` Wert (`DBNull.Value`), aber die Abfrage verwendet werden, indem Sie die `GetSuppliersByCountry(country)` Methode geschrieben wird, dass alle keinen zurückgibt Werte an, wenn eine `NULL` Wert für die angegebenist`@CategoryID`Parameter.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-174">The TableAdapter converts the `null` into a database `NULL` value (`DBNull.Value`), but the query used by the `GetSuppliersByCountry(country)` method is written such that it doesn't return any values when a `NULL` value is specified for the `@CategoryID` parameter.</span></span> <span data-ttu-id="ccfd3-175">Kurz gesagt, werden keine Lieferanten zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-175">In short, no suppliers are returned.</span></span>

<span data-ttu-id="ccfd3-176">Sobald der Besucher jedoch in einem Land eingibt und klickt auf die Schaltfläche anzeigen Lieferanten, um dazu führen, dass ein Postback handeln, das ObjectDataSource `Select` Methode erneut abgefragt, in des TextBox-Steuerelements übergeben `Text` als Wert der `country` Parameter.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-176">Once the visitor enters in a country, however, and clicks the Show Suppliers button to cause a postback, the ObjectDataSource's `Select` method is requeried, passing in the TextBox control's `Text` value as the `country` parameter.</span></span>


<span data-ttu-id="ccfd3-177">[![Diese Lieferanten aus Kanada werden angezeigt.](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-177">[![Those Suppliers from Canada are Shown](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span></span>

<span data-ttu-id="ccfd3-178">**Abbildung 9**: die Lieferanten aus Kanada angezeigt werden ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-178">**Figure 9**: Those Suppliers from Canada are Shown ([Click to view full-size image](declarative-parameters-cs/_static/image27.png))</span></span>


## <a name="showing-all-suppliers-by-default"></a><span data-ttu-id="ccfd3-179">Alle Lieferanten in der Standardeinstellung angezeigt</span><span class="sxs-lookup"><span data-stu-id="ccfd3-179">Showing All Suppliers By Default</span></span>

<span data-ttu-id="ccfd3-180">Stattdessen als keines der Lieferanten anzeigen, wenn die Seite zuerst anzeigen wir möchten möglicherweise *alle* Lieferanten zunächst, sodass der Benutzer zu der Liste nach unten zu kürzen, einen Landesnamen in das Textfeld eingeben.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-180">Rather than show none of the suppliers when first viewing the page we may want to show *all* suppliers at first, allowing the user to pare down the list by entering a country name in the TextBox.</span></span> <span data-ttu-id="ccfd3-181">Wenn das Textfeld leer ist, wird der `SuppliersBLL` Klasse `GetSuppliersByCountry(country)` Methode übergeben eine `null` Wert für seine *`country`* Eingabeparameter.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-181">When the TextBox is empty, the `SuppliersBLL` class's `GetSuppliersByCountry(country)` method is passed in a `null` value for its *`country`* input parameter.</span></span> <span data-ttu-id="ccfd3-182">Dies `null` Wert wird dann nach unten in der DAL übergeben `GetSupplierByCountry(country)` -Methode, in dem er wird in einer Datenbank übersetzt `NULL` Wert für die `@Country` Parameter in der folgenden Abfrage:</span><span class="sxs-lookup"><span data-stu-id="ccfd3-182">This `null` value is then passed down into the DAL's `GetSupplierByCountry(country)` method, where it's translated to a database `NULL` value for the `@Country` parameter in the following query:</span></span>

[!code-sql[Main](declarative-parameters-cs/samples/sample3.sql)]

<span data-ttu-id="ccfd3-183">Der Ausdruck `Country = NULL` immer False zurückgibt, selbst für Datensätze, deren `Country` Spalte hat einen `NULL` Wert; deshalb keine Datensätze zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-183">The expression `Country = NULL` always returns False, even for records whose `Country` column has a `NULL` value; therefore, no records are returned.</span></span>

<span data-ttu-id="ccfd3-184">Zurückzugebenden *alle* Lieferanten, wenn das Land Textfeld leer ist, können wir ergänzen die `GetSuppliersByCountry(country)` Methode in der BLL zum Aufrufen der `GetSuppliers()` Methode, wenn der Country-Parameter ist `null` und zum Aufrufen der DAL `GetSuppliersByCountry(country)` Methode, die andernfalls.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-184">To return *all* suppliers when the country TextBox is empty, we can augment the `GetSuppliersByCountry(country)` method in the BLL to invoke the `GetSuppliers()` method when its country parameter is `null` and to call the DAL's `GetSuppliersByCountry(country)` method otherwise.</span></span> <span data-ttu-id="ccfd3-185">Dies hat den Effekt der alle Lieferanten, wenn keine Land angegeben wird und die entsprechenden Teilmenge der Lieferanten zurückgeben, wenn die Country-Parameter enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-185">This will have the effect of returning all suppliers when no country is specified and the appropriate subset of suppliers when the country parameter is included.</span></span>

<span data-ttu-id="ccfd3-186">Ändern der `GetSuppliersByCountry(country)` Methode in der `SuppliersBLL` Klasse, um die folgenden:</span><span class="sxs-lookup"><span data-stu-id="ccfd3-186">Change the `GetSuppliersByCountry(country)` method in the `SuppliersBLL` class to the following:</span></span>

[!code-csharp[Main](declarative-parameters-cs/samples/sample4.cs)]

<span data-ttu-id="ccfd3-187">Durch diese Änderung der `DeclarativeParams.aspx` Seite zeigt alle Lieferanten beim ersten Mal besucht hat (oder wenn die `CountryName` Textfeld leer ist).</span><span class="sxs-lookup"><span data-stu-id="ccfd3-187">With this change the `DeclarativeParams.aspx` page shows all of the suppliers when first visited (or whenever the `CountryName` TextBox is empty).</span></span>


<span data-ttu-id="ccfd3-188">[![Alle Lieferanten sind jetzt standardmäßig angezeigt.](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-188">[![All Suppliers are Now Shown by Default](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span></span>

<span data-ttu-id="ccfd3-189">**Abbildung 10**: alle Lieferanten sind jetzt standardmäßig angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](declarative-parameters-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="ccfd3-189">**Figure 10**: All Suppliers are Now Shown by Default ([Click to view full-size image](declarative-parameters-cs/_static/image30.png))</span></span>


## <a name="summary"></a><span data-ttu-id="ccfd3-190">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="ccfd3-190">Summary</span></span>

<span data-ttu-id="ccfd3-191">Um Methoden mit Eingabeparametern verwenden zu können, müssen wir die Werte für die Parameter in der ObjectDataSource anzugeben `SelectParameters` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-191">In order to use methods with input parameters, we need to specify the values for the parameters in the ObjectDataSource's `SelectParameters` collection.</span></span> <span data-ttu-id="ccfd3-192">Verschiedene Typen von Parametern können für den Parameterwert aus verschiedenen Quellen abgerufen werden soll.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-192">Different types of parameters allow for the parameter value to be obtained from different sources.</span></span> <span data-ttu-id="ccfd3-193">Der standardmäßige Parametertyp verwendet einen hartcodierten Wert, aber wie leicht (und ohne eine Codezeile) Parameterwerte aus den Querystring, Session-Variablen, Cookies und sogar Benutzereingaben Werten Websteuerelemente auf der Seite abgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-193">The default parameter type uses a hard-coded value, but just as easily (and without a line of code) parameter values can be obtained from the querystring, Session variables, cookies, and even user-entered values from Web controls on the page.</span></span>

<span data-ttu-id="ccfd3-194">Die Beispiele, die wir unter in diesem Lernprogramm wurde gezeigt, wie deklarative Parameterwerte verwenden.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-194">The examples we looked at in this tutorial illustrated how to use declarative parameter values.</span></span> <span data-ttu-id="ccfd3-195">Allerdings kann es Zeiten sein, wenn wir müssen einen Parameterquelle verwenden, nicht verfügbar, z. B. das aktuelle Datum und die Uhrzeit ist, oder, wenn unsere Website Mitgliedschaft, die Benutzer-ID des Besuchers verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-195">However, there may be times when we need to use a parameter source that's not available, such as the current date and time, or, if our site was using Membership, the User ID of the visitor.</span></span> <span data-ttu-id="ccfd3-196">Für solche Szenarien können wir die Parameterwerte programmgesteuert vor dem ObjectDataSource festlegen, Aufrufen der Methode für die zugrunde liegende Objekt.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-196">For such scenarios we can set the parameter values programmatically prior to the ObjectDataSource invoking its underlying object's method.</span></span> <span data-ttu-id="ccfd3-197">Wir sehen, wie Sie dazu in der [nächsten Lernprogramm](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span><span class="sxs-lookup"><span data-stu-id="ccfd3-197">We'll see how to accomplish this in the [next tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span></span>

<span data-ttu-id="ccfd3-198">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="ccfd3-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="ccfd3-199">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="ccfd3-199">About the Author</span></span>

<span data-ttu-id="ccfd3-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="ccfd3-201">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="ccfd3-202">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="ccfd3-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="ccfd3-203">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="ccfd3-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="ccfd3-204">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="ccfd3-204">Special Thanks To</span></span>

<span data-ttu-id="ccfd3-205">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-205">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="ccfd3-206">Lead Prüfer für dieses Lernprogramm wurde Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="ccfd3-206">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="ccfd3-207">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="ccfd3-207">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="ccfd3-208">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-208">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ccfd3-209">[Zurück](displaying-data-with-the-objectdatasource-cs.md)
> [Weiter](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span><span class="sxs-lookup"><span data-stu-id="ccfd3-209">[Previous](displaying-data-with-the-objectdatasource-cs.md)
[Next](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span></span>
