---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: "Konfigurieren einen Datenbankserver für Web Deploy-Veröffentlichung | Microsoft Docs"
author: jrjlee
description: "In diesem Thema beschreibt, wie einen SQL Server 2008 R2-Datenbankserver zur Unterstützung von Web Deploy und die Veröffentlichung zu konfigurieren. In diesem Thema beschriebenen Aufgaben sind co..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: b225d9911246b3e2be1679b73a9f31d9f8577ba5
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
<a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="96404-104">Konfigurieren einen Datenbankserver für Web Deploy-Veröffentlichung</span><span class="sxs-lookup"><span data-stu-id="96404-104">Configuring a Database Server for Web Deploy Publishing</span></span>
====================
<span data-ttu-id="96404-105">durch [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="96404-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="96404-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="96404-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="96404-107">In diesem Thema beschreibt, wie einen SQL Server 2008 R2-Datenbankserver zur Unterstützung von Web Deploy und die Veröffentlichung zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="96404-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="96404-108">Die in diesem Thema beschriebenen Tasks beziehen sich auf jede Bereitstellungsszenario & #x 2014; es spielt keine Rolle, ob Ihre Webserver konfiguriert sind, verwenden Sie die Remote-Agent-Dienst von IIS-Webbereitstellungstool (Web Deploy), das Bereitstellen von Web-Handler oder offline Bereitstellung oder die Anwendung wird auf einem einzelnen Webserver oder in einer Serverfarm ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="96404-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="96404-109">Die Bereitstellung der Datenbank kann entsprechend den sicherheitsanforderungen und andere Faktoren ändern.</span><span class="sxs-lookup"><span data-stu-id="96404-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="96404-110">Beispielsweise können Sie die Datenbank mit oder ohne Beispieldaten, und Sie benutzerzuordnungen für die Rolle bereitstellen oder manuell konfigurieren, nach der Bereitstellung möglicherweise.</span><span class="sxs-lookup"><span data-stu-id="96404-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="96404-111">Die Möglichkeit, die Sie konfigurieren, dass den Datenbankserver bleibt jedoch gleich.</span><span class="sxs-lookup"><span data-stu-id="96404-111">However, the way you configure the database server remains the same.</span></span>


<span data-ttu-id="96404-112">Sie müssen zusätzliche Produkte oder -Tools installieren, konfigurieren einen Datenbankserver zur Unterstützung einer webbereitstellung.</span><span class="sxs-lookup"><span data-stu-id="96404-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="96404-113">Vorausgesetzt, dass Ihr Datenbankserver und den Webserver auf unterschiedlichen Computern laufen, müssen Sie einfach:</span><span class="sxs-lookup"><span data-stu-id="96404-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="96404-114">Lassen Sie SQL Server für die Kommunikation über TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="96404-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="96404-115">SQL Server-Datenverkehr über eventuell vorhandene Firewalls zugelassen.</span><span class="sxs-lookup"><span data-stu-id="96404-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="96404-116">Geben Sie dem Computerkonto des Web-Server eine SQL Server-Anmeldung.</span><span class="sxs-lookup"><span data-stu-id="96404-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="96404-117">Alle erforderlichen Datenbankrollen die Anmeldung beim Computer-Konto zuordnen.</span><span class="sxs-lookup"><span data-stu-id="96404-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="96404-118">Gewähren Sie dem Konto, das der Bereitstellung einer SQL Server-Anmeldung und einen Datenbankbenutzer Ersteller Berechtigungen ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="96404-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="96404-119">Um Bereitstellungen zu unterstützen, ordnen Sie die Bereitstellung kontoanmeldung an die **Db\_Besitzer** -Datenbankrolle.</span><span class="sxs-lookup"><span data-stu-id="96404-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="96404-120">In diesem Thema erfahren Sie, wie Sie jede der folgenden Verfahren ausführen.</span><span class="sxs-lookup"><span data-stu-id="96404-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="96404-121">Aufgaben und exemplarische Vorgehensweisen in diesem Thema wird davon ausgegangen, dass Sie starten mit einer Standardinstanz von SQL Server 2008 R2 auf Windows Server 2008 R2 ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="96404-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="96404-122">Bevor Sie fortfahren, stellen Sie sicher, die:</span><span class="sxs-lookup"><span data-stu-id="96404-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="96404-123">Windows Server 2008 R2 Service Pack 1 und alle verfügbaren Updates werden installiert.</span><span class="sxs-lookup"><span data-stu-id="96404-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="96404-124">Der Server ist die Domäne.</span><span class="sxs-lookup"><span data-stu-id="96404-124">The server is domain-joined.</span></span>
- <span data-ttu-id="96404-125">Der Server hat eine statische IP-Adresse.</span><span class="sxs-lookup"><span data-stu-id="96404-125">The server has a static IP address.</span></span>
- <span data-ttu-id="96404-126">SQL Server 2008 R2 Service Pack 1 und alle verfügbaren Updates werden installiert.</span><span class="sxs-lookup"><span data-stu-id="96404-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="96404-127">SQL Server-Instanz muss nur enthalten die **Database Engine Services** Rolle, die automatisch in jeder SQL Server-Installation enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="96404-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="96404-128">Jedoch zur Vereinfachung der Konfiguration und Wartung, empfehlen wir, dass Sie enthalten die **Verwaltungstools – einfach** und **Verwaltungstools – vollständig** Serverrollen.</span><span class="sxs-lookup"><span data-stu-id="96404-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="96404-129">Weitere Informationen zum Hinzufügen von Computern zu einer Domäne, finden Sie unter [Verknüpfen von Computern zur Domäne und Anmelden](https://technet.microsoft.com/en-us/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="96404-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/en-us/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="96404-130">Weitere Informationen zum Konfigurieren von statischen IP-Adressen finden Sie unter [eine statische IP-Adresse konfigurieren](https://technet.microsoft.com/en-us/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="96404-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/en-us/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="96404-131">Weitere Informationen zum Installieren von SQL Server finden Sie unter [Installieren von SQL Server 2008 R2](https://technet.microsoft.com/en-us/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="96404-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/en-us/library/bb500395.aspx).</span></span>


## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="96404-132">Aktivieren des Remotezugriffs mit SQLServer</span><span class="sxs-lookup"><span data-stu-id="96404-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="96404-133">SQL Server verwendet die TCP/IP für die Kommunikation mit Remotecomputern.</span><span class="sxs-lookup"><span data-stu-id="96404-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="96404-134">Wenn Ihr Datenbankserver und den Webserver auf unterschiedlichen Computern befinden, müssen Sie:</span><span class="sxs-lookup"><span data-stu-id="96404-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="96404-135">Konfigurieren Sie Netzwerke SQL Server-Einstellungen zum Zulassen der Kommunikation über TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="96404-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="96404-136">Konfigurieren Sie alle Hardware oder Software-Firewalls so, dass TCP-Datenverkehr zugelassen (und in einigen Fällen (UDP = User Datagram Protocol)-Datenverkehr), für die Ports, die SQL Server-Instanz verwendet.</span><span class="sxs-lookup"><span data-stu-id="96404-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="96404-137">Um SQL Server die Kommunikation über TCP/IP zu aktivieren, verwenden Sie SQL Server-Konfigurations-Manager so ändern Sie die Netzwerkkonfiguration für die SQL Server-Instanz.</span><span class="sxs-lookup"><span data-stu-id="96404-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="96404-138">**So aktivieren Sie SQL Server für die Kommunikation über TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="96404-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="96404-139">Auf der **starten** Sie im Menü **Programme**, klicken Sie auf **Microsoft SQL Server 2008 R2**, klicken Sie auf **Konfigurationstools**, und klicken Sie dann auf **SQL Server-Konfigurations-Manager**.</span><span class="sxs-lookup"><span data-stu-id="96404-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="96404-140">Erweitern Sie im Strukturansichtsbereich, **SQL Server-Netzwerkkonfiguration**, und klicken Sie dann auf **Protokolle für MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="96404-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="96404-141">Wenn Sie mehrere Instanzen von SQL Server installiert haben, sehen Sie eine **Protokolle für***[Instanzname]* Element für jede Instanz.</span><span class="sxs-lookup"><span data-stu-id="96404-141">If you have installed multiple instances of SQL Server, you'll see a **Protocols for***[instance name]* item for each instance.</span></span> <span data-ttu-id="96404-142">Sie müssen zum Konfigurieren von Netzwerkeinstellungen auf eine vollverteilte Instanz nach Instanz.</span><span class="sxs-lookup"><span data-stu-id="96404-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="96404-143">Klicken Sie im Detailbereich mit der Maustaste die **TCP/IP** Zeile, und klicken Sie dann auf **aktivieren**.</span><span class="sxs-lookup"><span data-stu-id="96404-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="96404-144">In der **Warnung** (Dialogfeld), klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="96404-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="96404-145">Sie müssen den MSSQLSERVER-Dienst neu starten, bevor die Konfiguration des neuen Netzwerks wirksam werden.</span><span class="sxs-lookup"><span data-stu-id="96404-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="96404-146">Sie können an einer Eingabeaufforderung über die Konsole Dienste oder von SQL Server Management Studio nachholen.</span><span class="sxs-lookup"><span data-stu-id="96404-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="96404-147">In diesem Verfahren verwenden Sie SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="96404-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="96404-148">SQL Server-Konfigurations-Manager zu schließen.</span><span class="sxs-lookup"><span data-stu-id="96404-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="96404-149">Auf der **starten** Sie im Menü **Programme**, klicken Sie auf **Microsoft SQL Server 2008 R2**, und klicken Sie dann auf **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="96404-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="96404-150">In der **Verbindung mit Server herstellen** Dialogfeld die **Servernamen** Feld Geben Sie den Namen des Datenbankservers ein, und klicken Sie dann auf **verbinden**.</span><span class="sxs-lookup"><span data-stu-id="96404-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="96404-151">In der **Objekt-Explorer** Bereich mit der rechten Maustaste des Knotens der übergeordnete Server (z. B. **TESTDB1**), und klicken Sie dann auf **Neustart**.</span><span class="sxs-lookup"><span data-stu-id="96404-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="96404-152">In der **Microsoft SQL Server Management Studio** (Dialogfeld), klicken Sie auf **Ja**.</span><span class="sxs-lookup"><span data-stu-id="96404-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="96404-153">Wenn der Dienst neu gestartet wurde, schließen Sie SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="96404-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="96404-154">Um SQL Server-Datenverkehr über eine Firewall zuzulassen, müssen Sie zuerst wissen, welche Ports Ihrer SQL Server-Instanz verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="96404-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="96404-155">Dies hängt wie SQL Server-Instanz erstellt und konfiguriert wurde:</span><span class="sxs-lookup"><span data-stu-id="96404-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="96404-156">Ein *Standardinstanz* überwacht SQL Server (und reagiert auf) die Anforderungen an TCP-Port 1433.</span><span class="sxs-lookup"><span data-stu-id="96404-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="96404-157">Ein *benannte Instanz* überwacht SQL Server (und reagiert auf) Anforderungen auf einem dynamisch zugewiesenen TCP-Port.</span><span class="sxs-lookup"><span data-stu-id="96404-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="96404-158">Wenn der SQL Server-Browser-Dienst aktiviert ist, können Clients den Dienst an UDP-Port 1434, um herauszufinden, welche TCP-Port für eine bestimmte SQL Server-Instanz verwenden Abfragen.</span><span class="sxs-lookup"><span data-stu-id="96404-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="96404-159">Dieser Dienst ist jedoch häufig aus Sicherheitsgründen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="96404-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="96404-160">Vorausgesetzt, dass Sie eine Standardinstanz von SQL Server verwenden, müssen Sie zum Konfigurieren der Firewall zum Zulassen von Datenverkehr.</span><span class="sxs-lookup"><span data-stu-id="96404-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="96404-161">Richtung</span><span class="sxs-lookup"><span data-stu-id="96404-161">Direction</span></span> | <span data-ttu-id="96404-162">Von Port</span><span class="sxs-lookup"><span data-stu-id="96404-162">From Port</span></span> | <span data-ttu-id="96404-163">So portieren Sie</span><span class="sxs-lookup"><span data-stu-id="96404-163">To Port</span></span> | <span data-ttu-id="96404-164">Porttyp</span><span class="sxs-lookup"><span data-stu-id="96404-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="96404-165">Eingehende</span><span class="sxs-lookup"><span data-stu-id="96404-165">Inbound</span></span> | <span data-ttu-id="96404-166">Beliebig</span><span class="sxs-lookup"><span data-stu-id="96404-166">Any</span></span> | <span data-ttu-id="96404-167">1433</span><span class="sxs-lookup"><span data-stu-id="96404-167">1433</span></span> | <span data-ttu-id="96404-168">TCP</span><span class="sxs-lookup"><span data-stu-id="96404-168">TCP</span></span> |
| <span data-ttu-id="96404-169">Ausgehende</span><span class="sxs-lookup"><span data-stu-id="96404-169">Outbound</span></span> | <span data-ttu-id="96404-170">1433</span><span class="sxs-lookup"><span data-stu-id="96404-170">1433</span></span> | <span data-ttu-id="96404-171">Beliebig</span><span class="sxs-lookup"><span data-stu-id="96404-171">Any</span></span> | <span data-ttu-id="96404-172">TCP</span><span class="sxs-lookup"><span data-stu-id="96404-172">TCP</span></span> |
  

> [!NOTE]
> <span data-ttu-id="96404-173">Technisch gesehen ist ein Clientcomputer verwendet einen zufällig zugewiesenen TCP-Port zwischen 1024 und 5000 für die Kommunikation mit SQL Server, und Sie können einschränken, die Firewall-Regeln entsprechend.</span><span class="sxs-lookup"><span data-stu-id="96404-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="96404-174">Weitere Informationen zu SQL Server-Ports und Firewalls, finden Sie unter [TCP/IP-Portnummern erforderlich, um Sie zu SQL über eine Firewall kommunizieren](https://go.microsoft.com/?linkid=9805125) und [Vorgehensweise: konfigurieren ein Servers zur Überwachung eines bestimmten TCP-Ports (SQL Server-Konfiguration -Manager)](https://msdn.microsoft.com/en-us/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="96404-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/en-us/library/ms177440.aspx).</span></span>


<span data-ttu-id="96404-175">In den meisten Windows Server-Umgebungen müssen Sie wahrscheinlich die Windows-Firewall auf dem Datenbankserver zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="96404-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="96404-176">Standardmäßig ermöglicht Windows-Firewall gesamte ausgehende Verkehr, es sei denn, eine Regel ausdrücklich untersagt.</span><span class="sxs-lookup"><span data-stu-id="96404-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="96404-177">Um Ihrem Webserver zum Erreichen Ihrer Datenbank zu aktivieren, müssen Sie eine eingehende Regel zu konfigurieren, die TCP-Datenverkehr über die Portnummer ermöglicht wird, die SQL Server-Instanz verwendet.</span><span class="sxs-lookup"><span data-stu-id="96404-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="96404-178">Wenn Sie eine Standardinstanz von SQL Server verwenden, können Sie dem nächsten Verfahren fort, um diese Regel zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="96404-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="96404-179">**So konfigurieren Sie Windows-Firewall zum Zulassen der Kommunikation mit einer Standardinstanz von SQL Server**</span><span class="sxs-lookup"><span data-stu-id="96404-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="96404-180">Auf dem Datenbankserver auf die **starten** Sie im Menü **Verwaltung**, und klicken Sie dann auf **Windows-Firewall mit erweiterter Sicherheit**.</span><span class="sxs-lookup"><span data-stu-id="96404-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="96404-181">Klicken Sie im Strukturansichtsbereich, auf **eingehende Regeln**.</span><span class="sxs-lookup"><span data-stu-id="96404-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="96404-182">In der **Aktionen** Bereich unter **eingehende Regeln**, klicken Sie auf **neue Regel**.</span><span class="sxs-lookup"><span data-stu-id="96404-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="96404-183">In der neue eingehende Regel-Assistenten auf der **Regeltyp** Seite **Port**, und klicken Sie dann auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="96404-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="96404-184">Auf der **Protokoll und Ports** Seite Sie sicher, dass **TCP** ausgewählt ist, und klicken Sie in der **bestimmte lokale Ports** geben **1433**, und klicken Sie dann auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="96404-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="96404-185">Auf der **Aktion** Seite, lassen Sie **Verbindung zulassen** ausgewählt, und klicken Sie auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="96404-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="96404-186">Auf der **Profil** Seite, lassen Sie **Domäne** ausgewählt ist, deaktivieren Sie die **Private** und **öffentlichen** Kontrollkästchen, und klicken Sie dann auf  **Nächste**.</span><span class="sxs-lookup"><span data-stu-id="96404-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="96404-187">Auf der **Namen** Seite, geben Sie der Regel einen geeigneter aussagekräftigen Namen (z. B. **SQL Server-Standardinstanz – Netzwerkzugriff**), und klicken Sie dann auf **Fertig stellen**.</span><span class="sxs-lookup"><span data-stu-id="96404-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="96404-188">Weitere Informationen zum Konfigurieren von Windows-Firewall für SQL Server, insbesondere, wenn Sie nicht standardmäßige oder dynamische Ports mit SQL Server zu kommunizieren, finden Sie unter [Vorgehensweise: Konfigurieren einer Windows-Firewall für Datenbankmodulzugriff](https://technet.microsoft.com/en-us/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="96404-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/en-us/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="96404-189">Konfigurieren von Anmeldungen und Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="96404-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="96404-190">Wenn Sie eine Webanwendung zu IIS (Internetinformationsdienste) bereitstellen, führt die Anwendung über die Identität des Anwendungspools.</span><span class="sxs-lookup"><span data-stu-id="96404-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="96404-191">Verwenden Sie in einer domänenumgebung Anwendungspoolidentitäten das Computerkonto des Servers, auf denen sie den Zugriff auf Netzwerkressourcen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="96404-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="96404-192">Computerkonten haben die Form *[Domänenname]***\***[Computername] ***$**& #x 2014, z. B. **FABRIKAM\ TESTWEB1$**.</span><span class="sxs-lookup"><span data-stu-id="96404-192">Machine accounts take the form *[domain name]***\***[machine name]***$**&#x2014;for example, **FABRIKAM\TESTWEB1$**.</span></span> <span data-ttu-id="96404-193">Damit Ihre Webanwendung auf eine Datenbank über das Netzwerk zugreifen können, müssen Sie:</span><span class="sxs-lookup"><span data-stu-id="96404-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="96404-194">SQL Server-Instanz eine Anmeldung für das Computerkonto des Web-Server hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="96404-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="96404-195">Alle erforderlichen Datenbankrollen die Anmeldung beim Computer-Konto zuordnen (i. d. r. **Db\_Datareader** und **Db\_Datawriter**).</span><span class="sxs-lookup"><span data-stu-id="96404-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="96404-196">Wenn Ihre Webanwendung auf einer Serverfarm, anstatt von einem einzelnen Server ausgeführt wird, müssen Sie diese Verfahren für alle Webserver in der Serverfarm zu wiederholen.</span><span class="sxs-lookup"><span data-stu-id="96404-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="96404-197">Weitere Informationen zu Anwendungspoolidentitäten und den Zugriff auf Netzwerkressourcen, finden Sie unter [Anwendungspoolidentitäten](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="96404-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>


<span data-ttu-id="96404-198">Sie können diese Aufgaben auf verschiedene Weise angehen.</span><span class="sxs-lookup"><span data-stu-id="96404-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="96404-199">Um die Anmeldung zu erstellen, können Sie entweder:</span><span class="sxs-lookup"><span data-stu-id="96404-199">To create the login, you can either:</span></span>

- <span data-ttu-id="96404-200">Erstellen Sie den Anmeldenamen manuell auf dem Datenbankserver mit Transact-SQL oder SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="96404-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="96404-201">Verwenden eines SQL Server 2008-Server-Projekts in Visual Studio erstellen und Bereitstellen der Anmeldung.</span><span class="sxs-lookup"><span data-stu-id="96404-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="96404-202">SQL Server-Anmeldung ist ein Objekt auf Datenbankebene, statt eines Objekts auf Serverebene, daher ist es nicht der Datenbank abhängt, die Sie bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="96404-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="96404-203">Daher können Sie die Anmeldung an einem beliebigen Punkt erstellen, und der einfachste Lösungsansatz ist jedoch häufig, erstellen Sie den Anmeldenamen manuell auf dem Datenbankserver Sie vor der Bereitstellung von Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="96404-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="96404-204">Das nächste Verfahren können Sie um eine Anmeldung in SQL Server Management Studio zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="96404-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="96404-205">**So erstellen eine SQL Server-Anmeldung für das Computerkonto des Web-server**</span><span class="sxs-lookup"><span data-stu-id="96404-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="96404-206">Auf dem Datenbankserver auf die **starten** Sie im Menü **Programme**, klicken Sie auf **Microsoft SQL Server 2008 R2**, und klicken Sie dann auf **SQL Server Management Studio** .</span><span class="sxs-lookup"><span data-stu-id="96404-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="96404-207">In der **Verbindung mit Server herstellen** Dialogfeld die **Servernamen** Feld Geben Sie den Namen des Datenbankservers ein, und klicken Sie dann auf **verbinden**.</span><span class="sxs-lookup"><span data-stu-id="96404-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="96404-208">In der **Objektexplorer** Bereich mit der rechten Maustaste **Sicherheit**, zeigen Sie auf **neu**, und klicken Sie dann auf **Anmeldung**.</span><span class="sxs-lookup"><span data-stu-id="96404-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="96404-209">In der **Anmeldung – neu** Dialogfeld die **Anmeldename** geben den Namen des Computerkontos Ihrer Web-Server (z. B. **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="96404-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="96404-210">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="96404-210">Click **OK**.</span></span>

<span data-ttu-id="96404-211">An diesem Punkt ist Ihrem Datenbankserver für die Web Deploy-Veröffentlichung bereit.</span><span class="sxs-lookup"><span data-stu-id="96404-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="96404-212">Allerdings funktioniert keine Projektmappen, die Sie bereitstellen, bis Sie die erforderlichen Datenbankrollen die Anmeldung beim Computer-Konto zuordnen.</span><span class="sxs-lookup"><span data-stu-id="96404-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="96404-213">Zuordnen der Anmeldung zu Datenbankrollen erfordert viel mehr betrachtet werden, als Sie können nicht Zuordnung Rollen erst nach dem haben bereitgestellt der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="96404-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="96404-214">Um die Anmeldung beim Computer Konto die erforderlichen Datenbankrollen zuzuordnen, ist Folgendes möglich:</span><span class="sxs-lookup"><span data-stu-id="96404-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="96404-215">Weisen Sie die Datenbankrollen für die Anmeldung manuell, nachdem Sie die Datenbank zum ersten Mal bereitgestellt haben.</span><span class="sxs-lookup"><span data-stu-id="96404-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="96404-216">Verwenden Sie ein Skript nach der Bereitstellung, um die Datenbankrollen für die Anmeldung zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="96404-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="96404-217">Weitere Informationen über das Automatisieren der Erstellung von Anmeldenamen und Datenbank-rollenzuordnungen, finden Sie unter [Bereitstellen von Datenbank-Rollenmitgliedschaften auf Testumgebungen](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="96404-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="96404-218">Das nächste Verfahren können Sie alternativ die Anmeldung beim Computer Konto die erforderlichen Datenbankrollen manuell zuordnen.</span><span class="sxs-lookup"><span data-stu-id="96404-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="96404-219">Denken Sie daran, dass Sie dieses Verfahren erst ausführen, können *nach* haben Sie die Datenbank bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="96404-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="96404-220">**Zuordnen von Datenbankrollen für die Web-Machine-Konto-Anmeldung**</span><span class="sxs-lookup"><span data-stu-id="96404-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="96404-221">Öffnen Sie SQL Server Management Studio wie bisher.</span><span class="sxs-lookup"><span data-stu-id="96404-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="96404-222">In der **Objekt-Explorer** Bereich erweitern Sie die **Sicherheit** Knoten, erweitern Sie die **Anmeldungen** Knoten, und doppelklicken Sie dann auf die kontoanmeldung für Computer (z. B.  **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="96404-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="96404-223">In der **Anmeldungseigenschaften** (Dialogfeld), klicken Sie auf **Benutzerzuordnung**.</span><span class="sxs-lookup"><span data-stu-id="96404-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="96404-224">In der **Benutzer, die dieser Anmeldung zugeordnet** table, wählen Sie den Namen der Datenbank (z. B. **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="96404-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="96404-225">In der **Mitgliedschaft in Datenbankrolle für:** *[Datenbankname]* wählen Sie die erforderlichen Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="96404-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="96404-226">Wählen Sie im Fall der Beispielprojektmappe Manager wenden Sie sich an den **Db\_Datareader** und **Db\_Datawriter** Rollen.</span><span class="sxs-lookup"><span data-stu-id="96404-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="96404-227">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="96404-227">Click **OK**.</span></span>

<span data-ttu-id="96404-228">Obwohl manuell zuordnen von Datenbankrollen oft mehr als ausreichend für testumgebungen, ist es weniger wünschenswert für automatisierte oder einmalklick-Bereitstellungen auf Staging-oder produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="96404-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="96404-229">Weitere Informationen zum Automatisieren dieser Art der Aufgabe, die mithilfe von Skripts nach der Bereitstellung in finden Sie [Bereitstellen von Datenbank-Rollenmitgliedschaften auf Testumgebungen](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="96404-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="96404-230">Weitere Informationen zu Server und Datenbankprojekte, finden Sie unter [Visual Studio 2010 SQL Server-Datenbankprojekte](https://msdn.microsoft.com/en-us/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="96404-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/en-us/library/ff678491.aspx).</span></span>


## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="96404-231">Konfigurieren von Berechtigungen für das Bereitstellungskonto</span><span class="sxs-lookup"><span data-stu-id="96404-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="96404-232">Wenn das Konto, mit dem Sie die Bereitstellung ausgeführt, die nicht SQL Server-Administrator ist, müssen Sie auch eine Anmeldung für dieses Konto zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="96404-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="96404-233">Um die Datenbank zu erstellen, muss das Konto ein Mitglied der **Dbcreator** Serverrolle oder über vergleichbare Berechtigungen verfügen.</span><span class="sxs-lookup"><span data-stu-id="96404-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="96404-234">Wenn Sie Web Deploy oder VSDBCMD zum Bereitstellen einer Datenbank verwenden, können Sie Windows-Anmeldeinformationen oder Anmeldeinformationen für SQL Server verwenden, (falls es sich um eine Instanz von SQL Server für die Unterstützung der Authentifizierung im gemischten Modus konfiguriert ist).</span><span class="sxs-lookup"><span data-stu-id="96404-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="96404-235">Im nächste Verfahren wird davon ausgegangen, dass Sie Windows-Anmeldeinformationen verwenden möchten, aber es nichts hindert, dass Sie einen SQL Server-Benutzernamen und Kennwort in der Verbindungszeichenfolge angeben ist, wenn Sie die Bereitstellung konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="96404-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>


<span data-ttu-id="96404-236">**Zum Einrichten von Berechtigungen für das bereitstellungskonto**</span><span class="sxs-lookup"><span data-stu-id="96404-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="96404-237">Öffnen Sie SQL Server Management Studio wie bisher.</span><span class="sxs-lookup"><span data-stu-id="96404-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="96404-238">In der **Objektexplorer** Bereich mit der rechten Maustaste **Sicherheit**, zeigen Sie auf **neu**, und klicken Sie dann auf **Anmeldung**.</span><span class="sxs-lookup"><span data-stu-id="96404-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="96404-239">In der **Anmeldung – neu** Dialogfeld die **Anmeldename** geben den Namen Ihres Kontos für die Bereitstellung (z. B. **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="96404-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="96404-240">In der **Seite auswählen** Bereich, klicken Sie auf **Serverrollen**.</span><span class="sxs-lookup"><span data-stu-id="96404-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="96404-241">Wählen Sie **Dbcreator**, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="96404-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="96404-242">Um spätere Bereitstellungen zu unterstützen, Sie müssen auch das Bereitstellen von Konto fügen die **Db\_Besitzer** Rolle in der Datenbank nach der ersten Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="96404-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="96404-243">Dies liegt daran für spätere Bereitstellungen Sie sind Ändern des Schemas einer vorhandenen Datenbank, anstatt eine neue Datenbank erstellen.</span><span class="sxs-lookup"><span data-stu-id="96404-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="96404-244">Wie im vorherigen Abschnitt beschrieben wird, können nicht Sie einen Benutzer einer Datenbankrolle hinzufügen, bis Sie die Datenbank naheliegenden Gründen erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="96404-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="96404-245">**Um die Bereitstellung-Konto-Anmeldung mit der Datenbank zuzuordnen\_Besitzer der Datenbank**</span><span class="sxs-lookup"><span data-stu-id="96404-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="96404-246">Öffnen Sie SQL Server Management Studio wie bisher.</span><span class="sxs-lookup"><span data-stu-id="96404-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="96404-247">In der **Objekt-Explorer** Fenster, erweitern Sie die **Sicherheit** Knoten, erweitern Sie die **Anmeldungen** Knoten, und doppelklicken Sie dann auf die kontoanmeldung für Computer (z. B.  **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="96404-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="96404-248">In der **Anmeldungseigenschaften** (Dialogfeld), klicken Sie auf **Benutzerzuordnung**.</span><span class="sxs-lookup"><span data-stu-id="96404-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="96404-249">In der **Benutzer, die dieser Anmeldung zugeordnet** table, wählen Sie den Namen der Datenbank (z. B. **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="96404-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="96404-250">In der **Mitgliedschaft in Datenbankrolle für:** *[Datenbankname]* Liste der **Db\_Besitzer** Rolle.</span><span class="sxs-lookup"><span data-stu-id="96404-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="96404-251">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="96404-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="96404-252">Schlussfolgerung</span><span class="sxs-lookup"><span data-stu-id="96404-252">Conclusion</span></span>

<span data-ttu-id="96404-253">Ihr Datenbankserver sollte jetzt bereit, um Remotedatenbank Bereitstellungen zu akzeptieren und remote IIS-Webserver für den Datenbankzugriff zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="96404-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="96404-254">Bevor Sie versuchen, bereitstellen und Verwenden von Datenbanken, sollten Sie überprüfen Sie die folgenden wichtigen Punkte:</span><span class="sxs-lookup"><span data-stu-id="96404-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="96404-255">Haben Sie die SQL-Server zum Annehmen von TCP/IP-Remoteverbindungen konfiguriert?</span><span class="sxs-lookup"><span data-stu-id="96404-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="96404-256">Haben Sie eventuell vorhandene Firewalls, damit SQL Server-Verkehr zugelassen konfiguriert?</span><span class="sxs-lookup"><span data-stu-id="96404-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="96404-257">Haben Sie eine Computer-kontoanmeldung für jede Web-Server erstellt, die auf SQL Server zugreifen?</span><span class="sxs-lookup"><span data-stu-id="96404-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="96404-258">Schließt die Bereitstellung der Datenbank ein Skript zum Erstellen von benutzerzuordnungen für die Rolle, oder müssen Sie diese manuell erstellen, nachdem Sie die Datenbank zum ersten Mal bereitstellen?</span><span class="sxs-lookup"><span data-stu-id="96404-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="96404-259">Haben Sie eine Anmeldung für das bereitstellungskonto erstellt und hinzugefügt, damit die **Dbcreator** Serverrolle?</span><span class="sxs-lookup"><span data-stu-id="96404-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="96404-260">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="96404-260">Further Reading</span></span>

<span data-ttu-id="96404-261">Anleitung zum Bereitstellen von Datenbankprojekten, finden Sie unter [Datenbankprojekte bereitstellen](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="96404-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="96404-262">Anleitungen zum Erstellen von Datenbank-Rollenmitgliedschaften durch Ausführen eines Skripts nach der Bereitstellung finden Sie unter [Bereitstellen von Datenbank-Rollenmitgliedschaften auf Testumgebungen](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="96404-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="96404-263">Anleitung zur Verwendung der individuelle Bereitstellung Auflagen erfüllt werden können, die Mitgliedschaft Datenbanken darstellen, finden Sie unter [Mitgliedschaft-Datenbanken bereitstellen, um Unternehmensumgebungen](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="96404-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="96404-264">[Zurück](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Weiter](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="96404-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
