---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
title: Grundlegendes zu den Buildprozess | Microsoft Docs
author: jrjlee
description: "Dieses Thema enthält eine exemplarische Vorgehensweise eines Enterprise-Skalierung Build- und Bereitstellungsprozess-Prozesses. In diesem Thema beschriebene Ansatz verwendet benutzerdefinierte Microsoft Build Engin..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 5b982451-547b-4a2f-a5dc-79bc64d84d40
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
msc.type: authoredcontent
ms.openlocfilehash: 3efcefc40dc135ff42f55911036f8b38b5aa13b1
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2018
---
<a name="understanding-the-build-process"></a><span data-ttu-id="06240-104">Grundlegendes zu den Buildprozess</span><span class="sxs-lookup"><span data-stu-id="06240-104">Understanding the Build Process</span></span>
====================
<span data-ttu-id="06240-105">durch [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="06240-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="06240-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="06240-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="06240-107">Dieses Thema enthält eine exemplarische Vorgehensweise eines Enterprise-Skalierung Build- und Bereitstellungsprozess-Prozesses.</span><span class="sxs-lookup"><span data-stu-id="06240-107">This topic provides a walkthrough of an enterprise-scale build and deployment process.</span></span> <span data-ttu-id="06240-108">In diesem Thema beschriebene Ansatz verwendet benutzerdefinierte Microsoft Build Engine (MSBuild)-Projektdateien, um eine präzisere Kontrolle über alle Aspekte des Prozesses zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="06240-108">The approach described in this topic uses custom Microsoft Build Engine (MSBuild) project files to provide fine-grained control over every aspect of the process.</span></span> <span data-ttu-id="06240-109">In den Projektdateien werden benutzerdefinierte MSBuild-Ziele verwendet, um die Bereitstellung von Hilfsprogrammen wie das Webbereitstellungstool (MSDeploy.exe) für das Internet Information Services (IIS) und des Datenbank-bereitstellungs-Hilfsprogramms VSDBCMD.exe ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="06240-109">Within the project files, custom MSBuild targets are used to run deployment utilities like the Internet Information Services (IIS) Web Deployment Tool (MSDeploy.exe) and the database deployment utility VSDBCMD.exe.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="06240-110">Im vorherigen Thema [verstehen die Projektdatei](understanding-the-project-file.md)beschrieben Schlüsselkomponenten von MSBuild-Projektdatei angegeben, und das Konzept der Split-Projektdateien zur Unterstützung der Bereitstellung für mehrere zielumgebungen eingeführt.</span><span class="sxs-lookup"><span data-stu-id="06240-110">The previous topic, [Understanding the Project File](understanding-the-project-file.md), described the key components of an MSBuild project file and introduced the concept of split project files to support deployment to multiple target environments.</span></span> <span data-ttu-id="06240-111">Wenn Sie noch nicht mit diesen Konzepten vertraut sind, lesen Sie [verstehen die Projektdatei](understanding-the-project-file.md) bevor Sie in diesem Thema arbeiten.</span><span class="sxs-lookup"><span data-stu-id="06240-111">If you're not already familiar with these concepts, you should review [Understanding the Project File](understanding-the-project-file.md) before you work through this topic.</span></span>


<span data-ttu-id="06240-112">Dieses Thema ist Teil einer Reihe von Lernprogrammen, die auf der Basis der Enterprise-bereitstellungsanforderungen eines fiktiven Unternehmens mit dem Namen Fabrikam, Inc. Diese Reihe von Lernprogrammen verwendet eine Beispielprojektmappe & #x 2014; die [Kontakt-Manager-Lösung](the-contact-manager-solution.md)& #x 2014; zum Darstellen einer Webanwendung mit einer realistischen Maß an Komplexität, einschließlich einer ASP.NET MVC 3-Anwendung, eine Windows Communication Foundation (WCF)-Dienst, und ein Datenbankprojekt.</span><span class="sxs-lookup"><span data-stu-id="06240-112">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="06240-113">Die Bereitstellungsmethode das Herzstück mit diesen Lernprogrammen basiert auf der Teilung Datei Herangehensweise beschrieben [verstehen die Projektdatei](understanding-the-project-file.md), in dem durch der Buildprozess gesteuert wird Projekt zwei Dateien & #x 2014; eine enthält Erstellen Sie für jede zielumgebung und enthält umgebungsspezifische Einstellungen für Build- und Bereitstellungsprozess geltenden Anweisungen, an.</span><span class="sxs-lookup"><span data-stu-id="06240-113">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="06240-114">Zur Buildzeit ist die Unabhängigkeit von der Umgebung-Projektdatei, einen vollständigen Satz von Buildanweisungen bilden die Projektdatei umgebungsspezifische zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="06240-114">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="build-and-deployment-overview"></a><span data-ttu-id="06240-115">Build und Bereitstellung (Übersicht)</span><span class="sxs-lookup"><span data-stu-id="06240-115">Build and Deployment Overview</span></span>

<span data-ttu-id="06240-116">In der [Kontakt-Manager-Lösung](the-contact-manager-solution.md), steuern erstellungs-und Bereitstellung von drei Dateien:</span><span class="sxs-lookup"><span data-stu-id="06240-116">In the [Contact Manager solution](the-contact-manager-solution.md), three files control the build and deployment process:</span></span>

- <span data-ttu-id="06240-117">Ein *universal Projektdatei* (*Publish.proj*).</span><span class="sxs-lookup"><span data-stu-id="06240-117">A *universal project file* (*Publish.proj*).</span></span> <span data-ttu-id="06240-118">Dieses Objekt enthält Build- und Bereitstellungsprozess-Anweisungen, die zwischen zielumgebungen nicht ändern.</span><span class="sxs-lookup"><span data-stu-id="06240-118">This contains build and deployment instructions that do not change between destination environments.</span></span>
- <span data-ttu-id="06240-119">Ein *umgebungsspezifische Projektdatei* (*Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="06240-119">An *environment-specific project file* (*Env-Dev.proj*).</span></span> <span data-ttu-id="06240-120">Dieses Objekt enthält Build- und Bereitstellungsprozess Einstellungen, die für eine bestimmte zielumgebung spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="06240-120">This contains build and deployment settings that are specific to a particular destination environment.</span></span> <span data-ttu-id="06240-121">Beispielsweise können Sie die *Env Dev.proj* Datei geben Sie die Einstellungen für einen Entwickler oder Test-Umgebung, und erstellen eine andere Datei mit dem Namen *Env Stage.proj* zum Bereitstellen von Einstellungen für eine Staging Umgebung.</span><span class="sxs-lookup"><span data-stu-id="06240-121">For example, you could use the *Env-Dev.proj* file to provide settings for a developer or test environment and create an alternative file named *Env-Stage.proj* to provide settings for a staging environment.</span></span>
- <span data-ttu-id="06240-122">Ein *Befehlsdatei* (*veröffentlichen Dev.cmd*).</span><span class="sxs-lookup"><span data-stu-id="06240-122">A *command file* (*Publish-Dev.cmd*).</span></span> <span data-ttu-id="06240-123">Dieses Objekt enthält eine MSBuild.exe-Befehl, der angibt, welches Projekt Dateien ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="06240-123">This contains an MSBuild.exe command that specifies which project files you want to execute.</span></span> <span data-ttu-id="06240-124">Sie können eine Befehlsdatei für jede zielumgebung erstellen, in dem jede Datei MSBuild.exe-Befehl enthält, der eine andere umgebungsspezifische Projektdatei angibt.</span><span class="sxs-lookup"><span data-stu-id="06240-124">You can create a command file for every destination environment, where each file contains an MSBuild.exe command that specifies a different environment-specific project file.</span></span> <span data-ttu-id="06240-125">Auf diese Weise können Entwickler auf verschiedenen Umgebungen bereitstellen, durch die entsprechenden Befehlsdatei ausführen.</span><span class="sxs-lookup"><span data-stu-id="06240-125">This lets the developer deploy to different environments simply by running the appropriate command file.</span></span>

<span data-ttu-id="06240-126">In der Beispielprojektmappe können Sie diese drei Dateien im Ordner "Publish-Lösung" finden.</span><span class="sxs-lookup"><span data-stu-id="06240-126">In the sample solution, you can find these three files in the Publish solution folder.</span></span>

![](understanding-the-build-process/_static/image1.png)

<span data-ttu-id="06240-127">Bevor Sie sich diese Dateien im Detail ansehen, werfen wir einen Blick auf die Funktionsweise des Gesamtprozess Build an, wenn Sie diesen Ansatz verwenden.</span><span class="sxs-lookup"><span data-stu-id="06240-127">Before you look at these files in more detail, let's take a look at how the overall build process works when you use this approach.</span></span> <span data-ttu-id="06240-128">Auf hoher Ebene sieht der Build- und Bereitstellungsprozess Prozess:</span><span class="sxs-lookup"><span data-stu-id="06240-128">At a high level, the build and deployment process looks like this:</span></span>

![](understanding-the-build-process/_static/image2.png)

<span data-ttu-id="06240-129">Das erste Ereignis ist, dass die beiden Dateien & #x 2014; Projekt eine mit den universellen Build- und Anweisungen zur Bereitstellung und ein enthält umgebungsspezifische Einstellungen & #x 2014; in einer Projektdatei zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="06240-129">The first thing that happens is that the two project files&#x2014;one containing universal build and deployment instructions, and one containing environment-specific settings&#x2014;are merged into a single project file.</span></span> <span data-ttu-id="06240-130">MSBuild kann dann die Anweisungen in der Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="06240-130">MSBuild then works through the instructions in the project file.</span></span> <span data-ttu-id="06240-131">Jedes der Projekte in der Projektmappe, mit der Projektdatei für jedes Projekt erstellt.</span><span class="sxs-lookup"><span data-stu-id="06240-131">It builds each of the projects in the solution, using the project file for each project.</span></span> <span data-ttu-id="06240-132">Er ruft dann andere Tools, wie das Webbereitstellungstool (MSDeploy.exe) und das Dienstprogramm VSDBCMD Ihre Webinhalte und die Datenbanken in der zielumgebung bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="06240-132">It then calls out to other tools, like Web Deploy (MSDeploy.exe) and the VSDBCMD utility to deploy your web content and databases to the target environment.</span></span>

<span data-ttu-id="06240-133">Von Anfang bis Ende führt erstellungs-und Bereitstellung diese Aufgaben aus:</span><span class="sxs-lookup"><span data-stu-id="06240-133">From start to finish, the build and deployment process performs these tasks:</span></span>

1. <span data-ttu-id="06240-134">Löscht den Inhalt des Ausgabeverzeichnisses als Vorbereitung für eine neue Build.</span><span class="sxs-lookup"><span data-stu-id="06240-134">It deletes the contents of the output directory, in preparation for a fresh build.</span></span>
2. <span data-ttu-id="06240-135">Es wird jedes Projekt in der Projektmappe erstellt:</span><span class="sxs-lookup"><span data-stu-id="06240-135">It builds each project in the solution:</span></span>

    1. <span data-ttu-id="06240-136">Für Webprojekte & #x 2014; in diesem Fall eine ASP.NET MVC-Webanwendung und einen WCF-Dienst & #x 2014; auf der Buildprozess erstellt ein Webbereitstellungspaket für jedes Projekt.</span><span class="sxs-lookup"><span data-stu-id="06240-136">For web projects&#x2014;in this case, an ASP.NET MVC web application and a WCF web service&#x2014;the build process creates a web deployment package for each project.</span></span>
    2. <span data-ttu-id="06240-137">Für Datenbankprojekte wird während des Erstellungsprozesses ein Bereitstellungsmanifest (DEPLOYMANIFEST-Datei) für jedes Projekt erstellt.</span><span class="sxs-lookup"><span data-stu-id="06240-137">For database projects, the build process creates a deployment manifest (.deploymanifest file) for each project.</span></span>
3. <span data-ttu-id="06240-138">Das Hilfsprogramm VSDBCMD.exe verwendet, um jedes Datenbankprojekt in der Projektmappe, die über verschiedene Eigenschaften, die von der Projektdateien & #x 2014; eine Ziel-Verbindungszeichenfolge und einen Datenbanknamen & #x 2014; zusammen mit der Datei DeployManifest bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="06240-138">It uses the VSDBCMD.exe utility to deploy each database project in the solution, using various properties from the project files&#x2014;a target connection string and a database name&#x2014;together with the .deploymanifest file.</span></span>
4. <span data-ttu-id="06240-139">Das Hilfsprogramm MSDeploy.exe verwendet, um die Bereitstellung jedes Webprojekt in der Projektmappe, die verschiedene Eigenschaften von Projektdateien verwenden, um den Bereitstellungsprozess zu steuern.</span><span class="sxs-lookup"><span data-stu-id="06240-139">It uses the MSDeploy.exe utility to deploy each web project in the solution, using various properties from the project files to control the deployment process.</span></span>

<span data-ttu-id="06240-140">Die beispiellösung können Sie diesen Vorgang im Detail verfolgen.</span><span class="sxs-lookup"><span data-stu-id="06240-140">You can use the sample solution to trace this process in more detail.</span></span>

> [!NOTE]
> <span data-ttu-id="06240-141">Anleitungen zum Anpassen der umgebungsspezifische-Projektdateien für eigene Server-Umgebungen finden Sie unter [Konfigurieren von Bereitstellungseigenschaften für eine Zielumgebung](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="06240-141">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="invoking-the-build-and-deployment-process"></a><span data-ttu-id="06240-142">Aufrufen der Build- und Bereitstellungsprozess</span><span class="sxs-lookup"><span data-stu-id="06240-142">Invoking the Build and Deployment Process</span></span>

<span data-ttu-id="06240-143">Um die Kontakt-Manager-Lösung in einer testumgebung für Entwickler bereitzustellen, führt der Entwickler die *veröffentlichen Dev.cmd* Befehlsdatei.</span><span class="sxs-lookup"><span data-stu-id="06240-143">To deploy the Contact Manager solution to a developer test environment, the developer runs the *Publish-Dev.cmd* command file.</span></span> <span data-ttu-id="06240-144">Dies ruft MSBuild.exe angeben *Publish.proj* wie die Projektdatei ausgeführt und *Env Dev.proj* als Parameterwert.</span><span class="sxs-lookup"><span data-stu-id="06240-144">This invokes MSBuild.exe, specifying *Publish.proj* as the project file to execute and *Env-Dev.proj* as a parameter value.</span></span>


[!code-console[Main](understanding-the-build-process/samples/sample1.cmd)]


> [!NOTE]
> <span data-ttu-id="06240-145">Die **/fl** wechseln (Kurzform für **/FileLogger**) protokolliert die Buildausgabe in einer Datei namens *msbuild.log* im aktuellen Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="06240-145">The **/fl** switch (short for **/fileLogger**) logs the build output to a file named *msbuild.log* in the current directory.</span></span> <span data-ttu-id="06240-146">Weitere Informationen finden Sie unter der [MSBuild-Befehlszeilenreferenz](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="06240-146">For more information, see the [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>


<span data-ttu-id="06240-147">An diesem Punkt MSBuild ausgeführt wird, lädt die *Publish.proj* Datei- und beginnt die Verarbeitung der Anweisungen darin.</span><span class="sxs-lookup"><span data-stu-id="06240-147">At this point, MSBuild starts running, loads the *Publish.proj* file, and starts processing the instructions within it.</span></span> <span data-ttu-id="06240-148">Die erste Anweisung weist MSBuild das Projekt importieren-Datei mit der **TargetEnvPropsFile** gibt Parameter an.</span><span class="sxs-lookup"><span data-stu-id="06240-148">The first instruction tells MSBuild to import the project file that the **TargetEnvPropsFile** parameter specifies.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample2.xml)]


<span data-ttu-id="06240-149">Die **TargetEnvPropsFile** Parameter gibt die *Env Dev.proj* Datei, damit MSBuild führt den Inhalt der zusammen die *Env Dev.proj* -Datei in die  *Publish.proj* Datei.</span><span class="sxs-lookup"><span data-stu-id="06240-149">The **TargetEnvPropsFile** parameter specifies the *Env-Dev.proj* file, so MSBuild merges the contents of the *Env-Dev.proj* file into the *Publish.proj* file.</span></span>

<span data-ttu-id="06240-150">Die weiter Elemente, die in der zusammengeführten Projektdatei MSBuild vorfindet sind Eigenschaftengruppen.</span><span class="sxs-lookup"><span data-stu-id="06240-150">The next elements that MSBuild encounters in the merged project file are property groups.</span></span> <span data-ttu-id="06240-151">Eigenschaften werden in der Reihenfolge verarbeitet, in der Datei angezeigt.</span><span class="sxs-lookup"><span data-stu-id="06240-151">Properties are processed in the order in which they appear in the file.</span></span> <span data-ttu-id="06240-152">MSBuild erstellt ein Schlüssel-Wert-Paar für jede Eigenschaft bereitstellen, dass alle angegebenen Bedingungen erfüllt sind.</span><span class="sxs-lookup"><span data-stu-id="06240-152">MSBuild creates a key-value pair for each property, providing that any specified conditions are met.</span></span> <span data-ttu-id="06240-153">Eigenschaften, die später in der Datei definierten überschreibt alle Eigenschaften mit dem gleichen Namen, die weiter oben in der Datei definiert.</span><span class="sxs-lookup"><span data-stu-id="06240-153">Properties defined later in the file will overwrite any properties with the same name defined earlier in the file.</span></span> <span data-ttu-id="06240-154">Betrachten Sie beispielsweise die **OutputRoot** Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="06240-154">For example, consider the **OutputRoot** properties.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample3.xml)]


<span data-ttu-id="06240-155">Wenn MSBuild verarbeitet die erste **OutputRoot** Element bietet einen entsprechend benannten Parameter wurde nicht angegeben, wird der Wert von der **OutputRoot** -Eigenschaft **... \Publish\Out**. Wenn es trifft die zweite **OutputRoot** Element, wenn die Bedingung ergibt **"true"**, überschreibt es den Wert des der **OutputRoot** Eigenschaft mit dem Wert von der **"OutDir"** Parameter.</span><span class="sxs-lookup"><span data-stu-id="06240-155">When MSBuild processes the first **OutputRoot** element, providing a similarly named parameter has not been provided, it sets the value of the **OutputRoot** property to **..\Publish\Out**. When it encounters the second **OutputRoot** element, if the condition evaluates to **true**, it will overwrite the value of the **OutputRoot** property with the value of the **OutDir** parameter.</span></span>

<span data-ttu-id="06240-156">Das nächste Element, das erkennt MSBuild ist ein einzelnes Elementgruppe enthält ein Element mit dem Namen **ProjectsToBuild**.</span><span class="sxs-lookup"><span data-stu-id="06240-156">The next element that MSBuild encounters is a single item group, containing an item named **ProjectsToBuild**.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample4.xml)]


<span data-ttu-id="06240-157">MSBuild verarbeitet diese Anweisung erstellen Sie zunächst eine Liste der mit dem Namen **ProjectsToBuild**.</span><span class="sxs-lookup"><span data-stu-id="06240-157">MSBuild processes this instruction by building an item list named **ProjectsToBuild**.</span></span> <span data-ttu-id="06240-158">In diesem Fall enthält die Elementliste an einen einzelnen Wert & #x 2014; der Pfad und Dateiname der Projektmappendatei.</span><span class="sxs-lookup"><span data-stu-id="06240-158">In this case, the item list contains a single value&#x2014;the path and filename of the solution file.</span></span>

<span data-ttu-id="06240-159">An diesem Punkt werden die übrigen Elemente Ziele.</span><span class="sxs-lookup"><span data-stu-id="06240-159">At this point, the remaining elements are targets.</span></span> <span data-ttu-id="06240-160">Ziele werden anders verarbeitet, Eigenschaften und Elemente & #x 2014; im wesentlichen Ziele werden nicht verarbeitet, es sei denn, sie werden explizit vom Benutzer angegebenen oder, indem ein anderes Konstrukt in der Projektdatei aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="06240-160">Targets are processed differently from properties and items&#x2014;essentially, targets are not processed unless they are either explicitly specified by the user or invoked by another construct within the project file.</span></span> <span data-ttu-id="06240-161">Bedenken Sie, dass das öffnende **Projekt** Tag enthält eine **DefaultTargets** Attribut.</span><span class="sxs-lookup"><span data-stu-id="06240-161">Recall that the opening **Project** tag includes a **DefaultTargets** attribute.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample5.xml)]


<span data-ttu-id="06240-162">Dies weist MSBuild zum Aufrufen der **FullPublish** Ziel, falls sind nicht angegeben, wann MSBuild.exe aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="06240-162">This instructs MSBuild to invoke the **FullPublish** target, if targets are not specified when MSBuild.exe is invoked.</span></span> <span data-ttu-id="06240-163">Die **FullPublish** Ziel keine Aufgaben enthalten; stattdessen gibt es einfach eine Liste der Abhängigkeiten.</span><span class="sxs-lookup"><span data-stu-id="06240-163">The **FullPublish** target doesn't contain any tasks; instead it simply specifies a list of dependencies.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample6.xml)]


<span data-ttu-id="06240-164">Diese Abhängigkeit weist MSBuild zum Ausführen dieser in Reihenfolge der **FullPublish** Ziel, muss es diese Liste der Ziele in der angegebenen Reihenfolge aufgerufen:</span><span class="sxs-lookup"><span data-stu-id="06240-164">This dependency tells MSBuild that in order to execute the **FullPublish** target, it needs to invoke this list of targets in the order provided:</span></span>

1. <span data-ttu-id="06240-165">Es muss Aufrufen der **Bereinigen** Ziel.</span><span class="sxs-lookup"><span data-stu-id="06240-165">It must invoke the **Clean** target.</span></span>
2. <span data-ttu-id="06240-166">Es muss Aufrufen der **BuildProjects** Ziel.</span><span class="sxs-lookup"><span data-stu-id="06240-166">It must invoke the **BuildProjects** target.</span></span>
3. <span data-ttu-id="06240-167">Es muss Aufrufen der **GatherPackagesForPublishing** Ziel.</span><span class="sxs-lookup"><span data-stu-id="06240-167">It must invoke the **GatherPackagesForPublishing** target.</span></span>
4. <span data-ttu-id="06240-168">Es muss Aufrufen der **PublishDbPackages** Ziel.</span><span class="sxs-lookup"><span data-stu-id="06240-168">It must invoke the **PublishDbPackages** target.</span></span>
5. <span data-ttu-id="06240-169">Es muss Aufrufen der **PublishWebPackages** Ziel.</span><span class="sxs-lookup"><span data-stu-id="06240-169">It must invoke the **PublishWebPackages** target.</span></span>

### <a name="the-clean-target"></a><span data-ttu-id="06240-170">Das Clean-Ziel</span><span class="sxs-lookup"><span data-stu-id="06240-170">The Clean Target</span></span>

<span data-ttu-id="06240-171">Die **Bereinigen** Ziel löscht im Grunde das Ausgabeverzeichnis und der gesamte Inhalt, als Vorbereitung für einen neuen Build.</span><span class="sxs-lookup"><span data-stu-id="06240-171">The **Clean** target basically deletes the output directory and all its contents, as preparation for a fresh build.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample7.xml)]


<span data-ttu-id="06240-172">Beachten Sie, die das Ziel enthält eine **ItemGroup** Element.</span><span class="sxs-lookup"><span data-stu-id="06240-172">Notice that the target includes an **ItemGroup** element.</span></span> <span data-ttu-id="06240-173">Beim Definieren von Eigenschaften oder Elemente in einem **Ziel** Element, erstellen Sie *dynamische* Eigenschaften und Elemente.</span><span class="sxs-lookup"><span data-stu-id="06240-173">When you define properties or items within a **Target** element, you're creating *dynamic* properties and items.</span></span> <span data-ttu-id="06240-174">Das heißt, werden nicht die Eigenschaften oder Elemente verarbeitet, bis das Ziel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="06240-174">In other words, the properties or items aren't processed until the target is executed.</span></span> <span data-ttu-id="06240-175">Das Ausgabeverzeichnis möglicherweise nicht vorhanden oder bis der Buildprozess eingeleitet wurde, alle Dateien enthalten, so erstellt werden kann die  **\_FilesToDelete** als ein statisches Element aufgeführt; Sie müssen warten, bis die Ausführung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="06240-175">The output directory might not exist or contain any files until the build process begins, so you can't build the **\_FilesToDelete** list as a static item; you have to wait until execution is underway.</span></span> <span data-ttu-id="06240-176">Daher erstellen Sie die Liste als dynamische Element innerhalb des Ziels.</span><span class="sxs-lookup"><span data-stu-id="06240-176">As such, you build the list as a dynamic item within the target.</span></span>

> [!NOTE]
> <span data-ttu-id="06240-177">In diesem Fall, da die **Bereinigen** Ziel ist die erste ausgeführt werden, besteht keine Notwendigkeit, eine dynamische Gruppe verwenden.</span><span class="sxs-lookup"><span data-stu-id="06240-177">In this case, because the **Clean** target is the first to be executed, there's no real need to use a dynamic item group.</span></span> <span data-ttu-id="06240-178">Es ist jedoch empfohlen, dynamische Eigenschaften und Elemente in diesem Szenario verwenden, wie Ziele in einer anderen Reihenfolge späteren Zeitpunkt ausgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="06240-178">However, it's good practice to use dynamic properties and items in this type of scenario, as you might want to execute targets in a different order at some point.</span></span>  
> <span data-ttu-id="06240-179">Sie sollten auch darauf ausgerichtet, zum Vermeiden der Deklaration von Elementen, die nie verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="06240-179">You should also aim to avoid declaring items that will never be used.</span></span> <span data-ttu-id="06240-180">Wenn Sie Elemente, die durch ein bestimmtes Ziel nur verwendet werden vorliegen, sollten Sie sie in das Ziel entfernen unnötigen Aufwand zum Erstellungsprozess platziert werden.</span><span class="sxs-lookup"><span data-stu-id="06240-180">If you have items that will only be used by a specific target, consider placing them inside the target to remove any unnecessary overhead on the build process.</span></span>


<span data-ttu-id="06240-181">Dynamische Elemente reservieren, die **Bereinigen** Ziel ist recht einfach und nutzt die integrierte **Nachricht**, **löschen**, und **RemoveDir**von Aufgaben an:</span><span class="sxs-lookup"><span data-stu-id="06240-181">Dynamic items aside, the **Clean** target is fairly straightforward and makes use of the built-in **Message**, **Delete**, and **RemoveDir** tasks to:</span></span>

1. <span data-ttu-id="06240-182">Senden einer Nachricht an die Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="06240-182">Send a message to the logger.</span></span>
2. <span data-ttu-id="06240-183">Erstellen Sie eine Liste der zu löschenden Dateien an.</span><span class="sxs-lookup"><span data-stu-id="06240-183">Build a list of files to delete.</span></span>
3. <span data-ttu-id="06240-184">Löschen Sie die Dateien an.</span><span class="sxs-lookup"><span data-stu-id="06240-184">Delete the files.</span></span>
4. <span data-ttu-id="06240-185">Entfernen Sie das Ausgabeverzeichnis an.</span><span class="sxs-lookup"><span data-stu-id="06240-185">Remove the output directory.</span></span>

### <a name="the-buildprojects-target"></a><span data-ttu-id="06240-186">Das Ziel BuildProjects</span><span class="sxs-lookup"><span data-stu-id="06240-186">The BuildProjects Target</span></span>

<span data-ttu-id="06240-187">Die **BuildProjects** Ziel im Grunde genommen alle Projekte in der Beispielprojektmappe erstellt.</span><span class="sxs-lookup"><span data-stu-id="06240-187">The **BuildProjects** target basically builds all the projects in the sample solution.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample8.xml)]


<span data-ttu-id="06240-188">Dieses Ziel wurde im vorherigen Thema ausführlich beschrieben [verstehen die Projektdatei](understanding-the-project-file.md), um zu veranschaulichen, wie Aufgaben und Ziele Eigenschaften und Elemente verweisen.</span><span class="sxs-lookup"><span data-stu-id="06240-188">This target was described in some detail in the previous topic, [Understanding the Project File](understanding-the-project-file.md), to illustrate how tasks and targets reference properties and items.</span></span> <span data-ttu-id="06240-189">An diesem Punkt sind vor allem interessiert die **MSBuild** Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="06240-189">At this point, you're mainly interested in the **MSBuild** task.</span></span> <span data-ttu-id="06240-190">Sie können diese Aufgabe verwenden, um mehrere Projekte zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="06240-190">You can use this task to build multiple projects.</span></span> <span data-ttu-id="06240-191">Der Task erstellt eine neue Instanz von MSBuild.exe nicht; die derzeit ausgeführte Instanz verwendet, um jedes Projekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="06240-191">The task does not create a new instance of MSBuild.exe; it uses the current running instance to build each project.</span></span> <span data-ttu-id="06240-192">Das wichtige Punkte in diesem Beispiel werden die Bereitstellungseigenschaften:</span><span class="sxs-lookup"><span data-stu-id="06240-192">The key points of interest in this example are the deployment properties:</span></span>

- <span data-ttu-id="06240-193">Die **DeployOnBuild** Eigenschaft weist MSBuild alle Anweisungen zur Bereitstellung in den projekteinstellungen ausgeführt, wenn der Build für jedes Projekt abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="06240-193">The **DeployOnBuild** property instructs MSBuild to run any deployment instructions in the project settings when the build of each project is complete.</span></span>
- <span data-ttu-id="06240-194">Die **DeployTarget** Eigenschaft identifiziert das Ziel, das Sie nach der Erstellung des Projekts aufrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="06240-194">The **DeployTarget** property identifies the target that you want to invoke after the project is built.</span></span> <span data-ttu-id="06240-195">In diesem Fall die **Paket** Ziel erstellt die Projektausgabe in ein Webpaket zur Bereitstellung geeignete.</span><span class="sxs-lookup"><span data-stu-id="06240-195">In this case, the **Package** target builds the project output into a deployable web package.</span></span>

> [!NOTE]
> <span data-ttu-id="06240-196">Die **Paket** -Ziel Ruft die Web veröffentlichen Pipeline (WPP), die Integration von MSBuild und Web Deploy bietet.</span><span class="sxs-lookup"><span data-stu-id="06240-196">The **Package** target invokes the Web Publishing Pipeline (WPP), which provides integration between MSBuild and Web Deploy.</span></span> <span data-ttu-id="06240-197">Wenn Sie einen Blick auf die integrierte Ziele, die WPP bereitstellt, lesen Sie möchten die *Microsoft.Web.Publishing.targets* Datei im Ordner "% PROGRAMFILES (x 86) %\MSBuild\Microsoft\VisualStudio\v10.0\Web".</span><span class="sxs-lookup"><span data-stu-id="06240-197">If you want to take a look at the built-in targets that the WPP provides, review the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span>


### <a name="the-gatherpackagesforpublishing-target"></a><span data-ttu-id="06240-198">Das Ziel GatherPackagesForPublishing</span><span class="sxs-lookup"><span data-stu-id="06240-198">The GatherPackagesForPublishing Target</span></span>

<span data-ttu-id="06240-199">Wenn Sie untersuchen die **GatherPackagesForPublishing** Ziel, werden Sie feststellen, dass es tatsächlich alle Aufgaben enthält.</span><span class="sxs-lookup"><span data-stu-id="06240-199">If you study the **GatherPackagesForPublishing** target, you'll notice that it doesn't actually contain any tasks.</span></span> <span data-ttu-id="06240-200">Stattdessen enthält es eine einzelnes Element-Gruppe, die drei dynamischen Elemente definiert.</span><span class="sxs-lookup"><span data-stu-id="06240-200">Instead, it contains a single item group that defines three dynamic items.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample9.xml)]


<span data-ttu-id="06240-201">Diese Elemente beziehen sich auf die Bereitstellungspakete aus, die erstellt wurden die **BuildProjects** Ziel ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="06240-201">These items refer to the deployment packages that were created when the **BuildProjects** target was executed.</span></span> <span data-ttu-id="06240-202">Sie konnten nicht definieren diese Elemente statisch in der Projektdatei, da die Dateien, die auf dem die Elemente verweisen bis vorhanden sind, nicht die **BuildProjects** Ziel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="06240-202">You couldn't define these items statically in the project file, because the files to which the items refer don't exist until the **BuildProjects** target is executed.</span></span> <span data-ttu-id="06240-203">Stattdessen die Elemente müssen definiert werden dynamisch in ein Ziel, das nicht, erst aufgerufen wird nach der **BuildProjects** Ziel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="06240-203">Instead, the items must be defined dynamically within a target that is not invoked until after the **BuildProjects** target is executed.</span></span>

<span data-ttu-id="06240-204">Die Elemente werden nicht innerhalb dieses Ziel & #x 2014 verwendet; dieses Ziel einfach erstellt werden, die Elemente und die Metadaten jeder Elementwert zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="06240-204">The items are not used within this target&#x2014;this target simply builds the items and the metadata associated with each item value.</span></span> <span data-ttu-id="06240-205">Sobald diese Elemente verarbeitet werden, die **PublishPackages** Element enthält zwei Werte und den Pfad zu der *ContactManager.Mvc.deploy.cmd* Datei und den Pfad zu der  *ContactManager.Service.deploy.cmd* Datei.</span><span class="sxs-lookup"><span data-stu-id="06240-205">Once these elements are processed, the **PublishPackages** item will contain two values, the path to the *ContactManager.Mvc.deploy.cmd* file and the path to the *ContactManager.Service.deploy.cmd* file.</span></span> <span data-ttu-id="06240-206">Web Deploy erstellt diese Dateien als Teil der Web-Paket für jedes Projekt, und dies sind die Dateien, die Sie aufrufen müssen auf dem Zielserver, um die Pakete bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="06240-206">Web Deploy creates these files as part of the web package for each project, and these are the files that you must invoke on the destination server in order to deploy the packages.</span></span> <span data-ttu-id="06240-207">Wenn Sie eine dieser Dateien zu öffnen, sehen Sie im Grunde einen Befehl "MSDeploy.exe" mit verschiedenen Parameterwerten für die Build-spezifische.</span><span class="sxs-lookup"><span data-stu-id="06240-207">If you open up one of these files, you'll basically see an MSDeploy.exe command with various build-specific parameter values.</span></span>

<span data-ttu-id="06240-208">Die **DbPublishPackages** Element enthält einen einzelnen Wert, der den Pfad zu der *ContactManager.Database.deploymanifest* Datei.</span><span class="sxs-lookup"><span data-stu-id="06240-208">The **DbPublishPackages** item will contain a single value, the path to the *ContactManager.Database.deploymanifest* file.</span></span>

> [!NOTE]
> <span data-ttu-id="06240-209">Eine DEPLOYMANIFEST-Datei wird generiert, wenn Sie ein Datenbankprojekt erstellen und das gleiche Schema wie eine MSBuild-Projektdatei verwendet.</span><span class="sxs-lookup"><span data-stu-id="06240-209">A .deploymanifest file is generated when you build a database project, and it uses the same schema as an MSBuild project file.</span></span> <span data-ttu-id="06240-210">Sie enthält alle Informationen, die zum Bereitstellen einer Datenbank, einschließlich der Speicherort des Datenbankschemas (.dbschema) und Details zum beliebiger anderer Skripts vor und nach der Bereitstellung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="06240-210">It contains all the information required to deploy a database, including the location of the database schema (.dbschema) and details of any pre-deployment and post-deployment scripts.</span></span> <span data-ttu-id="06240-211">Weitere Informationen finden Sie unter [eine Übersicht über die der Datenbank zu erstellen und die Bereitstellung](https://msdn.microsoft.com/library/aa833165.aspx).</span><span class="sxs-lookup"><span data-stu-id="06240-211">For more information, see [An Overview of Database Build and Deployment](https://msdn.microsoft.com/library/aa833165.aspx).</span></span>


<span data-ttu-id="06240-212">Erfahren Sie mehr darüber, wie Pakete und die Bereitstellungsmanifeste für die Datenbank erstellt und verwendet [erstellen und Packen Webanwendungsprojekte](building-and-packaging-web-application-projects.md) und [Datenbankprojekte bereitstellen](deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="06240-212">You'll learn more about how deployment packages and database deployment manifests are created and used in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Deploying Database Projects](deploying-database-projects.md).</span></span>

### <a name="the-publishdbpackages-target"></a><span data-ttu-id="06240-213">Das Ziel PublishDbPackages</span><span class="sxs-lookup"><span data-stu-id="06240-213">The PublishDbPackages Target</span></span>

<span data-ttu-id="06240-214">Kurz gesagt der **PublishDbPackages** -Ziel Ruft die VSDBCMD-Dienstprogramm zum Bereitstellen der **ContactManager** Datenbank in einer zielumgebung.</span><span class="sxs-lookup"><span data-stu-id="06240-214">Briefly speaking, the **PublishDbPackages** target invokes the VSDBCMD utility to deploy the **ContactManager** database to a target environment.</span></span> <span data-ttu-id="06240-215">Das Konfigurieren von datenbankbereitstellung umfasst viele Entscheidungen und feinen Unterschieden bei vertraut, und erfahren Sie mehr über den in [Datenbankprojekte bereitstellen](deploying-database-projects.md) und [Anpassen von Datenbank-Bereitstellungen für mehrere Umgebungen](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span><span class="sxs-lookup"><span data-stu-id="06240-215">Configuring database deployment involves lots of decisions and nuances, and you'll learn more about this in [Deploying Database Projects](deploying-database-projects.md) and [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span> <span data-ttu-id="06240-216">In diesem Thema konzentrieren wir uns auf dieses Ziel wie tatsächlich funktioniert.</span><span class="sxs-lookup"><span data-stu-id="06240-216">In this topic, we'll focus on how this target actually functions.</span></span>

<span data-ttu-id="06240-217">Erstens ist zu beachten, dass das öffnende Tag enthält eine **Ausgaben** Attribut.</span><span class="sxs-lookup"><span data-stu-id="06240-217">First, notice that the opening tag includes an **Outputs** attribute.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample10.xml)]


<span data-ttu-id="06240-218">Dies ist ein Beispiel der *Batchverarbeitung von Zielen*.</span><span class="sxs-lookup"><span data-stu-id="06240-218">This is an example of *target batching*.</span></span> <span data-ttu-id="06240-219">In MSBuild-Projektdateien ist Batchverarbeitung eine Technik zum Durchlaufen der Auflistungen aus.</span><span class="sxs-lookup"><span data-stu-id="06240-219">In MSBuild project files, batching is a technique for iterating over collections.</span></span> <span data-ttu-id="06240-220">Der Wert des der **Ausgaben** -Attribut, **"% (DbPublishPackages.Identity)"**, bezieht sich auf die **Identität** Metadata-Eigenschaft von der **DbPublishPackages**  Elementliste.</span><span class="sxs-lookup"><span data-stu-id="06240-220">The value of the **Outputs** attribute, **"%(DbPublishPackages.Identity)"**, refers to the **Identity** metadata property of the **DbPublishPackages** item list.</span></span> <span data-ttu-id="06240-221">Diese Notation **Outputs=%***(ItemList.ItemMetadataName)*, wird als übersetzt:</span><span class="sxs-lookup"><span data-stu-id="06240-221">This notation, **Outputs=%***(ItemList.ItemMetadataName)*, is translated as:</span></span>

- <span data-ttu-id="06240-222">Teilen die Elemente in **DbPublishPackages** in Batches von Elementen, die die gleiche **Identität** Metadatenwert.</span><span class="sxs-lookup"><span data-stu-id="06240-222">Split the items in **DbPublishPackages** into batches of items that contain the same **Identity** metadata value.</span></span>
- <span data-ttu-id="06240-223">Führen Sie das Ziel einmal pro Batch.</span><span class="sxs-lookup"><span data-stu-id="06240-223">Execute the target once per batch.</span></span>

> [!NOTE]
> <span data-ttu-id="06240-224">**Identität** ist eines der [integrierte Metadatenwerte](https://msdn.microsoft.com/library/ms164313.aspx) , die jedes Element bei der Erstellung zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="06240-224">**Identity** is one of the [built-in metadata values](https://msdn.microsoft.com/library/ms164313.aspx) that is assigned to every item on creation.</span></span> <span data-ttu-id="06240-225">Er verweist auf den Wert von der **Include** Attribut in der **Element** -Element & #x 2014; das heißt, den Pfad und Dateinamen des Elements.</span><span class="sxs-lookup"><span data-stu-id="06240-225">It refers to the value of the **Include** attribute in the **Item** element&#x2014;in other words, the path and filename of the item.</span></span>


<span data-ttu-id="06240-226">In diesem Fall, da es nie mehr als ein Element mit dem gleichen Pfad und Dateiname vorhanden sein sollte, arbeiten es im Wesentlichen mit Batchgrößen eines.</span><span class="sxs-lookup"><span data-stu-id="06240-226">In this case, because there should never be more than one item with the same path and filename, we're essentially working with batch sizes of one.</span></span> <span data-ttu-id="06240-227">Das Ziel wird einmal für jedes Datenbankpaket ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="06240-227">The target is executed once for every database package.</span></span>

<span data-ttu-id="06240-228">Sehen Sie eine ähnliche Notation in der  **\_Cmd** -Eigenschaft, die einen VSDBCMD-Befehl mit der entsprechenden Switches erstellt.</span><span class="sxs-lookup"><span data-stu-id="06240-228">You can see a similar notation in the **\_Cmd** property, which builds a VSDBCMD command with the appropriate switches.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample11.xml)]


<span data-ttu-id="06240-229">In diesem Fall **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, und **%(DbPublishPackages.FullPath)** alle finden Sie unter Metadatenwerte, der die **DbPublishPackages** -Elementauflistung.</span><span class="sxs-lookup"><span data-stu-id="06240-229">In this case, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, and **%(DbPublishPackages.FullPath)** all refer to metadata values of the **DbPublishPackages** item collection.</span></span> <span data-ttu-id="06240-230">Die  **\_Cmd** Eigenschaft wird verwendet, durch die **Exec** Task, der den Befehl aufruft.</span><span class="sxs-lookup"><span data-stu-id="06240-230">The **\_Cmd** property is used by the **Exec** task, which invokes the command.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample12.xml)]


<span data-ttu-id="06240-231">Als Ergebnis dieser Notation der **Exec** aufgabenerstellung basierend auf eindeutige Kombinationen von Batches den **DatabaseConnectionString**, **TargetDatabase**, und **FullPath** Metadatenwerte und die Aufgabe wird einmal für jeden Batch ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="06240-231">As a result of this notation, the **Exec** task will create batches based on unique combinations of the **DatabaseConnectionString**, **TargetDatabase**, and **FullPath** metadata values, and the task will execute once for each batch.</span></span> <span data-ttu-id="06240-232">Dies ist ein Beispiel der *Aufgabenbatchverarbeitung*.</span><span class="sxs-lookup"><span data-stu-id="06240-232">This is an example of *task batching*.</span></span> <span data-ttu-id="06240-233">Jedoch, da die Zielebene Batchverarbeitung bereits unsere Item-Auflistung in einzelne-Item-Batches unterteilt wurde die **Exec** Task nur einmal für jede Iteration des Ziels ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="06240-233">However, because the target-level batching has already divided our item collection into single-item batches, the **Exec** task will run once and only once for each iteration of the target.</span></span> <span data-ttu-id="06240-234">Das heißt, wird diese Aufgabe des Hilfsprogramms VSDBCMD einmal für jede Datenbankpaket in der Projektmappe aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="06240-234">In other words, this task invokes the VSDBCMD utility once for each database package in the solution.</span></span>

> [!NOTE]
> <span data-ttu-id="06240-235">Weitere Informationen zu Ziel- und Batchverarbeitung von Aufgaben, finden Sie unter MSBuild [Batchverarbeitung](https://msdn.microsoft.com/library/ms171473.aspx), [Elementmetadaten bei der Batchverarbeitung von Zielen](https://msdn.microsoft.com/library/ms228229.aspx), und [Elementmetadaten bei der Batchverarbeitung von Aufgaben](https://msdn.microsoft.com/library/ms171474.aspx).</span><span class="sxs-lookup"><span data-stu-id="06240-235">For more information on target and task batching, see MSBuild [Batching](https://msdn.microsoft.com/library/ms171473.aspx), [Item Metadata in Target Batching](https://msdn.microsoft.com/library/ms228229.aspx), and [Item Metadata in Task Batching](https://msdn.microsoft.com/library/ms171474.aspx).</span></span>


### <a name="the-publishwebpackages-target"></a><span data-ttu-id="06240-236">Das Ziel PublishWebPackages</span><span class="sxs-lookup"><span data-stu-id="06240-236">The PublishWebPackages Target</span></span>

<span data-ttu-id="06240-237">Zu diesem Zeitpunkt aufgerufen haben die **BuildProjects** Ziel, die in der Beispielprojektmappe ein Webbereitstellungspaket für jedes Projekt generiert.</span><span class="sxs-lookup"><span data-stu-id="06240-237">By this point, you've invoked the **BuildProjects** target, which generates a web deployment package for each project in the sample solution.</span></span> <span data-ttu-id="06240-238">Begleitende jedes Paket ist eine *deploy.cmd* Datei, die die MSDeploy.exe Befehle zum Bereitstellen des Pakets in der zielumgebung enthält, und ein *SetParameters.xml* Datei, der angibt, die Details zu der zielumgebung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="06240-238">Accompanying each package is a *deploy.cmd* file, which contains the MSDeploy.exe commands required to deploy the package to the target environment, and a *SetParameters.xml* file, which specifies the necessary details of the target environment.</span></span> <span data-ttu-id="06240-239">Sie haben auch aufgerufen, die **GatherPackagesForPublishing** Ziels, das eine Element-Auflistung mit generiert die *deploy.cmd* Dateien, die Sie interessiert sind.</span><span class="sxs-lookup"><span data-stu-id="06240-239">You've also invoked the **GatherPackagesForPublishing** target, which generates an item collection containing the *deploy.cmd* files you're interested in.</span></span> <span data-ttu-id="06240-240">Im Wesentlichen die **PublishWebPackages** Ziel führt diese Funktionen:</span><span class="sxs-lookup"><span data-stu-id="06240-240">Essentially, the **PublishWebPackages** target performs these functions:</span></span>

- <span data-ttu-id="06240-241">Es bearbeitet die *SetParameters.xml* -Datei für jedes Paket in den richtigen Details für die zielumgebung mithilfe der **XmlPoke** Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="06240-241">It manipulates the *SetParameters.xml* file for each package to include the correct details for the target environment, using the **XmlPoke** task.</span></span>
- <span data-ttu-id="06240-242">Ruft die *deploy.cmd* Datei für jedes Paket, mit der entsprechenden Switches.</span><span class="sxs-lookup"><span data-stu-id="06240-242">It invokes the *deploy.cmd* file for each package, using the appropriate switches.</span></span>

<span data-ttu-id="06240-243">Ebenso wie die **PublishDbPackages** Ziel, die **PublishWebPackages** -Ziel verwendet Batchverarbeitung von Zielen, um sicherzustellen, dass das Ziel einmal für jedes Webpaket ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="06240-243">Just like the **PublishDbPackages** target, the **PublishWebPackages** target uses target batching to ensure that the target is executed once for each web package.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample13.xml)]


<span data-ttu-id="06240-244">Innerhalb des Ziels der **Exec** Task dient zum Ausführen der *deploy.cmd* -Datei für jede Web-Paket.</span><span class="sxs-lookup"><span data-stu-id="06240-244">Within the target, the **Exec** task is used to run the *deploy.cmd* file for each web package.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample14.xml)]


<span data-ttu-id="06240-245">Weitere Informationen zum Konfigurieren der Bereitstellung von Webpaketen finden Sie unter [erstellen und Packen Webanwendungsprojekte](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="06240-245">For more information on configuring the deployment of web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="06240-246">Schlussbemerkung</span><span class="sxs-lookup"><span data-stu-id="06240-246">Conclusion</span></span>

<span data-ttu-id="06240-247">In diesem Thema bereitgestellten eine exemplarische Vorgehensweise wie Split-Projektdateien zum Steuern des Build- und Bereitstellungsprozess Prozess von Anfang bis Ende für die Kontakt-Manager-beispiellösung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="06240-247">This topic provided a walkthrough of how split project files are used to control the build and deployment process from start to finish for the Contact Manager sample solution.</span></span> <span data-ttu-id="06240-248">Bei diesem Ansatz kann Ausführen komplexer, Enterprise-Bereitstellungen in einem einzelnen, wiederholbare Schritt einfach, indem Sie eine Befehlsdatei umgebungsspezifische ausführen.</span><span class="sxs-lookup"><span data-stu-id="06240-248">Using this approach lets you run complex, enterprise-scale deployments in a single, repeatable step, simply by running an environment-specific command file.</span></span>

## <a name="further-reading"></a><span data-ttu-id="06240-249">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="06240-249">Further Reading</span></span>

<span data-ttu-id="06240-250">Eine ausführliche Einführung in die Projektdateien und die WPP finden Sie unter [innerhalb der Microsoft Build Engine: Verwenden von MSBuild und Team Foundation Build](http://amzn.com/0735645248) Sayed Ibrahim Hashimi und William Bartholomew, ISBN-Nummer: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="06240-250">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="06240-251">[Zurück](understanding-the-project-file.md)
[Weiter](building-and-packaging-web-application-projects.md)</span><span class="sxs-lookup"><span data-stu-id="06240-251">[Previous](understanding-the-project-file.md)
[Next](building-and-packaging-web-application-projects.md)</span></span>
