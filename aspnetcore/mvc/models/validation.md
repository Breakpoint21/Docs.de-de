---
title: Modellvalidierung in ASP.NET Core MVC
author: rachelappel
description: Informationen Sie zur modellvalidierung in ASP.NET Core MVC.
keywords: ASP.NET Core, MVC-Validierung
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: 3a8676dd-7ed8-4a05-bca2-44e288ab99ee
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/models/validation
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: a3f3f7010d7744d59ce2dd88b323418423b3ae08
ms.sourcegitcommit: 9ecd4e9fb0c40c3693dab079eab1ff94b461c922
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2017
---
# <a name="introduction-to-model-validation-in-aspnet-core-mvc"></a><span data-ttu-id="0cd13-104">Einführung in die modellvalidierung in ASP.NET Core MVC</span><span class="sxs-lookup"><span data-stu-id="0cd13-104">Introduction to model validation in ASP.NET Core MVC</span></span>

<span data-ttu-id="0cd13-105">Durch [Rachel Appel](https://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="0cd13-105">By [Rachel Appel](https://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-validation"></a><span data-ttu-id="0cd13-106">Einführung in die modellvalidierung</span><span class="sxs-lookup"><span data-stu-id="0cd13-106">Introduction to model validation</span></span>

<span data-ttu-id="0cd13-107">Bevor eine Anwendung Daten in einer Datenbank speichert, muss die app Daten überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="0cd13-107">Before an app stores data in a database, the app must validate the data.</span></span> <span data-ttu-id="0cd13-108">Für Sicherheitsrisiken, bestätigt, dass nach Typ, Größe und entsprechend formatiert ist, und muss den Regeln entsprechen, müssen Daten überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="0cd13-108">Data must be checked for potential security threats, verified that it is appropriately formatted by type and size, and it must conform to your rules.</span></span> <span data-ttu-id="0cd13-109">Überprüfung ist erforderlich, obwohl sie redundante und einfacher zu implementieren sein kann.</span><span class="sxs-lookup"><span data-stu-id="0cd13-109">Validation is necessary although it can be redundant and tedious to implement.</span></span> <span data-ttu-id="0cd13-110">In MVC geschieht, Validierung auf dem Client und Server.</span><span class="sxs-lookup"><span data-stu-id="0cd13-110">In MVC, validation happens on both the client and server.</span></span>

<span data-ttu-id="0cd13-111">Glücklicherweise verfügt über .NET Überprüfung in Validierungsattribute abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="0cd13-111">Fortunately, .NET has abstracted validation into validation attributes.</span></span> <span data-ttu-id="0cd13-112">Diese Attribute enthalten Validierungscode, gesenkt und die Menge an Code, den Sie schreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-112">These attributes contain validation code, thereby reducing the amount of code you must write.</span></span>

<span data-ttu-id="0cd13-113">[Anzeigen oder Herunterladen des Beispiels aus GitHub](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/models/validation/sample).</span><span class="sxs-lookup"><span data-stu-id="0cd13-113">[View or download sample from GitHub](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/models/validation/sample).</span></span>

## <a name="validation-attributes"></a><span data-ttu-id="0cd13-114">Validierungsattribute</span><span class="sxs-lookup"><span data-stu-id="0cd13-114">Validation Attributes</span></span>

<span data-ttu-id="0cd13-115">Validierungsattribute sind eine Möglichkeit, modellvalidierung zu konfigurieren, damit es grundsätzlich Überprüfung auf Felder in Datenbanktabellen ähnlich ist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-115">Validation attributes are a way to configure model validation so it's similar conceptually to validation on fields in database tables.</span></span> <span data-ttu-id="0cd13-116">Dazu gehören Einschränkungen wie z. B. das Zuweisen von Datentypen oder Pflichtfelder.</span><span class="sxs-lookup"><span data-stu-id="0cd13-116">This includes constraints such as assigning data types or required fields.</span></span> <span data-ttu-id="0cd13-117">Andere Typen von Validierung umfasst die Anwendung von Mustern auf Daten zum Erzwingen von Geschäftsregeln, z. B. eine Kreditkarte, Telefonnummer oder e-Mail-Adresse.</span><span class="sxs-lookup"><span data-stu-id="0cd13-117">Other types of validation include applying patterns to data to enforce business rules, such as a credit card, phone number, or email address.</span></span> <span data-ttu-id="0cd13-118">Validierungsattribute stellen erzwingen diese Anforderungen wesentlich einfacher und leichter zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="0cd13-118">Validation attributes make enforcing these requirements much simpler and easier to use.</span></span>

<span data-ttu-id="0cd13-119">Im folgenden finden Sie eine mit Anmerkungen `Movie` -Modell aus einer app, die Informationen zu Videos und TV-Serien speichert.</span><span class="sxs-lookup"><span data-stu-id="0cd13-119">Below is an annotated `Movie` model from an app that stores information about movies and TV shows.</span></span> <span data-ttu-id="0cd13-120">Die meisten Eigenschaften erforderlich sind, und mehrere Zeichenfolgeneigenschaften Länge gelten.</span><span class="sxs-lookup"><span data-stu-id="0cd13-120">Most of the properties are required and several string properties have length requirements.</span></span> <span data-ttu-id="0cd13-121">Darüber hinaus steht eine Einschränkung numerischen Bereich vorhanden, für die `Price` Eigenschaft von 0 bis $999,99, zusammen mit einem benutzerdefinierten Validierungsattribut.</span><span class="sxs-lookup"><span data-stu-id="0cd13-121">Additionally, there is a numeric range restriction in place for the `Price` property from 0 to $999.99, along with a custom validation attribute.</span></span>

[!code-csharp[Main](validation/sample/Movie.cs?range=6-29)]

<span data-ttu-id="0cd13-122">Durch das Modell einfach lesen wird die Regeln zu Daten für diese app, erleichtert es, den Code beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="0cd13-122">Simply reading through the model reveals the rules about data for this app, making it easier to maintain the code.</span></span> <span data-ttu-id="0cd13-123">Im folgenden sind einige gängige integrierte Validierungsattribute:</span><span class="sxs-lookup"><span data-stu-id="0cd13-123">Below are several popular built-in validation attributes:</span></span>

* <span data-ttu-id="0cd13-124">`[CreditCard]`: Überprüft die Eigenschaft weist eine Kreditkarte-Format.</span><span class="sxs-lookup"><span data-stu-id="0cd13-124">`[CreditCard]`: Validates the property has a credit card format.</span></span>

* <span data-ttu-id="0cd13-125">`[Compare]`: Zwei Eigenschaften in einem Modell Übereinstimmung überprüft.</span><span class="sxs-lookup"><span data-stu-id="0cd13-125">`[Compare]`: Validates two properties in a model match.</span></span>

* <span data-ttu-id="0cd13-126">`[EmailAddress]`: Überprüft die Eigenschaft hat eine e-Mail-Format.</span><span class="sxs-lookup"><span data-stu-id="0cd13-126">`[EmailAddress]`: Validates the property has an email format.</span></span>

* <span data-ttu-id="0cd13-127">`[Phone]`: Überprüft die Eigenschaft verfügt über ein Telefon-Format.</span><span class="sxs-lookup"><span data-stu-id="0cd13-127">`[Phone]`: Validates the property has a telephone format.</span></span>

* <span data-ttu-id="0cd13-128">`[Range]`: Überprüft die Eigenschaft Wert in den angegebenen Bereich fällt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-128">`[Range]`: Validates the property value falls within the given range.</span></span>

* <span data-ttu-id="0cd13-129">`[RegularExpression]`: Überprüft, dass die Daten mit den angegebenen regulären Ausdruck übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-129">`[RegularExpression]`: Validates that the data matches the specified regular expression.</span></span>

* <span data-ttu-id="0cd13-130">`[Required]`: Eine Eigenschaft erforderlich macht.</span><span class="sxs-lookup"><span data-stu-id="0cd13-130">`[Required]`: Makes a property required.</span></span>

* <span data-ttu-id="0cd13-131">`[StringLength]`: Überprüft, dass eine Zeichenfolgeneigenschaft höchstens die angegebene maximale Länge verfügt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-131">`[StringLength]`: Validates that a string property has at most the given maximum length.</span></span>

* <span data-ttu-id="0cd13-132">`[Url]`: Überprüft die Eigenschaft verfügt über eine URL-Format.</span><span class="sxs-lookup"><span data-stu-id="0cd13-132">`[Url]`: Validates the property has a URL format.</span></span>

<span data-ttu-id="0cd13-133">MVC unterstützt jedes Attribut, das von abgeleitet ist `ValidationAttribute` zu Validierungszwecken.</span><span class="sxs-lookup"><span data-stu-id="0cd13-133">MVC supports any attribute that derives from `ValidationAttribute` for validation purposes.</span></span> <span data-ttu-id="0cd13-134">Viele nützliche Validierungsattribute finden Sie in der [System.ComponentModel.DataAnnotations](https://docs.microsoft.com/dotnet/api/system.componentmodel.dataannotations) Namespace.</span><span class="sxs-lookup"><span data-stu-id="0cd13-134">Many useful validation attributes can be found in the [System.ComponentModel.DataAnnotations](https://docs.microsoft.com/dotnet/api/system.componentmodel.dataannotations) namespace.</span></span>

<span data-ttu-id="0cd13-135">Es kann sein, dass Instanzen, in denen Sie mehr Funktionen als integrierte Attribute bieten erforderlich, ist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-135">There may be instances where you need more features than built-in attributes provide.</span></span> <span data-ttu-id="0cd13-136">Für diese Zeiten können Sie eigene benutzerdefinierte Validierungsattribute erstellen, durch Ableiten von `ValidationAttribute` oder ändern Ihr Modell implementiert `IValidatableObject`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-136">For those times, you can create custom validation attributes by deriving from `ValidationAttribute` or changing your model to implement `IValidatableObject`.</span></span>

## <a name="notes-on-the-use-of-the-required-attribute"></a><span data-ttu-id="0cd13-137">Hinweise zur Verwendung des erforderlichen Attributs</span><span class="sxs-lookup"><span data-stu-id="0cd13-137">Notes on the use of the Required attribute</span></span>

<span data-ttu-id="0cd13-138">[Werttypen](/dotnet/csharp/language-reference/keywords/value-types), bei denen es sich nicht um Nullable-Typen handelt (wie z.B. `decimal`, `int`, `float` und `DateTime`), sind grundsätzlich erforderlich und benötigen das Attribut `Required` nicht.</span><span class="sxs-lookup"><span data-stu-id="0cd13-138">Non-nullable [value types](/dotnet/csharp/language-reference/keywords/value-types) (such as `decimal`, `int`, `float`, and `DateTime`) are inherently required and don't need the `Required` attribute.</span></span> <span data-ttu-id="0cd13-139">Die app keine serverseitige validierungsüberprüfungen durchführt, für NULL-Typen, die markiert sind `Required`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-139">The app performs no server-side validation checks for non-nullable types that are marked `Required`.</span></span>

<span data-ttu-id="0cd13-140">MVC-modellbindung, die mit der Überprüfung und Validierungsattribute betroffenen befindet sich nicht, wird abgelehnt, eine Formularübergabe-Feld mit einem fehlenden Wert oder ein Leerzeichen für einen NULL-Werte zulässt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-140">MVC model binding, which isn't concerned with validation and validation attributes, rejects a form field submission containing a missing value or whitespace for a non-nullable type.</span></span> <span data-ttu-id="0cd13-141">In Ermangelung einer `BindRequired` Attribut auf die Zieleigenschaft ignoriert wurden die modellbindung fehlende Daten für nicht auf NULL festlegbare Typen, in denen das Formularfeld nicht vorhanden ist aus der eingehenden Formulardaten.</span><span class="sxs-lookup"><span data-stu-id="0cd13-141">In the absence of a `BindRequired` attribute on the target property, model binding ignores missing data for non-nullable types, where the form field is absent from the incoming form data.</span></span>

<span data-ttu-id="0cd13-142">Die [BindRequired Attribut](/aspnet/core/api/microsoft.aspnetcore.mvc.modelbinding.bindrequiredattribute) (Siehe auch [Modell Bindungsverhalten mit Attributen anpassen](xref:mvc/models/model-binding#customize-model-binding-behavior-with-attributes)) ist nützlich, um sicherzustellen, dass Formulardaten ist abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-142">The [BindRequired attribute](/aspnet/core/api/microsoft.aspnetcore.mvc.modelbinding.bindrequiredattribute) (also see [Customize model binding behavior with attributes](xref:mvc/models/model-binding#customize-model-binding-behavior-with-attributes)) is useful to ensure form data is complete.</span></span> <span data-ttu-id="0cd13-143">Bei Anwendung auf eine Eigenschaft muss das Bindungssystem Modell ein Wert für diese Eigenschaft an.</span><span class="sxs-lookup"><span data-stu-id="0cd13-143">When applied to a property, the model binding system requires a value for that property.</span></span> <span data-ttu-id="0cd13-144">Wenn auf einen Typ angewendet wird, erfordert das Bindungssystem Modell Werte für alle Eigenschaften des betreffenden Typs an.</span><span class="sxs-lookup"><span data-stu-id="0cd13-144">When applied to a type, the model binding system requires values for all of the properties of that type.</span></span>

<span data-ttu-id="0cd13-145">Bei Verwendung von einer [Nullable\<T > Typ](/dotnet/csharp/programming-guide/nullable-types/) (z. B. `decimal?` oder `System.Nullable<decimal>`) und kennzeichnen Sie es `Required`, serverseitige Validierung wird ausgeführt, als wäre die Eigenschaft eines Standardtyps NULL-Werte zulässt (für Beispiel einer `string`).</span><span class="sxs-lookup"><span data-stu-id="0cd13-145">When you use a [Nullable\<T> type](/dotnet/csharp/programming-guide/nullable-types/) (for example, `decimal?` or `System.Nullable<decimal>`) and mark it `Required`, a server-side validation check is performed as if the property were a standard nullable type (for example, a `string`).</span></span>

<span data-ttu-id="0cd13-146">Die clientseitige Validierung erfordert einen Wert für ein Formularfeld, die eine Modelleigenschaft entspricht, die Sie markiert haben `Required` und für eine NULL-Type-Eigenschaft, die Sie noch nicht markiert `Required`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-146">Client-side validation requires a value for a form field that corresponds to a model property that you've marked `Required` and for a non-nullable type property that you haven't marked `Required`.</span></span> <span data-ttu-id="0cd13-147">`Required`kann verwendet werden, um die clientseitige Validierungsfehlermeldung zu steuern.</span><span class="sxs-lookup"><span data-stu-id="0cd13-147">`Required` can be used to control the client-side validation error message.</span></span>

## <a name="model-state"></a><span data-ttu-id="0cd13-148">Modellstatus</span><span class="sxs-lookup"><span data-stu-id="0cd13-148">Model State</span></span>

<span data-ttu-id="0cd13-149">Modellstatus darstellt Validierungsfehler in übermittelte Formularwerte in HTML.</span><span class="sxs-lookup"><span data-stu-id="0cd13-149">Model state represents validation errors in submitted HTML form values.</span></span>

<span data-ttu-id="0cd13-150">MVC weiterhin Überprüfen von Feldern bis erreicht die maximale Anzahl von Fehlern (standardmäßig 200).</span><span class="sxs-lookup"><span data-stu-id="0cd13-150">MVC will continue validating fields until reaches the maximum number of errors (200 by default).</span></span> <span data-ttu-id="0cd13-151">Konfigurieren Sie diese Zahl, indem das Einfügen von den folgenden Code in die `ConfigureServices` Methode in der *Startup.cs* Datei:</span><span class="sxs-lookup"><span data-stu-id="0cd13-151">You can configure this number by inserting the following code into the `ConfigureServices` method in the *Startup.cs* file:</span></span>

[!code-csharp[Main](validation/sample/Startup.cs?range=27)]

## <a name="handling-model-state-errors"></a><span data-ttu-id="0cd13-152">Modellstatus Behandeln von Fehlern</span><span class="sxs-lookup"><span data-stu-id="0cd13-152">Handling Model State Errors</span></span>

<span data-ttu-id="0cd13-153">Modellvalidierung vor jeder Controlleraktion aufgerufen wurde, und es wird die Aktionsmethode dafür verantwortlich, um zu überprüfen `ModelState.IsValid` und entsprechend reagieren.</span><span class="sxs-lookup"><span data-stu-id="0cd13-153">Model validation occurs prior to each controller action being invoked, and it is the action method’s responsibility to inspect `ModelState.IsValid` and react appropriately.</span></span> <span data-ttu-id="0cd13-154">In vielen Fällen wird die entsprechende Reaktion irgendeine Fehlerantwort, idealerweise mit Details zu den Grund, warum modellvalidierung Fehler, zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="0cd13-154">In many cases, the appropriate reaction is to return some kind of error response, ideally detailing the reason why model validation failed.</span></span>

<span data-ttu-id="0cd13-155">Einige apps wählen Sie eine Standardkonvention für den Umgang mit modellvalidierungsfehler, führen in diesem Fall einen Filter auf einer geeigneten Stelle, um eine solche Richtlinie zu implementieren sein kann.</span><span class="sxs-lookup"><span data-stu-id="0cd13-155">Some apps will choose to follow a standard convention for dealing with model validation errors, in which case a filter may be an appropriate place to implement such a policy.</span></span> <span data-ttu-id="0cd13-156">Sie sollten das Verhalten Ihrer Aktionen mit gültigen und ungültigen modellzustände testen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-156">You should test how your actions behave with valid and invalid model states.</span></span>

## <a name="manual-validation"></a><span data-ttu-id="0cd13-157">Manuelle Validierung</span><span class="sxs-lookup"><span data-stu-id="0cd13-157">Manual validation</span></span>

<span data-ttu-id="0cd13-158">Nachdem wurden die modellbindung und die Überprüfung abgeschlossen sind, empfiehlt es sich um Teile davon zu wiederholen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-158">After model binding and validation are complete, you may want to repeat parts of it.</span></span> <span data-ttu-id="0cd13-159">Beispielsweise ein Benutzer kann Text in einem Feld erwartet eine ganze Zahl eingegeben haben, oder müssen Sie möglicherweise einen Wert für die Eigenschaft für ein Modell zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-159">For example, a user may have entered text in a field expecting an integer, or you may need to compute a value for a model's property.</span></span>

<span data-ttu-id="0cd13-160">Sie müssen möglicherweise Überprüfung manuell ausführen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-160">You may need to run validation manually.</span></span> <span data-ttu-id="0cd13-161">Rufen Sie hierzu die `TryValidateModel` Methode, wie hier gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-161">To do so, call the `TryValidateModel` method, as shown here:</span></span>

[!code-csharp[Main](validation/sample/MoviesController.cs?range=52)]

## <a name="custom-validation"></a><span data-ttu-id="0cd13-162">Benutzerdefinierte Validierung)</span><span class="sxs-lookup"><span data-stu-id="0cd13-162">Custom validation</span></span>

<span data-ttu-id="0cd13-163">Validierungsattribute arbeiten für die häufigsten Überprüfung Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-163">Validation attributes work for most validation needs.</span></span> <span data-ttu-id="0cd13-164">Einige Validierungsregeln sind jedoch spezifisch für Ihr Unternehmen, da sie nicht nur sind allgemeine Daten-Überprüfungen, z. B. ein Feld sicherstellen erforderlich ist, oder, dass es sich um einen Bereich von Werten entspricht.</span><span class="sxs-lookup"><span data-stu-id="0cd13-164">However, some validation rules are specific to your business, as they're not just generic data validation such as ensuring a field is required or that it conforms to a range of values.</span></span> <span data-ttu-id="0cd13-165">Für diese Szenarien sind benutzerdefinierte Validierungsattribute eine großartige Lösung.</span><span class="sxs-lookup"><span data-stu-id="0cd13-165">For these scenarios, custom validation attributes are a great solution.</span></span> <span data-ttu-id="0cd13-166">Erstellen eine eigene benutzerdefinierte Validierungsattribute in MVC ist einfach.</span><span class="sxs-lookup"><span data-stu-id="0cd13-166">Creating your own custom validation attributes in MVC is easy.</span></span> <span data-ttu-id="0cd13-167">Nur Vererben der `ValidationAttribute`, und überschreiben die `IsValid` Methode.</span><span class="sxs-lookup"><span data-stu-id="0cd13-167">Just inherit from the `ValidationAttribute`, and override the `IsValid` method.</span></span> <span data-ttu-id="0cd13-168">Die `IsValid` Methode akzeptiert zwei Parameter, der erste ist ein Objekt mit dem Namen *Wert* und die zweite ein `ValidationContext` Objekt mit dem Namen *ValidationContext*.</span><span class="sxs-lookup"><span data-stu-id="0cd13-168">The `IsValid` method accepts two parameters, the first is an object named *value* and the second is a `ValidationContext` object named *validationContext*.</span></span> <span data-ttu-id="0cd13-169">*Wert* bezieht sich auf den tatsächlichen Wert aus dem Feld, das das benutzerdefinierte Validierungssteuerelement überprüft wird.</span><span class="sxs-lookup"><span data-stu-id="0cd13-169">*Value* refers to the actual value from the field that your custom validator is validating.</span></span>

<span data-ttu-id="0cd13-170">Im folgenden Beispiel wird eine Geschäftsregel gibt an, dass Benutzer auf die "Genre" nicht festlegen können *klassischen* für einen Film, nach dem 1960 veröffentlicht wird.</span><span class="sxs-lookup"><span data-stu-id="0cd13-170">In the following sample, a business rule states that users may not set the genre to *Classic* for a movie released after 1960.</span></span> <span data-ttu-id="0cd13-171">Die `[ClassicMovie]` Attribut überprüft zuerst, die "Genre", und wenn es sich um einen klassischen handelt, dann überprüft das Veröffentlichungsdatum angezeigt, dass er nach 1960 liegt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-171">The `[ClassicMovie]` attribute checks the genre first, and if it is a classic, then it checks the release date to see that it is later than 1960.</span></span> <span data-ttu-id="0cd13-172">Wenn sie nach dem 1960 freigegeben wird, schlägt die Validierung fehl.</span><span class="sxs-lookup"><span data-stu-id="0cd13-172">If it is released after 1960, validation fails.</span></span> <span data-ttu-id="0cd13-173">Das Attribut akzeptiert einen ganzzahligen Parameter, die für das Jahr, das Sie verwenden können, um Daten zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-173">The attribute accepts an integer parameter representing the year that you can use to validate data.</span></span> <span data-ttu-id="0cd13-174">Sie können den Wert des Parameters in der Attributkonstruktor erfassen, wie hier gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-174">You can capture the value of the parameter in the attribute's constructor, as shown here:</span></span>

[!code-csharp[Main](validation/sample/ClassicMovieAttribute.cs?range=9-29)]

<span data-ttu-id="0cd13-175">Die `movie` Variable oben stellt ein `Movie` Objekt, das die Daten aus der Übermittlung des Formulars überprüft enthält.</span><span class="sxs-lookup"><span data-stu-id="0cd13-175">The `movie` variable above represents a `Movie` object that contains the data from the form submission to validate.</span></span> <span data-ttu-id="0cd13-176">In diesem Fall überprüft der Validierungscode, das Datum und die "Genre" in der `IsValid` Methode der `ClassicMovieAttribute` Klasse gemäß den Regeln.</span><span class="sxs-lookup"><span data-stu-id="0cd13-176">In this case, the validation code checks the date and genre in the `IsValid` method of the `ClassicMovieAttribute` class as per the rules.</span></span> <span data-ttu-id="0cd13-177">Bei einer erfolgreichen Validierung `IsValid` gibt eine `ValidationResult.Success` Code, und wenn die Validierung fehlschlägt, eine `ValidationResult` mit einer Fehlermeldung.</span><span class="sxs-lookup"><span data-stu-id="0cd13-177">Upon successful validation `IsValid` returns a `ValidationResult.Success` code, and when validation fails, a `ValidationResult` with an error message.</span></span> <span data-ttu-id="0cd13-178">Wenn ein Benutzer ändert die `Genre` Feld und das Formular übermittelt die `IsValid` Methode der `ClassicMovieAttribute` wird überprüft, ob der Film Klassisches ist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-178">When a user modifies the `Genre` field and submits the form, the `IsValid` method of the `ClassicMovieAttribute` will verify whether the movie is a classic.</span></span> <span data-ttu-id="0cd13-179">Wie alle integrierten Attribut gelten die `ClassicMovieAttribute` auf eine Eigenschaft, z. B. `ReleaseDate` sicherstellen Überprüfung erfolgt, wie im vorherigen Codebeispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-179">Like any built-in attribute, apply the `ClassicMovieAttribute` to a property such as `ReleaseDate` to ensure validation happens, as shown in the previous code sample.</span></span> <span data-ttu-id="0cd13-180">Da das Beispiel funktioniert, nur mit `Movie` Typen, eine bessere Option ist die Verwendung `IValidatableObject` wie im folgenden Abschnitt gezeigt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-180">Since the example works only with `Movie` types, a better option is to use `IValidatableObject` as shown in the following paragraph.</span></span>

<span data-ttu-id="0cd13-181">Alternativ konnte dieser denselben Code in das Modell platziert werden, durch die Implementierung der `Validate` Methode für die `IValidatableObject` Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="0cd13-181">Alternatively, this same code could be placed in the model by implementing the `Validate` method on the `IValidatableObject` interface.</span></span> <span data-ttu-id="0cd13-182">Während Sie eigene benutzerdefinierte Validierungsattribute funktioniert gut für die einzelne Eigenschaften zu überprüfen, implementieren `IValidatableObject` kann verwendet werden, um auf Klassenebene Überprüfung implementieren, wie hier zu sehen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-182">While custom validation attributes work well for validating individual properties, implementing `IValidatableObject` can be used to implement class-level validation as seen here.</span></span>

[!code-csharp[Main](validation/sample/MovieIValidatable.cs?range=32-40)]

## <a name="client-side-validation"></a><span data-ttu-id="0cd13-183">Clientseitige Validierung</span><span class="sxs-lookup"><span data-stu-id="0cd13-183">Client side validation</span></span>

<span data-ttu-id="0cd13-184">Clientseitige Validierung ist eine hervorragende Erleichterung für Benutzer.</span><span class="sxs-lookup"><span data-stu-id="0cd13-184">Client side validation is a great convenience for users.</span></span> <span data-ttu-id="0cd13-185">Es speichert aufgewendete Zeit sie andernfalls würde auf einen Roundtrip zu warten, auf dem Server.</span><span class="sxs-lookup"><span data-stu-id="0cd13-185">It saves time they would otherwise spend waiting for a round trip to the server.</span></span> <span data-ttu-id="0cd13-186">Aus geschäftlicher sogar einige wenige Bruchteilen von Sekunden multipliziert unzählige Male pro Tag fügt bis zu viel Zeit und Aufwand Frustration sein.</span><span class="sxs-lookup"><span data-stu-id="0cd13-186">In business terms, even a few fractions of seconds multiplied hundreds of times each day adds up to be a lot of time, expense, and frustration.</span></span> <span data-ttu-id="0cd13-187">Unkompliziert und sofortige Überprüfung kann Benutzer effizienter arbeiten und erzeugt eine bessere Qualität für ein- und Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="0cd13-187">Straightforward and immediate validation enables users to work more efficiently and produce better quality input and output.</span></span>

<span data-ttu-id="0cd13-188">Sie benötigen eine Sicht mit der richtigen JavaScript-Skriptverweise im Aufbewahrungsort für die clientseitige Validierung so funktionieren wie hier gezeigt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-188">You must have a view with the proper JavaScript script references in place for client side validation to work as you see here.</span></span>

[!code-cshtml[Main](validation/sample/Views/Shared/_Layout.cshtml?range=37)]

[!code-cshtml[Main](validation/sample/Views/Shared/_ValidationScriptsPartial.cshtml)]

<span data-ttu-id="0cd13-189">Die [jQuery unaufdringlichen Überprüfung](https://github.com/aspnet/jquery-validation-unobtrusive) Skript ist eine benutzerdefinierte Front-End-Microsoft-Bibliothek, die auf dem beliebten builds [jQuery Validate](https://jqueryvalidation.org/) -Plug-in.</span><span class="sxs-lookup"><span data-stu-id="0cd13-189">The [jQuery Unobtrusive Validation](https://github.com/aspnet/jquery-validation-unobtrusive) script is a custom Microsoft front-end library that builds on the popular [jQuery Validate](https://jqueryvalidation.org/) plugin.</span></span> <span data-ttu-id="0cd13-190">Ohne jQuery-Validierung der unaufdringlichen, müssten Sie code dieselbe Validierungslogik an zwei Stellen: einmal in die Serverattribute für die Überprüfung von Seite auf Modelleigenschaften, und klicken Sie dann erneut im clientseitige Skripts (in den Beispielen für jQuery-Validate [ `validate()` ](https://jqueryvalidation.org/validate/) -Methode veranschaulicht, wie komplex dies zugegriffen werden kann).</span><span class="sxs-lookup"><span data-stu-id="0cd13-190">Without jQuery Unobtrusive Validation, you would have to code the same validation logic in two places: once in the server side validation attributes on model properties, and then again in client side scripts (the examples for jQuery Validate's [`validate()`](https://jqueryvalidation.org/validate/) method shows how complex this could become).</span></span> <span data-ttu-id="0cd13-191">Stattdessen MVCs [Tag Hilfsprogramme](xref:mvc/views/tag-helpers/intro) und [HTML-Hilfsmethoden](xref:mvc/views/overview) können die überprüfungsattribute verwenden, und geben Sie die Metadaten von Modelleigenschaften, die zum Rendern von HTML 5 [Datenattribute](http://w3c.github.io/html/dom.html#embedding-custom-non-visible-data-with-the-data-attributes) in die Form-Elemente, für die Validierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="0cd13-191">Instead, MVC's [Tag Helpers](xref:mvc/views/tag-helpers/intro) and [HTML helpers](xref:mvc/views/overview) are able to use the validation attributes and type metadata from model properties to render HTML 5 [data- attributes](http://w3c.github.io/html/dom.html#embedding-custom-non-visible-data-with-the-data-attributes) in the form elements that need validation.</span></span> <span data-ttu-id="0cd13-192">MVC generiert die `data-` Attribute für integrierte und benutzerdefinierte Attribute.</span><span class="sxs-lookup"><span data-stu-id="0cd13-192">MVC generates the `data-` attributes for both built-in and custom attributes.</span></span> <span data-ttu-id="0cd13-193">jQuery unaufdringlichen Überprüfung analysiert dann Thesaurus `data-` Attribute und die Logik zum jQuery Validate, "Kopieren" effektiv die Validierungslogik für Server-Seite an den Client übergibt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-193">jQuery Unobtrusive Validation then parses thes `data-` attributes and passes the logic to jQuery Validate, effectively "copying" the server side validation logic to the client.</span></span> <span data-ttu-id="0cd13-194">Sie können Validierungsfehler angezeigt, auf dem Client verwenden die relevanten Tags-Hilfsprogrammen, wie hier gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-194">You can display validation errors on the client using the relevant tag helpers as shown here:</span></span>

[!code-cshtml[Main](validation/sample/Views/Movies/Create.cshtml?highlight=4,5&range=19-25)]

<span data-ttu-id="0cd13-195">Die Tag-Hilfsprogramme, die oben genannten Rendern den HTML-Code unten.</span><span class="sxs-lookup"><span data-stu-id="0cd13-195">The tag helpers above render the HTML below.</span></span> <span data-ttu-id="0cd13-196">Beachten Sie, dass die `data-` Attributen im HTML-Ausgabe entsprechen die Validierungsattribute für den `ReleaseDate` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="0cd13-196">Notice that the `data-` attributes in the HTML output correspond to the validation attributes for the `ReleaseDate` property.</span></span> <span data-ttu-id="0cd13-197">Die `data-val-required` Attribut unten enthält eine Fehlermeldung angezeigt, wenn der Benutzer nicht in der Version Datumsfeld ausfüllt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-197">The `data-val-required` attribute below contains an error message to display if the user doesn't fill in the release date field.</span></span> <span data-ttu-id="0cd13-198">jQuery unaufdringlichen Überprüfung übergibt diesen Wert an die jQuery-Validate [ `required()` ](https://jqueryvalidation.org/required-method/) -Methode, die zeigt dann die Nachricht in die dazugehörige  **\<span >** Element.</span><span class="sxs-lookup"><span data-stu-id="0cd13-198">jQuery Unobtrusive Validation passes this value to the jQuery Validate [`required()`](https://jqueryvalidation.org/required-method/) method, which then displays that message in the accompanying **\<span>** element.</span></span>

```html
<form action="/Movies/Create" method="post">
    <div class="form-horizontal">
        <h4>Movie</h4>
        <div class="text-danger"></div>
        <div class="form-group">
            <label class="col-md-2 control-label" for="ReleaseDate">ReleaseDate</label>
            <div class="col-md-10">
                <input class="form-control" type="datetime"
                data-val="true" data-val-required="The ReleaseDate field is required."
                id="ReleaseDate" name="ReleaseDate" value="" />
                <span class="text-danger field-validation-valid"
                data-valmsg-for="ReleaseDate" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
</form>
```

<span data-ttu-id="0cd13-199">Die clientseitige Validierung verhindert so, dass übermitteln, bis das Format ungültig ist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-199">Thus, client-side validation prevents submission until the form is valid.</span></span> <span data-ttu-id="0cd13-200">Die Schaltfläche "Absenden" wird ausgeführt, JavaScript, die das Formular übermittelt oder zeigt Fehlermeldungen an.</span><span class="sxs-lookup"><span data-stu-id="0cd13-200">The Submit button runs JavaScript that either submits the form or displays error messages.</span></span>

<span data-ttu-id="0cd13-201">MVC bestimmt die Typ-Attributwerte, die basierend auf dem .NET Data-Typ einer Eigenschaft, die möglicherweise mit überschrieben `[DataType]` Attribute.</span><span class="sxs-lookup"><span data-stu-id="0cd13-201">MVC determines type attribute values based on the .NET data type of a property, possibly overridden using `[DataType]` attributes.</span></span> <span data-ttu-id="0cd13-202">Die Basis `[DataType]` Attribut führt keine echte serverseitige Validierung.</span><span class="sxs-lookup"><span data-stu-id="0cd13-202">The base `[DataType]` attribute does no real server-side validation.</span></span> <span data-ttu-id="0cd13-203">Browser wählen Sie ihre eigenen Fehlermeldungen und diese Fehler anzeigen, jedoch werden soll, jedoch die Überprüfung unaufdringliche jQuery-Paket überschreiben, die Nachrichten und konsistent mit anderen anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="0cd13-203">Browsers choose their own error messages and display those errors however they wish, however the jQuery Validation Unobtrusive package can override the messages and display them consistently with others.</span></span> <span data-ttu-id="0cd13-204">In diesem Fall die meisten offensichtlich, wenn Benutzer anwenden `[DataType]` Unterklassen wie z. B. `[EmailAddress]`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-204">This happens most obviously when users apply `[DataType]` subclasses such as `[EmailAddress]`.</span></span>

### <a name="adding-validation-to-dynamic-forms"></a><span data-ttu-id="0cd13-205">Hinzufügen von Validierungen zu dynamische Formulare aus:</span><span class="sxs-lookup"><span data-stu-id="0cd13-205">Adding Validation to Dynamic Forms:</span></span>

<span data-ttu-id="0cd13-206">Da jQuery unaufdringlichen Überprüfung übergibt die Validierungslogik und Parameter an jQuery überprüfen, beim ersten die Seite laden werden, werden dynamisch generierten Forms nicht automatisch Überprüfung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0cd13-206">Because jQuery Unobtrusive Validation passes validation logic and parameters to jQuery Validate when the page first loads, dynamically generated forms will not automatically exhibit validation.</span></span> <span data-ttu-id="0cd13-207">Stattdessen müssen Sie jQuery unaufdringlichen Validierung, dynamische Form zu analysieren, sofort nach ihrer Erstellung mitteilen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-207">Instead, you must tell jQuery Unobtrusive Validation to parse the dynamic form immediately after creating it.</span></span> <span data-ttu-id="0cd13-208">Der folgende Code zeigt z. B. wie Sie clientseitige Validierung in einem Formular hinzugefügt, die über AJAX eingerichtet werden können.</span><span class="sxs-lookup"><span data-stu-id="0cd13-208">For example, the code below shows how you might set up client side validation on a form added via AJAX.</span></span>

```js
$.get({
    url: "https://url/that/returns/a/form",
    dataType: "html",
    error: function(jqXHR, textStatus, errorThrown) {
        alert(textStatus + ": Could not add form. " + errorThrown);
    },
    success: function(newFormHTML) {
        var container = document.getElementById("form-container");
        container.insertAdjacentHTML("beforeend", newFormHTML);
        var forms = container.getElementsByTagName("form");
        var newForm = forms[forms.length - 1];
        $.validator.unobtrusive.parse(newForm);
    }
})
```

<span data-ttu-id="0cd13-209">Die `$.validator.unobtrusive.parse()` Methode akzeptiert einen jQuery-Selektor für ein Argument.</span><span class="sxs-lookup"><span data-stu-id="0cd13-209">The `$.validator.unobtrusive.parse()` method accepts a jQuery selector for its one argument.</span></span> <span data-ttu-id="0cd13-210">Diese Methode teilt jQuery unaufdringlichen Validierung beim Analysieren der `data-` Attribute von Formen in dieser Auswahl.</span><span class="sxs-lookup"><span data-stu-id="0cd13-210">This method tells jQuery Unobtrusive Validation to parse the `data-` attributes of forms within that selector.</span></span> <span data-ttu-id="0cd13-211">Die Werte dieser Attribute werden dann die jQuery Validate-Plug-in übergeben, damit das Formular auf die gewünschte Seite Clientvalidierungsregeln weist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-211">The values of those attributes are then passed to the jQuery Validate plugin so that the form exhibits the desired client side validation rules.</span></span>

### <a name="adding-validation-to-dynamic-controls"></a><span data-ttu-id="0cd13-212">Hinzufügen einer Validierung zu dynamischen Steuerelementen:</span><span class="sxs-lookup"><span data-stu-id="0cd13-212">Adding Validation to Dynamic Controls:</span></span>

<span data-ttu-id="0cd13-213">Sie können auch die Validierungsregeln auf ein Formular aktualisieren, wenn einzelne wie z. B. Steuerelemente `<input/>`s und `<select/>`s, werden dynamisch generiert.</span><span class="sxs-lookup"><span data-stu-id="0cd13-213">You can also update the validation rules on a form when individual controls, such as `<input/>`s and `<select/>`s, are dynamically generated.</span></span> <span data-ttu-id="0cd13-214">Sie können keine Selektoren für diese Elemente zum Übergeben der `parse()` -Methode direkt da umgebende Formular bereits verarbeitet wurde wurde, und werden nicht aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="0cd13-214">You cannot pass selectors for these elements to the `parse()` method directly because the surrounding form has already been parsed and will not update.</span></span>  <span data-ttu-id="0cd13-215">Stattdessen Sie zuerst die vorhandenen Überprüfungsdaten zu entfernen und dann Analysepunkt das gesamte Formular aus, wie unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-215">Instead, you first remove the existing validation data, then reparse the entire form, as shown below:</span></span>

```js
$.get({
    url: "https://url/that/returns/a/control",
    dataType: "html",
    error: function(jqXHR, textStatus, errorThrown) {
        alert(textStatus + ": Could not add form. " + errorThrown);
    },
    success: function(newInputHTML) {
        var form = document.getElementById("my-form");
        form.insertAdjacentHTML("beforeend", newInputHTML);
        form.removeData("validator")    // Added by the raw jQuery Validate
            .removeData("unobtrusiveValidation");   // Added by jQuery Unobtrusive Validation
        $.validator.unobtrusive.parse(form);
    }
})
```

## <a name="iclientmodelvalidator"></a><span data-ttu-id="0cd13-216">IClientModelValidator</span><span class="sxs-lookup"><span data-stu-id="0cd13-216">IClientModelValidator</span></span>

<span data-ttu-id="0cd13-217">Sie können die Client-Side-Logik erstellen, für das benutzerdefinierte Attribut und [unaufdringlichen Überprüfung](http://jqueryvalidation.org/documentation/) wird für Sie automatisch im Rahmen der Überprüfung auf dem Client ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-217">You may create client side logic for your custom attribute, and [unobtrusive validation](http://jqueryvalidation.org/documentation/) will execute it on the client for you automatically as part of validation.</span></span> <span data-ttu-id="0cd13-218">Der erste Schritt besteht darin steuern, welche Daten-Attribute hinzugefügt werden, durch die Implementierung der `IClientModelValidator` Schnittstelle wie hier gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-218">The first step is to control what data- attributes are added by implementing the `IClientModelValidator` interface as shown here:</span></span>

[!code-csharp[Main](validation/sample/ClassicMovieAttribute.cs?range=30-42)]

<span data-ttu-id="0cd13-219">Attribute, die diese Schnittstelle implementieren, können HTML-Attribute generierte Felder hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-219">Attributes that implement this interface can add HTML attributes to generated fields.</span></span> <span data-ttu-id="0cd13-220">Untersuchen die Ausgabe für die `ReleaseDate` Element zeigen, HTML, die ähnlich wie im vorherigen Beispiel wird mit der Ausnahme jetzt vorhanden ist eine `data-val-classicmovie` -Attribut, das in definiert wurde. die `AddValidation` Methode `IClientModelValidator`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-220">Examining the output for the `ReleaseDate` element reveals HTML that is similar to the previous example, except now there is a `data-val-classicmovie` attribute that was defined in the `AddValidation` method of `IClientModelValidator`.</span></span>

```html
<input class="form-control" type="datetime"
    data-val="true"
    data-val-classicmovie="Classic movies must have a release year earlier than 1960."
    data-val-classicmovie-year="1960"
    data-val-required="The ReleaseDate field is required."
    id="ReleaseDate" name="ReleaseDate" value="" />
```

<span data-ttu-id="0cd13-221">Unaufdringlichen Überprüfung verwendet die Daten in die `data-` Attribute Fehlermeldungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-221">Unobtrusive validation uses the data in the `data-` attributes to display error messages.</span></span> <span data-ttu-id="0cd13-222">Allerdings jQuery zu Regeln weiß nicht, oder Nachrichten, bis Sie diese des jQuery hinzufügen `validator` Objekt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-222">However, jQuery doesn't know about rules or messages until you add them to jQuery's `validator` object.</span></span> <span data-ttu-id="0cd13-223">Dies wird im folgenden Beispiel, das eine Methode namens addiert gezeigt `classicmovie` , enthält die benutzerdefinierte Überprüfung Clientcode auf die jQuery `validator` Objekt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-223">This is shown in the example below that adds a method named `classicmovie` containing custom client validation code to the jQuery `validator` object.</span></span>

[!code-javascript[Main](validation/sample/Views/Movies/Create.cshtml?range=71-93)]

<span data-ttu-id="0cd13-224">JQuery verfügt jetzt über die Informationen zum Ausführen der benutzerdefinierten JavaScript-Validierung als auch die anzuzeigende Fehlermeldung, wenn diese Validierungscode "false" zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-224">Now jQuery has the information to execute the custom JavaScript validation as well as the error message to display if that validation code returns false.</span></span>

## <a name="remote-validation"></a><span data-ttu-id="0cd13-225">Remotevalidierung</span><span class="sxs-lookup"><span data-stu-id="0cd13-225">Remote validation</span></span>

<span data-ttu-id="0cd13-226">Remotevalidierung ist eine großartige Funktion zu verwenden, wenn Sie Daten auf dem Client für die Daten auf dem Server überprüfen müssen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-226">Remote validation is a great feature to use when you need to validate data on the client against data on the server.</span></span> <span data-ttu-id="0cd13-227">Beispielsweise müssen Ihrer app zu überprüfen, ob eine e-Mail-Adresse oder Benutzer-Name bereits verwendet wird, und sie müssen eine große Menge von Daten dazu Abfragen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-227">For example, your app may need to verify whether an email or user name is already in use, and it must query a large amount of data to do so.</span></span> <span data-ttu-id="0cd13-228">Herunterladen großer Datenmengen zum Überprüfen einer legt diese fest, oder einige Felder werden zu viele Ressourcen verbraucht.</span><span class="sxs-lookup"><span data-stu-id="0cd13-228">Downloading large sets of data for validating one or a few fields consumes too many resources.</span></span> <span data-ttu-id="0cd13-229">Es kann auch vertraulichen Informationen verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-229">It may also expose sensitive information.</span></span> <span data-ttu-id="0cd13-230">Eine Alternative besteht darin, von einem Roundtrip Anforderung an ein Feld zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-230">An alternative is to make a round-trip request to validate a field.</span></span>

<span data-ttu-id="0cd13-231">Sie können in zwei Schritten Remotevalidierung implementieren.</span><span class="sxs-lookup"><span data-stu-id="0cd13-231">You can implement remote validation in a two step process.</span></span> <span data-ttu-id="0cd13-232">Zuerst müssen Sie Ihr Modell mit Anmerkung versehen der `[Remote]` Attribut.</span><span class="sxs-lookup"><span data-stu-id="0cd13-232">First, you must annotate your model with the `[Remote]` attribute.</span></span> <span data-ttu-id="0cd13-233">Die `[Remote]` Attribut akzeptiert mehrere Überladungen, die zur Weiterleitung von clientseitiger JavaScript an den entsprechenden Code aufrufen können.</span><span class="sxs-lookup"><span data-stu-id="0cd13-233">The `[Remote]` attribute accepts multiple overloads you can use to direct client side JavaScript to the appropriate code to call.</span></span> <span data-ttu-id="0cd13-234">Das folgende Beispiel zeigt, auf die `VerifyEmail` Aktionsmethode, die von der `Users` Controller.</span><span class="sxs-lookup"><span data-stu-id="0cd13-234">The example below points to the `VerifyEmail` action method of the `Users` controller.</span></span>

[!code-csharp[Main](validation/sample/User.cs?range=7-8)]

<span data-ttu-id="0cd13-235">Der zweite Schritt ist die Validierungscode in die entsprechende Aktionsmethode einfügen, gemäß der `[Remote]` Attribut.</span><span class="sxs-lookup"><span data-stu-id="0cd13-235">The second step is putting the validation code in the corresponding action method as defined in the `[Remote]` attribute.</span></span> <span data-ttu-id="0cd13-236">Gemäß dem jQuery Validate [ `remote()` ](https://jqueryvalidation.org/remote-method/) Dokumentation:</span><span class="sxs-lookup"><span data-stu-id="0cd13-236">According to the jQuery Validate [`remote()`](https://jqueryvalidation.org/remote-method/) method documentation:</span></span>

> <span data-ttu-id="0cd13-237">Die serverseitigen Antwort muss eine JSON-Zeichenfolge, die sein müssen `"true"` für gültige Elemente und kann `"false"`, `undefined`, oder `null` verwenden Sie die Standardfehlermeldung für ungültige Elemente.</span><span class="sxs-lookup"><span data-stu-id="0cd13-237">The serverside response must be a JSON string that must be `"true"` for valid elements, and can be `"false"`, `undefined`, or `null` for invalid elements, using the default error message.</span></span> <span data-ttu-id="0cd13-238">Wenn die Antwort der serverseitigen z. B. eine Zeichenfolge ist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-238">If the serverside response is a string, eg.</span></span> <span data-ttu-id="0cd13-239">`"That name is already taken, try peter123 instead"`, diese Zeichenfolge wird als eine benutzerdefinierte Fehlermeldung anstelle des standardmäßigen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-239">`"That name is already taken, try peter123 instead"`, this string will be displayed as a custom error message in place of the default.</span></span>

<span data-ttu-id="0cd13-240">Die Definition der `VerifyEmail()` -Methode folgt diese Regeln an, wie unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-240">The definition of the `VerifyEmail()` method follows these rules, as shown below.</span></span> <span data-ttu-id="0cd13-241">Es gibt einen Validierungsfehler angezeigt, wenn die e-Mail-Adresse abgerufen wird, oder `true` , wenn die e-Mail-Adresse kostenlos ist und dient als Wrapper für das Ergebnis in eine `JsonResult` Objekt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-241">It returns a validation error message if the email is taken, or `true` if the email is free, and wraps the result in a `JsonResult` object.</span></span> <span data-ttu-id="0cd13-242">Die Clientseite kann dann den zurückgegebenen Wert verwenden, um fortzufahren, bzw. zeigen Sie bei Bedarf den Fehler.</span><span class="sxs-lookup"><span data-stu-id="0cd13-242">The client side can then use the returned value to proceed or display the error if needed.</span></span>

[!code-csharp[Main](validation/sample/UsersController.cs?range=19-28)]

<span data-ttu-id="0cd13-243">Wenn Benutzer eine e-Mail-Nachricht eingeben, wird JavaScript in der Ansicht jetzt einen Remoteaufruf, um festzustellen, ob dieser e-Mail vorgenommen wurde, und wenn dies der Fall ist, die Fehlermeldung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="0cd13-243">Now when users enter an email, JavaScript in the view makes a remote call to see if that email has been taken and, if so, displays the error message.</span></span> <span data-ttu-id="0cd13-244">Andernfalls kann der Benutzer wie gewohnt der Übermittlung des Formulars.</span><span class="sxs-lookup"><span data-stu-id="0cd13-244">Otherwise, the user can submit the form as usual.</span></span>

<span data-ttu-id="0cd13-245">Die `AdditionalFields` Eigenschaft von der `[Remote]` Attribut eignet sich zur Validierung von Kombinationen von Feldern für Daten auf dem Server.</span><span class="sxs-lookup"><span data-stu-id="0cd13-245">The `AdditionalFields` property of the `[Remote]` attribute is useful for validating combinations of fields against data on the server.</span></span>  <span data-ttu-id="0cd13-246">Z. B. wenn die `User` Modell oben hatte zwei zusätzliche Eigenschaften `FirstName` und `LastName`, empfiehlt es sich um sicherzustellen, dass keine vorhandenen Benutzer bereits über diese Paar von Namen verfügen.</span><span class="sxs-lookup"><span data-stu-id="0cd13-246">For example, if the `User` model from above had two additional properties called `FirstName` and `LastName`, you might want to verify that no existing users already have that pair of names.</span></span>  <span data-ttu-id="0cd13-247">Definieren Sie die neuen Eigenschaften, wie im folgenden Code gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-247">You define the new properties as shown in the following code:</span></span>

[!code-csharp[Main](validation/sample/User.cs?range=10-13)]

<span data-ttu-id="0cd13-248">`AdditionalFields`kann explizit festgelegt wurde, die Zeichenfolgen `"FirstName"` und `"LastName"`, während mit den [ `nameof` ](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/nameof) Operator wie folgt vereinfacht später Umgestaltung.</span><span class="sxs-lookup"><span data-stu-id="0cd13-248">`AdditionalFields` could have been set explicitly to the strings `"FirstName"` and `"LastName"`, but using the [`nameof`](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/nameof) operator like this simplifies later refactoring.</span></span>  <span data-ttu-id="0cd13-249">Die Aktionsmethode zum Ausführen der Überprüfung muss zwei Argumente, eine für den Wert der akzeptieren `FirstName` und eine für den Wert der `LastName`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-249">The action method to perform the validation must then accept two arguments, one for the value of `FirstName` and one for the value of `LastName`.</span></span>


[!code-csharp[Main](validation/sample/UsersController.cs?range=30-39)]

<span data-ttu-id="0cd13-250">Jetzt beim Benutzer vor- und Nachnamen, JavaScript eingeben:</span><span class="sxs-lookup"><span data-stu-id="0cd13-250">Now when users enter a first and last name, JavaScript:</span></span>

* <span data-ttu-id="0cd13-251">Stellt einen Remoteaufruf, um festzustellen, ob dieser Paar von Namen vergeben ist.</span><span class="sxs-lookup"><span data-stu-id="0cd13-251">Makes a remote call to see if that pair of names has been taken.</span></span>
* <span data-ttu-id="0cd13-252">Wenn das Paar geschaltet wurde, wird eine Fehlermeldung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0cd13-252">If the pair has been taken, an error message is displayed.</span></span> 
* <span data-ttu-id="0cd13-253">Wenn nicht, kann der Benutzer das Formular senden.</span><span class="sxs-lookup"><span data-stu-id="0cd13-253">If not taken, the user can submit the form.</span></span>

<span data-ttu-id="0cd13-254">Wenn Sie zwei oder mehr zusätzliche Felder mit überprüfen müssen die `[Remote]` -Attribut, Sie geben sie als eine durch Trennzeichen getrennte Liste.</span><span class="sxs-lookup"><span data-stu-id="0cd13-254">If you need to validate two or more additional fields with the `[Remote]` attribute, you provide them as a comma-delimited list.</span></span>  <span data-ttu-id="0cd13-255">Beispielsweise, um das Hinzufügen einer `MiddleName` Eigenschaft festzulegen, dass das Modell der `[Remote]` -Attribut wie im folgenden Code gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0cd13-255">For example, to add a  `MiddleName` property to the model, set the `[Remote]` attribute as shown in the following code:</span></span>

```cs
[Remote(action: "VerifyName", controller: "Users", AdditionalFields = nameof(FirstName) + "," + nameof(LastName))]
public string MiddleName { get; set; }
```

<span data-ttu-id="0cd13-256">`AdditionalFields`, z. B. alle Attributargumente, muss ein konstanter Ausdruck sein.</span><span class="sxs-lookup"><span data-stu-id="0cd13-256">`AdditionalFields`, like all attribute arguments, must be a constant expression.</span></span>  <span data-ttu-id="0cd13-257">Deshalb müssen Sie nicht verwenden ein [interpoliert Zeichenfolge](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/interpolated-strings) , oder rufen Sie [ `string.Join()` ](https://msdn.microsoft.com/en-us/library/system.string.join(v=vs.110).aspx) initialisieren `AdditionalFields`.</span><span class="sxs-lookup"><span data-stu-id="0cd13-257">Therefore, you must not use an [interpolated string](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/interpolated-strings) or call [`string.Join()`](https://msdn.microsoft.com/en-us/library/system.string.join(v=vs.110).aspx) to initialize `AdditionalFields`.</span></span> <span data-ttu-id="0cd13-258">Für jedes weitere Feld, die Sie zum Hinzufügen der `[Remote]` -Attribut, müssen Sie ein weiteres Argument hinzufügen, um die entsprechende Aktionsmethode des Controllers.</span><span class="sxs-lookup"><span data-stu-id="0cd13-258">For every additional field that you add to the `[Remote]` attribute, you must add another argument to the corresponding controller action method.</span></span>
