---
uid: web-forms/overview/moving-to-aspnet-20/membership
title: Mitgliedschaft | Microsoft Docs
author: microsoft
description: "ASP.NET-Mitgliedschaft baut auf den Erfolg der Forms-Authentifizierungsmodell von ASP.NET 1.x. ASP.NET-Formularauthentifizierung bietet eine einfache Möglichkeit, Incorp..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2005
ms.topic: article
ms.assetid: f2339485-5d78-4c5e-8c0a-dc9b8a315345
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/membership
msc.type: authoredcontent
ms.openlocfilehash: 1a5a495845b60f9aac51c9776311af67f5dc8767
ms.sourcegitcommit: a510f38930abc84c4b302029d019a34dfe76823b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/30/2018
---
<a name="membership"></a><span data-ttu-id="f4339-104">Mitgliedschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-104">Membership</span></span>
====================
<span data-ttu-id="f4339-105">durch [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="f4339-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="f4339-106">ASP.NET-Mitgliedschaft baut auf den Erfolg der Forms-Authentifizierungsmodell von ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="f4339-106">ASP.NET Membership builds on the success of the Forms authentication model from ASP.NET 1.x.</span></span> <span data-ttu-id="f4339-107">ASP.NET-Formularauthentifizierung bietet eine einfache Möglichkeit, Ihre ASP.NET-Anwendung ein Anmeldeformulars integrieren und Überprüfen von Benutzern für eine Datenbank oder andere Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="f4339-107">ASP.NET Forms authentication provides a convenient way to incorporate a login form into your ASP.NET application and validate users against a database or other data store.</span></span>


<span data-ttu-id="f4339-108">ASP.NET-Mitgliedschaft baut auf den Erfolg der Forms-Authentifizierungsmodell von ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="f4339-108">ASP.NET Membership builds on the success of the Forms authentication model from ASP.NET 1.x.</span></span> <span data-ttu-id="f4339-109">ASP.NET-Formularauthentifizierung bietet eine einfache Möglichkeit, Ihre ASP.NET-Anwendung ein Anmeldeformulars integrieren und Überprüfen von Benutzern für eine Datenbank oder andere Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="f4339-109">ASP.NET Forms authentication provides a convenient way to incorporate a login form into your ASP.NET application and validate users against a database or other data store.</span></span> <span data-ttu-id="f4339-110">Die Member der Klasse FormsAuthentication ermöglichen es, die Cookies für die Authentifizierung zu behandeln, überprüfen Sie eine gültige Anmeldung, meldet einen Benutzer, usw. Implementieren Formularauthentifizierung in einer ASP.NET-Anwendung für die 1.x kann jedoch viel Code erfordern.</span><span class="sxs-lookup"><span data-stu-id="f4339-110">The members of the FormsAuthentication class make it possible to handle cookies for authentication, check for a valid login, log a user out etc. However, implementing Forms authentication in an ASP.NET 1.x application can require a fair amount of code.</span></span>

<span data-ttu-id="f4339-111">Mitgliedschaft in ASP.NET 2.0 ist eine erhebliche Verbesserung gegenüber Formularauthentifizierung allein.</span><span class="sxs-lookup"><span data-stu-id="f4339-111">Membership in ASP.NET 2.0 is a major advancement over using Forms authentication alone.</span></span> <span data-ttu-id="f4339-112">(Ist mindestens die Mitgliedschaft robusteste, wenn bei der Formularauthentifizierung gekoppelt, aber verwenden der Formularauthentifizierung ist nicht erforderlich.) Sehen Sie so schnell, können ASP.NET-Mitgliedschaft und der Anmeldesteuerelemente in ASP.NET 2.0 Sie um eine leistungsfähige Mitgliedschaftssystem zu implementieren, ohne zu viel Code schreiben.</span><span class="sxs-lookup"><span data-stu-id="f4339-112">(Membership is most robust when coupled with Forms authentication, but using Forms authentication is not a requirement.) As you'll soon see, you can use ASP.NET Membership and the login controls in ASP.NET 2.0 to implement a powerful membership system without writing much code at all.</span></span>

## <a name="implementing-membership-in-aspnet-20"></a><span data-ttu-id="f4339-113">Implementieren von Mitgliedschaft in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="f4339-113">Implementing Membership in ASP.NET 2.0</span></span>

<span data-ttu-id="f4339-114">Mitgliedschaft wird implementiert, indem Sie die folgenden vier Schritte.</span><span class="sxs-lookup"><span data-stu-id="f4339-114">Membership is implemented by following four steps.</span></span> <span data-ttu-id="f4339-115">Bedenken Sie, dass viele untergeordnete Schritte, die sowie optionale Konfiguration beteiligt sind, die ebenfalls implementiert werden können.</span><span class="sxs-lookup"><span data-stu-id="f4339-115">Keep in mind that there are many sub-steps that are involved as well as optional configuration that can be implemented as well.</span></span> <span data-ttu-id="f4339-116">Diese Schritte müssen zum Veranschaulichen der kompletten Überblick über Mitgliedschaft konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-116">These steps are meant to illustrate the big picture of configuring membership.</span></span>

1. <span data-ttu-id="f4339-117">Erstellen Sie die Mitgliedschaftsdatenbank (wenn es sich um eine SQL Server als Mitgliedschaftsspeicher verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="f4339-117">Create your membership database (if SQL Server is used as the membership store.)</span></span>
2. <span data-ttu-id="f4339-118">Geben Sie die Mitgliedschaftsoptionen in den Konfigurationsdateien für Clientanwendungen.</span><span class="sxs-lookup"><span data-stu-id="f4339-118">Specify the membership options in your applications configuration files.</span></span> <span data-ttu-id="f4339-119">(Mitgliedschaft ist standardmäßig aktiviert.)</span><span class="sxs-lookup"><span data-stu-id="f4339-119">(Membership is enabled by default.)</span></span>
3. <span data-ttu-id="f4339-120">Bestimmen Sie den Typ des Speichers von Mitgliedschaft, die Sie verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="f4339-120">Determine the type of membership store you want to use.</span></span> <span data-ttu-id="f4339-121">Optionen sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="f4339-121">Options are:</span></span> 

    - <span data-ttu-id="f4339-122">Microsoft SQL Server (Version 7.0 oder höher)</span><span class="sxs-lookup"><span data-stu-id="f4339-122">Microsoft SQL Server (version 7.0 or later)</span></span>
    - <span data-ttu-id="f4339-123">Active Directory Store</span><span class="sxs-lookup"><span data-stu-id="f4339-123">Active Directory Store</span></span>
    - <span data-ttu-id="f4339-124">Benutzerdefinierter Mitgliedschaftsanbieter</span><span class="sxs-lookup"><span data-stu-id="f4339-124">Custom membership provider</span></span>
4. <span data-ttu-id="f4339-125">Konfigurieren Sie die Anwendung für die Formularauthentifizierung mit ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f4339-125">Configure the application for ASP.NET Forms authentication.</span></span> <span data-ttu-id="f4339-126">Noch einmal: Mitgliedschaft Formularauthentifizierung nutzen ausgelegt ist, aber unter Verwendung der Formularauthentifizierung ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="f4339-126">Once again, Membership is designed to take advantage of Forms authentication, but using Forms authentication is not a requirement.</span></span>
5. <span data-ttu-id="f4339-127">Definieren Sie Benutzerkonten für die Mitgliedschaft und konfigurieren Sie Rollen, falls gewünscht.</span><span class="sxs-lookup"><span data-stu-id="f4339-127">Define user accounts for membership and configure roles if desired.</span></span>

## <a name="creating-the-membership-database"></a><span data-ttu-id="f4339-128">Erstellen die Mitgliedschaftsdatenbank</span><span class="sxs-lookup"><span data-stu-id="f4339-128">Creating the Membership Database</span></span>

<span data-ttu-id="f4339-129">Wenn keine weiteren mithilfe von SQL Server 7.0 oder höher ist als Ihre Mitgliedschaftsspeicher können Sie das Aspnet\_Regsql-Dienstprogramm (am einfachsten über die Visual Studio .NET 2005-Eingabeaufforderung verfügbar) so konfigurieren Sie Ihre Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f4339-129">If youre using SQL Server 7.0 or later as your membership store, you can use the aspnet\_regsql utility (available most easily from the Visual Studio .NET 2005 Command Prompt) to configure your database.</span></span> <span data-ttu-id="f4339-130">Das Aspnet\_Regsql Hilfsprogramm kann verwendet werden, als eine eingabeaufforderungs-Hilfsprogramm oder über eine GUI-Assistenten.</span><span class="sxs-lookup"><span data-stu-id="f4339-130">The aspnet\_regsql utility can be used as a command prompt tool or via a GUI wizard.</span></span> <span data-ttu-id="f4339-131">Diese Methode ist die einfachste Möglichkeit, Ihre Datenbank konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-131">The wizard method is the easiest way to configure your database.</span></span> <span data-ttu-id="f4339-132">Um den Assistenten zuzugreifen, führen Sie einfach den folgenden Befehl ein:</span><span class="sxs-lookup"><span data-stu-id="f4339-132">To access the wizard, simply run the following command:</span></span>

`aspnet_regsql W`

<span data-ttu-id="f4339-133">Nachdem Sie diesen Befehl ausführen, wird die ASP.NET SQL Server-Setup-Assistenten angezeigt werden wie unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="f4339-133">Once you run that command, you will be presented with the ASP.NET SQL Server Setup Wizard as shown below.</span></span>


![](membership/_static/image1.jpg)

<span data-ttu-id="f4339-134">**Abbildung 1**</span><span class="sxs-lookup"><span data-stu-id="f4339-134">**Figure 1**</span></span>


<span data-ttu-id="f4339-135">Die ASP.NET SQL Server-Setup-Assistent erstellt die Website in der Instanz, die Sie im Assistenten angeben.</span><span class="sxs-lookup"><span data-stu-id="f4339-135">The ASP.NET SQL Server Setup Wizard creates the Web site in the instance you specify in the wizard.</span></span> <span data-ttu-id="f4339-136">Allerdings wird ASP.NET die Verbindungszeichenfolge in der Datei "Machine.config" verwenden, für die Verbindung mit Ihrer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f4339-136">However, ASP.NET will use the connection string in the machine.config file to connect to your database.</span></span> <span data-ttu-id="f4339-137">Standardmäßig zeigen diese Verbindungszeichenfolge auf eine SQL Server 2005-Instanz, wenn Sie eine Instanz von SQL Server 2000 oder SQL Server 7.0 verwenden, Sie die Verbindungszeichenfolge in der Datei "Machine.config" ändern müssen.</span><span class="sxs-lookup"><span data-stu-id="f4339-137">By default, this connection string will point to a SQL Server 2005 instance, so if you are using a SQL Server 2000 or SQL Server 7.0 instance, you will need to modify the connection string in the machine.config file.</span></span> <span data-ttu-id="f4339-138">Diese Verbindungszeichenfolge kann hier befinden:</span><span class="sxs-lookup"><span data-stu-id="f4339-138">That connection string can be located here:</span></span>

[!code-xml[Main](membership/samples/sample1.xml)]

<span data-ttu-id="f4339-139">Leider, wenn Sie die Verbindungszeichenfolge nicht ändern, wird ASP.NET eine beschreibende Fehlermeldung Ihnen nicht.</span><span class="sxs-lookup"><span data-stu-id="f4339-139">Unfortunately, if you dont modify the connection string, ASP.NET will not give you a descriptive error.</span></span> <span data-ttu-id="f4339-140">Es wird weiterhin nur sagen darüber beschweren, dass Sie die Datenbank erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="f4339-140">It will just continue to complain saying that you havent created the database.</span></span> <span data-ttu-id="f4339-141">Im obigen Fall vorgenommenen ich die Verbindungszeichenfolge auf meinem lokalen SQL Server 2000-Instanz verweisen.</span><span class="sxs-lookup"><span data-stu-id="f4339-141">In the case above, I have modified the connection string to point to my local SQL Server 2000 instance.</span></span>

## <a name="specifying-configuration-and-adding-users-and-roles"></a><span data-ttu-id="f4339-142">Konfiguration und Hinzufügen von Benutzern und Rollen angeben</span><span class="sxs-lookup"><span data-stu-id="f4339-142">Specifying Configuration and Adding Users and Roles</span></span>

<span data-ttu-id="f4339-143">Der nächste Schritt beim Konfigurieren der Mitgliedschaft werden die erforderlichen Informationen in die Datei "Web.config" der Anwendung hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4339-143">The next step in configuring Membership is to add the necessary information to the web.config file of the application.</span></span> <span data-ttu-id="f4339-144">In ASP.NET schwierig 1.x, ändern die Datei "Web.config" in einigen Fällen aufgrund der Verwendung von LowerCamelCase und die von Intellisense.</span><span class="sxs-lookup"><span data-stu-id="f4339-144">In ASP.NET 1.x, modifying the web.config file was sometimes difficult because of the use of lowerCamelCase and the lack of Intellisense.</span></span> <span data-ttu-id="f4339-145">2005 von Visual Studio .NET kann die Aufgabe, die viel einfacher mithilfe von Intellisense für Konfigurationsdateien, aber ASP.NET 2.0 im Laufe der einen Schritt weiter eine Webschnittstelle für das Bearbeiten von Konfigurationsdateien bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="f4339-145">Visual Studio .NET 2005 makes the task much easier with Intellisense for configuration files, but ASP.NET 2.0 goes one step further by providing a Web interface for editing configuration files.</span></span>

<span data-ttu-id="f4339-146">Sie können die Weboberfläche starten, indem der ASP.NET-Konfiguration-Schaltfläche auf der Symbolleiste Projektmappen-Explorer, wie unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="f4339-146">You can launch the Web interface by clicking the ASP.NET Configuration button on the Solution Explorer toolbar as shown below.</span></span> <span data-ttu-id="f4339-147">Sie können auch die Webschnittstelle über Popups starten, die angezeigt werden, wenn Anmeldesteuerelementen eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-147">You can also launch the Web interface via pop-ups that are displayed when Login controls are inserted.</span></span>


![](membership/_static/image2.jpg)

<span data-ttu-id="f4339-148">**Abbildung 2**</span><span class="sxs-lookup"><span data-stu-id="f4339-148">**Figure 2**</span></span>


<span data-ttu-id="f4339-149">Dadurch wird das ASP.NET Websiteverwaltungs-Tool unten gezeigten gestartet.</span><span class="sxs-lookup"><span data-stu-id="f4339-149">This launches the ASP.NET Web Site Administration Tool shown below.</span></span> <span data-ttu-id="f4339-150">Der ASP.NET Web Site-Verwaltung ist ein vier – Registerkarte ""-Schnittstelle, die zum Verwalten von Anwendungseinstellungen erleichtert.</span><span class="sxs-lookup"><span data-stu-id="f4339-150">The ASP.NET Web Site Administration is a four-tab interface that makes it easy to manage application settings.</span></span> <span data-ttu-id="f4339-151">Die folgenden Registerkarten sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="f4339-151">The following tabs are available:</span></span>

- <span data-ttu-id="f4339-152">**Startseite**</span><span class="sxs-lookup"><span data-stu-id="f4339-152">**Home**</span></span>
- <span data-ttu-id="f4339-153">**Sicherheit** Benutzer, Rollen und Zugriff zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-153">**Security** Configure users, roles, and access.</span></span>
- <span data-ttu-id="f4339-154">**Anwendung** Anwendungseinstellungen konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-154">**Application** Configure application settings.</span></span>
- <span data-ttu-id="f4339-155">**Anbieter** konfigurieren und Testen Sie Ihre Anwendungen Mitgliedschaftsanbieter.</span><span class="sxs-lookup"><span data-stu-id="f4339-155">**Provider** Configure and test your applications membership provider.</span></span>

<span data-ttu-id="f4339-156">Die Websiteverwaltungs-Tool können Sie problemlos neue Benutzer erstellen, neue Rollen erstellen und Verwalten von Benutzern und Rollen.</span><span class="sxs-lookup"><span data-stu-id="f4339-156">The Web Site Administration Tool allows you to easily create new users, create new roles, and to manage users and roles.</span></span> <span data-ttu-id="f4339-157">Diese Funktion ist in der Windows-Benutzeroberfläche nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="f4339-157">This ability is not available in the Windows interface.</span></span> <span data-ttu-id="f4339-158">Die Windows-Benutzeroberfläche können Sie problemlos autorisierungseinstellungen definieren und hinzufügen, löschen und Verwalten der Anbieter, Funktionen, die nicht in die Websiteverwaltungs-Tool enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="f4339-158">The Windows interface allows you to easily define authorization settings and to add, delete, and manage providers, capabilities that are not in the Web Site Administration Tool.</span></span>

<span data-ttu-id="f4339-159">Um die Windows-Benutzeroberfläche zu starten, öffnen Sie das MMC-Snap-in Internetinformationsdienste (IIS), mit der rechten Maustaste auf die Anwendung, und wählen Sie Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="f4339-159">To launch the Windows interface, open the Internet Information Services snap-in, right-click on your application, and choose Properties.</span></span> <span data-ttu-id="f4339-160">Klicken Sie auf der Registerkarte "ASP.NET", und klicken Sie dann auf die Schaltfläche "-Konfiguration bearbeiten".</span><span class="sxs-lookup"><span data-stu-id="f4339-160">Click the ASP.NET tab and then click the Edit Configuration button.</span></span> <span data-ttu-id="f4339-161">(Die Anwendung muss unter ASP.NET 2.0 für die Schaltfläche "-Konfiguration bearbeiten" zu aktivierenden ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-161">(The application must be running under ASP.NET 2.0 for the Edit Configuration button to be enabled.</span></span> <span data-ttu-id="f4339-162">Sie können die Version von ASP.NET als auch im Dialogfeld für ASP.NET konfigurieren.) Die Konfigurationseinstellungen für ASP.NET-Dialogfeld wird angezeigt, wie unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="f4339-162">You can configure the ASP.NET version in the ASP.NET dialog as well.) The ASP.NET Configuration Settings dialog is displayed as shown below.</span></span>


![](membership/_static/image3.jpg)

<span data-ttu-id="f4339-163">**Abbildung 3**</span><span class="sxs-lookup"><span data-stu-id="f4339-163">**Figure 3**</span></span>


<span data-ttu-id="f4339-164">Auf der Registerkarte "Allgemein" Verbindungszeichenfolgen und Anwendungseinstellungen aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="f4339-164">On the General tab, connection strings and application settings are listed.</span></span> <span data-ttu-id="f4339-165">Alle Einstellungen in Kursivschrift werden in einer übergeordneten Konfigurationsdatei (die "Machine.config" oder "Web.config" auf einer höheren Ebene) definiert, und Einstellungen nicht in Kursivschrift sind, aus der Konfigurationsdatei der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f4339-165">Any settings in italics are defined in a parent configuration file (either the machine.config or a web.config at a higher level) and settings not in italics are from the applications configuration file.</span></span> <span data-ttu-id="f4339-166">Wenn eine Einstellung hinzugefügt wird, wird entfernt oder bearbeitet werden, auf der Anwendungsebene ASP.NET hinzufügen, entfernen oder ändern Sie die Einstellung auf die Anwendung Ebenen "Web.config" anstelle von Löschung der Einstellung aus der Konfigurationsdatei, aus der sie geerbt wird.</span><span class="sxs-lookup"><span data-stu-id="f4339-166">If a setting is added, removed, or edited at the application level, ASP.NET will add, remove, or modify the setting at the application levels web.config instead of removing the setting from the configuration file from which it is inherited.</span></span>

<span data-ttu-id="f4339-167">Nachfolgend finden Sie die Registerkarte "Datenquellenauthentifizierung".</span><span class="sxs-lookup"><span data-stu-id="f4339-167">The Authentication tab is shown below.</span></span> <span data-ttu-id="f4339-168">Dies ist, in dem Sie Ihre mitgliedschaftseinstellungen konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-168">This is where you will configure your membership settings.</span></span> <span data-ttu-id="f4339-169">Authentifizierungseinstellungen, Mitgliedschaftsanbieter, Formulare und Rollenanbieter hier konfiguriert werden können.</span><span class="sxs-lookup"><span data-stu-id="f4339-169">Forms authentication settings, membership providers, and role providers can be configured here.</span></span>


![](membership/_static/image4.jpg)

<span data-ttu-id="f4339-170">**Abbildung 4**</span><span class="sxs-lookup"><span data-stu-id="f4339-170">**Figure 4**</span></span>


## <a name="implementing-membership-in-your-application"></a><span data-ttu-id="f4339-171">Implementieren die Mitgliedschaft in der Anwendung</span><span class="sxs-lookup"><span data-stu-id="f4339-171">Implementing Membership in Your Application</span></span>

<span data-ttu-id="f4339-172">Die einfachste Möglichkeit zum Implementieren von ASP.NET 2.0-Mitgliedschaft in der Anwendung ist die Verwendung der angegebenen Anmeldung Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="f4339-172">The easiest way to implement ASP.NET 2.0 membership in your application is to use the provided Logon controls.</span></span> <span data-ttu-id="f4339-173">Diese Methode ermöglicht Ihnen die Grundlagen von ASP.NET 2.0-Mitgliedschaft zu implementieren, ohne überhaupt Code schreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="f4339-173">This method allows you to implement the basics of ASP.NET 2.0 membership without writing any code at all.</span></span>

<span data-ttu-id="f4339-174">Die folgenden Logon-Steuerelemente sind in ASP.NET 2.0 verfügbar:</span><span class="sxs-lookup"><span data-stu-id="f4339-174">The following Logon controls are available in ASP.NET 2.0:</span></span>

## <a name="login-control"></a><span data-ttu-id="f4339-175">Steuerelement für die Anmeldung</span><span class="sxs-lookup"><span data-stu-id="f4339-175">Login Control</span></span>

<span data-ttu-id="f4339-176">Das Steuerelement für die Anmeldung stellt eine Schnittstelle für eine Person in Ihrem Mitgliedschaftssystem anmelden.</span><span class="sxs-lookup"><span data-stu-id="f4339-176">The Login control provides an interface for someone to log into your membership system.</span></span> <span data-ttu-id="f4339-177">Sie versorgt Sie mit einem Benutzernamen und Kennwort Textboxt und eine Anmeldeschaltfläche.</span><span class="sxs-lookup"><span data-stu-id="f4339-177">It provides you with a username and password textboxt and a login button.</span></span> <span data-ttu-id="f4339-178">Viele andere allgemeinen Funktionen wie z. B. einen Link zum Registrieren für Personen, die noch nicht durchgeführt haben, damit ein Kontrollkästchen, die dem Benutzer automatisch die Anmeldung bei folgeaufrufen ermöglicht, einen Link für eine kennworterinnerung usw. Alle Funktionen des Steuerelements Anmeldung können über die Eigenschaften des Steuerelements angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-178">Many other common features such as a link to register for people who have not yet done so, a checkbox that allows the user to automatically login on subsequent visits, a link for a password reminder, etc. All features of the Login control are customizable via the properties of the control.</span></span>

<span data-ttu-id="f4339-179">In ASP.NET 1.x mussten Entwickler schreiben, viel Code wird eine Suche, wenn die Formularauthentifizierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="f4339-179">In ASP.NET 1.x, developers had to write a fair amount of code to do a lookup when using Forms authentication.</span></span> <span data-ttu-id="f4339-180">Mit ASP.NET 2.0-Mitgliedschaft können Sie Benutzer überprüfen, ohne überhaupt Code schreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="f4339-180">With ASP.NET 2.0 membership, you can validate users without writing any code at all.</span></span> <span data-ttu-id="f4339-181">ASP.NET wird die Suche des Benutzers automatisch für Sie übernimmt.</span><span class="sxs-lookup"><span data-stu-id="f4339-181">ASP.NET will automatically do the look-up of the user for you.</span></span> <span data-ttu-id="f4339-182">(Wenn Sie das Steuerelement für die Anmeldung ohne Verwendung von ASP.NET-Mitgliedschaft verwenden, können Sie mithilfe der **OnAuthenticate** Methode, um den Benutzer zu überprüfen.)</span><span class="sxs-lookup"><span data-stu-id="f4339-182">(If you are using the Login control without using ASP.NET membership, you can use the **OnAuthenticate** method to validate the user.)</span></span>

## <a name="loginview-control"></a><span data-ttu-id="f4339-183">LoginView-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="f4339-183">LoginView Control</span></span>

<span data-ttu-id="f4339-184">LoginView-Steuerelement ist ein Steuerelement mit Vorlagen, das standardmäßig zwei Vorlagen enthält. die AnonymousTemplate und LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="f4339-184">The LoginView control is a templated control that provides two templates by default; the AnonymousTemplate and the LoggedInTemplate.</span></span> <span data-ttu-id="f4339-185">Die Vorlage, die angezeigt wird, richtet sich nach, und zwar unabhängig davon, ob der Benutzer in Ihrem Mitgliedschaftssystem angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="f4339-185">The template that is displayed is determined by whether or not the user is logged into your membership system.</span></span> <span data-ttu-id="f4339-186">Dieses Steuerelement dient in der Regel ein Anmeldungssteuerelement, wenn ein Benutzer noch nicht angemeldet ist und ein Steuerelement LoginStatus und/oder anderen Anmeldesteuerelementen angezeigt wird, wenn der Benutzer angemeldet hat.</span><span class="sxs-lookup"><span data-stu-id="f4339-186">This control is typically used to display a Login control when a user has not yet logged in and a LoginStatus control and/or other login controls when the user has logged in.</span></span> <span data-ttu-id="f4339-187">Bei Verwendung von Rollenverwaltung in einer ASP.NET-Anwendung kann LoginView-Steuerelement auf eine bestimmte Vorlage basierend auf der Rolle Benutzer anzeigen.</span><span class="sxs-lookup"><span data-stu-id="f4339-187">If you are using role management in your ASP.NET application, the LoginView control can display a specific template based upon the users role.</span></span> <span data-ttu-id="f4339-188">(Weitere wird auf ASP.NET Rollenverwaltung weiter unten erläutert.)</span><span class="sxs-lookup"><span data-stu-id="f4339-188">(More on ASP.NET role management will be covered later.)</span></span>

## <a name="passwordrecovery-control"></a><span data-ttu-id="f4339-189">PasswordRecovery-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="f4339-189">PasswordRecovery Control</span></span>

<span data-ttu-id="f4339-190">Das Steuerelement PasswordRecovery kann Benutzer erhält eine e-Mail mit ihrer aktuellen Kennwörter oder Zurücksetzen ihres Kennworts.</span><span class="sxs-lookup"><span data-stu-id="f4339-190">The PasswordRecovery control allows users to receive an email with his or her current password or reset his or her password.</span></span> <span data-ttu-id="f4339-191">Klartext und verschlüsselte Kennwörter können wiederhergestellt werden und per e-Mail an Benutzer gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-191">Clear text and encrypted passwords can be recovered and emailed to users.</span></span> <span data-ttu-id="f4339-192">Wenn das Kennwort ein Hashwert erstellt wird, kann nicht wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-192">If the password is hashed, it cannot be recovered.</span></span> <span data-ttu-id="f4339-193">Stattdessen kann der Benutzer für das Zurücksetzen eines Kennwortes erforderlich sein.</span><span class="sxs-lookup"><span data-stu-id="f4339-193">Instead the user will be required to perform a password reset.</span></span>

## <a name="loginstatus-control"></a><span data-ttu-id="f4339-194">LoginStatus-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="f4339-194">LoginStatus Control</span></span>

<span data-ttu-id="f4339-195">LoginStatus-Steuerelement ist ein Indikator der Anmeldung für Benutzer, die nicht angemeldet sind und einen Indikator für die Abmeldung für Benutzer angezeigt, die derzeit, in angemeldet sind verwendet.</span><span class="sxs-lookup"><span data-stu-id="f4339-195">The LoginStatus control is used to display a login indicator to users who are not logged in and a logout indicator to users who are currently logged in.</span></span> <span data-ttu-id="f4339-196">Die Request.IsAuthenticated-Eigenschaft wird verwendet, um zu bestimmen, welche Indikator angezeigt.</span><span class="sxs-lookup"><span data-stu-id="f4339-196">The Request.IsAuthenticated property is used to determine which indicator to display.</span></span> <span data-ttu-id="f4339-197">Der Indikator im LoginStatus-Steuerelement angezeigt wird kann es sich um Text (implementiert, über die **LoginText** und **LogoutText** Eigenschaften) oder Bilder (implementiert, über die **LoginImageUrl**und **LogoutImageUrl** Eigenschaften.)</span><span class="sxs-lookup"><span data-stu-id="f4339-197">The indicator displayed by the LoginStatus control can be text (implemented via the **LoginText** and **LogoutText** properties) or images (implemented via the **LoginImageUrl** and **LogoutImageUrl** properties.)</span></span>

<span data-ttu-id="f4339-198">Wenn ein Benutzer über das Steuerelement LoginStatus abmeldet, er wird mit der vom angegebenen URL umgeleitet der **LogoutPageUrl** Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="f4339-198">When a user logs out via the LoginStatus control, he or she is redirected to the URL specified by the **LogoutPageUrl** property.</span></span> <span data-ttu-id="f4339-199">Wenn diese Eigenschaft nicht festgelegt ist, wird die aktuelle Seite aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="f4339-199">If that property is not set, the current page is refreshed.</span></span> <span data-ttu-id="f4339-200">Da der Standort wahrscheinlich durch Formularauthentifizierung geschützt ist, wird die Aktualisierung der aktuellen Seite durch Umleiten des Benutzers zur Anmeldeseite für den Standort.</span><span class="sxs-lookup"><span data-stu-id="f4339-200">Since the site is likely protected by Forms authentication, the refresh of the current page will redirect the user to the login page for the site.</span></span>

## <a name="loginname-control"></a><span data-ttu-id="f4339-201">LoginName-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="f4339-201">LoginName Control</span></span>

<span data-ttu-id="f4339-202">Die LoginName-Steuerelement zeigt den Benutzernamen des Benutzers, der die Website derzeit angemeldet sind.</span><span class="sxs-lookup"><span data-stu-id="f4339-202">The LoginName control displays the username of the user currently logged into the site.</span></span>

## <a name="createuserwizard-control"></a><span data-ttu-id="f4339-203">CreateUserWizard Control</span><span class="sxs-lookup"><span data-stu-id="f4339-203">CreateUserWizard Control</span></span>

<span data-ttu-id="f4339-204">Das Steuerelement CreateUserWizard bietet Benutzern eine einfache Möglichkeit, die für Ihr Mitgliedschaftssystem zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-204">The CreateUserWizard control provides users with a convenient way to register for your membership system.</span></span> <span data-ttu-id="f4339-205">Sie können über die Schnittstelle, die nachfolgend aufgeführten Schritte (implementiert als eine Auflistung von WizardSteps) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4339-205">You can add steps (implemented as a collection of WizardSteps) via the interface shown below.</span></span>


![](membership/_static/image5.jpg)

<span data-ttu-id="f4339-206">**Abbildung 5**</span><span class="sxs-lookup"><span data-stu-id="f4339-206">**Figure 5**</span></span>


<span data-ttu-id="f4339-207">Die CreateUserWizard ist ein Steuerelement mit Vorlagen, das die Assistenten-Klasse abgeleitet und stellt die folgenden Vorlagen bereit:</span><span class="sxs-lookup"><span data-stu-id="f4339-207">The CreateUserWizard is a templated control that derives from the Wizard class and provides the following templates:</span></span>

- <span data-ttu-id="f4339-208">**HeaderTemplate** dieser Vorlage steuert die Darstellung des Headers des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="f4339-208">**HeaderTemplate** This template controls the appearance of the header of the wizard.</span></span>
- <span data-ttu-id="f4339-209">**SidebarTemplate** dieser Vorlage steuert die Darstellung der Randleiste des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="f4339-209">**SidebarTemplate** This template controls the appearance of the sidebar of the wizard.</span></span>
- <span data-ttu-id="f4339-210">**StartNavigationTemplate** diese Vorlage steuert die Darstellung der im Navigationsbereich des Assistenten für den Schritt an Start sind.</span><span class="sxs-lookup"><span data-stu-id="f4339-210">**StartNavigationTemplate** This template controls the appearance of the navigation are of the wizard at the start step.</span></span>
- <span data-ttu-id="f4339-211">**StepNavigationTemplate** dieser Vorlage steuert die Darstellung des Navigationsbereichs nicht in der Schritts "Start" oder "Fertig stellen.</span><span class="sxs-lookup"><span data-stu-id="f4339-211">**StepNavigationTemplate** This template controls the appearance of the navigation area when not in the start or finish step.</span></span>
- <span data-ttu-id="f4339-212">**FinishNavigationTemplate** dieser Vorlage steuert die Darstellung des Navigationsbereichs auf den Schritt "Fertig stellen".</span><span class="sxs-lookup"><span data-stu-id="f4339-212">**FinishNavigationTemplate** This template controls the appearance of the navigation area when on the finish step.</span></span>

<span data-ttu-id="f4339-213">Darüber hinaus wird die ASP.NET für die einzelnen Schritte, mit denen Sie den Assistenten hinzugefügt, eine benutzerdefinierte Vorlage erstellen, die eine ContentTemplate und eine CustomNavigationTemplate für diesen Schritt enthält.</span><span class="sxs-lookup"><span data-stu-id="f4339-213">Additionally, for each step that you add to the Wizard, ASP.NET will create a custom template that contains both a ContentTemplate and a CustomNavigationTemplate for that step.</span></span> <span data-ttu-id="f4339-214">Ausführliche Informationen zum Anpassen der CreateUserWizard finden Sie in der VS-2005-Dokumentation:</span><span class="sxs-lookup"><span data-stu-id="f4339-214">For full details on customizing the CreateUserWizard, see the VS.NET 2005 documentation:</span></span>

## <a name="changepassword-control"></a><span data-ttu-id="f4339-215">ChangePassword Control</span><span class="sxs-lookup"><span data-stu-id="f4339-215">ChangePassword Control</span></span>

<span data-ttu-id="f4339-216">Das Steuerelement ChangePassword kann Benutzer sein Kennwort ändern.</span><span class="sxs-lookup"><span data-stu-id="f4339-216">The ChangePassword control allows users to change his or her password.</span></span> <span data-ttu-id="f4339-217">Wenn die DisplayUserName-Eigenschaft ist true (es ist standardmäßig "false"), kann der Benutzer sein eigenes Kennwort ändern, wenn sie nicht angemeldet sind.</span><span class="sxs-lookup"><span data-stu-id="f4339-217">If the DisplayUserName property is true (it is false by default), the user can change his or her password when they are not logged in.</span></span> <span data-ttu-id="f4339-218">Wenn der Benutzer *ist* bereits angemeldet und die DisplayUserName-Eigenschaft ist "true", der Benutzer wird in der Lage, das Kennwort eines anderen Benutzers zu ändern, die nicht protokolliert werden, sie wissen, dass die Benutzer-ID des Benutzers bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="f4339-218">If the user *is* already logged in and the DisplayUserName property is true, the user will be able to change the password of another user that is not logged in providing they know the user ID of that user.</span></span>

<span data-ttu-id="f4339-219">Bedenken Sie, wenn Benutzer in der Lage, Kennwörter zu ändern, melden Sie sich ohne sein sollen, müssen Sie sicherstellen, dass die Seite, auf der das ChangePassword-Steuerelement angezeigt wird, anonymen Zugriff zulässt.</span><span class="sxs-lookup"><span data-stu-id="f4339-219">Keep in mind that if you want users to be able to change passwords without having to log in, you will need to ensure that the page on which the ChangePassword control is displayed allows anonymous access.</span></span> <span data-ttu-id="f4339-220">Natürlich müssen Benutzer ihr alte Kennwort angeben, um ihr Kennwort zu ändern.</span><span class="sxs-lookup"><span data-stu-id="f4339-220">Obviously, users will have to provide their old password in order to change their password.</span></span>

## <a name="role-management"></a><span data-ttu-id="f4339-221">Rollenverwaltung</span><span class="sxs-lookup"><span data-stu-id="f4339-221">Role Management</span></span>

<span data-ttu-id="f4339-222">Rollenverwaltung können Sie zum Zuweisen von Benutzern zu einer bestimmten Rolle, und klicken Sie dann Beschränken des Zugriffs auf bestimmte Dateien oder Ordnern, die anhand dieser Rolle.</span><span class="sxs-lookup"><span data-stu-id="f4339-222">Role management allows you to assign users to a particular role and then restrict access to certain file or folders based on that role.</span></span> <span data-ttu-id="f4339-223">Rollenverwaltung bietet darüber hinaus eine API, sodass Sie programmgesteuert Someones Rolle bestimmen oder alle Benutzer in einer bestimmten Rolle ermitteln und entsprechend reagieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-223">Role management also provides an API so that you can programmatically determine someones role or determine all users in a particular role and respond accordingly.</span></span>

<span data-ttu-id="f4339-224">Rollenverwaltung ist keine Voraussetzung im ASP.NET-Mitgliedschaft noch ist die Mitgliedschaft zwingend um Rollenverwaltung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="f4339-224">Role management is not a requirement in ASP.NET membership, nor is membership a requirement in order to use role management.</span></span> <span data-ttu-id="f4339-225">Allerdings die beiden miteinander ordentlich ergänzen und ist es wahrscheinlicher, dass Entwickler diese zusammen mit anderen verwenden.</span><span class="sxs-lookup"><span data-stu-id="f4339-225">However, the two supplement each other nicely and it is likely that developers will use them in conjunction with each other.</span></span>

<span data-ttu-id="f4339-226">Um die Rollenverwaltung in der Anwendung zu ermöglichen, stellen Sie die folgende Änderung in der Datei "Web.config":</span><span class="sxs-lookup"><span data-stu-id="f4339-226">To enable role management in your application, make the following change in your web.config file:</span></span>

[!code-xml[Main](membership/samples/sample2.xml)]

<span data-ttu-id="f4339-227">Wenn die **zurückgibt** -Attributsatz zur "true" ASP.NET die Rollenmitgliedschaft eines Benutzers in einem Cookie auf dem Client zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="f4339-227">When the **cacheRolesInCookie** attribute is set to true, ASP.NET caches a users role membership in a cookie on the client.</span></span> <span data-ttu-id="f4339-228">Dadurch wird die Rolle Suchvorgänge ohne Aufrufe an die RoleProvider auftreten.</span><span class="sxs-lookup"><span data-stu-id="f4339-228">This allows role lookups to occur without calls into the RoleProvider.</span></span> <span data-ttu-id="f4339-229">Entwicklern wird empfohlen, sicherzustellen, dass, wenn Sie dieses Attribut verwenden, die **CookieProtection** -Attribut für alle festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="f4339-229">When using this attribute, developers are encouraged to ensure that the **cookieProtection** attribute is set to All.</span></span> <span data-ttu-id="f4339-230">(Dies ist die Standardeinstellung.) Dadurch wird sichergestellt, dass die Cookiedaten verschlüsselt werden und werden sichergestellt, dass der Inhalt des Cookies nicht verändert wurden.</span><span class="sxs-lookup"><span data-stu-id="f4339-230">(This is the default setting.) This ensures that the cookie data are encrypted and helps to ensure that the cookies contents havent been altered.</span></span> <span data-ttu-id="f4339-231">Rollen können mit dem Website-Verwaltungstool hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-231">Roles can be added using the Web Site Administration Tool.</span></span> <span data-ttu-id="f4339-232">Sie können Sie problemlos Rollen definieren, konfigurieren den Zugriff auf Teile der Website basierend auf diesen Rollen und Zuweisen von Benutzern zu Rollen.</span><span class="sxs-lookup"><span data-stu-id="f4339-232">It allows you to easily define roles, configure access to parts of the site based on those roles, and assign users to roles.</span></span>


![](membership/_static/image6.jpg)

<span data-ttu-id="f4339-233">**Abbildung 6**</span><span class="sxs-lookup"><span data-stu-id="f4339-233">**Figure 6**</span></span>


<span data-ttu-id="f4339-234">Wie oben gezeigt, können neue Rollen hinzugefügt werden, indem Sie einfach den Namen der Rolle eingeben und dann auf Rolle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4339-234">As shown above, new roles can be added by simply entering the name of the role and then clicking Add Role.</span></span> <span data-ttu-id="f4339-235">Vorhandene Rollen verwaltet, oder indem Sie auf den entsprechenden Link in der Liste der vorhandenen Rollen gelöscht werden können.</span><span class="sxs-lookup"><span data-stu-id="f4339-235">Existing roles can be managed or deleted by clicking the appropriate link in the list of existing roles.</span></span>

<span data-ttu-id="f4339-236">Wenn Sie eine Rolle verwalten, können Sie hinzufügen oder Entfernen Benutzer aus, wie unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="f4339-236">When you manage a role, you can add or remove users as shown below.</span></span>


![](membership/_static/image7.jpg)

<span data-ttu-id="f4339-237">**Abbildung 7**</span><span class="sxs-lookup"><span data-stu-id="f4339-237">**Figure 7**</span></span>


<span data-ttu-id="f4339-238">Überprüfen Sie das Kontrollkästchen für die Benutzerrolle, können Sie problemlos einen Benutzer zu einer bestimmten Rolle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4339-238">By checking the User Is In Role checkbox, you can easily add a user to a specific role.</span></span> <span data-ttu-id="f4339-239">ASP.NET wird die Mitgliedschaftsdatenbank mit den entsprechenden Einträgen automatisch aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-239">ASP.NET will automatically update your membership database with the appropriate entries.</span></span> <span data-ttu-id="f4339-240">Sie sollten auch so konfigurieren Sie Zugriffsregeln für Ihre Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f4339-240">You will also want to configure access rules for your application.</span></span> <span data-ttu-id="f4339-241">1.x ASP.NET-Entwickler sind dadurch über Kenntnisse der &lt;Autorisierung&gt; Element in der Datei "Web.config", und diese Option ist auch weiterhin in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="f4339-241">ASP.NET 1.x developers are familiar with doing this via the &lt;authorization&gt; element in the web.config file, and that option is still available in ASP.NET 2.0.</span></span> <span data-ttu-id="f4339-242">Allerdings Regeln, die einfacher zu verwalten des Zugriffs verwenden die Websiteverwaltungs-Tool wie unten.</span><span class="sxs-lookup"><span data-stu-id="f4339-242">However, its easier to manage access rules using the Web Site Administration Tool as shown below.</span></span>


![](membership/_static/image8.jpg)

<span data-ttu-id="f4339-243">**Abbildung 8**</span><span class="sxs-lookup"><span data-stu-id="f4339-243">**Figure 8**</span></span>


<span data-ttu-id="f4339-244">In diesem Fall wird der Ordner Verwaltung hervorgehoben (dessen schwierig, die angezeigt werden, da das Tool hellgrau markiert) und "Administratoren" Zugriff erteilt wurde.</span><span class="sxs-lookup"><span data-stu-id="f4339-244">In this case, the Administration folder is highlighted (its difficult to see because the tool highlights it in light gray) and the Administrators role has been granted access.</span></span> <span data-ttu-id="f4339-245">Alle anderen Benutzer werden abgelehnt.</span><span class="sxs-lookup"><span data-stu-id="f4339-245">All other users are denied.</span></span> <span data-ttu-id="f4339-246">Sie können auf das Symbol "Head", wählen Sie eine Regel, und klicken Sie dann die Schaltflächen nach oben und nach unten verwenden, um die Regeln zu ordnen klicken.</span><span class="sxs-lookup"><span data-stu-id="f4339-246">You can click on the head icon to select a rule and then use the Move Up and Move Down buttons to arrange the rules.</span></span> <span data-ttu-id="f4339-247">Wie bei ASP.NET &lt;Autorisierung&gt; Element Regeln werden verarbeitet, in der Reihenfolge, in der sie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-247">As with the ASP.NET &lt;authorization&gt; element, rules are processed in the order in which they appear.</span></span> <span data-ttu-id="f4339-248">In anderen Worten, wenn die Reihenfolge der Regeln in der obigen Screenshot rückgängig gemacht wurden, würde niemand in den Ordner Verwaltung zugreifen, da die erste Regel, die ASP.NET auftreten würde die Regel wäre, die "Jeder" zu dem Ordner verweigert.</span><span class="sxs-lookup"><span data-stu-id="f4339-248">In other words, if the order of rules in the shot above were reversed, no one would have access to the Administration folder because the first rule that ASP.NET would encounter would be the rule that denies everyone to the folder.</span></span>

<span data-ttu-id="f4339-249">ASP.NET 2.0 fügt eine Datei "Web.config" zu dem Ordner, für den Sie eine Regel angeben.</span><span class="sxs-lookup"><span data-stu-id="f4339-249">ASP.NET 2.0 adds a web.config file to the folder for which you are specifying an access rule.</span></span> <span data-ttu-id="f4339-250">Zugriffsregeln können über die Konfigurationsdatei oder über die Websiteverwaltungs-Tool bearbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-250">Access rules can be edited via the configuration file or via the Web Site Administration Tool.</span></span> <span data-ttu-id="f4339-251">Die Websiteverwaltungs-Tool ist also einfach eine Schnittstelle, die über die Konfigurationsdatei in einer benutzerfreundlichen Umgebung bearbeitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="f4339-251">In other words, the Web Site Administration Tool is simply an interface through which the configuration file can be edited in a user-friendly environment.</span></span>

## <a name="using-roles-in-code"></a><span data-ttu-id="f4339-252">Verwenden von Rollen in Code</span><span class="sxs-lookup"><span data-stu-id="f4339-252">Using Roles in Code</span></span>

<span data-ttu-id="f4339-253">Die API für die Verwaltung der Rolle "" wurde nicht geändert, seit Version 1.x.</span><span class="sxs-lookup"><span data-stu-id="f4339-253">The API for role management has not changed since version 1.x.</span></span> <span data-ttu-id="f4339-254">Die **IsInRole** Methode wird verwendet, um zu bestimmen, ob ein Benutzer in einer bestimmten Rolle ist.</span><span class="sxs-lookup"><span data-stu-id="f4339-254">The **IsInRole** method is used to determine if a user is in a particular role.</span></span>

[!code-csharp[Main](membership/samples/sample3.cs)]

<span data-ttu-id="f4339-255">ASP.NET erstellt auch eine RolePrincipal-Instanz als Member des aktuellen Kontexts.</span><span class="sxs-lookup"><span data-stu-id="f4339-255">ASP.NET also creates a RolePrincipal instance as a member of the current context.</span></span> <span data-ttu-id="f4339-256">Die RolePrincipal-Objekt kann verwendet werden, um aller Rollen abzurufen, der die Benutzer wie folgt angehört:</span><span class="sxs-lookup"><span data-stu-id="f4339-256">The RolePrincipal object can be used to obtain all of the roles to which the user belongs as follows:</span></span>

[!code-csharp[Main](membership/samples/sample4.cs)]

## <a name="using-rolegroups-with-the-loginview-control"></a><span data-ttu-id="f4339-257">Verwenden RoleGroups mit dem LoginView-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="f4339-257">Using RoleGroups with the LoginView Control</span></span>

<span data-ttu-id="f4339-258">Nun, dass Sie einen Überblick über die Mitgliedschaft und Rollenverwaltung haben, können kurz erläutert, wie das LoginView-Steuerelement diese Funktionalität in ASP.NET 2.0 nutzt.</span><span class="sxs-lookup"><span data-stu-id="f4339-258">Now that you have an understanding of role management and membership, lets discuss briefly how the LoginView control takes advantage of this capability in ASP.NET 2.0.</span></span> <span data-ttu-id="f4339-259">Wie zuvor erwähnt ist das LoginView-Steuerelement ein Steuerelement mit Vorlagen, das standardmäßig zwei Vorlagen enthält. die AnonymousTemplate und LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="f4339-259">As previously discussed, the LoginView control is a templated control that contains two templates by default; the AnonymousTemplate and the LoggedInTemplate.</span></span> <span data-ttu-id="f4339-260">Innerhalb der LoginView Aufgaben Dialogfeld einen Link (siehe unten) ist, die Sie RoleGroups bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="f4339-260">Within the LoginView Tasks dialog is a link (shown below) that allows you to edit RoleGroups.</span></span>


![](membership/_static/image9.jpg)

<span data-ttu-id="f4339-261">**Abbildung 9**</span><span class="sxs-lookup"><span data-stu-id="f4339-261">**Figure 9**</span></span>


<span data-ttu-id="f4339-262">Jedes Objekt RoleGroup enthält ein Array von Zeichenfolgen, welche Rollen definiert, für die RoleGroup gilt.</span><span class="sxs-lookup"><span data-stu-id="f4339-262">Each RoleGroup object contains an array of strings that defines which roles that RoleGroup applies to.</span></span> <span data-ttu-id="f4339-263">Um eine neue RoleGroup LoginView-Steuerelement hinzuzufügen, klicken Sie auf den Link RoleGroups bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="f4339-263">To add a new RoleGroup to the LoginView control, click the Edit RoleGroups link.</span></span> <span data-ttu-id="f4339-264">In der obigen Abbildung sehen Sie sich, dass ich eine neue RoleGroup für Administratoren hinzugefügt haben.</span><span class="sxs-lookup"><span data-stu-id="f4339-264">In the image above, you can see that I have added a new RoleGroup for Administrators.</span></span> <span data-ttu-id="f4339-265">Durch Auswahl dieser RoleGroup (RoleGroup[0]) aus der Dropdownliste Ansichten, ich können konfigurieren, eine Vorlage, die nur für Mitglieder der Rolle "Administratoren" angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="f4339-265">By selecting that RoleGroup (RoleGroup[0]) from the Views dropdown, I can configure a template that will only be displayed to members of the Administrators role.</span></span> <span data-ttu-id="f4339-266">In der folgenden Abbildung wurden ich eine neue RoleGroup hinzugefügt, die für Mitglieder der Rolle "Vertrieb" und "Verteilungspunkt" gilt.</span><span class="sxs-lookup"><span data-stu-id="f4339-266">In the image below, I have added a new RoleGroup that applies to members of the Sales role and the Distribution role.</span></span> <span data-ttu-id="f4339-267">Dadurch wird eine zweite RoleGroup in der Dropdownliste Sichten im Dialogfeld "LoginView-Aufgaben", und nichts in der Vorlage hinzugefügt werden von einem Benutzer in der Sales oder der Verteilung angezeigt Rolle.</span><span class="sxs-lookup"><span data-stu-id="f4339-267">This adds a second RoleGroup to the Views dropdown in the LoginView Tasks dialog and anything added to that template will be visible by any user in either the Sales or Distribution role.</span></span>


![](membership/_static/image10.jpg)

<span data-ttu-id="f4339-268">**Abbildung 10**</span><span class="sxs-lookup"><span data-stu-id="f4339-268">**Figure 10**</span></span>


## <a name="overriding-the-existing-membership-provider"></a><span data-ttu-id="f4339-269">Überschreiben des vorhandenen Mitgliedschaftsanbieters</span><span class="sxs-lookup"><span data-stu-id="f4339-269">Overriding the Existing Membership Provider</span></span>

<span data-ttu-id="f4339-270">Es gibt mehrere Möglichkeiten, die Funktionalität von ASP.NET-Mitgliedschaft zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="f4339-270">There are a couple of ways that you can extend the functionality of ASP.NET membership.</span></span> <span data-ttu-id="f4339-271">Erstens können Sie die vorhandene Funktionalität der Klasse SqlMembershipProvider offensichtlich ändern, indem von ihm erben, und ihre Methoden überschreiben.</span><span class="sxs-lookup"><span data-stu-id="f4339-271">First of all, you can obviously change the existing functionality of the SqlMembershipProvider class by inheriting from it and overriding its methods.</span></span> <span data-ttu-id="f4339-272">Wenn Sie möchten Ihre eigenen Funktionalität zu implementieren, wenn Benutzer erstellt werden, können Sie z. B. eine eigene Klasse erstellen, die wie folgt von SqlMembershipProvider erbt:</span><span class="sxs-lookup"><span data-stu-id="f4339-272">For example, if you want to implement your own functionality when users are created, you can create your own class that inherits from SqlMembershipProvider as follows:</span></span>

[!code-csharp[Main](membership/samples/sample5.cs)]

<span data-ttu-id="f4339-273">Wenn andererseits, Ihren eigenen Anbieter (zum Speichern von Informationen zu Ihrer Mitgliedschaft in einer Access-Datenbank, z. B.) erstellen möchten, können Sie einen eigenen Anbieter erstellen.</span><span class="sxs-lookup"><span data-stu-id="f4339-273">If, on the other hand, you want to create your own provider (to store your membership information in an Access database, for example), you can create your own provider.</span></span>

## <a name="creating-your-own-membership-provider"></a><span data-ttu-id="f4339-274">Erstellen Ihre eigenen Mitgliedschaftsanbieter</span><span class="sxs-lookup"><span data-stu-id="f4339-274">Creating Your Own Membership Provider</span></span>

<span data-ttu-id="f4339-275">Um Ihren eigenen Mitgliedschaftsanbieter erstellen zu können, müssen Sie zuerst eine Klasse erstellen, die die MembershipProvider-Klasse erbt.</span><span class="sxs-lookup"><span data-stu-id="f4339-275">To create your own membership provider, you will first need to create a class that inherits from the MembershipProvider class.</span></span> <span data-ttu-id="f4339-276">Bei Verwendung von VB.NET wird Visual Studio 2005 die Stubs für alle Methoden hinzufügen, die Sie überschreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="f4339-276">If you are using VB.NET, Visual Studio 2005 will add the stubs for all of the methods that you need to override.</span></span> <span data-ttu-id="f4339-277">Wenn Sie C#-, die bis zu der Sie die Stubs hinzufügen verwenden.</span><span class="sxs-lookup"><span data-stu-id="f4339-277">If you are using C#, its up to you to add the stubs.</span></span>

<span data-ttu-id="f4339-278">Sie müssen die folgenden außer Kraft setzen:</span><span class="sxs-lookup"><span data-stu-id="f4339-278">You will need to override the following:</span></span>

- <span data-ttu-id="f4339-279">Parameter "ApplicationName"-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-279">ApplicationName property</span></span>
- <span data-ttu-id="f4339-280">ChangePassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-280">ChangePassword function</span></span>
- <span data-ttu-id="f4339-281">ChangePasswordQuestionAndAnswer function</span><span class="sxs-lookup"><span data-stu-id="f4339-281">ChangePasswordQuestionAndAnswer function</span></span>
- <span data-ttu-id="f4339-282">CreateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-282">CreateUser function</span></span>
- <span data-ttu-id="f4339-283">"DeleteUser"-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-283">DeleteUser function</span></span>
- <span data-ttu-id="f4339-284">EnablePasswordReset-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-284">EnablePasswordReset property</span></span>
- <span data-ttu-id="f4339-285">EnablePasswordRetrieval-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-285">EnablePasswordRetrieval property</span></span>
- <span data-ttu-id="f4339-286">FindUsersByEmail-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-286">FindUsersByEmail function</span></span>
- <span data-ttu-id="f4339-287">FindUsersByName-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-287">FindUsersByName function</span></span>
- <span data-ttu-id="f4339-288">GetAllUsers-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-288">GetAllUsers function</span></span>
- <span data-ttu-id="f4339-289">GetNumberOfUsersOnline function</span><span class="sxs-lookup"><span data-stu-id="f4339-289">GetNumberOfUsersOnline function</span></span>
- <span data-ttu-id="f4339-290">GetPassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-290">GetPassword function</span></span>
- <span data-ttu-id="f4339-291">GetUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-291">GetUser function</span></span>
- <span data-ttu-id="f4339-292">GetUserNameByEmail function</span><span class="sxs-lookup"><span data-stu-id="f4339-292">GetUserNameByEmail function</span></span>
- <span data-ttu-id="f4339-293">MaxInvalidPasswordAttempts-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-293">MaxInvalidPasswordAttempts property</span></span>
- <span data-ttu-id="f4339-294">MinRequiredNonAlphanumericCharacters-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-294">MinRequiredNonAlphanumericCharacters property</span></span>
- <span data-ttu-id="f4339-295">MinRequiredPasswordLength-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-295">MinRequiredPasswordLength property</span></span>
- <span data-ttu-id="f4339-296">PasswordAttemptWindow-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-296">PasswordAttemptWindow property</span></span>
- <span data-ttu-id="f4339-297">PasswordFormat-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-297">PasswordFormat property</span></span>
- <span data-ttu-id="f4339-298">PasswordStrengthRegularExpression-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-298">PasswordStrengthRegularExpression property</span></span>
- <span data-ttu-id="f4339-299">RequiresQuestionAndAnswer property</span><span class="sxs-lookup"><span data-stu-id="f4339-299">RequiresQuestionAndAnswer property</span></span>
- <span data-ttu-id="f4339-300">RequiresUniqueEmail-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="f4339-300">RequiresUniqueEmail property</span></span>
- <span data-ttu-id="f4339-301">Accounts-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-301">ResetPassword function</span></span>
- <span data-ttu-id="f4339-302">Unlock Benutzerfunktion</span><span class="sxs-lookup"><span data-stu-id="f4339-302">Unlock user function</span></span>
- <span data-ttu-id="f4339-303">UpdateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-303">UpdateUser function</span></span>
- <span data-ttu-id="f4339-304">ValidateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="f4339-304">ValidateUser function</span></span>

<span data-ttu-id="f4339-305">Thats eine ziemlich Liste als C#-Entwickler zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="f4339-305">Thats quite a list to implement as a C# developer.</span></span> <span data-ttu-id="f4339-306">Sie finden es vielleicht einfacher, erstellen Sie die Klasse in VB.NET ohne jede Implementierung und verwenden Sie .NET Reflector oder ein ähnliches Tool, um den Code in c# konvertiert.</span><span class="sxs-lookup"><span data-stu-id="f4339-306">You may find it easier to create the class in VB.NET without any implementation and then use .NET Reflector or a similar tool to convert the code to C#.</span></span>

<span data-ttu-id="f4339-307">Auf ihre Standardwerte in die Initialize-Methode sollte die Verbindungszeichenfolge und andere Eigenschaften festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="f4339-307">The connection string and other properties should be set to their defaults in the Initialize method.</span></span> <span data-ttu-id="f4339-308">(Die Initialize-Methode wird ausgelöst, wenn der Anbieter zur Laufzeit geladen wird.) Der zweite Parameter für die Initialize-Methode ist vom Typ System.Collections.Specialized.NameValueCollection und ist ein Verweis auf die &lt;hinzufügen&gt; Element, das einen benutzerdefinierten Anbieter in der Datei "Web.config" zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="f4339-308">(The Initialize method is fired when the provider is loaded at runtime.) The second parameter to the Initialize method is of type System.Collections.Specialized.NameValueCollection and is a reference to the &lt;add&gt; element that is associated with your custom provider in the web.config file.</span></span> <span data-ttu-id="f4339-309">Dieser Eintrag sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="f4339-309">That entry looks like the following:</span></span>

[!code-xml[Main](membership/samples/sample6.xml)]

<span data-ttu-id="f4339-310">Hier ist ein Beispiel für die Initialize-Methode.</span><span class="sxs-lookup"><span data-stu-id="f4339-310">Here is an example of the Initialize method.</span></span>

[!code-csharp[Main](membership/samples/sample7.cs)]

<span data-ttu-id="f4339-311">Um den Benutzer zu überprüfen, wenn Benutzer Ihre Anmeldeformular übermitteln, müssen Sie die ValidateUser-Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="f4339-311">In order to validate the user when they submit your login form, you will need to use the ValidateUser method.</span></span> <span data-ttu-id="f4339-312">Diese Methode wird ausgelöst, wenn der Benutzer die Anmeldung klickt, die in das Steuerelement für die Anmeldung.</span><span class="sxs-lookup"><span data-stu-id="f4339-312">This method fires when the user clicks the login button in the Login control.</span></span> <span data-ttu-id="f4339-313">Setzen Sie den Code, der die Nachschlagevorgangs durch den Benutzer in dieser Methode ist.</span><span class="sxs-lookup"><span data-stu-id="f4339-313">You will place your code that does the user lookup in this method.</span></span>

<span data-ttu-id="f4339-314">Wie Sie sehen können, Schreiben Ihren eigenen Mitgliedschaftsanbieter nicht und können Sie dieses leistungsstarke Funktionen von ASP.NET 2.0 zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="f4339-314">As you can see, writing your own membership provider is not difficult and allows you to extend this powerful functionality of ASP.NET 2.0.</span></span>
