---
uid: mvc/overview/performance/bundling-and-minification
title: Bundling und Minimierung | Microsoft Docs
author: Rick-Anderson
description: Bundling und Minimierung sind zwei Techniken können Sie in ASP.NET 4.5 um Ladezeit für die Anforderung zu verbessern. Bundling und Minimierung verbessert die Ladezeit von Reducin...
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/23/2012
ms.topic: article
ms.assetid: 5894dc13-5d45-4dad-8096-136499120f1d
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/performance/bundling-and-minification
msc.type: authoredcontent
ms.openlocfilehash: 001ebf89cda66a50cddcd7e4944f27b9396d4450
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/10/2018
---
<a name="bundling-and-minification"></a><span data-ttu-id="fc918-104">Bundling und Minimierung</span><span class="sxs-lookup"><span data-stu-id="fc918-104">Bundling and Minification</span></span>
====================
<span data-ttu-id="fc918-105">durch [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="fc918-105">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="fc918-106">Bundling und Minimierung sind zwei Techniken können Sie in ASP.NET 4.5 um Ladezeit für die Anforderung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="fc918-106">Bundling and minification are two techniques you can use in ASP.NET 4.5 to improve request load time.</span></span> <span data-ttu-id="fc918-107">Bündelung und Minimierung verbessert die Ladezeit von reduziert die Anzahl der Anforderungen an den Server und reduziert die Größe der angeforderten Objekte (z. B. CSS- und JavaScript.)</span><span class="sxs-lookup"><span data-stu-id="fc918-107">Bundling and minification improves load time by reducing the number of requests to the server and reducing the size of requested assets (such as CSS and JavaScript.)</span></span>


<span data-ttu-id="fc918-108">Die meisten der aktuellen wichtigen Browser schränken die Anzahl der [gleichzeitige Verbindungen](http://www.browserscope.org/?category=network) pro jeden Hostnamen auf 6.</span><span class="sxs-lookup"><span data-stu-id="fc918-108">Most of the current major browsers limit the number of [simultaneous connections](http://www.browserscope.org/?category=network) per each hostname to six.</span></span> <span data-ttu-id="fc918-109">Das heißt, während sechs Anforderungen verarbeitet werden, zusätzliche Anforderungen für Ressourcen auf einem Host vom Browser in die Warteschlange gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-109">That means that while six requests are being processed, additional requests for assets on a host will be queued by the browser.</span></span> <span data-ttu-id="fc918-110">Zeigt, in der folgenden Abbildung wird die Internet Explorer F12 Developer Tools Netzwerk Registerkarten der zeitlichen Steuerung für Objekte, die durch die Info-Sicht einer Beispiel-Anwendung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="fc918-110">In the image below, the IE F12 developer tools network tabs shows the timing for assets required by the About view of a sample application.</span></span>

![B/M](bundling-and-minification/_static/image1.png)

<span data-ttu-id="fc918-112">Die grauen Balken zeigen die Uhrzeit die Anforderung vom Browser warten auf den Grenzwert für sechs Verbindungen in die Warteschlange gestellt wird.</span><span class="sxs-lookup"><span data-stu-id="fc918-112">The gray bars show the time the request is queued by the browser waiting on the six connection limit.</span></span> <span data-ttu-id="fc918-113">Die gelbe Leiste ist die Anforderungszeit zum ersten Byte, d. h. die Zeitdauer für die Anforderung senden und Empfangen der ersten Antwort vom Server.</span><span class="sxs-lookup"><span data-stu-id="fc918-113">The yellow bar is the request time to first byte, that is, the time taken to send the request and receive the first response from the server.</span></span> <span data-ttu-id="fc918-114">Die blauen Striche zeigen die Zeitdauer für die Antwortdaten vom Server empfangen.</span><span class="sxs-lookup"><span data-stu-id="fc918-114">The blue bars show the time taken to receive the response data from the server.</span></span> <span data-ttu-id="fc918-115">Sie können auf ein Medienobjekt abzurufenden ausführliche Zeitsteuerungsinformationen doppelklicken.</span><span class="sxs-lookup"><span data-stu-id="fc918-115">You can double-click on an asset to get detailed timing information.</span></span> <span data-ttu-id="fc918-116">Die folgende Abbildung zeigt z. B. die Details der zeitlichen Steuerung für das Laden der */Scripts/MyScripts/JavaScript6.js* Datei.</span><span class="sxs-lookup"><span data-stu-id="fc918-116">For example, the following image shows the timing details for loading the */Scripts/MyScripts/JavaScript6.js* file.</span></span>

![](bundling-and-minification/_static/image2.png)

<span data-ttu-id="fc918-117">Der vorherigen Abbildung wird die **starten** welche gibt die Zeit, die die Anforderung wurde in der Warteschlange aufgrund der Browser die Anzahl gleichzeitiger Verbindungen-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="fc918-117">The preceding image shows the **Start** event, which gives the time the request was queued because of the browser limit the number of simultaneous connections.</span></span> <span data-ttu-id="fc918-118">In diesem Fall wurde die Anforderung 46 Millisekunden wartet auf eine andere Anforderung zum Abschließen der in die Warteschlange eingereiht.</span><span class="sxs-lookup"><span data-stu-id="fc918-118">In this case, the request was queued for 46 milliseconds waiting for another request to complete.</span></span>

## <a name="bundling"></a><span data-ttu-id="fc918-119">Bundling</span><span class="sxs-lookup"><span data-stu-id="fc918-119">Bundling</span></span>

<span data-ttu-id="fc918-120">Bundling ist ein neues Feature in ASP.NET 4.5, die ganz einfach kombinieren oder mehrere Dateien in einer einzelnen Datei bündeln.</span><span class="sxs-lookup"><span data-stu-id="fc918-120">Bundling is a new feature in ASP.NET 4.5 that makes it easy to combine or bundle multiple files into a single file.</span></span> <span data-ttu-id="fc918-121">Sie können CSS, JavaScript und andere Pakete erstellen.</span><span class="sxs-lookup"><span data-stu-id="fc918-121">You can create CSS, JavaScript and other bundles.</span></span> <span data-ttu-id="fc918-122">Weniger Dateien bedeutet, dass weniger HTTP-Anforderungen und die erste Seite Last verbessern können.</span><span class="sxs-lookup"><span data-stu-id="fc918-122">Fewer files means fewer HTTP requests and that can improve first page load performance.</span></span>

<span data-ttu-id="fc918-123">Die folgende Abbildung zeigt die gleiche Timing-Sicht, der die Info-Sicht, die zuvor, aber diesmal mit das Bündelung und Minimierung aktiviert angezeigt.</span><span class="sxs-lookup"><span data-stu-id="fc918-123">The following image shows the same timing view of the About view shown previously, but this time with bundling and minification enabled.</span></span>

![](bundling-and-minification/_static/image3.png)

## <a name="minification"></a><span data-ttu-id="fc918-124">Minimierung</span><span class="sxs-lookup"><span data-stu-id="fc918-124">Minification</span></span>

<span data-ttu-id="fc918-125">Minimierung führt eine Vielzahl von anderen Code, der Optimierungen, Skripts oder Css, beispielsweise das Entfernen unnötiger Leerzeichen und Kommentare und Verkürzung Variablennamen in einem Zeichen.</span><span class="sxs-lookup"><span data-stu-id="fc918-125">Minification performs a variety of different code optimizations to scripts or css, such as removing unnecessary white space and comments and shortening variable names to one character.</span></span> <span data-ttu-id="fc918-126">Betrachten Sie die folgenden JavaScript-Funktion.</span><span class="sxs-lookup"><span data-stu-id="fc918-126">Consider the following JavaScript function.</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample1.js)]

<span data-ttu-id="fc918-127">Nach der Minimierung wird die Funktion auf die folgenden reduziert:</span><span class="sxs-lookup"><span data-stu-id="fc918-127">After minification, the function is reduced to the following:</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample2.js)]

<span data-ttu-id="fc918-128">Zusätzlich zu entfernen, Kommentare und Leerzeichen nicht erforderlich, wurden die folgenden Parameter und Variablen umbenannt (gekürzt) wie folgt:</span><span class="sxs-lookup"><span data-stu-id="fc918-128">In addition to removing the comments and unnecessary whitespace, the following parameters and variable names were renamed (shortened) as follows:</span></span>

| <span data-ttu-id="fc918-129">**Original**</span><span class="sxs-lookup"><span data-stu-id="fc918-129">**Original**</span></span> | <span data-ttu-id="fc918-130">**Umbenannt**</span><span class="sxs-lookup"><span data-stu-id="fc918-130">**Renamed**</span></span> |
| --- | --- |
| <span data-ttu-id="fc918-131">imageTagAndImageID</span><span class="sxs-lookup"><span data-stu-id="fc918-131">imageTagAndImageID</span></span> | <span data-ttu-id="fc918-132">n</span><span class="sxs-lookup"><span data-stu-id="fc918-132">n</span></span> |
| <span data-ttu-id="fc918-133">imageContext</span><span class="sxs-lookup"><span data-stu-id="fc918-133">imageContext</span></span> | <span data-ttu-id="fc918-134">t</span><span class="sxs-lookup"><span data-stu-id="fc918-134">t</span></span> |
| <span data-ttu-id="fc918-135">imageElement</span><span class="sxs-lookup"><span data-stu-id="fc918-135">imageElement</span></span> | <span data-ttu-id="fc918-136">i</span><span class="sxs-lookup"><span data-stu-id="fc918-136">i</span></span> |

## <a name="impact-of-bundling-and-minification"></a><span data-ttu-id="fc918-137">Auswirkungen der Bündelung und Minimierung</span><span class="sxs-lookup"><span data-stu-id="fc918-137">Impact of Bundling and Minification</span></span>

<span data-ttu-id="fc918-138">Die folgende Tabelle zeigt einige wichtige Unterschiede zwischen alle Objekte einzeln auflisten und Bündelung und Minimierung (B/M) in das Beispielprogramm verwenden.</span><span class="sxs-lookup"><span data-stu-id="fc918-138">The following table shows several important differences between listing all the assets individually and using bundling and minification (B/M) in the sample program.</span></span>

|  | <span data-ttu-id="fc918-139">**Mithilfe von B/M**</span><span class="sxs-lookup"><span data-stu-id="fc918-139">**Using B/M**</span></span> | <span data-ttu-id="fc918-140">**Ohne B/M**</span><span class="sxs-lookup"><span data-stu-id="fc918-140">**Without B/M**</span></span> | <span data-ttu-id="fc918-141">**Ändern Sie**</span><span class="sxs-lookup"><span data-stu-id="fc918-141">**Change**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="fc918-142">**Dateianforderungen**</span><span class="sxs-lookup"><span data-stu-id="fc918-142">**File Requests**</span></span> | <span data-ttu-id="fc918-143">9</span><span class="sxs-lookup"><span data-stu-id="fc918-143">9</span></span> | <span data-ttu-id="fc918-144">34</span><span class="sxs-lookup"><span data-stu-id="fc918-144">34</span></span> | <span data-ttu-id="fc918-145">256%</span><span class="sxs-lookup"><span data-stu-id="fc918-145">256%</span></span> |
| <span data-ttu-id="fc918-146">**Gesendete KB**</span><span class="sxs-lookup"><span data-stu-id="fc918-146">**KB Sent**</span></span> | <span data-ttu-id="fc918-147">3.26</span><span class="sxs-lookup"><span data-stu-id="fc918-147">3.26</span></span> | <span data-ttu-id="fc918-148">11.92</span><span class="sxs-lookup"><span data-stu-id="fc918-148">11.92</span></span> | <span data-ttu-id="fc918-149">266%</span><span class="sxs-lookup"><span data-stu-id="fc918-149">266%</span></span> |
| <span data-ttu-id="fc918-150">**KB empfangen**</span><span class="sxs-lookup"><span data-stu-id="fc918-150">**KB Received**</span></span> | <span data-ttu-id="fc918-151">388.51</span><span class="sxs-lookup"><span data-stu-id="fc918-151">388.51</span></span> | <span data-ttu-id="fc918-152">530</span><span class="sxs-lookup"><span data-stu-id="fc918-152">530</span></span> | <span data-ttu-id="fc918-153">36%</span><span class="sxs-lookup"><span data-stu-id="fc918-153">36%</span></span> |
| <span data-ttu-id="fc918-154">**Ladezeit**</span><span class="sxs-lookup"><span data-stu-id="fc918-154">**Load Time**</span></span> | <span data-ttu-id="fc918-155">510 MS</span><span class="sxs-lookup"><span data-stu-id="fc918-155">510 MS</span></span> | <span data-ttu-id="fc918-156">780 MS</span><span class="sxs-lookup"><span data-stu-id="fc918-156">780 MS</span></span> | <span data-ttu-id="fc918-157">53%</span><span class="sxs-lookup"><span data-stu-id="fc918-157">53%</span></span> |

<span data-ttu-id="fc918-158">Der gesendeten Bytes hat zu eine erhebliche Reduzierung mit das Bündelung wie Browsern Recht ausführlich mit den HTTP-Headern, die sie für Anforderungen gelten.</span><span class="sxs-lookup"><span data-stu-id="fc918-158">The bytes sent had a significant reduction with bundling as browsers are fairly verbose with the HTTP headers they apply on requests.</span></span> <span data-ttu-id="fc918-159">Verkürzung der Dauer des empfangenen Bytes nicht so groß ist. da die größten Dateien (*Scripts\jquery-ui-1.8.11.min.js* und *Scripts\jquery-1.7.1.min.js*) bereits verkleinert werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-159">The received bytes reduction is not as large because the largest files (*Scripts\jquery-ui-1.8.11.min.js* and *Scripts\jquery-1.7.1.min.js*) are already minified.</span></span> <span data-ttu-id="fc918-160">Hinweis: Die Anzeigedauer auf das Beispielprogramm verwendet die [Fiddler](http://www.fiddler2.com/fiddler2/) Tool ein langsames Netzwerk zu simulieren.</span><span class="sxs-lookup"><span data-stu-id="fc918-160">Note: The timings on the sample program used the [Fiddler](http://www.fiddler2.com/fiddler2/) tool to simulate a slow network.</span></span> <span data-ttu-id="fc918-161">(Aus der Fiddler **Regeln** klicken Sie im Menü **Leistung** dann **simulieren Modem Geschwindigkeiten**.)</span><span class="sxs-lookup"><span data-stu-id="fc918-161">(From the Fiddler **Rules** menu, select **Performance** then **Simulate Modem Speeds**.)</span></span>

## <a name="debugging-bundled-and-minified-javascript"></a><span data-ttu-id="fc918-162">Debuggen von JavaScript verkleinert und gebündelt</span><span class="sxs-lookup"><span data-stu-id="fc918-162">Debugging Bundled and Minified JavaScript</span></span>

<span data-ttu-id="fc918-163">Ist ganz einfach zum Debuggen des JavaScript in einer Entwicklungsumgebung (, in dem die [Kompilierung Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der *"Web.config"* Datei wird festgelegt, um `debug="true"` ), weil die JavaScript-Dateien nicht zusammengefasst sind oder verkleinert.</span><span class="sxs-lookup"><span data-stu-id="fc918-163">It's easy to debug your JavaScript in a development environment (where the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in the *Web.config* file is set to `debug="true"` ) because the JavaScript files are not bundled or minified.</span></span> <span data-ttu-id="fc918-164">Sie können auch einen Releasebuild debuggen, in dem die JavaScript-Dateien gebündelt und verkleinert werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-164">You can also debug a release build where your JavaScript files are bundled and minified.</span></span> <span data-ttu-id="fc918-165">Verwenden den Internet Explorer F12-Entwicklungstools, Debuggen Sie eine JavaScript-Funktion enthalten, die in einem verkleinerte Paket wie folgt vorgehen:</span><span class="sxs-lookup"><span data-stu-id="fc918-165">Using the IE F12 developer tools, you debug a JavaScript function included in a minified bundle using the following approach:</span></span>

1. <span data-ttu-id="fc918-166">Wählen Sie die **Skript** Registerkarte, und wählen Sie dann die **Starten des Debuggens** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="fc918-166">Select the **Script** tab and then select the **Start debugging** button.</span></span>
2. <span data-ttu-id="fc918-167">Wählen Sie das Paket mit der JavaScript-Funktion, die Sie mithilfe der Schaltfläche "Bestand" Debuggen möchten.</span><span class="sxs-lookup"><span data-stu-id="fc918-167">Select the bundle containing the JavaScript function you want to debug using the assets button.</span></span>  
    ![](bundling-and-minification/_static/image4.png)
3. <span data-ttu-id="fc918-168">Formatieren Sie die verkleinerte JavaScript durch Auswahl der **Schaltfläche Konfiguration** ![](bundling-and-minification/_static/image5.png), auswählen und dann **Format JavaScript**.</span><span class="sxs-lookup"><span data-stu-id="fc918-168">Format the minified JavaScript by selecting the **Configuration button** ![](bundling-and-minification/_static/image5.png), and then selecting **Format JavaScript**.</span></span>
4. <span data-ttu-id="fc918-169">In der **Suche Skript** t-Eingabefeld, wählen Sie den Namen der Funktion, die Sie debuggen möchten.</span><span class="sxs-lookup"><span data-stu-id="fc918-169">In the **Search Scrip** t input box, select the name of the function you want to debug.</span></span> <span data-ttu-id="fc918-170">In der folgenden Abbildung **AddAltToImg** eingegeben wurde die **Suche Skript** t Eingabefeld.</span><span class="sxs-lookup"><span data-stu-id="fc918-170">In the following image, **AddAltToImg** was entered in the **Search Scrip** t input box.</span></span>  
    ![](bundling-and-minification/_static/image6.png)

<span data-ttu-id="fc918-171">Weitere Informationen zum Debuggen mit den F12 Entwicklertools finden Sie im MSDN-Artikel [mit den F12 Entwicklertools zum Debuggen von JavaScript-Fehler](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-171">For more information on debugging with the F12 developer tools, see the MSDN article [Using the F12 Developer Tools to Debug JavaScript Errors](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span></span>

## <a name="controlling-bundling-and-minification"></a><span data-ttu-id="fc918-172">Steuern des Bündelung und Minimierung</span><span class="sxs-lookup"><span data-stu-id="fc918-172">Controlling Bundling and Minification</span></span>

<span data-ttu-id="fc918-173">Bündelung und Minimierung aktiviert oder deaktiviert, indem Sie den Wert des Attributs "Debuggen" in der [Kompilierung Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der *"Web.config"* Datei.</span><span class="sxs-lookup"><span data-stu-id="fc918-173">Bundling and minification is enabled or disabled by setting the value of the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file.</span></span> <span data-ttu-id="fc918-174">Im folgenden XML `debug` ist auf diesem "true" festgelegt ist Bündelung und Minimierung deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="fc918-174">In the following XML, `debug` is set to true so bundling and minification is disabled.</span></span>

[!code-xml[Main](bundling-and-minification/samples/sample3.xml?highlight=2)]

<span data-ttu-id="fc918-175">Legen Sie zum Aktivieren von Bündelung und Minimierung der `debug` Wert auf "False".</span><span class="sxs-lookup"><span data-stu-id="fc918-175">To enable bundling and minification, set the `debug` value to "false".</span></span> <span data-ttu-id="fc918-176">Sie überschreiben können die *"Web.config"* festlegen, mit der `EnableOptimizations` Eigenschaft auf die `BundleTable` Klasse.</span><span class="sxs-lookup"><span data-stu-id="fc918-176">You can override the *Web.config* setting with the `EnableOptimizations` property on the `BundleTable` class.</span></span> <span data-ttu-id="fc918-177">Der folgende Code ermöglicht Bündelung und Minimierung und überschreibt alle Einstellungen in der *"Web.config"* Datei.</span><span class="sxs-lookup"><span data-stu-id="fc918-177">The following code enables bundling and minification and overrides any setting in the *Web.config* file.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample4.cs?highlight=7)]

> [!NOTE]
> <span data-ttu-id="fc918-178">Es sei denn, `EnableOptimizations` ist `true` oder das Debug-Attribut in der [Kompilierung Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der *"Web.config"* Datei wird festgelegt, um `false`, Dateien nicht gebündelt oder verkleinert werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-178">Unless `EnableOptimizations` is `true` or the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file is set to `false`, files will not be bundled or minified.</span></span> <span data-ttu-id="fc918-179">Darüber hinaus die .min Version der Dateien wird nicht verwendet werden, werden die vollständige Debugversionen ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-179">Additionally, the .min version of files will not be used, the full debug versions will be selected.</span></span> <span data-ttu-id="fc918-180">`EnableOptimizations` überschreibt das Debug-Attribut in der [Kompilierung Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der *"Web.config"* Datei</span><span class="sxs-lookup"><span data-stu-id="fc918-180">`EnableOptimizations` overrides the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file</span></span>


## <a name="using-bundling-and-minification-with-aspnet-web-forms-and-web-pages"></a><span data-ttu-id="fc918-181">Mithilfe von Bündelung und Minimierung mit ASP.NET Web Forms und Web Pages</span><span class="sxs-lookup"><span data-stu-id="fc918-181">Using Bundling and Minification with ASP.NET Web Forms and Web Pages</span></span>

- <span data-ttu-id="fc918-182">Für Webseiten, finden Sie im Blogeintrag [Weboptimierung hinzufügen, um eine Web Pages-Website](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-182">For Web Pages, see the blog entry [Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="fc918-183">Web Forms, finden Sie im Blogeintrag [hinzufügen Bündelung und Minimierung mit Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-183">For Web Forms, see the blog entry [Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>

## <a name="using-bundling-and-minification-with-aspnet-mvc"></a><span data-ttu-id="fc918-184">Mithilfe von Bündelung und Minimierung mit ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="fc918-184">Using Bundling and Minification with ASP.NET MVC</span></span>

<span data-ttu-id="fc918-185">In diesem Abschnitt werden wir eine ASP.NET MVC Projekt untersuchen Bündelung und Minimierung erstellen.</span><span class="sxs-lookup"><span data-stu-id="fc918-185">In this section we will create an ASP.NET MVC project to examine bundling and minification.</span></span> <span data-ttu-id="fc918-186">Erstellen Sie zunächst ein neues ASP.NET MVC-Internet-Projekt namens **MvcBM** ohne die Standardwerte ändern.</span><span class="sxs-lookup"><span data-stu-id="fc918-186">First, create a new ASP.NET MVC internet project named **MvcBM** without changing any of the defaults.</span></span>

<span data-ttu-id="fc918-187">Öffnen der *App\_Start\BundleConfig.cs* Datei, und überprüfen Sie die `RegisterBundles` Methode dient zum Erstellen, registrieren und Konfigurieren der Pakete.</span><span class="sxs-lookup"><span data-stu-id="fc918-187">Open the *App\_Start\BundleConfig.cs* file and examine the `RegisterBundles` method which is used to create, register and configure bundles.</span></span> <span data-ttu-id="fc918-188">Der folgende Code zeigt einen Teil der `RegisterBundles` Methode.</span><span class="sxs-lookup"><span data-stu-id="fc918-188">The following code shows a portion of the `RegisterBundles` method.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample5.cs)]

<span data-ttu-id="fc918-189">Der vorangehende Code erstellt ein neues JavaScript-Bundle, das mit dem Namen *~/bundles/jquery* , umfasst der entsprechenden (, aber nicht verkleinert oder wird Debug. *Das Vsdoc*) Dateien in den *Skripts* Ordner, die die Platzhalter-Zeichenfolge ".js ~/Scripts/jquery-{Version}" entsprechen.</span><span class="sxs-lookup"><span data-stu-id="fc918-189">The  preceding code creates a new JavaScript bundle named *~/bundles/jquery* that includes all the appropriate (that is debug or minified but not .*vsdoc*) files in the *Scripts* folder that match the wild card string "~/Scripts/jquery-{version}.js".</span></span> <span data-ttu-id="fc918-190">Für ASP.NET MVC 4, bedeutet dies, mit einer Debugkonfiguration Datei *Jquery-1.7.1.js* wird, die dem Paket hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-190">For ASP.NET MVC 4, this means with a debug configuration, the file *jquery-1.7.1.js* will be added to the bundle.</span></span> <span data-ttu-id="fc918-191">In einer Releasekonfiguration *Jquery-1.7.1.min.js* hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-191">In a release configuration, *jquery-1.7.1.min.js* will be added.</span></span> <span data-ttu-id="fc918-192">Das bundling Framework folgt mehrere allgemeine Konventionen wie z. B.:</span><span class="sxs-lookup"><span data-stu-id="fc918-192">The bundling framework follows several common conventions such as:</span></span>

- <span data-ttu-id="fc918-193">".Min"-Datei für Version auswählen, wenn "FileX.min.js" und "FileX.js" vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="fc918-193">Selecting ".min" file for release when "FileX.min.js" and "FileX.js" exist.</span></span>
- <span data-ttu-id="fc918-194">Die nicht ".min"-Version für das Debuggen auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="fc918-194">Selecting the non ".min" version for debug.</span></span>
- <span data-ttu-id="fc918-195">Ignorieren von "-Vsdoc" Dateien (z. B. Jquery-1.7.1-vsdoc.js), die nur von IntelliSense verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-195">Ignoring "-vsdoc" files (such as jquery-1.7.1-vsdoc.js), which are used only by IntelliSense.</span></span>

<span data-ttu-id="fc918-196">Die `{version}` Platzhalterzeichen oben gezeigten dient zum automatischen Erstellen von einem jQuery-Paket mit der entsprechenden Version von jQuery in Ihre *Skripts* Ordner.</span><span class="sxs-lookup"><span data-stu-id="fc918-196">The `{version}` wild card matching shown above is used to automatically create a jQuery bundle with the appropriate version of jQuery in your *Scripts* folder.</span></span> <span data-ttu-id="fc918-197">In diesem Beispiel enthält einen Platzhalter mit die folgenden Vorteile:</span><span class="sxs-lookup"><span data-stu-id="fc918-197">In this example, using a wild card provides the following benefits:</span></span>

- <span data-ttu-id="fc918-198">Können Sie NuGet verwenden, um auf eine neuere Version von jQuery zu aktualisieren, ohne die vorangehenden Bündeln von Code oder jQuery-Verweise in Ihrem Ansichtsseiten zu ändern.</span><span class="sxs-lookup"><span data-stu-id="fc918-198">Allows you to use NuGet to update to a newer jQuery version without changing the preceding bundling code or jQuery references in your view pages.</span></span>
- <span data-ttu-id="fc918-199">SELECT-Anweisungen werden automatisch die vollständige Version für Debugkonfigurationen als auch die Version ".min" für Version erstellt.</span><span class="sxs-lookup"><span data-stu-id="fc918-199">Automatically selects the full version for debug configurations and the ".min" version for release builds.</span></span>

## <a name="using-a-cdn"></a><span data-ttu-id="fc918-200">Verwenden von CDN</span><span class="sxs-lookup"><span data-stu-id="fc918-200">Using a CDN</span></span>

 <span data-ttu-id="fc918-201">Der folgende Code ersetzt die lokale jQuery-Paket mit einem CDN-jQuery-Paket.</span><span class="sxs-lookup"><span data-stu-id="fc918-201">The follow code replaces the local jQuery bundle with a CDN jQuery bundle.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample6.cs)]

<span data-ttu-id="fc918-202">Im obigen Code wird vom CDN jQuery angefordert werden, während in Version Modus und die Debugversion von jQuery lokal im Debugmodus abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-202">In the code above, jQuery will be requested from the CDN while in release mode and the debug version of jQuery will be fetched locally in debug mode.</span></span> <span data-ttu-id="fc918-203">Bei einem CDN zu verwenden, sollten Sie einen fallback-Mechanismus verfügen, für den Fall, dass die CDN-Anforderung schlägt fehl.</span><span class="sxs-lookup"><span data-stu-id="fc918-203">When using a CDN, you should have a fallback mechanism in case the CDN request fails.</span></span> <span data-ttu-id="fc918-204">Das folgende Markup fragment vom Ende Layout zeigt das Skript für die Anforderungszeit jQuery die CDN-Fehler sollten hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="fc918-204">The following markup fragment from the end of the layout file shows script added to request jQuery should the CDN fail.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample7.cshtml?highlight=5-13)]

## <a name="creating-a-bundle"></a><span data-ttu-id="fc918-205">Erstellen ein Paket</span><span class="sxs-lookup"><span data-stu-id="fc918-205">Creating a Bundle</span></span>

<span data-ttu-id="fc918-206">Die [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) Klasse `Include` Methode nimmt ein Array von Zeichenfolgen, wobei jede Zeichenfolge einen virtuellen Pfad zu der Ressource ist.</span><span class="sxs-lookup"><span data-stu-id="fc918-206">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `Include` method takes an array of strings, where each string is a virtual path to resource.</span></span> <span data-ttu-id="fc918-207">Der folgende Code aus der RegisterBundles-Methode in der *App\_Start\BundleConfig.cs* Datei zeigt, wie mehrere Dateien auf ein Paket hinzugefügt werden:</span><span class="sxs-lookup"><span data-stu-id="fc918-207">The following code from the RegisterBundles method in the *App\_Start\BundleConfig.cs* file shows how multiple files are added to a bundle:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample8.cs)]

<span data-ttu-id="fc918-208">Die [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) Klasse `IncludeDirectory` Methode wird bereitgestellt, um alle Dateien in ein Verzeichnis (und optional alle Unterverzeichnisse) hinzufügen, die einem Suchmuster entsprechen.</span><span class="sxs-lookup"><span data-stu-id="fc918-208">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` method is provided to add all the files in a directory (and optionally all subdirectories) which match a search pattern.</span></span> <span data-ttu-id="fc918-209">Die [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) Klasse `IncludeDirectory` API wird unten gezeigt:</span><span class="sxs-lookup"><span data-stu-id="fc918-209">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` API is shown below:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample9.cs)]

<span data-ttu-id="fc918-210">Pakete werden in Ansichten, die mit der Render-Methode verwiesen wird ( `Styles.Render` für CSS und `Scripts.Render` für JavaScript).</span><span class="sxs-lookup"><span data-stu-id="fc918-210">Bundles are referenced in views using the Render method, ( `Styles.Render` for CSS and `Scripts.Render` for JavaScript).</span></span> <span data-ttu-id="fc918-211">Das folgende Markup aus der *Views\Shared\\_Layout.cshtml* -Datei zeigt, wie die Standardansichten für ASP.NET Internet Projekt CSS- und JavaScript-Pakete verweisen.</span><span class="sxs-lookup"><span data-stu-id="fc918-211">The following markup from the *Views\Shared\\_Layout.cshtml* file shows how the default ASP.NET internet project views reference CSS and JavaScript bundles.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample10.cshtml?highlight=5-6,11)]

<span data-ttu-id="fc918-212">Beachten Sie die Render-Methoden wird ein Array von Zeichenfolgen, aus, damit Sie mehrere Pakete in eine Codezeile hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="fc918-212">Notice the Render methods takes an array of strings, so you can add multiple bundles in one line of code.</span></span> <span data-ttu-id="fc918-213">Im Allgemeinen sollten Sie die Render-Methoden verwenden, die die erforderliche HTML, um das Medienobjekt verweisen, erstellen.</span><span class="sxs-lookup"><span data-stu-id="fc918-213">You will generally want to use the Render methods which create the necessary HTML to reference the asset.</span></span> <span data-ttu-id="fc918-214">Sie können die `Url` Methode zum Generieren der URL für das Medienobjekt ohne das Markup erforderlich, um das Medienobjekt verweisen.</span><span class="sxs-lookup"><span data-stu-id="fc918-214">You can use the `Url` method to generate the URL to the asset without the markup needed to reference the asset.</span></span> <span data-ttu-id="fc918-215">Angenommen Sie möchten, verwenden Sie das neue HTML5 [Async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) Attribut.</span><span class="sxs-lookup"><span data-stu-id="fc918-215">Suppose you wanted to use the new HTML5 [async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) attribute.</span></span> <span data-ttu-id="fc918-216">Der folgende Code veranschaulicht die Verwendung von Modernizr verweisen die `Url` Methode.</span><span class="sxs-lookup"><span data-stu-id="fc918-216">The following code shows how to reference modernizr using the `Url` method.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample11.cshtml?highlight=11)]

## <a name="using-the--wildcard-character-to-select-files"></a><span data-ttu-id="fc918-217">Mithilfe der "\*" Platzhalterzeichen, um Dateien auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="fc918-217">Using the "\*" Wildcard Character to Select Files</span></span>

<span data-ttu-id="fc918-218">Die im angegebenen virtuellen Pfad der `Include` -Methode, und suchen Sie die Muster den `IncludeDirectory` Methode akzeptiert eine "\*" Platzhalterzeichen als Präfix oder Suffix in das letzte Pfadsegment.</span><span class="sxs-lookup"><span data-stu-id="fc918-218">The virtual path specified in the `Include` method and the search pattern in the `IncludeDirectory` method can accept one "\*" wildcard character as a prefix or suffix to in the last path segment.</span></span> <span data-ttu-id="fc918-219">Die Suchzeichenfolge wird Groß-/Kleinschreibung nicht beachtet.</span><span class="sxs-lookup"><span data-stu-id="fc918-219">The search string is case insensitive.</span></span> <span data-ttu-id="fc918-220">Die `IncludeDirectory` Methode hat die Möglichkeit, Unterverzeichnisse durchsucht.</span><span class="sxs-lookup"><span data-stu-id="fc918-220">The `IncludeDirectory` method has the option of searching subdirectories.</span></span>

<span data-ttu-id="fc918-221">Angenommen Sie, ein Projekt mit den folgenden JavaScript-Dateien:</span><span class="sxs-lookup"><span data-stu-id="fc918-221">Consider a project with the following JavaScript files:</span></span>

- <span data-ttu-id="fc918-222">*Scripts\Common\AddAltToImg.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-222">*Scripts\Common\AddAltToImg.js*</span></span>
- <span data-ttu-id="fc918-223">*Scripts\Common\ToggleDiv.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-223">*Scripts\Common\ToggleDiv.js*</span></span>
- <span data-ttu-id="fc918-224">*Scripts\Common\ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-224">*Scripts\Common\ToggleImg.js*</span></span>
- <span data-ttu-id="fc918-225">*Scripts\Common\Sub1\ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-225">*Scripts\Common\Sub1\ToggleLinks.js*</span></span>

![Dir imag](bundling-and-minification/_static/image7.png)

<span data-ttu-id="fc918-227">Die folgende Tabelle zeigt die Dateien auf ein Paket mithilfe des Platzhalterzeichens gezeigten hinzugefügt:</span><span class="sxs-lookup"><span data-stu-id="fc918-227">The following table shows the files added to a bundle using the wildcard as shown:</span></span>

| <span data-ttu-id="fc918-228">**Call**</span><span class="sxs-lookup"><span data-stu-id="fc918-228">**Call**</span></span> | <span data-ttu-id="fc918-229">**Dateien, die hinzugefügt oder eine Ausnahme ausgelöst**</span><span class="sxs-lookup"><span data-stu-id="fc918-229">**Files Added or Exception Raised**</span></span> |
| --- | --- |
| <span data-ttu-id="fc918-230">Include("~/Scripts/Common/\*.js")</span><span class="sxs-lookup"><span data-stu-id="fc918-230">Include("~/Scripts/Common/\*.js")</span></span> | <span data-ttu-id="fc918-231">*AddAltToImg.js, ToggleDiv.js, ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-231">*AddAltToImg.js, ToggleDiv.js, ToggleImg.js*</span></span> |
| <span data-ttu-id="fc918-232">Include("~/Scripts/Common/T\*.js")</span><span class="sxs-lookup"><span data-stu-id="fc918-232">Include("~/Scripts/Common/T\*.js")</span></span> | <span data-ttu-id="fc918-233">Ausnahme für ungültiges Muster.</span><span class="sxs-lookup"><span data-stu-id="fc918-233">Invalid pattern exception.</span></span> <span data-ttu-id="fc918-234">Das Platzhalterzeichen ist nur für das Präfix oder Suffix zulässig.</span><span class="sxs-lookup"><span data-stu-id="fc918-234">The wildcard character is only allowed on the prefix or suffix.</span></span> |
| <span data-ttu-id="fc918-235">Include("~/Scripts/Common/\*og.\*")</span><span class="sxs-lookup"><span data-stu-id="fc918-235">Include("~/Scripts/Common/\*og.\*")</span></span> | <span data-ttu-id="fc918-236">Ausnahme für ungültiges Muster.</span><span class="sxs-lookup"><span data-stu-id="fc918-236">Invalid pattern exception.</span></span> <span data-ttu-id="fc918-237">Nur ein Platzhalterzeichen ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="fc918-237">Only one wildcard character is allowed.</span></span> |
| <span data-ttu-id="fc918-238">"Include("~/Scripts/Common/T\*")</span><span class="sxs-lookup"><span data-stu-id="fc918-238">"Include("~/Scripts/Common/T\*")</span></span> | <span data-ttu-id="fc918-239">*ToggleDiv.js, ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-239">*ToggleDiv.js, ToggleImg.js*</span></span> |
| <span data-ttu-id="fc918-240">"Include("~/Scripts/Common/\*")</span><span class="sxs-lookup"><span data-stu-id="fc918-240">"Include("~/Scripts/Common/\*")</span></span> | <span data-ttu-id="fc918-241">Ausnahme für ungültiges Muster.</span><span class="sxs-lookup"><span data-stu-id="fc918-241">Invalid pattern exception.</span></span> <span data-ttu-id="fc918-242">Ein reines Platzhaltersegment ist ungültig.</span><span class="sxs-lookup"><span data-stu-id="fc918-242">A pure wildcard segment is not valid.</span></span> |
| <span data-ttu-id="fc918-243">IncludeDirectory("~/Scripts/Common", "T\*")</span><span class="sxs-lookup"><span data-stu-id="fc918-243">IncludeDirectory("~/Scripts/Common", "T\*")</span></span> | <span data-ttu-id="fc918-244">*ToggleDiv.js, ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-244">*ToggleDiv.js, ToggleImg.js*</span></span> |
| <span data-ttu-id="fc918-245">IncludeDirectory("~/Scripts/Common", "T\*",true)</span><span class="sxs-lookup"><span data-stu-id="fc918-245">IncludeDirectory("~/Scripts/Common", "T\*",true)</span></span> | <span data-ttu-id="fc918-246">*ToggleDiv.js, ToggleImg.js, ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="fc918-246">*ToggleDiv.js, ToggleImg.js, ToggleLinks.js*</span></span> |

<span data-ttu-id="fc918-247">Jede Datei explizit auf ein Paket hinzugefügt wird im Allgemeinen die bevorzugte über Platzhalter-Laden von Dateien aus den folgenden Gründen:</span><span class="sxs-lookup"><span data-stu-id="fc918-247">Explicitly adding each file to a bundle is generally the preferred over wildcard loading of files for the following reasons:</span></span>

- <span data-ttu-id="fc918-248">Skripts hinzugefügt standardmäßig Platzhalter in alphabetischer Reihenfolge wird in der Regel nicht laden.</span><span class="sxs-lookup"><span data-stu-id="fc918-248">Adding scripts by wildcard defaults to loading them in alphabetical order, which is typically not what you want.</span></span> <span data-ttu-id="fc918-249">CSS und JavaScript-Dateien müssen häufig in einer bestimmten Reihenfolge (nicht-alphabetische) hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-249">CSS and JavaScript files frequently need to be added in a specific (non-alphabetic) order.</span></span> <span data-ttu-id="fc918-250">Sie können dieses Risiko verringern, indem das Hinzufügen einer benutzerdefinierten [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) Implementierung, aber das explizite hinzufügen jeder Datei ist weniger fehleranfällig.</span><span class="sxs-lookup"><span data-stu-id="fc918-250">You can mitigate this risk by adding a custom [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation, but explicitly adding each file is less error prone.</span></span> <span data-ttu-id="fc918-251">Beispielsweise möglichweise neue Ressourcen in einen Ordner in der Zukunft die Sie ändern, erfordern möglicherweise Ihre [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) Implementierung.</span><span class="sxs-lookup"><span data-stu-id="fc918-251">For example, you might add new assets to a folder in the future which might require you to modify your [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation.</span></span>
- <span data-ttu-id="fc918-252">Ansicht bestimmte Dateien in ein Verzeichnis mit Platzhalter laden hinzugefügt werden, können in allen Ansichten, verweisen auf dieses Paket aufgenommen werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-252">View specific files added to a directory using wild card loading can be included in all views referencing that bundle.</span></span> <span data-ttu-id="fc918-253">Wenn die Ansichtsskript auf ein Paket hinzugefügt wird, erhalten Sie möglicherweise einen JavaScript-Fehler auf andere Sichten, die das Paket zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="fc918-253">If the view specific script is added to a bundle, you may get a JavaScript error on other views that reference the bundle.</span></span>
- <span data-ttu-id="fc918-254">CSS-Dateien, die anderen Dateien zu importieren, führen in den importierten Dateien zweimal geladen.</span><span class="sxs-lookup"><span data-stu-id="fc918-254">CSS files that import other files result in the imported files loaded twice.</span></span> <span data-ttu-id="fc918-255">Der folgende Code erstellt z. B. ein Paket mit einem Großteil der jQuery UI Design CSS-Dateien, zwei Mal geladen.</span><span class="sxs-lookup"><span data-stu-id="fc918-255">For example, the following code creates a bundle with most of the jQuery UI theme CSS files loaded twice.</span></span> 

    [!code-csharp[Main](bundling-and-minification/samples/sample12.cs)]

  <span data-ttu-id="fc918-256">Die Platzhalter-Auswahl "\*CSS" wird in jeder CSS-Datei im Ordner "", einschließlich der *Content\themes\base\jquery.ui.all.css* Datei.</span><span class="sxs-lookup"><span data-stu-id="fc918-256">The wild card selector "\*.css" brings in each CSS file in the folder, including the *Content\themes\base\jquery.ui.all.css* file.</span></span> <span data-ttu-id="fc918-257">Die *jquery.ui.all.css* Datei andere CSS-Dateien importiert.</span><span class="sxs-lookup"><span data-stu-id="fc918-257">The *jquery.ui.all.css* file imports other CSS files.</span></span>

## <a name="bundle-caching"></a><span data-ttu-id="fc918-258">Bündeln, Zwischenspeichern</span><span class="sxs-lookup"><span data-stu-id="fc918-258">Bundle Caching</span></span>

<span data-ttu-id="fc918-259">Pakete legen Sie den HTTP-Header abläuft ein Jahr aus, wenn das Paket erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="fc918-259">Bundles set the HTTP Expires Header one year from when the bundle is created.</span></span> <span data-ttu-id="fc918-260">Wenn Sie zu einer zuvor angezeigten Seite Fiddler zeigt navigieren, die Internet Explorer nicht mit eine bedingte Anforderung für das Paket, spielt also stehen keine HTTP-GET-Anforderungen von Internet Explorer für das Paket aus und keine 304 HTTP-Antworten vom Server.</span><span class="sxs-lookup"><span data-stu-id="fc918-260">If you navigate to a previously viewed page, Fiddler shows IE does not make a conditional request for the bundle, that is, there are no HTTP GET requests from IE for the bundles and no HTTP 304 responses from the server.</span></span> <span data-ttu-id="fc918-261">Sie können IE einer bedingten Anforderung für jedes Paket mit der F5-Taste (was in einer 304 HTTP-Antwort für jedes Paket) zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="fc918-261">You can force IE to make a conditional request for each bundle with the F5 key (resulting in a HTTP 304 response for each bundle).</span></span> <span data-ttu-id="fc918-262">Sie können eine vollständige Aktualisierung erzwingen, indem Sie mit ^ F5 (was in einer Antwort "HTTP 200" für jedes Paket).</span><span class="sxs-lookup"><span data-stu-id="fc918-262">You can force a full refresh by using ^F5 (resulting in a HTTP 200 response for each bundle.)</span></span>

<span data-ttu-id="fc918-263">Die folgende Abbildung zeigt die **Caching** Fiddler-Antwort-Bereich auf der Registerkarte:</span><span class="sxs-lookup"><span data-stu-id="fc918-263">The following image shows the **Caching** tab of the Fiddler response pane:</span></span>

![Fiddler-caching-Bild](bundling-and-minification/_static/image8.png)

<span data-ttu-id="fc918-265">Die Anforderung</span><span class="sxs-lookup"><span data-stu-id="fc918-265">The request</span></span>   
`http://localhost/MvcBM_time/bundles/AllMyScripts?v=r0sLDicvP58AIXN_mc3QdyVvVj5euZNzdsa2N1PKvb81`  
 <span data-ttu-id="fc918-266">für das Paket wird **AllMyScripts** und enthält eine Abfrage Zeichenfolgenpaar **V = r0sLDicvP58AIXN\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span><span class="sxs-lookup"><span data-stu-id="fc918-266">is for the bundle **AllMyScripts** and contains a query string pair **v=r0sLDicvP58AIXN\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span></span> <span data-ttu-id="fc918-267">Die Abfragezeichenfolge **v** verfügt über einen Wert, d. h. einen eindeutigen Bezeichner, der zum Zwischenspeichern verwendeten token.</span><span class="sxs-lookup"><span data-stu-id="fc918-267">The query string **v** has a value token that is a unique identifier used for caching.</span></span> <span data-ttu-id="fc918-268">Solange das Paket nicht ändern, fordert die ASP.NET-Anwendung die **AllMyScripts** bündeln diese Token verwenden.</span><span class="sxs-lookup"><span data-stu-id="fc918-268">As long as the bundle doesn't change, the ASP.NET application will request the **AllMyScripts** bundle using this token.</span></span> <span data-ttu-id="fc918-269">Wenn alle Dateien im Paket geändert wird, wird das ASP.NET-Framework für die Optimierung generiert ein neues Token, um zu garantieren, dass Browseranforderungen für das Paket, das aktuelle Paket erhält.</span><span class="sxs-lookup"><span data-stu-id="fc918-269">If any file in the bundle changes, the ASP.NET optimization framework will generate a new token, guaranteeing that browser requests for the bundle will get the latest bundle.</span></span>

<span data-ttu-id="fc918-270">Wenn Sie die IE9 F12 Entwicklertools ausgeführt, und navigieren Sie zu einem zuvor geladenen Seite, zeigt IE falsch bedingte GET-Anforderungen an jedes Paket und dem Server, die HTTP-304 zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fc918-270">If you run the IE9 F12 developer tools and navigate to a previously loaded page, IE incorrectly shows conditional GET requests made to each bundle and the server returning HTTP 304.</span></span> <span data-ttu-id="fc918-271">Erfahren Sie, warum IE9 Probleme, die bestimmen, ob eine bedingte Anforderung, im Blogeintrag gestellt wurde hat [CDNs verwenden und Expires Website verbessern der Leistung](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-271">You can read why IE9 has problems determining if a conditional request was made in the blog entry [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

## <a name="less-coffeescript-scss-sass-bundling"></a><span data-ttu-id="fc918-272">WENIGER, CoffeeScript, SCSS, Sass bündeln.</span><span class="sxs-lookup"><span data-stu-id="fc918-272">LESS, CoffeeScript, SCSS, Sass Bundling.</span></span>

<span data-ttu-id="fc918-273">Die Bündelung und Minimierung-Framework bietet einen Mechanismus zum Verarbeiten intermediate Sprachen wie z. B. [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [weniger](http://www.dotlesscss.org/) oder [Coffeescript ](http://coffeescript.org/), und Anwenden von Transformationen, z. B. Minimierung auf das resultierende Paket.</span><span class="sxs-lookup"><span data-stu-id="fc918-273">The bundling and minification framework provides a mechanism to process intermediate languages such as [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [LESS](http://www.dotlesscss.org/) or [Coffeescript](http://coffeescript.org/), and apply transforms such as minification to the resulting bundle.</span></span> <span data-ttu-id="fc918-274">Um beispielsweise hinzufügen [. less](http://www.dotlesscss.org/) dem MVC 4-Projekt Dateien:</span><span class="sxs-lookup"><span data-stu-id="fc918-274">For example, to add [.less](http://www.dotlesscss.org/) files to your MVC 4 project:</span></span>

1. <span data-ttu-id="fc918-275">Erstellen Sie einen Ordner für Ihre weniger Inhalte.</span><span class="sxs-lookup"><span data-stu-id="fc918-275">Create a folder for your LESS content.</span></span> <span data-ttu-id="fc918-276">Im folgenden Beispiel wird die *Content\MyLess* Ordner.</span><span class="sxs-lookup"><span data-stu-id="fc918-276">The following example uses the *Content\MyLess* folder.</span></span>
2. <span data-ttu-id="fc918-277">Hinzufügen der [. less](http://www.dotlesscss.org/) NuGet-Paket **ohne Punkte** zu Ihrem Projekt.</span><span class="sxs-lookup"><span data-stu-id="fc918-277">Add the [.less](http://www.dotlesscss.org/) NuGet package **dotless** to your project.</span></span>  
    <span data-ttu-id="fc918-278">![NuGet-ohne Punkte installieren](bundling-and-minification/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="fc918-278">![NuGet dotless install](bundling-and-minification/_static/image9.png)</span></span>
3. <span data-ttu-id="fc918-279">Fügen Sie eine Klasse, die implementiert die [IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="fc918-279">Add a class that implements the [IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) interface.</span></span> <span data-ttu-id="fc918-280">Fügen Sie für die Transformation. less dem Projekt den folgenden Code hinzu.</span><span class="sxs-lookup"><span data-stu-id="fc918-280">For the .less transform, add the following code to your project.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample13.cs)]
4. <span data-ttu-id="fc918-281">Erstellen Sie eine Zusammenstellung von LESS-Dateien mit der `LessTransform` und [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) transformieren.</span><span class="sxs-lookup"><span data-stu-id="fc918-281">Create a bundle of LESS files with the `LessTransform` and the [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) transform.</span></span> <span data-ttu-id="fc918-282">Fügen Sie folgenden Code, der `RegisterBundles` Methode in der *App\_Start\BundleConfig.cs* Datei.</span><span class="sxs-lookup"><span data-stu-id="fc918-282">Add the following code to the `RegisterBundles` method in the *App\_Start\BundleConfig.cs* file.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample14.cs)]
5. <span data-ttu-id="fc918-283">Fügen Sie den folgenden Code an Sichten, die weniger Paket verweist.</span><span class="sxs-lookup"><span data-stu-id="fc918-283">Add the following code to any views which references the LESS bundle.</span></span>

    [!code-cshtml[Main](bundling-and-minification/samples/sample15.cshtml)]

## <a name="bundle-considerations"></a><span data-ttu-id="fc918-284">Bundle-Überlegungen</span><span class="sxs-lookup"><span data-stu-id="fc918-284">Bundle Considerations</span></span>

<span data-ttu-id="fc918-285">Eine gute Namenskonvention zu befolgen, wenn Pakete zu erstellen ist, als ein Präfix im Bundle-Namen einschließen "bündeln".</span><span class="sxs-lookup"><span data-stu-id="fc918-285">A good convention to follow when creating bundles is to include "bundle" as a prefix in the bundle name.</span></span> <span data-ttu-id="fc918-286">Hierdurch wird ein mögliches [Konflikt beim routing](https://forums.asp.net/post/5012037.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-286">This will prevent a possible [routing conflict](https://forums.asp.net/post/5012037.aspx).</span></span>

<span data-ttu-id="fc918-287">Nachdem Sie eine Datei in einem Paket aktualisieren, ein neues Token ist für Paket Abfragezeichenfolgen-Parameters generiert, und das vollständige Paket das nächste Mal, das eine Seite, enthält das Paket von einem Client angefordert, heruntergeladen werden muss.</span><span class="sxs-lookup"><span data-stu-id="fc918-287">Once you update one file in a bundle, a new token is generated for the bundle query string parameter and the full bundle must be downloaded the next time a client requests a page containing the bundle.</span></span> <span data-ttu-id="fc918-288">In herkömmlichen Markup, in dem jedes Medienobjekt einzeln aufgeführt ist, würde nur die geänderte Datei heruntergeladen werden.</span><span class="sxs-lookup"><span data-stu-id="fc918-288">In traditional markup where each asset is listed individually, only the changed file would be downloaded.</span></span> <span data-ttu-id="fc918-289">Ressourcen, die häufig geändert werden möglicherweise nicht geeignet für bündeln.</span><span class="sxs-lookup"><span data-stu-id="fc918-289">Assets that change frequently may not be good candidates for bundling.</span></span>

<span data-ttu-id="fc918-290">Bundling und Minimierung wird in erster Linie die erste Anforderung Seitenladezeit verbessern.</span><span class="sxs-lookup"><span data-stu-id="fc918-290">Bundling and minification primarily improve the first page request load time.</span></span> <span data-ttu-id="fc918-291">Sobald eine Webseite angefordert wurde, speichert der Browser Objekte (JavaScript, CSS und Bilder), um Bündelung und Minimierung wird kein Leistungssteigerung beim Anfordern von derselben Seite bieten oder Seiten auf dem gleichen Standort die gleichen Ressourcen anfordern.</span><span class="sxs-lookup"><span data-stu-id="fc918-291">Once a webpage has been requested, the browser caches the assets (JavaScript, CSS and images) so bundling and minification won't provide any performance boost when requesting the same page, or pages on the same site requesting the same assets.</span></span> <span data-ttu-id="fc918-292">Wenn Sie nicht Festlegen der Header ordnungsgemäß auf Ihre Medienobjekte abläuft und verwenden Sie nicht Bündelung und Minimierung, Browsern Aktualität Heuristik kennzeichnet die Medienobjekte veraltete nach ein paar Tagen und Browser eine validierungsanforderung für jedes Medienobjekt erforderlich.</span><span class="sxs-lookup"><span data-stu-id="fc918-292">If you don't set the expires header correctly on your assets, and you don't use bundling and minification, the browsers freshness heuristics will mark the assets stale after a few days and the browser will require a validation request for each asset.</span></span> <span data-ttu-id="fc918-293">In diesem Fall geben Bündelung und Minimierung eine Leistungssteigerung nach der ersten Seitenanforderung.</span><span class="sxs-lookup"><span data-stu-id="fc918-293">In this case, bundling and minification provide a performance increase after the first page request.</span></span> <span data-ttu-id="fc918-294">Weitere Informationen finden Sie im Blogbeitrag [CDNs verwenden und Expires Website verbessern der Leistung](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-294">For details, see the blog [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

<span data-ttu-id="fc918-295">Die Browser-Einschränkung des sechs gleichzeitige Verbindungen pro jeden Hostnamen können Sie minimieren, indem Sie mit einem [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-295">The browser limitation of six simultaneous connections per each hostname can be mitigated by using a [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span> <span data-ttu-id="fc918-296">Da das CDN einen anderen Hostnamen als hosting-Website besitzt, werden Asset-Anforderungen vom CDN nicht gegen das sechs Limit für gleichzeitige Verbindungen auf Ihrer Hostingumgebung gezählt.</span><span class="sxs-lookup"><span data-stu-id="fc918-296">Because the CDN will have a different hostname than your hosting site, asset requests from the CDN will not count against the six simultaneous connections limit to your hosting environment.</span></span> <span data-ttu-id="fc918-297">Ein CDN kann auch allgemeine Paket caching und Edge-caching Vorteile bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="fc918-297">A CDN can also provide common package caching and edge caching advantages.</span></span>

<span data-ttu-id="fc918-298">Pakete sollten von Seiten partitioniert werden, die sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="fc918-298">Bundles should be partitioned by pages that need them.</span></span> <span data-ttu-id="fc918-299">Erstellt z. B. standardmäßig ASP.NET MVC-Projektvorlage für eine internetanwendung ein Paket der jQuery-Validierung von jQuery getrennt.</span><span class="sxs-lookup"><span data-stu-id="fc918-299">For example, the default ASP.NET MVC template for an internet application creates a jQuery Validation bundle separate from jQuery.</span></span> <span data-ttu-id="fc918-300">Da die Standardansichten erstellt keine Eingabespalte haben und nicht Werte buchen, enthalten nicht sie das Paket für die Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="fc918-300">Because the default views created have no input and do not post values, they don't include the validation bundle.</span></span>

<span data-ttu-id="fc918-301">Die `System.Web.Optimization` Namespace in System.Web.Optimization.DLL implementiert ist.</span><span class="sxs-lookup"><span data-stu-id="fc918-301">The `System.Web.Optimization` namespace is implemented in System.Web.Optimization.DLL.</span></span> <span data-ttu-id="fc918-302">Genutzt WebGrease-Bibliothek (WebGrease.dll) für Minimierung-Funktionen, die wiederum Antlr3.Runtime.dll verwendet.</span><span class="sxs-lookup"><span data-stu-id="fc918-302">It leverages the WebGrease library (WebGrease.dll) for minification capabilities, which in turn uses Antlr3.Runtime.dll.</span></span>

<span data-ttu-id="fc918-303">*Ich verwende Twitter schnelle Beiträge und teilen Sie Links aus. Meine Twitter-Handle ist*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="fc918-303">*I use Twitter to make quick posts and share links. My Twitter handle is*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="fc918-304">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="fc918-304">Additional Resources</span></span>

- <span data-ttu-id="fc918-305">Video:[Bündelung und Optimieren von](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) von [Howard Dierking](https://twitter.com/#!/howard_dierking)</span><span class="sxs-lookup"><span data-stu-id="fc918-305">Video:[Bundling and Optimizing](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) by [Howard Dierking](https://twitter.com/#!/howard_dierking)</span></span>
- <span data-ttu-id="fc918-306">[Eine Web Pages-Website Weboptimierung hinzugefügt](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-306">[Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="fc918-307">[Hinzufügen von Bündelung und Minimierung mit WebForms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span><span class="sxs-lookup"><span data-stu-id="fc918-307">[Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>
- <span data-ttu-id="fc918-308">[Leistungseinbußen bei der Bündelung und Minimierung auf Browsen im Internet](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) von [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span><span class="sxs-lookup"><span data-stu-id="fc918-308">[Performance Implications of Bundling and Minification on Web Browsing](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) by [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span></span>
- <span data-ttu-id="fc918-309">[Verwenden des CDNs und zur Verbesserung der Leistung der Website läuft](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) von Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="fc918-309">[Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) by Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span></span>
- [<span data-ttu-id="fc918-310">Minimieren Sie RTT (Roundtripzeit)</span><span class="sxs-lookup"><span data-stu-id="fc918-310">Minimize RTT (round-trip times)</span></span>](https://developers.google.com/speed/docs/best-practices/rtt)

## <a name="contributors"></a><span data-ttu-id="fc918-311">Contributors</span><span class="sxs-lookup"><span data-stu-id="fc918-311">Contributors</span></span>

- <span data-ttu-id="fc918-312">Hao Kung</span><span class="sxs-lookup"><span data-stu-id="fc918-312">Hao Kung</span></span>
- [<span data-ttu-id="fc918-313">Howard Dierking</span><span class="sxs-lookup"><span data-stu-id="fc918-313">Howard Dierking</span></span>](https://twitter.com/#!/howard_dierking)
- <span data-ttu-id="fc918-314">Diana LaRose</span><span class="sxs-lookup"><span data-stu-id="fc918-314">Diana LaRose</span></span>
