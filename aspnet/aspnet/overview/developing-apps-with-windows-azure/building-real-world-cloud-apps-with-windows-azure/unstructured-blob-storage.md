---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage
title: Unstrukturierte Blob-Speicher (Building Real-World Cloud Apps with Azure) | Microsoft Docs
author: MikeWasson
description: "Die Building Real World Cloud Apps with Azure-e-Book basiert auf einer Präsentation von Scott Guthrie entwickelt. Es wird erläutert, 13 Muster und Vorgehensweisen, die er können..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/30/2015
ms.topic: article
ms.assetid: 9f05ccb1-2004-4661-ad8b-c370e6c09c8e
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage
msc.type: authoredcontent
ms.openlocfilehash: 6cb77e8ef301c2eeef7df3e391e14f4e2c0364e9
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
<a name="unstructured-blob-storage-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="2e031-104">Unstrukturierte Blob-Speicher (Building Real-World Cloud Apps with Azure)</span><span class="sxs-lookup"><span data-stu-id="2e031-104">Unstructured Blob Storage (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="2e031-105">durch [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="2e031-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="2e031-106">[Download Behebungsskript Projekt](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) oder [E-Book herunterladen](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="2e031-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="2e031-107">Die **Building Real World Cloud Apps with Azure** e-Book basiert auf einer Präsentation von Scott Guthrie entwickelt.</span><span class="sxs-lookup"><span data-stu-id="2e031-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="2e031-108">Es wird erläutert, 13 Muster und Vorgehensweisen, die Ihnen helfen können erfolgreich ausgeführt entwickeln Web-apps für die Cloud.</span><span class="sxs-lookup"><span data-stu-id="2e031-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="2e031-109">Weitere Informationen zu e-Book herunterladen, finden Sie unter [im Kapitel über das erste](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="2e031-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="2e031-110">Im vorherigen Kapitel wir Partitionierungsschemas betrachtet und erläutert, wie die app zu beheben Bilder in der Azure-Speicher-Blob-Dienst und andere Daten in Azure SQL-Datenbank speichert.</span><span class="sxs-lookup"><span data-stu-id="2e031-110">In the previous chapter we looked at partitioning schemes and explained how the Fix It app stores images in the Azure Storage Blob service, and other task data in Azure SQL Database.</span></span> <span data-ttu-id="2e031-111">In diesem Kapitel werden tiefer gehende der Blob-Dienst und anzeigen, wie es in korrigieren Projektcode implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="2e031-111">In this chapter we go deeper into the Blob service and show how it's implemented in Fix It project code.</span></span>

## <a name="what-is-blob-storage"></a><span data-ttu-id="2e031-112">Was ist die Blob-Speicher?</span><span class="sxs-lookup"><span data-stu-id="2e031-112">What is Blob storage?</span></span>

<span data-ttu-id="2e031-113">Der Azure-Speicher-Blob-Dienst bietet eine Möglichkeit zum Speichern von Dateien in der Cloud.</span><span class="sxs-lookup"><span data-stu-id="2e031-113">The Azure Storage Blob service provides a way to store files in the cloud.</span></span> <span data-ttu-id="2e031-114">Der Blob-Dienst verfügt über eine Reihe von Vorteilen gegenüber der Speicherung von Dateien in einem lokalen Netzwerk-Dateisystem:</span><span class="sxs-lookup"><span data-stu-id="2e031-114">The Blob service has a number of advantages over storing files in a local network file system:</span></span>

- <span data-ttu-id="2e031-115">Es ist äußerst skalierbar.</span><span class="sxs-lookup"><span data-stu-id="2e031-115">It's highly scalable.</span></span> <span data-ttu-id="2e031-116">Ein einzelnes Speicherkonto speichern kann [Hunderte von Terabyte](https://msdn.microsoft.com/en-us/library/windowsazure/dn249410.aspx), und Sie können mehrere Speicherkonten haben.</span><span class="sxs-lookup"><span data-stu-id="2e031-116">A single Storage account can store [hundreds of terabytes](https://msdn.microsoft.com/en-us/library/windowsazure/dn249410.aspx), and you can have multiple Storage accounts.</span></span> <span data-ttu-id="2e031-117">Einige der wichtigsten Kunden von Azure speichern Hunderte von Petabytes.</span><span class="sxs-lookup"><span data-stu-id="2e031-117">Some of the biggest Azure customers store hundreds of petabytes.</span></span> <span data-ttu-id="2e031-118">Microsoft SkyDrive verwendet Blob-Speicher.</span><span class="sxs-lookup"><span data-stu-id="2e031-118">Microsoft SkyDrive uses blob storage.</span></span>
- <span data-ttu-id="2e031-119">Es ist dauerhaft.</span><span class="sxs-lookup"><span data-stu-id="2e031-119">It's durable.</span></span> <span data-ttu-id="2e031-120">Jede Datei, die Sie in den Blob-Dienst speichern wird automatisch gesichert.</span><span class="sxs-lookup"><span data-stu-id="2e031-120">Every file you store in the Blob service is automatically backed up.</span></span>
- <span data-ttu-id="2e031-121">Es bietet eine hohe Verfügbarkeit.</span><span class="sxs-lookup"><span data-stu-id="2e031-121">It provides high availability.</span></span> <span data-ttu-id="2e031-122">Die [SLA zum Speicher](https://go.microsoft.com/fwlink/p/?linkid=159705&amp;clcid=0x409) Zusagen 99,9 % oder 99,99 % Verfügbarkeit, je nach ausgewählter Option Geo-Redundanz gewünscht.</span><span class="sxs-lookup"><span data-stu-id="2e031-122">The [SLA for Storage](https://go.microsoft.com/fwlink/p/?linkid=159705&amp;clcid=0x409) promises 99.9% or 99.99% uptime, depending on which geo-redundancy option you choose.</span></span>
- <span data-ttu-id="2e031-123">Es ist eine Platform-as-a-Service (PaaS)-Funktion von Azure, was bedeutet, dass Sie nur zu speichern und Abrufen von Dateien, die nur für die tatsächliche Menge an Speicherplatz, die Sie verwenden, und Azure automatisch übernimmt das Einrichten und verwalten alle virtuellen Computer und Laufwerke, die erforderlich sind, für die -Dienst.</span><span class="sxs-lookup"><span data-stu-id="2e031-123">It's a platform-as-a-service (PaaS) feature of Azure, which means you just store and retrieve files, paying only for the actual amount of storage you use, and Azure automatically takes care of setting up and managing all of the VMs and disk drives required for the service.</span></span>
- <span data-ttu-id="2e031-124">Sie können den Blob-Dienst über eine REST-API oder mithilfe einen Programmiersprache Ihrer Wahl-API zugreifen.</span><span class="sxs-lookup"><span data-stu-id="2e031-124">You can access the Blob service by using a REST API or by using a programming language API.</span></span> <span data-ttu-id="2e031-125">SDKs sind für .NET, Java und Ruby verfügbar.</span><span class="sxs-lookup"><span data-stu-id="2e031-125">SDKs are available for .NET, Java, Ruby, and others.</span></span>
- <span data-ttu-id="2e031-126">Wenn Sie eine Datei im Blob-Dienst speichern, können Sie problemlos öffentlich verfügbaren über das Internet erleichtern.</span><span class="sxs-lookup"><span data-stu-id="2e031-126">When you store a file in the Blob service, you can easily make it publicly available over the Internet.</span></span>
- <span data-ttu-id="2e031-127">Daher können Dateien im Blob-Dienst können nur durch autorisierte Benutzer zugegriffen gesichert werden, oder Sie können temporäre Zugriffstoken, die sie nur für einen begrenzten Zeitraum für eine Person zur Verfügung gestellt bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="2e031-127">You can secure files in the Blob service so they can accessed only by authorized users, or you can provide temporary access tokens that makes them available to someone only for a limited period of time.</span></span>

<span data-ttu-id="2e031-128">Jedes Mal, wenn Sie eine app für Azure erstellen und Sie möchten eine große Datenmenge zu speichern, die in einer lokalen Umgebung in Dateien – z. B. Bildern, Videos, gehen würde berücksichtigen PDF-Dateien, Kalkulationstabellen usw. – Sie die Blob-Dienst.</span><span class="sxs-lookup"><span data-stu-id="2e031-128">Anytime you're building an app for Azure and you want to store a lot of data that in an on-premises environment would go in files -- such as images, videos, PDFs, spreadsheets, etc. -- consider the Blob service.</span></span>

## <a name="creating-a-storage-account"></a><span data-ttu-id="2e031-129">Erstellen eines Speicherkontos</span><span class="sxs-lookup"><span data-stu-id="2e031-129">Creating a Storage account</span></span>

<span data-ttu-id="2e031-130">Um die ersten Schritte mit Blob-Dienst erstellen Sie ein Speicherkonto in Azure.</span><span class="sxs-lookup"><span data-stu-id="2e031-130">To get started with the Blob service you create a Storage account in Azure.</span></span> <span data-ttu-id="2e031-131">Klicken Sie im Portal auf **neu** -- **Datendienste** -- **Speicher** -- **Schnellerfassung**, und geben dann eine URL und einen Speicherort im Rechenzentrum.</span><span class="sxs-lookup"><span data-stu-id="2e031-131">In the portal, click **New** -- **Data Services** -- **Storage** -- **Quick Create**, and then enter a URL and a data center location.</span></span> <span data-ttu-id="2e031-132">Der rechenzentrumsstandort darf es sich um Ihre Web-app identisch sein.</span><span class="sxs-lookup"><span data-stu-id="2e031-132">The data center location should be the same as your web app.</span></span>

![Erstellen Sie ein Speicherkonto](unstructured-blob-storage/_static/image1.png)

<span data-ttu-id="2e031-134">Möchten Sie den Inhalt zu speichern, und falls gewünscht, wählen Sie die primären Region der [geografische Replikation](https://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx#_Geo_Redundant_Storage) auswählen, erstellt Azure Replikate aller Daten in einem anderen Rechenzentrum in einer anderen Region des Landes.</span><span class="sxs-lookup"><span data-stu-id="2e031-134">You pick the primary region where you want to store the content, and if you choose the [geo-replication](https://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx#_Geo_Redundant_Storage) option, Azure creates replicas of all your data in a different data center in another region of the country.</span></span> <span data-ttu-id="2e031-135">Angenommen, falls gewünscht kopiert im Westen der USA-Rechenzentrum, wenn Sie zu eine Datei speichern, die im Westen der USA-Rechenzentrum, aber im Hintergrund Azure auch darin auf einen anderen US-Rechenzentren.</span><span class="sxs-lookup"><span data-stu-id="2e031-135">For example, if you choose the Western US data center, when you store a file it goes to the Western US data center, but in the background Azure also copies it to one of the other US data centers.</span></span> <span data-ttu-id="2e031-136">Fall ein notfalls in einer Region des Landes sind Ihre Daten immer noch sicher ist.</span><span class="sxs-lookup"><span data-stu-id="2e031-136">If a disaster happens in one region of the country, your data is still safe.</span></span>

<span data-ttu-id="2e031-137">Azure wird nicht replizieren von Daten über geografische politische hinweg: Wenn Ihre primäre Standort in den USA ist, Ihre Dateien werden nur repliziert, in einer anderen Region innerhalb der USA; Wenn Ihre primäre Speicherort Australien ist, werden Ihre Dateien nur zu einem anderen Rechenzentrum in Australien repliziert.</span><span class="sxs-lookup"><span data-stu-id="2e031-137">Azure won't replicate data across geo-political boundaries: if your primary location is in the U.S., your files are only replicated to another region within the U.S.; if your primary location is Australia, your files are only replicated to another data center in Australia.</span></span>

<span data-ttu-id="2e031-138">Natürlich können Sie auch ein Speicherkonto erstellen durch Ausführen von Befehlen aus einem Skript bereits zuvor gesehen.</span><span class="sxs-lookup"><span data-stu-id="2e031-138">Of course, you can also create a Storage account by executing commands from a script, as we saw earlier.</span></span> <span data-ttu-id="2e031-139">Hier ist ein Windows PowerShell-Befehl aus, um ein Speicherkonto erstellen:</span><span class="sxs-lookup"><span data-stu-id="2e031-139">Here's a Windows PowerShell command to create a Storage account:</span></span>

[!code-powershell[Main](unstructured-blob-storage/samples/sample1.ps1)]

<span data-ttu-id="2e031-140">Nachdem Sie ein Speicherkonto haben, können Sie sofort das Speichern von Dateien in den Blob-Dienst.</span><span class="sxs-lookup"><span data-stu-id="2e031-140">Once you have a Storage account, you can immediately start storing files in the Blob service.</span></span>

## <a name="using-blob-storage-in-the-fix-it-app"></a><span data-ttu-id="2e031-141">Mit dem Blob-Speicher in der app zu beheben</span><span class="sxs-lookup"><span data-stu-id="2e031-141">Using Blob storage in the Fix It app</span></span>

<span data-ttu-id="2e031-142">Die app zu beheben, können Sie Fotos hochladen.</span><span class="sxs-lookup"><span data-stu-id="2e031-142">The Fix It app enables you to upload photos.</span></span>

![Erstellen einer Aufgabe zu beheben](unstructured-blob-storage/_static/image2.png)

<span data-ttu-id="2e031-144">Beim Klicken auf **erstellen die FixIt**, die Anwendung lädt die angegebene Datei hoch und speichert sie in den Blob-Dienst.</span><span class="sxs-lookup"><span data-stu-id="2e031-144">When you click **Create the FixIt**, the application uploads the specified image file and stores it in the Blob service.</span></span>

### <a name="set-up-the-blob-container"></a><span data-ttu-id="2e031-145">Richten Sie den Blob-container</span><span class="sxs-lookup"><span data-stu-id="2e031-145">Set up the Blob container</span></span>

<span data-ttu-id="2e031-146">Um eine Datei im Blob-Dienst zu speichern, Sie müssen, eine *Container* in speichern.</span><span class="sxs-lookup"><span data-stu-id="2e031-146">In order to store a file in the Blob service you need a *container* to store it in.</span></span> <span data-ttu-id="2e031-147">Ein Blob-Dienstcontainer entspricht einem Dateisystemordner.</span><span class="sxs-lookup"><span data-stu-id="2e031-147">A Blob service container corresponds to a file system folder.</span></span> <span data-ttu-id="2e031-148">Die Umgebung Erstellungsskripts, die wir in überprüft die [automatisieren alles Kapitel](automate-everything.md) das Speicherkonto zu erstellen, aber nicht können, erstellen Sie einen Container.</span><span class="sxs-lookup"><span data-stu-id="2e031-148">The environment creation scripts that we reviewed in the [Automate Everything chapter](automate-everything.md) create the Storage account, but they don't create a container.</span></span> <span data-ttu-id="2e031-149">Daher den Zweck der `CreateAndConfigure` Methode der `PhotoService` Klasse um einen Container zu erstellen, wenn er nicht bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="2e031-149">So the purpose of the `CreateAndConfigure` method of the `PhotoService` class is to create a container if it doesn't already exist.</span></span> <span data-ttu-id="2e031-150">Diese Methode wird aufgerufen, aus der `Application_Start` Methode im *"Global.asax"*.</span><span class="sxs-lookup"><span data-stu-id="2e031-150">This method is called from the `Application_Start` method in *Global.asax*.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample2.cs)]

<span data-ttu-id="2e031-151">Die Speicher-Konto und den Zugriffsschlüssel werden gespeichert, der `appSettings` Auflistung von der *"Web.config"* -Datei ein, und im code der `StorageUtils.StorageAccount` Methode verwendet diese Werte, um eine Verbindungszeichenfolge erstellen und eine Verbindung herzustellen:</span><span class="sxs-lookup"><span data-stu-id="2e031-151">The storage account name and access key are stored in the `appSettings` collection of the *Web.config* file, and code in the `StorageUtils.StorageAccount` method uses those values to build a connection string and establish a connection:</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample3.cs)]

<span data-ttu-id="2e031-152">Die `CreateAndConfigureAsync` -Methode erstellt dann ein Objekt, das den Blob-Dienst darstellt, und ein Objekt, das einen Container (Ordner) darstellt, mit dem Namen "Bilder" im Blob-Dienst:</span><span class="sxs-lookup"><span data-stu-id="2e031-152">The `CreateAndConfigureAsync` method then creates an object that represents the Blob service, and an object that represents a container (folder) named "images" in the Blob service:</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample4.cs)]

<span data-ttu-id="2e031-153">Wenn ein Container mit der Bezeichnung "Images" existiert noch--nicht der ist "true", beim ersten der app für ein neues Speicherkonto Ausführen – der Code erstellt den Container und legt die Berechtigungen, um diese öffentliches Profil festzulegen.</span><span class="sxs-lookup"><span data-stu-id="2e031-153">If a container named "images" doesn't exist yet -- which will be true the first time you run the app against a new storage account -- the code creates the container and sets permissions to make it public.</span></span> <span data-ttu-id="2e031-154">(Standardmäßig neue Blob-Container privat sind und nur für Benutzer mit Zugriffsberechtigung für das Speicherkonto zugegriffen werden.)</span><span class="sxs-lookup"><span data-stu-id="2e031-154">(By default, new blob containers are private and are accessible only to users who have permission to access your storage account.)</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample5.cs)]

### <a name="store-the-uploaded-photo-in-blob-storage"></a><span data-ttu-id="2e031-155">Das hochgeladene Foto im Blob-Speicher zu speichern.</span><span class="sxs-lookup"><span data-stu-id="2e031-155">Store the uploaded photo in Blob storage</span></span>

<span data-ttu-id="2e031-156">Hochladen und speichern die Bilddatei, die app verwendet einen `IPhotoService` Schnittstelle und eine Implementierung der Schnittstelle in der `PhotoService` Klasse.</span><span class="sxs-lookup"><span data-stu-id="2e031-156">To upload and save the image file, the app uses an `IPhotoService` interface and an implementation of the interface in the `PhotoService` class.</span></span> <span data-ttu-id="2e031-157">Die *PhotoService.cs* -Datei enthält alle des Codes in der korrigieren-app, die mit dem Blob-Dienst kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="2e031-157">The *PhotoService.cs* file contains all of the code in the Fix It app that communicates with the Blob service.</span></span>

<span data-ttu-id="2e031-158">Die folgende MVC-Controller-Methode wird aufgerufen, wenn der Benutzer klickt auf **erstellen die FixIt**.</span><span class="sxs-lookup"><span data-stu-id="2e031-158">The following MVC controller method is called when the user clicks **Create the FixIt**.</span></span> <span data-ttu-id="2e031-159">In diesem Code `photoService` bezieht sich auf einer Instanz von der `PhotoService` -Klasse, und `fixittask` bezieht sich auf einer Instanz von der `FixItTask` Entitätsklasse, die Daten für eine neue Aufgabe gespeichert.</span><span class="sxs-lookup"><span data-stu-id="2e031-159">In this code, `photoService` refers to an instance of the `PhotoService` class, and `fixittask` refers to an instance of the `FixItTask` entity class that stores data for a new task.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample6.cs?highlight=8)]

<span data-ttu-id="2e031-160">Die `UploadPhotoAsync` Methode in der `PhotoService` Klasse speichert die hochgeladene Datei im Blob-Dienst, und gibt eine URL, die auf das neue Blob verweist.</span><span class="sxs-lookup"><span data-stu-id="2e031-160">The `UploadPhotoAsync` method in the `PhotoService` class stores the uploaded file in the Blob service and returns a URL that points to the new blob.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample7.cs)]

<span data-ttu-id="2e031-161">Wie in der `CreateAndConfigure` -Methode, der Code eine Verbindung mit dem Speicherkonto her und erstellt ein Objekt, das "images" Blob-Container darstellt, außer es wird hier vorausgesetzt der Container bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="2e031-161">As in the `CreateAndConfigure` method, the code connects to the storage account and creates an object that represents the "images" blob container, except here it assumes the container already exists.</span></span>

<span data-ttu-id="2e031-162">Anschließend erstellt es einen eindeutigen Bezeichner für das Image durch einen neuen GUID-Wert mit der Dateierweiterung verketten hochgeladen werden sollen:</span><span class="sxs-lookup"><span data-stu-id="2e031-162">Then it creates a unique identifier for the image about to be uploaded, by concatenating a new GUID value with the file extension:</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample8.cs)]

<span data-ttu-id="2e031-163">Klicken Sie dann der Code der Blob-Container-Objekt und die neue eindeutige ID zum Erstellen eines Blob-Objekts verwendet, wird ein Attribut für dieses Objekt, der angibt, welche Art von Datei es ist, und verwendet dann die Blob-Objekt, um die Datei im Blob-Speicher zu speichern.</span><span class="sxs-lookup"><span data-stu-id="2e031-163">The code then uses the blob container object and the new unique identifier to create a blob object, sets an attribute on that object indicating what kind of file it is, and then uses the blob object to store the file in blob storage.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample9.cs)]

<span data-ttu-id="2e031-164">Zum Schluss wird eine URL, die auf das Blob abgerufen.</span><span class="sxs-lookup"><span data-stu-id="2e031-164">Finally, it gets a URL that references the blob.</span></span> <span data-ttu-id="2e031-165">Diese URL wird in der Datenbank gespeichert werden und kann in Korrigieren von Webseiten zur Anzeige des Bilds hochgeladene verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2e031-165">This URL will be stored in the database and can be used in Fix It web pages to display the uploaded image.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample10.cs)]

<span data-ttu-id="2e031-166">Diese URL wird als eine der Spalten der Tabelle FixItTask in der Datenbank gespeichert.</span><span class="sxs-lookup"><span data-stu-id="2e031-166">This URL is stored in the database as one of the columns of the FixItTask table.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample11.cs?highlight=10)]

<span data-ttu-id="2e031-167">Nur die URL in der Datenbank, und Bilder im Blob-Speicher behält die app korrigieren die Datenbank klein, skalierbare und kostengünstige, während die Bilder gespeichert sind, in dem Speicher billig und Verarbeiten von Kostenfaktor ist.</span><span class="sxs-lookup"><span data-stu-id="2e031-167">With only the URL in the database, and images in Blob storage, the Fix It app keeps the database small, scalable, and inexpensive, while the images are stored where storage is cheap and capable of handling terabytes or petabytes.</span></span> <span data-ttu-id="2e031-168">Ein Speicherkonto kann Hunderte von Terabyte korrigieren Fotos speichern, und Sie bezahlen nur für die tatsächliche Verwendung.</span><span class="sxs-lookup"><span data-stu-id="2e031-168">One storage account can store hundreds of terabytes of Fix It photos, and you only pay for what you use.</span></span> <span data-ttu-id="2e031-169">Damit Sie kleine zahlenden 9 Cent für das erste Gigabyte beginnen und weitere Bilder für Cents Abschneiden pro zusätzliche Gigabyte hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="2e031-169">So you can start off small paying 9 cents for the first gigabyte, and add more images for pennies per additional gigabyte.</span></span>

### <a name="display-the-uploaded-file"></a><span data-ttu-id="2e031-170">Zeigen Sie die hochgeladene Datei</span><span class="sxs-lookup"><span data-stu-id="2e031-170">Display the uploaded file</span></span>

<span data-ttu-id="2e031-171">Die korrigieren-Anwendung zeigt die hochgeladene Datei beim Anzeigen der Details für eine Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="2e031-171">The Fix It application displays the uploaded image file when it displays details for a task.</span></span>

![So beheben sie Aufgabendetails mit Foto](unstructured-blob-storage/_static/image3.png)

<span data-ttu-id="2e031-173">Um das Bild angezeigt wird, muss das MVC-Ansicht nur, lediglich enthalten die `PhotoUrl` Wert im HTML-Code an den Browser gesendet.</span><span class="sxs-lookup"><span data-stu-id="2e031-173">To display the image, all the MVC view has to do is include the `PhotoUrl` value in the HTML sent to the browser.</span></span> <span data-ttu-id="2e031-174">Die Webserver und die Datenbank sind nicht mit dem Zyklen zur Anzeige des Bilds, sie nur wenige Bytes der Bild-URL bedient werden.</span><span class="sxs-lookup"><span data-stu-id="2e031-174">The web server and the database are not using cycles to display the image, they are only serving up a few bytes to the image URL.</span></span> <span data-ttu-id="2e031-175">Im folgenden Razor-Code `Model` bezieht sich auf einer Instanz von der `FixItTask` Entitätsklasse.</span><span class="sxs-lookup"><span data-stu-id="2e031-175">In the following Razor code, `Model` refers to an instance of the `FixItTask` entity class.</span></span>

[!code-cshtml[Main](unstructured-blob-storage/samples/sample12.cshtml?highlight=11)]

<span data-ttu-id="2e031-176">Wenn Sie HTML-Code von der Seite, die anzeigt betrachten, sehen Sie die URL verweist direkt auf das Bild im Blob-Speicher, etwa wie folgt:</span><span class="sxs-lookup"><span data-stu-id="2e031-176">If you look at the HTML of the page that displays, you see the URL pointing directly to the image in blob storage, something like this:</span></span>

[!code-cshtml[Main](unstructured-blob-storage/samples/sample13.cshtml?highlight=11)]

## <a name="summary"></a><span data-ttu-id="2e031-177">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="2e031-177">Summary</span></span>

<span data-ttu-id="2e031-178">Sie haben gesehen, wie die app zu beheben Bilder im Blob-Dienst und nur Bild-URLs in der SQL-Datenbank speichert.</span><span class="sxs-lookup"><span data-stu-id="2e031-178">You've seen how the Fix It app stores images in the Blob service and only image URLs in the SQL database.</span></span> <span data-ttu-id="2e031-179">Mithilfe des Blob-Diensts behält die SQL-Datenbank weit weniger umfangreich als andernfalls wäre, es möglich, skaliert und an eine nahezu unbegrenzte Anzahl von Aufgaben macht sind und ausgeführt werden können, ohne viel Code schreiben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="2e031-179">Using the Blob service keeps the SQL database much smaller than it otherwise would be, makes it possible to scale up to an almost unlimited number of tasks, and can be done without writing a lot of code.</span></span>

<span data-ttu-id="2e031-180">Sie können Hunderte von Terabyte in einem Speicherkonto, und viel Speicher beansprucht ist wesentlich kostengünstiger als SQL-Datenbankspeicher, beginnend ab ca. 3 US-Cent pro GB pro Monat sowie Gebühren kleinen Transaktion.</span><span class="sxs-lookup"><span data-stu-id="2e031-180">You can have hundreds of terabytes in a storage account, and the storage cost is much less expensive than SQL Database storage, starting at about 3 cents per gigabyte per month plus a small transaction charge.</span></span> <span data-ttu-id="2e031-181">Und denken Sie daran, die Sie nicht bezahlen, für die maximale Kapazität jedoch nur für die Menge, die Sie tatsächlich speichern, damit Ihre app zum Skalieren bereit ist, jedoch sind Sie nicht für diesen zusätzliche Kapazität Zahlen, die beibehalten.</span><span class="sxs-lookup"><span data-stu-id="2e031-181">And keep in mind that you're not paying for the maximum capacity but only for the amount you actually store, so your app is ready to scale but you're not paying for all that extra capacity.</span></span>

<span data-ttu-id="2e031-182">In der [nächsten Kapitels](design-to-survive-failures.md) sprechen wir über die Wichtigkeit versteht man eine Cloud-app-Fehler ordnungsgemäß verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="2e031-182">In the [next chapter](design-to-survive-failures.md) we'll talk about the importance of making a cloud app capable of gracefully handling failures.</span></span>

## <a name="resources"></a><span data-ttu-id="2e031-183">Ressourcen</span><span class="sxs-lookup"><span data-stu-id="2e031-183">Resources</span></span>

<span data-ttu-id="2e031-184">Weitere Informationen finden Sie unter den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="2e031-184">For more information see the following resources:</span></span>

- <span data-ttu-id="2e031-185">[Eine Einführung in Azure BLOB-Speicher](https://www.simple-talk.com/cloud/cloud-data/an-introduction-to-windows-azure-blob-storage-/).</span><span class="sxs-lookup"><span data-stu-id="2e031-185">[An Introduction to Azure BLOB Storage](https://www.simple-talk.com/cloud/cloud-data/an-introduction-to-windows-azure-blob-storage-/).</span></span> <span data-ttu-id="2e031-186">Blog von Mike Holz.</span><span class="sxs-lookup"><span data-stu-id="2e031-186">Blog by Mike Wood.</span></span>
- <span data-ttu-id="2e031-187">[Gewusst wie: Verwenden des Azure-Blob-Speicherdiensts in .NET](https://docs.microsoft.com/azure/storage/blobs/storage-dotnet-how-to-use-blobs).</span><span class="sxs-lookup"><span data-stu-id="2e031-187">[How to use the Azure Blob Storage Service in .NET](https://docs.microsoft.com/azure/storage/blobs/storage-dotnet-how-to-use-blobs).</span></span> <span data-ttu-id="2e031-188">Offizieller Dokumentation auf der Website MicrosoftAzure.com.</span><span class="sxs-lookup"><span data-stu-id="2e031-188">Official documentation on the MicrosoftAzure.com site.</span></span> <span data-ttu-id="2e031-189">Eine kurze Einführung in den blob-Speicher, gefolgt von Codebeispielen, die Darstellung des Blob-Speicher verbinden Container erstellen, hochladen und Herunterladen von Blobs usw.</span><span class="sxs-lookup"><span data-stu-id="2e031-189">A brief introduction to blob storage followed by code examples showing how to connect to blob storage, create containers, upload and download blobs, etc.</span></span>
- <span data-ttu-id="2e031-190">[FailSafe: Erstellen von skalierbaren, robusten Cloud-Dienste](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="2e031-190">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="2e031-191">Videoreihe Marc Mercuri, Ulrich Homann und Mark Simms neun Teil.</span><span class="sxs-lookup"><span data-stu-id="2e031-191">Nine-part video series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="2e031-192">Bietet allgemeine Konzepte und Architekturprinzipien auf eine Weise zugegriffen werden kann, und interessante Storys, die von Microsoft Customer Advisory Team (CAT) anstelle von Erfahrungen mit Kunden gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="2e031-192">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="2e031-193">Eine Erläuterung der Azure-Speicherdienst und Blobs finden Sie in der Folge 5 35:13 ab.</span><span class="sxs-lookup"><span data-stu-id="2e031-193">For a discussion of Azure Storage service and blobs, see episode 5 starting at 35:13.</span></span>
- <span data-ttu-id="2e031-194">[Microsoft Patterns and Practices - Azure-Leitfaden](https://msdn.microsoft.com/en-us/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="2e031-194">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/en-us/library/dn568099.aspx).</span></span> <span data-ttu-id="2e031-195">Siehe Valet Schlüssel Muster.</span><span class="sxs-lookup"><span data-stu-id="2e031-195">See Valet Key pattern.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="2e031-196">[Zurück](data-partitioning-strategies.md)
[Weiter](design-to-survive-failures.md)</span><span class="sxs-lookup"><span data-stu-id="2e031-196">[Previous](data-partitioning-strategies.md)
[Next](design-to-survive-failures.md)</span></span>
