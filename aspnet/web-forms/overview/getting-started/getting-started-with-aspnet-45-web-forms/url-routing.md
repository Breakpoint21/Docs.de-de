---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
title: URL-Routing | Microsoft Docs
author: Erikre
description: "Diese Reihe von Lernprogrammen erfahren Sie die Grundlagen der Erstellung einer ASP.NET Web Forms-Anwendung mithilfe von ASP.NET 4.5 und Microsoft Visual Studio Express 2013 für wir..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/08/2014
ms.topic: article
ms.assetid: 4f4bf092-c400-471f-a876-78fda0417890
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
msc.type: authoredcontent
ms.openlocfilehash: 279617e4ebb475d935c0d1e01e08a3a2def0f9e9
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
<a name="url-routing"></a><span data-ttu-id="ed319-103">URL-Routing</span><span class="sxs-lookup"><span data-stu-id="ed319-103">URL Routing</span></span>
====================
<span data-ttu-id="ed319-104">Durch [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="ed319-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="ed319-105">[Herunterladen des Wingtip Toys-Beispielprojekt (c#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) oder [(PDF) E-Book herunterladen](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="ed319-105">[Download Wingtip Toys Sample Project (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="ed319-106">Diese Reihe von Lernprogrammen erfahren Sie die Grundlagen der Erstellung einer ASP.NET Web Forms-Anwendung mithilfe von ASP.NET 4.5 und Microsoft Visual Studio Express 2013 für Web.</span><span class="sxs-lookup"><span data-stu-id="ed319-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="ed319-107">Eine Visual Studio 2013 [-Projekts mit C#-Quellcode](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) ist verfügbar, die diese Reihe von Lernprogrammen begleitet.</span><span class="sxs-lookup"><span data-stu-id="ed319-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>


<span data-ttu-id="ed319-108">In diesem Lernprogramm ändern Sie die Wingtip Toys-beispielanwendung für das URL-routing zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="ed319-108">In this tutorial, you will modify the Wingtip Toys sample application to support URL routing.</span></span> <span data-ttu-id="ed319-109">Routing können Ihre Webanwendung URLs verwenden, die benutzerfreundliche, leichter merken und wird von Suchmaschinen besser unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ed319-109">Routing enables your web application to use URLs that are friendly, easier to remember, and better supported by search engines.</span></span> <span data-ttu-id="ed319-110">Dieses Lernprogramm baut auf dem vorherigen Lernprogramm "Mitgliedschaft und Verwaltung" und ist Teil der Wingtip Toys Reihe von Lernprogrammen.</span><span class="sxs-lookup"><span data-stu-id="ed319-110">This tutorial builds on the previous tutorial "Membership and Administration" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="ed319-111">Lernen Sie:</span><span class="sxs-lookup"><span data-stu-id="ed319-111">What you'll learn:</span></span>

- <span data-ttu-id="ed319-112">Vorgehensweise: Registrieren von Routen für eine ASP.NET Web Forms-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="ed319-112">How to register routes for an ASP.NET Web Forms application.</span></span>
- <span data-ttu-id="ed319-113">Das Hinzufügen von Routen zu einer Webseite.</span><span class="sxs-lookup"><span data-stu-id="ed319-113">How to add routes to a web page.</span></span>
- <span data-ttu-id="ed319-114">Auswählen von Daten aus einer Datenbank zur Unterstützung von Routen.</span><span class="sxs-lookup"><span data-stu-id="ed319-114">How to select data from a database to support routes.</span></span>

## <a name="aspnet-routing-overview"></a><span data-ttu-id="ed319-115">Übersicht über ASP.NET</span><span class="sxs-lookup"><span data-stu-id="ed319-115">ASP.NET Routing Overview</span></span>

<span data-ttu-id="ed319-116">URL-routing können Sie so konfigurieren Sie eine Anwendung akzeptieren Anforderungs-URLs, die keinen physischen Dateien zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="ed319-116">URL routing allows you to configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="ed319-117">Eine Anforderungs-URL ist einfach die URL, die ein Benutzer in ihrem Browser zum Suchen einer Seite auf Ihrer Website eingibt.</span><span class="sxs-lookup"><span data-stu-id="ed319-117">A request URL is simply the URL a user enters into their browser to find a page on your web site.</span></span> <span data-ttu-id="ed319-118">Mithilfe von routing um URLs zu definieren, die für Benutzer semantisch sinnvoll sind und zur Entwicklung mit Search Engine Optimization (SEO) beitragen können.</span><span class="sxs-lookup"><span data-stu-id="ed319-118">You use routing to define URLs that are semantically meaningful to users and that can help with search-engine optimization (SEO).</span></span>

<span data-ttu-id="ed319-119">Die Web Forms-Projektvorlage enthält standardmäßig [Friendly URLs von ASP.NET](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span><span class="sxs-lookup"><span data-stu-id="ed319-119">By default, the Web Forms template includes [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span></span> <span data-ttu-id="ed319-120">Wird ein Großteil der standardarbeiten routing mit implementiert *Friendly URLs*.</span><span class="sxs-lookup"><span data-stu-id="ed319-120">Much of the basic routing work will be implemented by using *Friendly URLs*.</span></span> <span data-ttu-id="ed319-121">In diesem Lernprogramm fügen Sie jedoch benutzerdefinierte Routingfunktionen.</span><span class="sxs-lookup"><span data-stu-id="ed319-121">However, in this tutorial you will add customized routing capabilities.</span></span>

<span data-ttu-id="ed319-122">Vor dem Anpassen von URL-routing, kann die beispielanwendung des Wingtip Toys mit einem Produkt mit der folgenden URL verknüpfen:</span><span class="sxs-lookup"><span data-stu-id="ed319-122">Before customizing URL routing, the Wingtip Toys sample application can link to a product using the following URL:</span></span>

`https://localhost:44300/ProductDetails.aspx?productID=2`

<span data-ttu-id="ed319-123">Durch das Anpassen der URL-routing, wird die beispielanwendung des Wingtip Toys demselben Produkt mit einer leichter lesbar URL verknüpfen:</span><span class="sxs-lookup"><span data-stu-id="ed319-123">By customizing URL routing, the Wingtip Toys sample application will link to the same product using an easier to read URL:</span></span>

`https://localhost:44300/Product/Convertible%20Car`

### <a name="routes"></a><span data-ttu-id="ed319-124">Routen</span><span class="sxs-lookup"><span data-stu-id="ed319-124">Routes</span></span>

<span data-ttu-id="ed319-125">Eine Route ist ein URL-Muster, das einen Handler zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="ed319-125">A route is a URL pattern that is mapped to a handler.</span></span> <span data-ttu-id="ed319-126">Der Handler kann es sich um eine physische Datei, z. B. eine ASPX-Datei in einer Web Forms-Anwendung sein.</span><span class="sxs-lookup"><span data-stu-id="ed319-126">The handler can be a physical file, such as an .aspx file in a Web Forms application.</span></span> <span data-ttu-id="ed319-127">Ein Ereignishandler kann auch eine Klasse sein, die die Anforderung verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="ed319-127">A handler can also be a class that processes the request.</span></span> <span data-ttu-id="ed319-128">Um eine Route zu definieren, erstellen Sie eine Instanz der Klasse Route unter Angabe der URL-Muster, den Handler und optional einen Namen für die Route.</span><span class="sxs-lookup"><span data-stu-id="ed319-128">To define a route, you create an instance of the Route class by specifying the URL pattern, the handler, and optionally a name for the route.</span></span>

<span data-ttu-id="ed319-129">Sie fügen die Route für die Anwendung hinzu, indem die `Route` Objekt, das die statische `Routes` Eigenschaft von der `RouteTable` Klasse.</span><span class="sxs-lookup"><span data-stu-id="ed319-129">You add the route to the application by adding the `Route` object to the static `Routes` property of the `RouteTable` class.</span></span> <span data-ttu-id="ed319-130">Die Routen-Eigenschaft ist ein `RouteCollection` Objekt, das alle Routen für die Anwendung speichert.</span><span class="sxs-lookup"><span data-stu-id="ed319-130">The Routes property is a `RouteCollection` object that stores all the routes for the application.</span></span>

### <a name="url-patterns"></a><span data-ttu-id="ed319-131">URL-Mustern</span><span class="sxs-lookup"><span data-stu-id="ed319-131">URL Patterns</span></span>

<span data-ttu-id="ed319-132">Ein URL-Muster kann es sich um Literalwerte und Variable Platzhalter (bezeichnet als URL-Parameter) enthalten.</span><span class="sxs-lookup"><span data-stu-id="ed319-132">A URL pattern can contain literal values and variable placeholders (referred to as URL parameters).</span></span> <span data-ttu-id="ed319-133">Literalwerte und Platzhalter befinden sich in Segmenten, die der URL durch den Schrägstrich getrennt sind (`/`) Zeichen.</span><span class="sxs-lookup"><span data-stu-id="ed319-133">The literals and placeholders are located in segments of the URL which are delimited by the slash (`/`) character.</span></span>

<span data-ttu-id="ed319-134">Wenn eine Anforderung für Ihre Webanwendung erfolgt, die URL ist in Segmente und Platzhalter analysiert, und die Variablenwerte werden bereitgestellt, um den Anforderungshandler.</span><span class="sxs-lookup"><span data-stu-id="ed319-134">When a request to your web application is made, the URL is parsed into segments and placeholders, and the variable values are provided to the request handler.</span></span> <span data-ttu-id="ed319-135">Dieser Vorgang ist ähnlich wie die Daten in einer Abfragezeichenfolge analysiert und an den Anforderungshandler übergeben.</span><span class="sxs-lookup"><span data-stu-id="ed319-135">This process is similar to the way the data in a query string is parsed and passed to the request handler.</span></span> <span data-ttu-id="ed319-136">In beiden Fällen wird Variableninformationen in der URL enthalten und an den Handler in Form von Schlüssel-Wert-Paaren übergeben.</span><span class="sxs-lookup"><span data-stu-id="ed319-136">In both cases, variable information is included in the URL and passed to the handler in the form of key-value pairs.</span></span> <span data-ttu-id="ed319-137">Sind für Abfragezeichenfolgen die Schlüssel und die Werte in der URL ein.</span><span class="sxs-lookup"><span data-stu-id="ed319-137">For query strings, both the keys and the values are in the URL.</span></span> <span data-ttu-id="ed319-138">Für Routen die Schlüssel sind die Platzhalternamen, die in der URL-Muster definiert und nur die Werte sind in der URL.</span><span class="sxs-lookup"><span data-stu-id="ed319-138">For routes, the keys are the placeholder names defined in the URL pattern, and only the values are in the URL.</span></span>

<span data-ttu-id="ed319-139">In einem URL-Muster, definieren Sie Platzhalter in geschweiften Klammern ( `{` und `}` ).</span><span class="sxs-lookup"><span data-stu-id="ed319-139">In a URL pattern, you define placeholders by enclosing them in braces ( `{` and `}` ).</span></span> <span data-ttu-id="ed319-140">Sie können mehr als ein Platzhalter in einem Segment definieren, aber die Platzhalter durch einen Literalwert getrennt werden.</span><span class="sxs-lookup"><span data-stu-id="ed319-140">You can define more than one placeholder in a segment, but the placeholders must be separated by a literal value.</span></span> <span data-ttu-id="ed319-141">Beispielsweise `{language}-{country}/{action}` ist eine gültige Route-Muster.</span><span class="sxs-lookup"><span data-stu-id="ed319-141">For example, `{language}-{country}/{action}` is a valid route pattern.</span></span> <span data-ttu-id="ed319-142">Allerdings `{language}{country}/{action}` ist kein gültiges Muster, da keine Literalwert oder als Trennzeichen zwischen den Platzhalter vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="ed319-142">However, `{language}{country}/{action}` is not a valid pattern, because there is no literal value or delimiter between the placeholders.</span></span> <span data-ttu-id="ed319-143">Aus diesem Grund kann nicht weiterleiten, wo Sie den Wert für den Platzhalter für die Sprache von den Wert für den Platzhalter Land zu trennen bestimmen.</span><span class="sxs-lookup"><span data-stu-id="ed319-143">Therefore, routing cannot determine where to separate the value for the language placeholder from the value for the country placeholder.</span></span>

### <a name="mapping-and-registering-routes"></a><span data-ttu-id="ed319-144">Zuordnen und Registrieren von Routen</span><span class="sxs-lookup"><span data-stu-id="ed319-144">Mapping and Registering Routes</span></span>

<span data-ttu-id="ed319-145">Bevor Sie Routen zu den Seiten des Wingtip Toys-beispielanwendung einfügen können, müssen Sie die Routen registrieren, beim Starten der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="ed319-145">Before you can include routes to pages of the Wingtip Toys sample application, you must register the routes when the application starts.</span></span> <span data-ttu-id="ed319-146">Um die Routen zu registrieren, ändern Sie die `Application_Start` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="ed319-146">To register the routes, you will modify the `Application_Start` event handler.</span></span>

1. <span data-ttu-id="ed319-147">In **Projektmappen-Explorer**von Visual Studio zu suchen und öffnen Sie die *Global.asax.cs* Datei.</span><span class="sxs-lookup"><span data-stu-id="ed319-147">In **Solution Explorer**of Visual Studio, find and open the *Global.asax.cs* file.</span></span>
2. <span data-ttu-id="ed319-148">Fügen Sie den Code in gelb hervorgehoben werden die *Global.asax.cs* Datei wie folgt:</span><span class="sxs-lookup"><span data-stu-id="ed319-148">Add the code highlighted in yellow to the *Global.asax.cs* file as follows:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample1.cs?highlight=30-31,34-46)]

<span data-ttu-id="ed319-149">Wenn die Wingtip Toys-Anwendung gestartet wird Beispiel, ruft er die `Application_Start` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="ed319-149">When the Wingtip Toys sample application starts, it calls the `Application_Start` event handler.</span></span> <span data-ttu-id="ed319-150">Am Ende dieser Ereignishandler der `RegisterCustomRoutes` -Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ed319-150">At the end of this event handler, the `RegisterCustomRoutes` method is called.</span></span> <span data-ttu-id="ed319-151">Die `RegisterCustomRoutes` Methode fügt jeder Route durch Aufrufen der `MapPageRoute` Methode der `RouteCollection` Objekt.</span><span class="sxs-lookup"><span data-stu-id="ed319-151">The `RegisterCustomRoutes` method adds each route by calling the `MapPageRoute` method of the `RouteCollection` object.</span></span> <span data-ttu-id="ed319-152">Routen werden mit einem Routennamen, Routen-URL und eine physische URL definiert.</span><span class="sxs-lookup"><span data-stu-id="ed319-152">Routes are defined using a route name, a route URL and a physical URL.</span></span>

<span data-ttu-id="ed319-153">Der erste Parameter ("`ProductsByCategoryRoute`") ist der Routenname.</span><span class="sxs-lookup"><span data-stu-id="ed319-153">The first parameter ("`ProductsByCategoryRoute`") is the route name.</span></span> <span data-ttu-id="ed319-154">Hiermit wird die Route aufgerufen wird, wenn er benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="ed319-154">It is used to call the route when it is needed.</span></span> <span data-ttu-id="ed319-155">Der zweite Parameter ("`Category/{categoryName}`") definiert das Anzeigename ersetzen, die URL, die dynamisch sein kann, die auf Code basiert.</span><span class="sxs-lookup"><span data-stu-id="ed319-155">The second parameter ("`Category/{categoryName}`") defines the friendly replacement URL that can be dynamic based on code.</span></span> <span data-ttu-id="ed319-156">Verwenden Sie diese Route an, wenn Sie ein Steuerelement mit Links, die generiert werden, basierend auf Daten auffüllen.</span><span class="sxs-lookup"><span data-stu-id="ed319-156">You use this route when you are populating a data control with links that are generated based on data.</span></span> <span data-ttu-id="ed319-157">Eine Route wird folgendermaßen angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ed319-157">A route is shown as follows:</span></span>

[!code-csharp[Main](url-routing/samples/sample2.cs)]

<span data-ttu-id="ed319-158">Der zweite Parameter der Route enthält einen dynamischen Wert, der von geschweiften Klammern angegeben (`{ }`).</span><span class="sxs-lookup"><span data-stu-id="ed319-158">The second parameter of the route includes a dynamic value specified by braces (`{ }`).</span></span> <span data-ttu-id="ed319-159">In diesem Fall die `categoryName` ist eine Variable, die verwendet wird, um den richtigen Routingpfad zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="ed319-159">In this case, the `categoryName` is a variable that will be used to determine the proper routing path.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ed319-160">**Optional**</span><span class="sxs-lookup"><span data-stu-id="ed319-160">**Optional**</span></span>
> 
> <span data-ttu-id="ed319-161">Sie finden es vielleicht einfacher zu verwalten, den Code durch Verschieben der `RegisterCustomRoutes` Methode, um eine separate Klasse.</span><span class="sxs-lookup"><span data-stu-id="ed319-161">You might find it easier to manage your code by moving the `RegisterCustomRoutes` method to a separate class.</span></span> <span data-ttu-id="ed319-162">In der *Logik* Ordner, erstellen Sie eine Separate `RouteActions` Klasse.</span><span class="sxs-lookup"><span data-stu-id="ed319-162">In the *Logic* folder, create a separate `RouteActions` class.</span></span> <span data-ttu-id="ed319-163">Verschieben Sie die oben genannten `RegisterCustomRoutes` Methode aus der *Global.asax.cs* Datei in das neue `RoutesActions` Klasse.</span><span class="sxs-lookup"><span data-stu-id="ed319-163">Move the above `RegisterCustomRoutes` method from the *Global.asax.cs* file into the new `RoutesActions` class.</span></span> <span data-ttu-id="ed319-164">Verwenden der `RoleActions` Klasse und die `createAdmin` -Methode, wie ein Beispiel zum Aufrufen der `RegisterCustomRoutes` Methode aus der *Global.asax.cs* Datei.</span><span class="sxs-lookup"><span data-stu-id="ed319-164">Use the `RoleActions` class and the `createAdmin` method as an example of how to call the `RegisterCustomRoutes` method from the *Global.asax.cs* file.</span></span>


<span data-ttu-id="ed319-165">Sie sicherlich auch bemerkt haben die `RegisterRoutes` Methode-Aufruf mithilfe der `RouteConfig` Objekt am Anfang der `Application_Start` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="ed319-165">You may also have noticed the `RegisterRoutes` method call using the `RouteConfig` object at the beginning of the `Application_Start` event handler.</span></span> <span data-ttu-id="ed319-166">Dieser Aufruf erfolgt Standardrouting implementieren.</span><span class="sxs-lookup"><span data-stu-id="ed319-166">This call is made to implement default routing.</span></span> <span data-ttu-id="ed319-167">Wenn Sie die Anwendung mit Visual Studio Web Forms-Projektvorlage erstellt war als Standardcode enthalten.</span><span class="sxs-lookup"><span data-stu-id="ed319-167">It was included as default code when you created the application using Visual Studio's Web Forms template.</span></span>

## <a name="retrieving-and-using-route-data"></a><span data-ttu-id="ed319-168">Abrufen und Verwenden von Routendaten</span><span class="sxs-lookup"><span data-stu-id="ed319-168">Retrieving and Using Route Data</span></span>

<span data-ttu-id="ed319-169">Wie bereits erwähnt, können Routen definiert werden.</span><span class="sxs-lookup"><span data-stu-id="ed319-169">As mentioned above, routes can be defined.</span></span> <span data-ttu-id="ed319-170">Der Code, der Sie hinzugefügt haben die `Application_Start` -Ereignishandler in der *Global.asax.cs* Datei lädt die benutzerdefinierbare Routen.</span><span class="sxs-lookup"><span data-stu-id="ed319-170">The code that you added to the `Application_Start` event handler in the *Global.asax.cs* file loads the definable routes.</span></span>

### <a name="setting-routes"></a><span data-ttu-id="ed319-171">Festlegen von Routen</span><span class="sxs-lookup"><span data-stu-id="ed319-171">Setting Routes</span></span>

<span data-ttu-id="ed319-172">Routen müssen Sie zusätzlichen Code hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed319-172">Routes require you to add additional code.</span></span> <span data-ttu-id="ed319-173">In diesem Lernprogramm verwenden Sie wurden die modellbindung zum Abrufen einer `RouteValueDictionary` -Objekt, das beim Generieren der Routen mit Daten aus einem Datensteuerelement verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ed319-173">In this tutorial, you will use model binding to retrieve a `RouteValueDictionary` object that is used when generating the routes using data from a data control.</span></span> <span data-ttu-id="ed319-174">Die `RouteValueDictionary` Objekt enthält eine Liste aus Produktnamen besteht, die zu einer bestimmten Kategorie von Produkten gehören.</span><span class="sxs-lookup"><span data-stu-id="ed319-174">The `RouteValueDictionary` object will contain a list of product names that belong to a specific category of products.</span></span> <span data-ttu-id="ed319-175">Für jedes Produkt basierend auf den Daten und die Route wird eine Verknüpfung erstellt.</span><span class="sxs-lookup"><span data-stu-id="ed319-175">A link is created for each product based on the data and route.</span></span>

#### <a name="enable-routes-for-categories-and-products"></a><span data-ttu-id="ed319-176">Aktivieren von Routen für die Kategorien und Produkte</span><span class="sxs-lookup"><span data-stu-id="ed319-176">Enable Routes for Categories and Products</span></span>

<span data-ttu-id="ed319-177">Als Nächstes aktualisieren Sie die Anwendung für die Verwendung der `ProductsByCategoryRoute` zum Bestimmen der richtigen Route für jedes Produkt Kategorielink einschließen.</span><span class="sxs-lookup"><span data-stu-id="ed319-177">Next, you'll update the application to use the `ProductsByCategoryRoute` to determine the correct route to include for each product category link.</span></span> <span data-ttu-id="ed319-178">Sie müssen außerdem ein update der *"ProductList.aspx"* Seite, um einen gerouteten Link für jedes Produkt enthalten.</span><span class="sxs-lookup"><span data-stu-id="ed319-178">You'll also update the *ProductList.aspx* page to include a routed link for each product.</span></span> <span data-ttu-id="ed319-179">Die Links wird angezeigt wie vor der Änderung waren jedoch die Links jetzt URL-routing verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed319-179">The links will be displayed as they were before the change, however the links will now use URL routing.</span></span>

1. <span data-ttu-id="ed319-180">In **Projektmappen-Explorer**öffnen die *Site.Master* Seite, wenn er nicht bereits geöffnet ist.</span><span class="sxs-lookup"><span data-stu-id="ed319-180">In **Solution Explorer**, open the *Site.Master* page if it is not already open.</span></span>
2. <span data-ttu-id="ed319-181">Update der **ListView** -Steuerelement mit dem Namen "`categoryList`" mit den Änderungen in gelb hervorgehoben werden, sodass das Markup sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="ed319-181">Update the **ListView** control named "`categoryList`" with the changes highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample3.aspx?highlight=7-9)]
3. <span data-ttu-id="ed319-182">In **Projektmappen-Explorer**öffnen die *"ProductList.aspx"* Seite.</span><span class="sxs-lookup"><span data-stu-id="ed319-182">In **Solution Explorer**, open the *ProductList.aspx* page.</span></span>
4. <span data-ttu-id="ed319-183">Update der `ItemTemplate` Element von der *"ProductList.aspx"* Seite mit den Updates in gelb hervorgehoben werden, damit das Markup wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="ed319-183">Update the `ItemTemplate` element of the *ProductList.aspx* page with the updates highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample4.aspx?highlight=6-9,14-16)]
5. <span data-ttu-id="ed319-184">Öffnen Sie den Code-Behind der *ProductList.aspx.cs* und fügen Sie den folgenden Namespace als Gelb hinzu:</span><span class="sxs-lookup"><span data-stu-id="ed319-184">Open the code-behind of *ProductList.aspx.cs* and add the following namespace as highlighted in yellow:</span></span>  

    [!code-csharp[Main](url-routing/samples/sample5.cs?highlight=9)]
6. <span data-ttu-id="ed319-185">Ersetzen Sie die `GetProducts` Methode den Code-Behind (*ProductList.aspx.cs*) durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="ed319-185">Replace the `GetProducts` method of the code-behind (*ProductList.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample6.cs)]

#### <a name="add-code-for-product-details"></a><span data-ttu-id="ed319-186">Fügen Sie Code für die Produktdetails hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed319-186">Add Code for Product Details</span></span>

<span data-ttu-id="ed319-187">Aktualisieren Sie nun den Code-Behind (*ProductDetails.aspx.cs*) für die *ProductDetails.aspx* Seite Routendaten verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed319-187">Now, update the code-behind (*ProductDetails.aspx.cs*) for the *ProductDetails.aspx* page to use route data.</span></span> <span data-ttu-id="ed319-188">Beachten Sie, dass die neue `GetProduct` akzeptiert die Methode auch einen Wert der Abfragezeichenfolge für den Fall, in dem der Benutzer eine Verbindung mit einem Lesezeichen versehene verfügt, die die ältere nicht benutzerfreundlichen, nicht gerouteten-URL verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed319-188">Notice that the new `GetProduct` method also accepts a query string value for the case where the user has a link bookmarked that uses the older non-friendly, non-routed URL.</span></span>

1. <span data-ttu-id="ed319-189">Ersetzen Sie die `GetProduct` Methode den Code-Behind (*ProductDetails.aspx.cs*) durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="ed319-189">Replace the `GetProduct` method of the code-behind (*ProductDetails.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample7.cs)]

## <a name="running-the-application"></a><span data-ttu-id="ed319-190">Ausführen der Anwendung</span><span class="sxs-lookup"><span data-stu-id="ed319-190">Running the Application</span></span>

<span data-ttu-id="ed319-191">Sie können die Anwendung nun auf die aktualisierte Routen finden Sie unter ausführen.</span><span class="sxs-lookup"><span data-stu-id="ed319-191">You can run the application now to see the updated routes.</span></span>

1. <span data-ttu-id="ed319-192">Drücken Sie **F5** zum Ausführen der Anwendung des Wingtip Toys-Beispiel.</span><span class="sxs-lookup"><span data-stu-id="ed319-192">Press **F5** to run the Wingtip Toys sample application.</span></span>  
 <span data-ttu-id="ed319-193">Der Browser wird geöffnet und zeigt die *"default.aspx"* Seite.</span><span class="sxs-lookup"><span data-stu-id="ed319-193">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="ed319-194">Klicken Sie auf die **Produkte** Link am oberen Rand der Seite.</span><span class="sxs-lookup"><span data-stu-id="ed319-194">Click the **Products** link at the top of the page.</span></span>  
 <span data-ttu-id="ed319-195">Alle Produkte werden angezeigt, auf die *"ProductList.aspx"* Seite.</span><span class="sxs-lookup"><span data-stu-id="ed319-195">All products are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="ed319-196">Die folgende URL (mit der Portnummer) wird für den Browser angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ed319-196">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/ProductList`
3. <span data-ttu-id="ed319-197">Klicken Sie anschließend auf die **Autos** Kategorielink am oberen Rand der Seite.</span><span class="sxs-lookup"><span data-stu-id="ed319-197">Next, click the **Cars** category link near the top of the page.</span></span>  
 <span data-ttu-id="ed319-198">Nur Autos werden angezeigt, auf die *"ProductList.aspx"* Seite.</span><span class="sxs-lookup"><span data-stu-id="ed319-198">Only cars are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="ed319-199">Die folgende URL (mit der Portnummer) wird für den Browser angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ed319-199">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Category/Cars`
4. <span data-ttu-id="ed319-200">Klicken Sie auf der Link, mit dem Namen des ersten Autos auf der Seite angezeigt ("**konvertierbar Car**") auf die Produktdetails anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="ed319-200">Click the link containing the name of the first car listed on the page ("**Convertible Car**") to display the product details.</span></span>  
 <span data-ttu-id="ed319-201">Die folgende URL (mit der Portnummer) wird für den Browser angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ed319-201">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Product/Convertible%20Car`
5. <span data-ttu-id="ed319-202">Geben Sie anschließend die folgenden nicht gerouteten-URL (mit der Portnummer) in den Browser:</span><span class="sxs-lookup"><span data-stu-id="ed319-202">Next, enter the following non-routed URL (using your port number) into the browser:</span></span>  
    `https://localhost:44300/ProductDetails.aspx?productID=2`  
 <span data-ttu-id="ed319-203">Der Code erkennt noch eine URL, eine Abfragezeichenfolge für die Groß-/Kleinschreibung enthält, in denen ein Benutzer eine Verbindung mit einem Lesezeichen versehene verfügt.</span><span class="sxs-lookup"><span data-stu-id="ed319-203">The code still recognizes a URL that includes a query string, for the case where a user has a link bookmarked.</span></span>

## <a name="summary"></a><span data-ttu-id="ed319-204">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="ed319-204">Summary</span></span>

<span data-ttu-id="ed319-205">In diesem Lernprogramm haben Sie Routen für Kategorien und Produkte hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="ed319-205">In this tutorial, you have added routes for categories and products.</span></span> <span data-ttu-id="ed319-206">Sie haben gelernt, wie Routen mit Datensteuerelementen integriert werden können, die modellbindung verwenden.</span><span class="sxs-lookup"><span data-stu-id="ed319-206">You have learned how routes can be integrated with data controls that use model binding.</span></span> <span data-ttu-id="ed319-207">In den nächsten Lernprogrammen implementieren Sie die globalen Fehlerbehandlung.</span><span class="sxs-lookup"><span data-stu-id="ed319-207">In the next tutorial, you will implement global error handling.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ed319-208">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="ed319-208">Additional Resources</span></span>

[<span data-ttu-id="ed319-209">ASP.NET Friendly URLs</span><span class="sxs-lookup"><span data-stu-id="ed319-209">ASP.NET Friendly URLs</span></span>](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)  
[<span data-ttu-id="ed319-210">Bereitstellen von Mitgliedschaft, OAuth und SQL-Datenbank eine sichere ASP.NET Web Forms-App in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="ed319-210">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)  
[<span data-ttu-id="ed319-211">Microsoft Azure - Testversion</span><span class="sxs-lookup"><span data-stu-id="ed319-211">Microsoft Azure - Free Trial</span></span>](https://azure.microsoft.com/pricing/free-trial/)

>[!div class="step-by-step"]
<span data-ttu-id="ed319-212">[Zurück](membership-and-administration.md)
[Weiter](aspnet-error-handling.md)</span><span class="sxs-lookup"><span data-stu-id="ed319-212">[Previous](membership-and-administration.md)
[Next](aspnet-error-handling.md)</span></span>
