---
uid: web-forms/overview/data-access/database-driven-site-maps/building-a-custom-database-driven-site-map-provider-cs
title: Erstellen eine benutzerdefinierte Website mit Datenbank-Driven Kartenanbieter (c#) | Microsoft Docs
author: rick-anderson
description: Der Standardanbieter der Siteübersicht in ASP.NET 2.0 ruft seine Daten aus einer statischen XML-Datei ab. Während der XML-basierte Anbieter so viele kleine und mittlere ößen-ist...
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/26/2007
ms.topic: article
ms.assetid: 04b7591d-106f-4f05-87e9-d416cb65a8a6
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/database-driven-site-maps/building-a-custom-database-driven-site-map-provider-cs
msc.type: authoredcontent
ms.openlocfilehash: cab1b02dff27e9bacec2f4d4f7facc9f99d76b0a
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
ms.locfileid: "30878008"
---
<a name="building-a-custom-database-driven-site-map-provider-c"></a><span data-ttu-id="083eb-104">Erstellen eine benutzerdefinierte Website mit Datenbank-Driven Kartenanbieter (c#)</span><span class="sxs-lookup"><span data-stu-id="083eb-104">Building a Custom Database-Driven Site Map Provider (C#)</span></span>
====================
<span data-ttu-id="083eb-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="083eb-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="083eb-106">[Herunterladen von Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_62_CS.zip) oder [PDF herunterladen](building-a-custom-database-driven-site-map-provider-cs/_static/datatutorial62cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="083eb-106">[Download Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_62_CS.zip) or [Download PDF](building-a-custom-database-driven-site-map-provider-cs/_static/datatutorial62cs1.pdf)</span></span>

> <span data-ttu-id="083eb-107">Der Standardanbieter der Siteübersicht in ASP.NET 2.0 ruft seine Daten aus einer statischen XML-Datei ab.</span><span class="sxs-lookup"><span data-stu-id="083eb-107">The default site map provider in ASP.NET 2.0 retrieves its data from a static XML file.</span></span> <span data-ttu-id="083eb-108">Während der XML-basierte Anbieter zu viele kleine und mittelgroße Websites geeignet ist, erfordern größere Webanwendungen eine dynamischere Siteübersicht.</span><span class="sxs-lookup"><span data-stu-id="083eb-108">While the XML-based provider is suitable to many small and medium-sized Web sites, larger Web applications require a more dynamic site map.</span></span> <span data-ttu-id="083eb-109">In diesem Lernprogramm erstellen wir eine benutzerdefinierte Website Kartenanbieter, die die Daten aus der Business Logic Layer abruft, die wiederum Daten aus der Datenbank abgerufen.</span><span class="sxs-lookup"><span data-stu-id="083eb-109">In this tutorial we'll build a custom site map provider that retrieves its data from the Business Logic Layer, which in turn retrieves data from the database.</span></span>


## <a name="introduction"></a><span data-ttu-id="083eb-110">Einführung</span><span class="sxs-lookup"><span data-stu-id="083eb-110">Introduction</span></span>

<span data-ttu-id="083eb-111">ASP.NET 2.0 s Site Map-Funktion kann der Seitenentwickler eine Siteübersicht des Web-Anwendung s in einige persistent "Mittel", z. B. in eine XML-Datei zu definieren.</span><span class="sxs-lookup"><span data-stu-id="083eb-111">ASP.NET 2.0 s site map feature enables a page developer to define a web application s site map in some persistent medium, such as in an XML file.</span></span> <span data-ttu-id="083eb-112">Sobald definiert, die Siteübersichtsdaten möglich programmgesteuert über die [ `SiteMap` Klasse](https://msdn.microsoft.com/library/system.web.sitemap.aspx) in der [ `System.Web` Namespace](https://msdn.microsoft.com/library/system.web.aspx) oder über eine Reihe von Navigation Web-Steuerelemente, z. B. die SiteMapPath, Menüs und TreeView-Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="083eb-112">Once defined, the site map data can be accessed programmatically through the [`SiteMap` class](https://msdn.microsoft.com/library/system.web.sitemap.aspx) in the [`System.Web` namespace](https://msdn.microsoft.com/library/system.web.aspx) or through a variety of navigation Web controls, such as the SiteMapPath, Menu, and TreeView controls.</span></span> <span data-ttu-id="083eb-113">Verwendet das Standortsystem für die Zuordnung der [Anbietermodell](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) , damit anderen Standort Zuordnung Serialisierung Implementierungen erstellt und an eine Webanwendung angeschlossen werden können.</span><span class="sxs-lookup"><span data-stu-id="083eb-113">The site map system uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) so that different site map serialization implementations can be created and plugged into a web application.</span></span> <span data-ttu-id="083eb-114">Der Standardanbieter der Siteübersicht, die mit ASP.NET 2.0 geliefert wird, behält Siteübersichtsstruktur in eine XML-Datei.</span><span class="sxs-lookup"><span data-stu-id="083eb-114">The default site map provider that ships with ASP.NET 2.0 persists site map structure in an XML file.</span></span> <span data-ttu-id="083eb-115">Wieder in die [Masterseiten und Websitenavigation](../introduction/master-pages-and-site-navigation-cs.md) Lernprogramm wir eine Datei namens erstellt `Web.sitemap` , die dieser Struktur enthalten und haben mit jedem neuen Tutorial Abschnitt der XML-aktualisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="083eb-115">Back in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial we created a file named `Web.sitemap` that contained this structure and have been updating its XML with each new tutorial section.</span></span>

<span data-ttu-id="083eb-116">Die XML-basierte Standardanbieter der Siteübersicht funktioniert gut, wenn die s Siteübersichtsstruktur für diese Lernprogramme relativ statisch sein, z. B. ist.</span><span class="sxs-lookup"><span data-stu-id="083eb-116">The default XML-based site map provider works well if the site map s structure is fairly static, such as for these tutorials.</span></span> <span data-ttu-id="083eb-117">In vielen Szenarien ist jedoch eine dynamischere Siteübersicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="083eb-117">In many scenarios, however, a more dynamic site map is needed.</span></span> <span data-ttu-id="083eb-118">Betrachten Sie die Siteübersicht, siehe Abbildung 1, wobei jede Kategorie und jedes Produkt als Abschnitte in der Website-s-Struktur angezeigt.</span><span class="sxs-lookup"><span data-stu-id="083eb-118">Consider the site map shown in Figure 1, where each category and product appear as sections in the website s structure.</span></span> <span data-ttu-id="083eb-119">Mit dieser Siteübersicht möglicherweise Besuch einer Webseite, den Stammknoten entspricht der Kategorien Auflisten aller während einer bestimmten Kategorie s-Webseite besuchen würden diese Kategorie s Produkte aufgeführt, und ein bestimmtes Produkt s-Webseite anzeigen dieses Produkt s Details anzeigen möchten.</span><span class="sxs-lookup"><span data-stu-id="083eb-119">With this site map, visiting the web page corresponding to the root node might list all of the categories, whereas visiting a particular category s web page would list that category s products and viewing a particular product s web page would show that product s details.</span></span>


<span data-ttu-id="083eb-120">[![Die Kategorien und Produkte Zusammensetzung Siteübersichtsstruktur s](building-a-custom-database-driven-site-map-provider-cs/_static/image1.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-120">[![The Categories and Products Makeup the Site Map s Structure](building-a-custom-database-driven-site-map-provider-cs/_static/image1.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image1.png)</span></span>

<span data-ttu-id="083eb-121">**Abbildung 1**: die Kategorien und Produkte Zusammensetzung der Siteübersicht-s-Struktur ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-121">**Figure 1**: The Categories and Products Makeup the Site Map s Structure ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image2.png))</span></span>


<span data-ttu-id="083eb-122">Während dieser Struktur Category und Product-basierte hartcodiert werden, konnte die `Web.sitemap` Datei, die Datei jedes Mal eine Kategorie aktualisiert werden müssen oder Produkt hinzugefügt, entfernt oder umbenannt wurde.</span><span class="sxs-lookup"><span data-stu-id="083eb-122">While this category- and product-based structure could be hard-coded into the `Web.sitemap` file, the file would need to be updated each time a category or product was added, removed, or renamed.</span></span> <span data-ttu-id="083eb-123">Daher würde der Karte Standortwartungstask maßgeblich vereinfacht werden, wenn die Struktur aus der Datenbank oder im Idealfall aus der Business Logic Layer der Anwendungsarchitektur s abgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="083eb-123">Consequently, the site map maintenance would be greatly simplified if its structure was retrieved from the database or, ideally, from the Business Logic Layer of the application s architecture.</span></span> <span data-ttu-id="083eb-124">Auf diese Weise, wie Produkte und Kategorien hinzugefügt wurden, umbenannt oder gelöscht, die Siteübersicht würden automatisch aktualisiert werden, um diese Änderungen widerzuspiegeln.</span><span class="sxs-lookup"><span data-stu-id="083eb-124">That way, as products and categories were added, renamed, or deleted, the site map would automatically update to reflect these changes.</span></span>

<span data-ttu-id="083eb-125">Seit ASP.NET 2.0 s Standort Zuordnung Serialisierung Anbietermodell aufbaut, können wir unser eigenes Kartenanbieter benutzerdefinierte Website erstellen, die zugehörigen Daten aus einer alternativen Datenspeicher, z. B. die Datenbank oder der Architektur grabs.</span><span class="sxs-lookup"><span data-stu-id="083eb-125">Since ASP.NET 2.0 s site map serialization is built atop the provider model, we can create our own custom site map provider that grabs its data from an alternate data store, such as the database or architecture.</span></span> <span data-ttu-id="083eb-126">In diesem Lernprogramm fügen wir einen benutzerdefinierten Anbieter erstellen, der die Daten aus der BLL abruft.</span><span class="sxs-lookup"><span data-stu-id="083eb-126">In this tutorial we'll build a custom provider that retrieves its data from the BLL.</span></span> <span data-ttu-id="083eb-127">Lassen Sie s beginnen!</span><span class="sxs-lookup"><span data-stu-id="083eb-127">Let s get started!</span></span>

> [!NOTE]
> <span data-ttu-id="083eb-128">Die benutzerdefinierte Website Kartenanbieter in diesem Lernprogramm erstellten ist eng an der Anwendung s-Architektur und -Datenmodell verbunden.</span><span class="sxs-lookup"><span data-stu-id="083eb-128">The custom site map provider created in this tutorial is tightly coupled to the application s architecture and data model.</span></span> <span data-ttu-id="083eb-129">Jeff Prosise s [Sitemaps in SQL Server speichern](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) und [der SQL-Standort-Kartenanbieter Sie Ve gewartet wurde](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx) Artikeln untersuchen einen generalisierten Ansatz zum Speichern von Siteübersichtsdaten in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="083eb-129">Jeff Prosise s [Storing Site Maps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) and [The SQL Site Map Provider You ve Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx) articles examine a generalized approach to storing site map data in SQL Server.</span></span>


## <a name="step-1-creating-the-custom-site-map-provider-web-pages"></a><span data-ttu-id="083eb-130">Schritt 1: Erstellen, die benutzerdefinierte Zuordnung Anbieter Webseiten</span><span class="sxs-lookup"><span data-stu-id="083eb-130">Step 1: Creating the Custom Site Map Provider Web Pages</span></span>

<span data-ttu-id="083eb-131">Bevor wir beginnen, erstellen eine benutzerdefinierte Website Kartenanbieter, können Sie zunächst die ASP.NET-Seiten hinzufügen, die wir für dieses Lernprogramm benötigen s an.</span><span class="sxs-lookup"><span data-stu-id="083eb-131">Before we start creating a custom site map provider, let s first add the ASP.NET pages we'll need for this tutorial.</span></span> <span data-ttu-id="083eb-132">Starten, indem Sie einen neuen Ordner namens `SiteMapProvider`.</span><span class="sxs-lookup"><span data-stu-id="083eb-132">Start by adding a new folder named `SiteMapProvider`.</span></span> <span data-ttu-id="083eb-133">Fügen Sie die folgenden ASP.NET-Seiten in diesen Ordner, und dabei sicherstellen, ordnen Sie jede Seite mit den `Site.master` Gestaltungsvorlage:</span><span class="sxs-lookup"><span data-stu-id="083eb-133">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `ProductsByCategory.aspx`
- `ProductDetails.aspx`

<span data-ttu-id="083eb-134">Auch hinzufügen, eine `CustomProviders` Unterordner, um die `App_Code` Ordner.</span><span class="sxs-lookup"><span data-stu-id="083eb-134">Also add a `CustomProviders` subfolder to the `App_Code` folder.</span></span>


![Fügen Sie die ASP.NET-Seiten für die Website Zuordnung anbieterbezogenen-Lernprogramme](building-a-custom-database-driven-site-map-provider-cs/_static/image2.gif)

<span data-ttu-id="083eb-136">**Abbildung 2**: Fügen Sie die ASP.NET-Seiten für den Standort zuordnen anbieterbezogenen Lernprogramme</span><span class="sxs-lookup"><span data-stu-id="083eb-136">**Figure 2**: Add the ASP.NET Pages for the Site Map Provider-Related Tutorials</span></span>


<span data-ttu-id="083eb-137">Da es nur ein Lernprogramm für diesen Abschnitt ist, Verschlüsselungskennwort wir t müssen `Default.aspx` die Lernprogramme Abschnitt s aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="083eb-137">Since there is only one tutorial for this section, we don t need `Default.aspx` to list the section s tutorials.</span></span> <span data-ttu-id="083eb-138">Stattdessen `Default.aspx` werden die Kategorien in einem GridView-Steuerelement angezeigt.</span><span class="sxs-lookup"><span data-stu-id="083eb-138">Instead, `Default.aspx` will display the categories in a GridView control.</span></span> <span data-ttu-id="083eb-139">Wir werden diese in Schritt2 konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="083eb-139">We'll tackle this in Step 2.</span></span>

<span data-ttu-id="083eb-140">Aktualisieren Sie als Nächstes `Web.sitemap` enthalten einen Verweis auf die `Default.aspx` Seite.</span><span class="sxs-lookup"><span data-stu-id="083eb-140">Next, update `Web.sitemap` to include a reference to the `Default.aspx` page.</span></span> <span data-ttu-id="083eb-141">Fügen Sie das folgende Markup insbesondere nach dem Caching `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="083eb-141">Specifically, add the following markup after the Caching `<siteMapNode>`:</span></span>


[!code-xml[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample1.xml)]

<span data-ttu-id="083eb-142">Nach der Aktualisierung `Web.sitemap`, nehmen einen Moment Zeit, um die Lernprogramme-Website über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="083eb-142">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="083eb-143">Klicken Sie im Menü auf der linken Seite enthält nun ein Element für das einzige Standort Zuordnung Anbieter-Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="083eb-143">The menu on the left now includes an item for the sole site map provider tutorial.</span></span>


![Die Siteübersicht enthält nun einen Eintrag für die Website Zuordnung Anbieter-Lernprogramm](building-a-custom-database-driven-site-map-provider-cs/_static/image3.gif)

<span data-ttu-id="083eb-145">**Abbildung 3**: die Siteübersicht enthält nun einen Eintrag für die Website Zuordnung Anbieter-Lernprogramm</span><span class="sxs-lookup"><span data-stu-id="083eb-145">**Figure 3**: The Site Map Now Includes an Entry for the Site Map Provider Tutorial</span></span>


<span data-ttu-id="083eb-146">Dieses Lernprogramm s hauptsächlich ist zur Veranschaulichung erstellen eine benutzerdefinierte Website Kartenanbieter und Konfiguration einer Webanwendung für die Verwendung dieses Anbieters.</span><span class="sxs-lookup"><span data-stu-id="083eb-146">This tutorial s main focus is to illustrate creating a custom site map provider and configuring a web application to use that provider.</span></span> <span data-ttu-id="083eb-147">Insbesondere müssen Sie einen Anbieter erstellen, der eine Siteübersicht, die zusammen mit einem Knoten für jede Kategorie und jedes Produkt, einen Stammknoten enthält zurückgibt, wie in Abbildung 1 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-147">In particular, we'll build a provider that returns a site map that includes a root node along with a node for each category and product, as depicted in Figure 1.</span></span> <span data-ttu-id="083eb-148">Jeder Knoten in der Siteübersicht kann im Allgemeinen eine URL angeben.</span><span class="sxs-lookup"><span data-stu-id="083eb-148">In general, each node in the site map may specify a URL.</span></span> <span data-ttu-id="083eb-149">Für unsere Siteübersicht Stamm-URL des Knotens s werden `~/SiteMapProvider/Default.aspx`, dem Listet alle Kategorien in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="083eb-149">For our site map, the root node s URL will be `~/SiteMapProvider/Default.aspx`, which will list all of the categories in the database.</span></span> <span data-ttu-id="083eb-150">Jede Kategorieknoten in der Siteübersicht müssen eine URL, die auf zeigt `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID`, dem Listet alle Produkte in der angegebenen *CategoryID*.</span><span class="sxs-lookup"><span data-stu-id="083eb-150">Each category node in the site map will have a URL that points to `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID`, which will list all of the products in the specified *categoryID*.</span></span> <span data-ttu-id="083eb-151">Schließlich wird jedes Produkt Zuordnung Websiteknoten zeigen Sie auf `~/SiteMapProvider/ProductDetails.aspx?ProductID=productID`, wird die Details zu bestimmten Produkt s angezeigt.</span><span class="sxs-lookup"><span data-stu-id="083eb-151">Finally, each product site map node will point to `~/SiteMapProvider/ProductDetails.aspx?ProductID=productID`, which will display the specific product s details.</span></span>

<span data-ttu-id="083eb-152">Starten wir erstellen müssen die `Default.aspx`, `ProductsByCategory.aspx`, und `ProductDetails.aspx` Seiten.</span><span class="sxs-lookup"><span data-stu-id="083eb-152">To start we need to create the `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages.</span></span> <span data-ttu-id="083eb-153">Diese Seiten werden in den Schritten 2, 3 und 4, abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="083eb-153">These pages are completed in Steps 2, 3, and 4, respectively.</span></span> <span data-ttu-id="083eb-154">Da der Großteil der in diesem Lernprogramm zum Anbietern der Siteübersicht ist und seit der letzten Lernprogramme erstellen untersucht haben meldet diese Arten von mehreren Seiten Master/Detail, wir über die Schritte 2 bis 4 Beeilen Sie sich wird.</span><span class="sxs-lookup"><span data-stu-id="083eb-154">Since the thrust of this tutorial is on site map providers, and since past tutorials have covered creating these sorts of multi-page master/detail reports, we will hurry through Steps 2 through 4.</span></span> <span data-ttu-id="083eb-155">Wenn die gewünschte aufzufrischen zum Erstellen von Master-/Detail-Berichten, die über mehrere Seiten erstrecken, verweisen Sie zurück auf die [Master/Detail-Filterung über zwei Seiten](../masterdetail/master-detail-filtering-across-two-pages-cs.md) Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="083eb-155">If you need a refresher on creating master/detail reports that span multiple pages, refer back to the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial.</span></span>

## <a name="step-2-displaying-a-list-of-categories"></a><span data-ttu-id="083eb-156">Schritt 2: Anzeigen einer Liste von Kategorien</span><span class="sxs-lookup"><span data-stu-id="083eb-156">Step 2: Displaying a List of Categories</span></span>

<span data-ttu-id="083eb-157">Öffnen der `Default.aspx` auf der Seite der `SiteMapProvider` Ordner, und ziehen Sie eine GridView aus der Toolbox in den Designer, Festlegen seiner `ID` auf `Categories`.</span><span class="sxs-lookup"><span data-stu-id="083eb-157">Open the `Default.aspx` page in the `SiteMapProvider` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Categories`.</span></span> <span data-ttu-id="083eb-158">Aus den GridView s smart Tag, binden Sie es auf eine neue ObjectDataSource mit dem Namen `CategoriesDataSource` und ihn so konfigurieren, dass, die Daten mithilfe abgerufen der `CategoriesBLL` Klasse s `GetCategories` Methode.</span><span class="sxs-lookup"><span data-stu-id="083eb-158">From the GridView s smart tag, bind it to a new ObjectDataSource named `CategoriesDataSource` and configure it so that it retrieves its data using the `CategoriesBLL` class s `GetCategories` method.</span></span> <span data-ttu-id="083eb-159">Da diese GridView nur die Kategorien zeigt und Möglichkeiten zur Datenänderung bietet, legen Sie die Dropdownlisten in der Update-, INSERT-, und Löschen von Registerkarten (keine).</span><span class="sxs-lookup"><span data-stu-id="083eb-159">Since this GridView just displays the categories and does not provide data modification capabilities, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="083eb-160">[![Konfigurieren der ObjectDataSource zum Zurückgeben von Kategorien, die mit der GetCategories-Methode](building-a-custom-database-driven-site-map-provider-cs/_static/image4.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-160">[![Configure the ObjectDataSource to Return Categories Using the GetCategories Method](building-a-custom-database-driven-site-map-provider-cs/_static/image4.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image3.png)</span></span>

<span data-ttu-id="083eb-161">**Abbildung 4**: Konfigurieren der ObjectDataSource zurückgeben Kategorien mit den `GetCategories` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-161">**Figure 4**: Configure the ObjectDataSource to Return Categories Using the `GetCategories` Method ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image4.png))</span></span>


<span data-ttu-id="083eb-162">[![Legen Sie die Dropdownlisten in der Update-, INSERT- und Löschen von Registerkarten auf (keine)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-162">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image5.png)</span></span>

<span data-ttu-id="083eb-163">**Abbildung 5**: Legen Sie das Dropdown-Listen in aktualisieren, einfügen und Löschen von Registerkarten auf (keine) ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-163">**Figure 5**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image6.png))</span></span>


<span data-ttu-id="083eb-164">Nach Abschluss des Assistenten für die Datenquelle konfigurieren Visual Studio ein BoundField für fügen `CategoryID`, `CategoryName`, `Description`, `NumberOfProducts`, und `BrochurePath`.</span><span class="sxs-lookup"><span data-stu-id="083eb-164">After completing the Configure Data Source wizard, Visual Studio will add a BoundField for `CategoryID`, `CategoryName`, `Description`, `NumberOfProducts`, and `BrochurePath`.</span></span> <span data-ttu-id="083eb-165">Die GridView bearbeiten, sodass sie nur enthält die `CategoryName` und `Description` BoundFields und Aktualisieren der `CategoryName` BoundField-s `HeaderText` Eigenschaft zur Kategorie.</span><span class="sxs-lookup"><span data-stu-id="083eb-165">Edit the GridView so that it only contains the `CategoryName` and `Description` BoundFields and update the `CategoryName` BoundField s `HeaderText` property to Category .</span></span>

<span data-ttu-id="083eb-166">Als Nächstes fügen Sie eine HyperLinkField hinzu und positionieren Sie ihn so, dass die It s das linke Feld.</span><span class="sxs-lookup"><span data-stu-id="083eb-166">Next, add a HyperLinkField and position it so that it s the left-most field.</span></span> <span data-ttu-id="083eb-167">Festlegen der `DataNavigateUrlFields` Eigenschaft `CategoryID` und die `DataNavigateUrlFormatString` Eigenschaft `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID={0}`.</span><span class="sxs-lookup"><span data-stu-id="083eb-167">Set the `DataNavigateUrlFields` property to `CategoryID` and the `DataNavigateUrlFormatString` property to `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID={0}`.</span></span> <span data-ttu-id="083eb-168">Legen Sie die `Text` Eigenschaft, um Produkte anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="083eb-168">Set the `Text` property to View Products .</span></span>


![Eine HyperLinkField an die GridView Kategorien hinzufügen](building-a-custom-database-driven-site-map-provider-cs/_static/image6.gif)

<span data-ttu-id="083eb-170">**Abbildung 6**: Hinzufügen einer HyperLinkField auf die `Categories` GridView</span><span class="sxs-lookup"><span data-stu-id="083eb-170">**Figure 6**: Add a HyperLinkField to the `Categories` GridView</span></span>


<span data-ttu-id="083eb-171">Nach dem Erstellen von "ObjectDataSource", und die GridView-s-Feldern anpassen, werden die beiden Steuerelemente deklarativem Markup wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="083eb-171">After creating the ObjectDataSource and customizing the GridView s fields, the two controls declarative markup will look like the following:</span></span>


[!code-aspx[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample2.aspx)]

<span data-ttu-id="083eb-172">Abbildung 7 zeigt `Default.aspx` über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="083eb-172">Figure 7 shows `Default.aspx` when viewed through a browser.</span></span> <span data-ttu-id="083eb-173">Klicken auf eine Kategorie s Produkte anzeigen Link gelangen Sie zur `ProductsByCategory.aspx?CategoryID=categoryID`, die wir in Schritt 3 erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="083eb-173">Clicking a category s View Products link takes you to `ProductsByCategory.aspx?CategoryID=categoryID`, which we will build in Step 3.</span></span>


<span data-ttu-id="083eb-174">[![Jede Kategorie ist aufgeführten zusammen mit einer Ansichtsverknüpfung-Produkte](building-a-custom-database-driven-site-map-provider-cs/_static/image7.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-174">[![Each Category is Listed Along with a View Products Link](building-a-custom-database-driven-site-map-provider-cs/_static/image7.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image7.png)</span></span>

<span data-ttu-id="083eb-175">**Abbildung 7**: jede Kategorie aufgeführten zusammen mit einer Ansicht Produkte Verknüpfung ist ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-175">**Figure 7**: Each Category is Listed Along with a View Products Link ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image8.png))</span></span>


## <a name="step-3-listing-the-selected-category-s-products"></a><span data-ttu-id="083eb-176">Schritt 3: Auflisten von der ausgewählten Kategorie-s-Produkte</span><span class="sxs-lookup"><span data-stu-id="083eb-176">Step 3: Listing the Selected Category s Products</span></span>

<span data-ttu-id="083eb-177">Öffnen der `ProductsByCategory.aspx` Seite, und fügen Sie eine GridView, benennen es `ProductsByCategory`.</span><span class="sxs-lookup"><span data-stu-id="083eb-177">Open the `ProductsByCategory.aspx` page and add a GridView, naming it `ProductsByCategory`.</span></span> <span data-ttu-id="083eb-178">Binden Sie aus seinem Smarttag GridView an eine neue, mit dem Namen ObjectDataSource `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="083eb-178">From its smart tag, bind the GridView to a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="083eb-179">Konfigurieren der ObjectDataSource verwenden die `ProductsBLL` Klasse s `GetProductsByCategoryID(categoryID)` -Methode, und legen die Dropdownlisten auf (keine) auf den Registerkarten Update-, INSERT- und DELETE.</span><span class="sxs-lookup"><span data-stu-id="083eb-179">Configure the ObjectDataSource to use the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method and set the drop-down lists to (None) in the UPDATE, INSERT, and DELETE tabs.</span></span>


<span data-ttu-id="083eb-180">[![Verwenden Sie die ProductsBLL Klasse s GetProductsByCategoryID(categoryID)-Methode](building-a-custom-database-driven-site-map-provider-cs/_static/image8.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-180">[![Use the ProductsBLL Class s GetProductsByCategoryID(categoryID) Method](building-a-custom-database-driven-site-map-provider-cs/_static/image8.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image9.png)</span></span>

<span data-ttu-id="083eb-181">**Abbildung 8**: Verwenden der `ProductsBLL` Klasse s `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-181">**Figure 8**: Use the `ProductsBLL` Class s `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image10.png))</span></span>


<span data-ttu-id="083eb-182">Der letzte Schritt im Konfigurieren von Datenquellen-Assistenten aufgefordert, eine Parameterquelle für *CategoryID*.</span><span class="sxs-lookup"><span data-stu-id="083eb-182">The final step in the Configure Data Source wizard prompts for a parameter source for *categoryID*.</span></span> <span data-ttu-id="083eb-183">Da diese Informationen über das Feld "Querystring" übergeben wird `CategoryID`, wählen Sie die Abfragezeichenfolge aus der Dropdown-Liste und in das Textfeld QueryStringField CategoryID eingeben, wie in Abbildung 9 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="083eb-183">Since this information is passed through the querystring field `CategoryID`, select QueryString from the drop-down list and enter CategoryID in the QueryStringField textbox as shown in Figure 9.</span></span> <span data-ttu-id="083eb-184">Klicken Sie auf ' Fertig stellen ', um den Assistenten abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="083eb-184">Click Finish to complete the wizard.</span></span>


<span data-ttu-id="083eb-185">[![Verwenden Sie das CategoryID Querystring-Feld für die CategoryID-Parameter](building-a-custom-database-driven-site-map-provider-cs/_static/image9.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-185">[![Use the CategoryID Querystring Field for the categoryID Parameter](building-a-custom-database-driven-site-map-provider-cs/_static/image9.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image11.png)</span></span>

<span data-ttu-id="083eb-186">**Abbildung 9**: Verwenden der `CategoryID` Querystring-Field für die *CategoryID* Parameter ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-186">**Figure 9**: Use the `CategoryID` Querystring Field for the *categoryID* Parameter ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image12.png))</span></span>


<span data-ttu-id="083eb-187">Nach Abschluss des Assistenten wird Visual Studio entsprechenden BoundFields und eine CheckBoxField an die GridView für die Product-Datenfelder hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="083eb-187">After completing the wizard, Visual Studio will add corresponding BoundFields and a CheckBoxField to the GridView for the product data fields.</span></span> <span data-ttu-id="083eb-188">Entfernen Sie alle außer den `ProductName`, `UnitPrice`, und `SupplierName` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="083eb-188">Remove all but the `ProductName`, `UnitPrice`, and `SupplierName` BoundFields.</span></span> <span data-ttu-id="083eb-189">Diese drei BoundFields anpassen `HeaderText` Eigenschaften, Produkt, Preis und Lieferanten, zu lesen.</span><span class="sxs-lookup"><span data-stu-id="083eb-189">Customize these three BoundFields `HeaderText` properties to read Product, Price, and Supplier, respectively.</span></span> <span data-ttu-id="083eb-190">Format der `UnitPrice` BoundField als Währung.</span><span class="sxs-lookup"><span data-stu-id="083eb-190">Format the `UnitPrice` BoundField as a currency.</span></span>

<span data-ttu-id="083eb-191">Als Nächstes fügen Sie eine HyperLinkField hinzu, und verschieben Sie sie auf die linke Position.</span><span class="sxs-lookup"><span data-stu-id="083eb-191">Next, add a HyperLinkField and move it to the left-most position.</span></span> <span data-ttu-id="083eb-192">Festlegen seiner `Text` Eigenschaft zum Anzeigen von Details seiner `DataNavigateUrlFields` Eigenschaft, um `ProductID`, und die zugehörige `DataNavigateUrlFormatString` Eigenschaft, um `~/SiteMapProvider/ProductDetails.aspx?ProductID={0}`.</span><span class="sxs-lookup"><span data-stu-id="083eb-192">Set its `Text` property to View Details, its `DataNavigateUrlFields` property to `ProductID`, and its `DataNavigateUrlFormatString` property to `~/SiteMapProvider/ProductDetails.aspx?ProductID={0}`.</span></span>


![Hinzufügen einer Ansicht Details HyperLinkField, die auf ProductDetails.aspx verweist](building-a-custom-database-driven-site-map-provider-cs/_static/image10.gif)

<span data-ttu-id="083eb-194">**Abbildung 10**: Hinzufügen einer Detailansicht HyperLinkField, die auf verweist `ProductDetails.aspx`</span><span class="sxs-lookup"><span data-stu-id="083eb-194">**Figure 10**: Add a View Details HyperLinkField that Points to `ProductDetails.aspx`</span></span>


<span data-ttu-id="083eb-195">Nachdem Sie diese Anpassungen vornehmen, sollte die GridView und ObjectDataSource s deklarative Markup folgendermaßen aussehen:</span><span class="sxs-lookup"><span data-stu-id="083eb-195">After making these customizations, the GridView and ObjectDataSource s declarative markup should resemble the following:</span></span>


[!code-aspx[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample3.aspx)]

<span data-ttu-id="083eb-196">Kehren Sie zum Anzeigen von zurück `Default.aspx` für Getränke über einen Browser und klicken Sie auf die Ansicht Produkte zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="083eb-196">Return to viewing `Default.aspx` through a browser and click on the View Products link for Beverages.</span></span> <span data-ttu-id="083eb-197">Dadurch gelangen Sie zur `ProductsByCategory.aspx?CategoryID=1`, Anzeigen von Namen, Preise und Lieferanten der Produkte in der Northwind-Datenbank, die die Kategorie "Getränke" angehören (siehe Abbildung 11).</span><span class="sxs-lookup"><span data-stu-id="083eb-197">This will take you to `ProductsByCategory.aspx?CategoryID=1`, displaying the names, prices, and suppliers of the products in the Northwind database that belong to the Beverages category (see Figure 11).</span></span> <span data-ttu-id="083eb-198">Wahlweise können Sie diese Seite, um enthalten einen Link, um Benutzer zur Kategorie Angebotsseite zurückzukehren, um weiter zu verbessern (`Default.aspx`) und ein DetailsView oder FormView-Steuerelement, in der ausgewählten Kategorie s-Name und Beschreibung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="083eb-198">Feel free to further enhance this page to include a link to return users to the category listing page (`Default.aspx`) and a DetailsView or FormView control that displays the selected category s name and description.</span></span>


<span data-ttu-id="083eb-199">[![Getränke Namen, Preise und Lieferanten werden angezeigt.](building-a-custom-database-driven-site-map-provider-cs/_static/image11.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-199">[![The Beverages Names, Prices, and Suppliers are Displayed](building-a-custom-database-driven-site-map-provider-cs/_static/image11.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image13.png)</span></span>

<span data-ttu-id="083eb-200">**Abbildung 11**: die Namen der Getränke, Preise und Lieferanten angezeigt werden ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-200">**Figure 11**: The Beverages Names, Prices, and Suppliers are Displayed ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image14.png))</span></span>


## <a name="step-4-showing-a-product-s-details"></a><span data-ttu-id="083eb-201">Schritt 4: Anzeigen einer s Produktdetails</span><span class="sxs-lookup"><span data-stu-id="083eb-201">Step 4: Showing a Product s Details</span></span>

<span data-ttu-id="083eb-202">Die letzte Seite `ProductDetails.aspx`, zeigt die Details für die ausgewählten Produkte.</span><span class="sxs-lookup"><span data-stu-id="083eb-202">The final page, `ProductDetails.aspx`, displays the selected products details.</span></span> <span data-ttu-id="083eb-203">Open `ProductDetails.aspx` und eine DetailsView aus der Toolbox in den Designer ziehen.</span><span class="sxs-lookup"><span data-stu-id="083eb-203">Open `ProductDetails.aspx` and drag a DetailsView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="083eb-204">Legen Sie die s DetailsView `ID` Eigenschaft, um `ProductInfo` und löschen, dessen `Height` und `Width` Eigenschaftswerte.</span><span class="sxs-lookup"><span data-stu-id="083eb-204">Set the DetailsView s `ID` property to `ProductInfo` and clear out its `Height` and `Width` property values.</span></span> <span data-ttu-id="083eb-205">Binden Sie aus seinem Smarttag, DetailsView an eine neue ObjectDataSource mit dem Namen `ProductDataSource`, konfigurieren das ObjectDataSource zum Abrufen der zugehörigen Daten aus der `ProductsBLL` Klasse s `GetProductByProductID(productID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="083eb-205">From its smart tag, bind the DetailsView to a new ObjectDataSource named `ProductDataSource`, configuring the ObjectDataSource to pull its data from the `ProductsBLL` class s `GetProductByProductID(productID)` method.</span></span> <span data-ttu-id="083eb-206">Wie bei den vorherigen Web-Seiten in den Schritten 2 und 3 erstellt haben, legen Sie die Dropdownlisten in der Update-, INSERT- und Löschen von Registerkarten (keine).</span><span class="sxs-lookup"><span data-stu-id="083eb-206">As with the previous web pages created in Steps 2 and 3, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="083eb-207">[![Konfigurieren der ObjectDataSource zur Verwendung der GetProductByProductID(productID)-Methode](building-a-custom-database-driven-site-map-provider-cs/_static/image12.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-207">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](building-a-custom-database-driven-site-map-provider-cs/_static/image12.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.png)</span></span>

<span data-ttu-id="083eb-208">**Abbildung 12**: Konfigurieren der ObjectDataSource verwenden die `GetProductByProductID(productID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-208">**Figure 12**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image16.png))</span></span>


<span data-ttu-id="083eb-209">Der letzte Schritt des Assistenten zum Konfigurieren von Datenquellen für die Quelle des fordert die *"ProductID"* Parameter.</span><span class="sxs-lookup"><span data-stu-id="083eb-209">The last step of the Configure Data Source wizard prompts for the source of the *productID* parameter.</span></span> <span data-ttu-id="083eb-210">Da diese Daten über das Feld "Querystring" stammen `ProductID`, legen Sie die Dropdownliste auf QueryString und QueryStringField Textbox "ProductID".</span><span class="sxs-lookup"><span data-stu-id="083eb-210">Since this data comes through the querystring field `ProductID`, set the drop-down list to QueryString and the QueryStringField textbox to ProductID.</span></span> <span data-ttu-id="083eb-211">Klicken Sie abschließend auf "Fertig stellen", um den Assistenten abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="083eb-211">Finally, click the Finish button to complete the wizard.</span></span>


<span data-ttu-id="083eb-212">[![Konfigurieren Sie die Parameter zum Abrufen von seinen Werts von "ProductID" Querystring-Feld "ProductID"](building-a-custom-database-driven-site-map-provider-cs/_static/image13.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-212">[![Configure the productID Parameter to Pull its Value from the ProductID Querystring Field](building-a-custom-database-driven-site-map-provider-cs/_static/image13.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image17.png)</span></span>

<span data-ttu-id="083eb-213">**Abbildung 13**: Konfigurieren der *"ProductID"* Parameter zum Abrufen des Werts aus der `ProductID` Querystring-Field ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-213">**Figure 13**: Configure the *productID* Parameter to Pull its Value from the `ProductID` Querystring Field ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image18.png))</span></span>


<span data-ttu-id="083eb-214">Nach Abschluss des Assistenten für die Datenquelle konfigurieren erstellt Visual Studio entsprechenden BoundFields und eine CheckBoxField in DetailsView für das Produkt von Datenfeldern.</span><span class="sxs-lookup"><span data-stu-id="083eb-214">After completing the Configure Data Source wizard, Visual Studio will create corresponding BoundFields and a CheckBoxField in the DetailsView for the product data fields.</span></span> <span data-ttu-id="083eb-215">Entfernen Sie die `ProductID`, `SupplierID`, und `CategoryID` BoundFields und konfigurieren Sie die verbleibenden Felder aus, nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="083eb-215">Remove the `ProductID`, `SupplierID`, and `CategoryID` BoundFields and configure the remaining fields as you see fit.</span></span> <span data-ttu-id="083eb-216">Nachdem eine Handvoll Layoutgründen Konfigurationen die meine, DetailsView und ObjectDataSource, deklarative s-Markup wie folgt gesucht:</span><span class="sxs-lookup"><span data-stu-id="083eb-216">After a handful of aesthetic configurations, my DetailsView and ObjectDataSource s declarative markup looked like the following:</span></span>


[!code-aspx[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample4.aspx)]

<span data-ttu-id="083eb-217">Um diese Seite zu testen, zurück zu `Default.aspx` , und klicken Sie auf Produkte anzeigen, für die Kategorie "Getränke".</span><span class="sxs-lookup"><span data-stu-id="083eb-217">To test this page, return to `Default.aspx` and click on View Products for the Beverages category.</span></span> <span data-ttu-id="083eb-218">Klicken Sie aus der Auflistung der Getränke Produkte an auf den Link "Details anzeigen" für Chai Tee.</span><span class="sxs-lookup"><span data-stu-id="083eb-218">From the listing of beverage products, click on the View Details link for Chai Tea.</span></span> <span data-ttu-id="083eb-219">Dadurch gelangen Sie zur `ProductDetails.aspx?ProductID=1`, es zeigt eine Chai Tee s Details (siehe Abbildung 14).</span><span class="sxs-lookup"><span data-stu-id="083eb-219">This will take you to `ProductDetails.aspx?ProductID=1`, which shows a Chai Tea s details (see Figure 14).</span></span>


<span data-ttu-id="083eb-220">[![Chai Tee s Lieferanten, Kategorie, Preis und andere Informationen wird angezeigt.](building-a-custom-database-driven-site-map-provider-cs/_static/image14.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-220">[![Chai Tea s Supplier, Category, Price, and Other Information is Displayed](building-a-custom-database-driven-site-map-provider-cs/_static/image14.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image19.png)</span></span>

<span data-ttu-id="083eb-221">**Abbildung 14**: Chai Tee s Lieferanten, Kategorie, Preis und andere Informationen wird angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-221">**Figure 14**: Chai Tea s Supplier, Category, Price, and Other Information is Displayed ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image20.png))</span></span>


## <a name="step-5-understanding-the-inner-workings-of-a-site-map-provider"></a><span data-ttu-id="083eb-222">Schritt 5: Verstehen der internen Funktionsweise von einem Kartenanbieter Standort</span><span class="sxs-lookup"><span data-stu-id="083eb-222">Step 5: Understanding the Inner Workings of a Site Map Provider</span></span>

<span data-ttu-id="083eb-223">Die Siteübersicht liegt in der Web-Server-s-Speicher als eine Auflistung von `SiteMapNode` Instanzen, die eine Hierarchie zu bilden.</span><span class="sxs-lookup"><span data-stu-id="083eb-223">The site map is represented in the web server s memory as a collection of `SiteMapNode` instances that form a hierarchy.</span></span> <span data-ttu-id="083eb-224">Es muss genau einen Stammknoten, alle nicht-Stammknoten müssen genau einen übergeordneten Knoten haben und alle Knoten handelt es sich möglicherweise um eine beliebige Anzahl von untergeordneten Elementen.</span><span class="sxs-lookup"><span data-stu-id="083eb-224">There must be exactly one root, all non-root nodes must have exactly one parent node, and all nodes may have an arbitrary number of children.</span></span> <span data-ttu-id="083eb-225">Jede `SiteMapNode` Objekt stellt einen Abschnitt in der Website-s-Struktur dar; diese Abschnitte verfügen häufig über eine entsprechende Webseite.</span><span class="sxs-lookup"><span data-stu-id="083eb-225">Each `SiteMapNode` object represents a section in the website s structure; these sections commonly have a corresponding web page.</span></span> <span data-ttu-id="083eb-226">Folglich die [ `SiteMapNode` Klasse](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) verfügt über Eigenschaften, z. B. `Title`, `Url`, und `Description`, die Aufschluss für den Abschnitt der `SiteMapNode` darstellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-226">Consequently, the [`SiteMapNode` class](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) has properties like `Title`, `Url`, and `Description`, which provide information for the section the `SiteMapNode` represents.</span></span> <span data-ttu-id="083eb-227">Es gibt auch eine `Key` Eigenschaft, die jeweils eindeutig `SiteMapNode` in der Hierarchie sowie Eigenschaften verwendet, um diese Hierarchie herzustellen `ChildNodes`, `ParentNode`, `NextSibling`, `PreviousSibling`usw. lauten.</span><span class="sxs-lookup"><span data-stu-id="083eb-227">There is also a `Key` property that uniquely identifies each `SiteMapNode` in the hierarchy, as well as properties used to establish this hierarchy `ChildNodes`, `ParentNode`, `NextSibling`, `PreviousSibling`, and so forth.</span></span>

<span data-ttu-id="083eb-228">Abbildung 15 zeigt allgemeine Siteübersichtsstruktur in Abbildung 1, jedoch mit den Implementierungsdetails zu skizziert genauere Details.</span><span class="sxs-lookup"><span data-stu-id="083eb-228">Figure 15 shows the general site map structure from Figure 1, but with the implementation details sketched out in finer detail.</span></span>


<span data-ttu-id="083eb-229">[![Jede SiteMapNode verfügt über Eigenschaften wie Titel, Url, Schlüssel und usw.](building-a-custom-database-driven-site-map-provider-cs/_static/image16.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.gif)</span><span class="sxs-lookup"><span data-stu-id="083eb-229">[![Each SiteMapNode has Properties Like Title, Url, Key, and So On](building-a-custom-database-driven-site-map-provider-cs/_static/image16.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image15.gif)</span></span>

<span data-ttu-id="083eb-230">**Abbildung 15**: jede `SiteMapNode` verfügt über Eigenschaften wie `Title`, `Url`, `Key`usw. ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image17.gif))</span><span class="sxs-lookup"><span data-stu-id="083eb-230">**Figure 15**: Each `SiteMapNode` has Properties Like `Title`, `Url`, `Key`, and So On ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image17.gif))</span></span>


<span data-ttu-id="083eb-231">Die Siteübersicht Zugriff erfolgt über die [ `SiteMap` Klasse](https://msdn.microsoft.com/library/system.web.sitemap.aspx) in der [ `System.Web` Namespace](https://msdn.microsoft.com/library/system.web.aspx).</span><span class="sxs-lookup"><span data-stu-id="083eb-231">The site map is accessible through the [`SiteMap` class](https://msdn.microsoft.com/library/system.web.sitemap.aspx) in the [`System.Web` namespace](https://msdn.microsoft.com/library/system.web.aspx).</span></span> <span data-ttu-id="083eb-232">Diese Klasse s `RootNode` Eigenschaft gibt das Stammverzeichnis der Site-Zuordnung s `SiteMapNode` Instanz. `CurrentNode` gibt die `SiteMapNode` , deren `Url` Eigenschaft entspricht die URL der derzeit angeforderten Seite.</span><span class="sxs-lookup"><span data-stu-id="083eb-232">This class s `RootNode` property returns the site map s root `SiteMapNode` instance; `CurrentNode` returns the `SiteMapNode` whose `Url` property matches the URL of the currently requested page.</span></span> <span data-ttu-id="083eb-233">Diese Klasse wird intern von ASP.NET 2.0 s Web Navigationssteuerelemente.</span><span class="sxs-lookup"><span data-stu-id="083eb-233">This class is used internally by ASP.NET 2.0 s navigation Web controls.</span></span>

<span data-ttu-id="083eb-234">Wenn die `SiteMap` Klasseneigenschaften s erfolgt, muss die Siteübersichtsstruktur aus einigen permanenten Medium in den Speicher serialisieren.</span><span class="sxs-lookup"><span data-stu-id="083eb-234">When the `SiteMap` class s properties are accessed, it must serialize the site map structure from some persistent medium into memory.</span></span> <span data-ttu-id="083eb-235">Allerdings Serialisierungslogik der Site-Zuordnung ist nicht hartcodiert in die `SiteMap` Klasse.</span><span class="sxs-lookup"><span data-stu-id="083eb-235">However, the site map serialization logic is not hard coded into the `SiteMap` class.</span></span> <span data-ttu-id="083eb-236">Stattdessen zur Laufzeit die `SiteMap` -Klasse bestimmt, welche Siteübersicht *Anbieter* für die Serialisierung verwendet.</span><span class="sxs-lookup"><span data-stu-id="083eb-236">Instead, at runtime the `SiteMap` class determines which site map *provider* to use for serialization.</span></span> <span data-ttu-id="083eb-237">Wird standardmäßig die [ `XmlSiteMapProvider` Klasse](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx) verwendet wird, die Siteübersichtsstruktur s aus einer ordnungsgemäß formatierten XML-Datei liest.</span><span class="sxs-lookup"><span data-stu-id="083eb-237">By default, the [`XmlSiteMapProvider` class](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx) is used, which reads the site map s structure from a properly-formatted XML file.</span></span> <span data-ttu-id="083eb-238">Jedoch können wir unser eigenes Kartenanbieter benutzerdefinierte Website mit ein wenig Arbeit erstellen.</span><span class="sxs-lookup"><span data-stu-id="083eb-238">However, with a little bit of work we can create our own custom site map provider.</span></span>

<span data-ttu-id="083eb-239">Von allen Anbietern der Siteübersicht abgeleitet werden die [ `SiteMapProvider` Klasse](https://msdn.microsoft.com/library/system.web.sitemapprovider.aspx), darunter die wichtigen Methoden und Eigenschaften für die Website erforderlich sind Anbieter zuordnen, lässt aber viele Implementierungsdetails.</span><span class="sxs-lookup"><span data-stu-id="083eb-239">All site map providers must be derived from the [`SiteMapProvider` class](https://msdn.microsoft.com/library/system.web.sitemapprovider.aspx), which includes the essential methods and properties needed for site map providers, but omits many of the implementation details.</span></span> <span data-ttu-id="083eb-240">Eine zweite Klasse [ `StaticSiteMapProvider` ](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.aspx), erweitert der `SiteMapProvider` Klasse und enthält eine robustere Implementierung erforderlichen Funktionen.</span><span class="sxs-lookup"><span data-stu-id="083eb-240">A second class, [`StaticSiteMapProvider`](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.aspx), extends the `SiteMapProvider` class and contains a more robust implementation of the needed functionality.</span></span> <span data-ttu-id="083eb-241">Intern die `StaticSiteMapProvider` speichert die `SiteMapNode` Instanzen von der Website zuordnen, einer `Hashtable` und bietet Methoden wie `AddNode(child, parent)`, `RemoveNode(siteMapNode),` und `Clear()` , das Hinzufügen und Entfernen von `SiteMapNode` s mit dem internen `Hashtable`.</span><span class="sxs-lookup"><span data-stu-id="083eb-241">Internally, the `StaticSiteMapProvider` stores the `SiteMapNode` instances of the site map in a `Hashtable` and provides methods like `AddNode(child, parent)`, `RemoveNode(siteMapNode),` and `Clear()` that add and remove `SiteMapNode` s to the internal `Hashtable`.</span></span> <span data-ttu-id="083eb-242">`XmlSiteMapProvider` wird von `StaticSiteMapProvider` abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="083eb-242">`XmlSiteMapProvider` is derived from `StaticSiteMapProvider`.</span></span>

<span data-ttu-id="083eb-243">Beim Erstellen einer benutzerdefinierten Website Kartenanbieter, erweitert `StaticSiteMapProvider`, es gibt zwei abstrakte Methoden, die überschrieben werden müssen: [ `BuildSiteMap` ](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.buildsitemap.aspx) und [ `GetRootNodeCore` ](https://msdn.microsoft.com/library/system.web.sitemapprovider.getrootnodecore.aspx).</span><span class="sxs-lookup"><span data-stu-id="083eb-243">When creating a custom site map provider that extends `StaticSiteMapProvider`, there are two abstract methods that must be overridden: [`BuildSiteMap`](https://msdn.microsoft.com/library/system.web.staticsitemapprovider.buildsitemap.aspx) and [`GetRootNodeCore`](https://msdn.microsoft.com/library/system.web.sitemapprovider.getrootnodecore.aspx).</span></span> <span data-ttu-id="083eb-244">`BuildSiteMap`, wie der Name schon sagt, ist verantwortlich für das Laden der Siteübersichtsstruktur aus dem permanenten Speicher, und erstellen es im Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="083eb-244">`BuildSiteMap`, as its name implies, is responsible for loading the site map structure from persistent storage and constructing it in memory.</span></span> <span data-ttu-id="083eb-245">`GetRootNodeCore` Gibt den Stammknoten in der Siteübersicht zurück.</span><span class="sxs-lookup"><span data-stu-id="083eb-245">`GetRootNodeCore` returns the root node in the site map.</span></span>

<span data-ttu-id="083eb-246">Die Gültigkeit einer können Anwendung eine Website Kartenanbieter, die sie in der Anwendungskonfiguration s registriert werden muss.</span><span class="sxs-lookup"><span data-stu-id="083eb-246">Before a web application can use a site map provider it must be registered in the application s configuration.</span></span> <span data-ttu-id="083eb-247">Wird standardmäßig die `XmlSiteMapProvider` Klasse registriert ist, mit dem Namen `AspNetXmlSiteMapProvider`.</span><span class="sxs-lookup"><span data-stu-id="083eb-247">By default, the `XmlSiteMapProvider` class is registered using the name `AspNetXmlSiteMapProvider`.</span></span> <span data-ttu-id="083eb-248">Um zusätzliche Website Zuordnung Anbieter zu registrieren, fügen Sie das folgende Markup zum Rendern `Web.config`:</span><span class="sxs-lookup"><span data-stu-id="083eb-248">To register additional site map providers, add the following markup to `Web.config`:</span></span>


[!code-xml[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample5.xml)]

<span data-ttu-id="083eb-249">Die *Namen* Wert weist einen menschenlesbaren Namen für den Anbieter beim *Typ* gibt den vollqualifizierten Typnamen des Site-Zuordnung-Anbieters.</span><span class="sxs-lookup"><span data-stu-id="083eb-249">The *name* value assigns a human-readable name to the provider while *type* specifies the fully-qualified type name of the site map provider.</span></span> <span data-ttu-id="083eb-250">Genauer konkrete Werte für die *Namen* und *Typ* Werte in Schritt 7 nach wir haben unsere benutzerdefinierte Kartenanbieter erstellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-250">We'll explore concrete values for the *name* and *type* values in Step 7, after we ve created our custom site map provider.</span></span>

<span data-ttu-id="083eb-251">Standort Zuordnungsklasse Anbieter instanziiert wird beim ersten über erfolgt die `SiteMap` Klasse und verbleibt im Arbeitsspeicher für die Lebensdauer der Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="083eb-251">The site map provider class is instantiated the first time it is accessed from the `SiteMap` class and remains in memory for the lifetime of the web application.</span></span> <span data-ttu-id="083eb-252">Da es nur eine Instanz des Site-Zuordnung-Anbieters, die über mehrere, gleichzeitige Websitebesuchern aufgerufen werden kann ist, ist es obligatorisch, dass die s-Anbieter-Methoden werden *Thread-sichere*.</span><span class="sxs-lookup"><span data-stu-id="083eb-252">Since there is only one instance of the site map provider that may be invoked from multiple, concurrent web site visitors, it is imperative that the provider s methods be *thread-safe*.</span></span>

<span data-ttu-id="083eb-253">Leistung und Skalierbarkeit Gründe es wichtig, dass wir die Website im Arbeitsspeicher Zwischenspeichern ordnen Sie Struktur und zurückgeben, dieser Struktur, anstatt neu erstellt wird jedes Mal zwischengespeichert die `BuildSiteMap` Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="083eb-253">For performance and scalability reasons, it s important that we cache the in-memory site map structure and return this cached structure rather than recreating it every time the `BuildSiteMap` method is invoked.</span></span> <span data-ttu-id="083eb-254">`BuildSiteMap` kann mehrmals pro Anforderung pro Benutzer, je nachdem die Navigationssteuerelemente verwendet, auf der Seite und die Tiefe der Siteübersichtsstruktur Seite aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="083eb-254">`BuildSiteMap` may be called several times per page request per user, depending on the navigation controls in use on the page and the depth of the site map structure.</span></span> <span data-ttu-id="083eb-255">In jedem Fall, wenn es nicht in der Siteübersichtsstruktur zwischenspeichern `BuildSiteMap` dann bei jedem Aufruf erfolgte wir müssen das Produkt und die Kategorie der Architektur erneut abrufen von Informationen vom (die in einer Abfrage mit der Datenbank führen würde).</span><span class="sxs-lookup"><span data-stu-id="083eb-255">In any case, if we do not cache the site map structure in `BuildSiteMap` then each time it is invoked we would need to re-retrieve the product and category information from the architecture (which would result in a query to the database).</span></span> <span data-ttu-id="083eb-256">Wie in den vorherigen zwischenspeichernden Lernprogrammen erläutert, können die zwischengespeicherte Daten veralten.</span><span class="sxs-lookup"><span data-stu-id="083eb-256">As we discussed in the previous caching tutorials, cached data can become stale.</span></span> <span data-ttu-id="083eb-257">Um dies zu begegnen, können wir Zeit- oder SQL-Cache Abhängigkeit basierende Cacheobjekte.</span><span class="sxs-lookup"><span data-stu-id="083eb-257">To combat this, we can use either time- or SQL cache dependency-based expiries.</span></span>

> [!NOTE]
> <span data-ttu-id="083eb-258">Eine Website Kartenanbieter kann optional außer Kraft setzen die [ `Initialize` Methode](https://msdn.microsoft.com/library/system.web.sitemapprovider.initialize.aspx).</span><span class="sxs-lookup"><span data-stu-id="083eb-258">A site map provider may optionally override the [`Initialize` method](https://msdn.microsoft.com/library/system.web.sitemapprovider.initialize.aspx).</span></span> <span data-ttu-id="083eb-259">`Initialize` wird aufgerufen, wenn der Standort Kartenanbieter zuerst instanziiert wird und alle benutzerdefinierten Attribute, die an den Anbieter in zugewiesen übergeben `Web.config` in der `<add>` Element wie: `<add name="name" type="type" customAttribute="value" />`.</span><span class="sxs-lookup"><span data-stu-id="083eb-259">`Initialize` is invoked when the site map provider is first instantiated and is passed any custom attributes assigned to the provider in `Web.config` in the `<add>` element like: `<add name="name" type="type" customAttribute="value" />`.</span></span> <span data-ttu-id="083eb-260">Es ist hilfreich, wenn Sie zulassen, den Entwickler einer Seite verschiedene Standort Zuordnung anbieterbezogene Einstellungen angeben, ohne die Anbieter-s-Code ändern zu müssen möchten.</span><span class="sxs-lookup"><span data-stu-id="083eb-260">It is useful if you want to allow a page developer to specify various site map provider-related settings without having to modify the provider s code.</span></span> <span data-ttu-id="083eb-261">Wenn wir die Kategorie und Produkte Daten direkt aus der Datenbank statt über die Architektur, wir d wahrscheinlich lesen wurden z. B. können Sie die Datenbank-Verbindungszeichenfolge durch Angeben der Entwickler der Seite `Web.config` anstatt mit einem hartcodierten der Wert in den Anbietercode s.</span><span class="sxs-lookup"><span data-stu-id="083eb-261">For example, if we were reading the category and products data directly from the database as opposed to through the architecture, we d likely want to let the page developer specify the database connection string through `Web.config` rather than using a hard coded value in the provider s code.</span></span> <span data-ttu-id="083eb-262">Überschreibt die benutzerdefinierte Website Kartenanbieter in Schritt 6 erstellen müssen nicht dies `Initialize` Methode.</span><span class="sxs-lookup"><span data-stu-id="083eb-262">The custom site map provider we'll build in Step 6 does not override this `Initialize` method.</span></span> <span data-ttu-id="083eb-263">Ein Beispiel der Verwendung der `Initialize` -Methode finden Sie unter [Jeff Prosise](http://www.wintellect.com/Weblogs/CategoryView,category,Jeff%20Prosise.aspx) s [Sitemaps in SQL Server speichern](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) Artikel.</span><span class="sxs-lookup"><span data-stu-id="083eb-263">For an example of using the `Initialize` method, refer to [Jeff Prosise](http://www.wintellect.com/Weblogs/CategoryView,category,Jeff%20Prosise.aspx) s [Storing Site Maps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) article.</span></span>


## <a name="step-6-creating-the-custom-site-map-provider"></a><span data-ttu-id="083eb-264">Schritt 6: Erstellen der benutzerdefinierten Website Kartenanbieter</span><span class="sxs-lookup"><span data-stu-id="083eb-264">Step 6: Creating the Custom Site Map Provider</span></span>

<span data-ttu-id="083eb-265">Um eine benutzerdefinierte Website Kartenanbieter zu erstellen, in dem die Siteübersicht aus den Kategorien und Produkte in der Northwind-Datenbank erstellt, muss eine Klasse erstellen, die erweitert `StaticSiteMapProvider`.</span><span class="sxs-lookup"><span data-stu-id="083eb-265">To create a custom site map provider that builds the site map from the categories and products in the Northwind database, we need to create a class that extends `StaticSiteMapProvider`.</span></span> <span data-ttu-id="083eb-266">In Schritt 1 ich Sie gebeten, Hinzufügen einer `CustomProviders` Ordner in der `App_Code` Ordner - Hinzufügen einer neuen Klasse in diesem Ordner mit dem Namen `NorthwindSiteMapProvider`.</span><span class="sxs-lookup"><span data-stu-id="083eb-266">In Step 1 I asked you to add a `CustomProviders` folder in the `App_Code` folder - add a new class to this folder named `NorthwindSiteMapProvider`.</span></span> <span data-ttu-id="083eb-267">Fügen Sie der `NorthwindSiteMapProvider` -Klasse folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="083eb-267">Add the following code to the `NorthwindSiteMapProvider` class:</span></span>


[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample6.cs)]

<span data-ttu-id="083eb-268">Beginnen Sie mit dieser Klasse untersuchen s können `BuildSiteMap` -Methode, die mit beginnt ein [ `lock` Anweisung](https://msdn.microsoft.com/library/c5kehkcz.aspx).</span><span class="sxs-lookup"><span data-stu-id="083eb-268">Let s start with exploring this class s `BuildSiteMap` method, which starts with a [`lock` statement](https://msdn.microsoft.com/library/c5kehkcz.aspx).</span></span> <span data-ttu-id="083eb-269">Die `lock` Anweisung lässt nur ein Thread zu einem Zeitpunkt eingeben, und dadurch Zugriff auf ihren Code zu serialisieren und verhindert, dass zwei gleichzeitige Threads ausführen in Einzelschritten, auf die anderen s damals.</span><span class="sxs-lookup"><span data-stu-id="083eb-269">The `lock` statement only allows one thread at a time to enter, thereby serializing access to its code and preventing two concurrent threads from stepping on one another s toes.</span></span>

<span data-ttu-id="083eb-270">Der Klassenebene `SiteMapNode` Variable `root` wird verwendet, um die Siteübersichtsstruktur zwischenzuspeichern.</span><span class="sxs-lookup"><span data-stu-id="083eb-270">The class-level `SiteMapNode` variable `root` is used to cache the site map structure.</span></span> <span data-ttu-id="083eb-271">Wenn die Siteübersicht erstellt wird, zum ersten Mal oder zum ersten Mal nach der zugrunde liegenden Daten geändert wurden, `root` werden `null` und die Siteübersichtsstruktur erstellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-271">When the site map is constructed for the first time, or for the first time after the underlying data has been modified, `root` will be `null` and the site map structure will be constructed.</span></span> <span data-ttu-id="083eb-272">Der Stammknoten der Site-Zuordnung s zugewiesen `root` während der Konstruktion Prozess so, dass das nächste Mal, diese Methode aufgerufen wird, `root` nicht `null`.</span><span class="sxs-lookup"><span data-stu-id="083eb-272">The site map s root node is assigned to `root` during the construction process so that the next time this method is called, `root` will not be `null`.</span></span> <span data-ttu-id="083eb-273">Daher so lange `root` nicht `null` der Siteübersichtsstruktur wird an den Aufrufer zurückgegeben werden, ohne ihn neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="083eb-273">Consequently, so long as `root` is not `null` the site map structure will be returned to the caller without having to recreate it.</span></span>

<span data-ttu-id="083eb-274">Wenn der Stamm ist `null`, die Siteübersichtsstruktur wird anhand des Produkts und Kategorie erstellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-274">If root is `null`, the site map structure is created from the product and category information.</span></span> <span data-ttu-id="083eb-275">Die Siteübersicht wird erstellt, durch das Erstellen der `SiteMapNode` Instanzen und dann bilden die Hierarchie über Aufrufe an die `StaticSiteMapProvider` Klasse s `AddNode` Methode.</span><span class="sxs-lookup"><span data-stu-id="083eb-275">The site map is built by creating the `SiteMapNode` instances and then forming the hierarchy through calls to the `StaticSiteMapProvider` class s `AddNode` method.</span></span> <span data-ttu-id="083eb-276">`AddNode` führt die internen vertiefen, speichern die zusammengestellte `SiteMapNode` Instanzen in einer `Hashtable`.</span><span class="sxs-lookup"><span data-stu-id="083eb-276">`AddNode` performs the internal bookkeeping, storing the assorted `SiteMapNode` instances in a `Hashtable`.</span></span> <span data-ttu-id="083eb-277">Bevor wir beginnen, erstellen die Hierarchie, beginnen wir durch Aufrufen der `Clear` -Methode, die die Elemente aus dem internen löscht `Hashtable`.</span><span class="sxs-lookup"><span data-stu-id="083eb-277">Before we start constructing the hierarchy, we start by calling the `Clear` method, which clears out the elements from the internal `Hashtable`.</span></span> <span data-ttu-id="083eb-278">Als Nächstes wird die `ProductsBLL` Klasse s `GetProducts` -Methode und die daraus resultierende `ProductsDataTable` in lokalen Variablen gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="083eb-278">Next, the `ProductsBLL` class s `GetProducts` method and the resulting `ProductsDataTable` are stored in local variables.</span></span>

<span data-ttu-id="083eb-279">Die Site-Zuordnung s-Erstellung beginnt, durch den Stammknoten erstellen und zuweisen zu `root`.</span><span class="sxs-lookup"><span data-stu-id="083eb-279">The site map s construction begins by creating the root node and assigning it to `root`.</span></span> <span data-ttu-id="083eb-280">Die Überladung von der [ `SiteMapNode` s Konstruktor](https://msdn.microsoft.com/library/system.web.sitemapnode.sitemapnode.aspx) verwendet hier und in diesem `BuildSiteMap` wird übergeben, die folgende Informationen:</span><span class="sxs-lookup"><span data-stu-id="083eb-280">The overload of the [`SiteMapNode` s constructor](https://msdn.microsoft.com/library/system.web.sitemapnode.sitemapnode.aspx) used here and throughout this `BuildSiteMap` is passed the following information:</span></span>

- <span data-ttu-id="083eb-281">Ein Verweis auf die Website Kartenanbieter (`this`).</span><span class="sxs-lookup"><span data-stu-id="083eb-281">A reference to the site map provider (`this`).</span></span>
- <span data-ttu-id="083eb-282">Die `SiteMapNode` s `Key`.</span><span class="sxs-lookup"><span data-stu-id="083eb-282">The `SiteMapNode` s `Key`.</span></span> <span data-ttu-id="083eb-283">Dies erforderlich Wert muss für jeden eindeutigen `SiteMapNode`.</span><span class="sxs-lookup"><span data-stu-id="083eb-283">This required value must be unique for each `SiteMapNode`.</span></span>
- <span data-ttu-id="083eb-284">Die `SiteMapNode` s `Url`.</span><span class="sxs-lookup"><span data-stu-id="083eb-284">The `SiteMapNode` s `Url`.</span></span> <span data-ttu-id="083eb-285">`Url` ist optional, aber wenn angegeben, von denen jede `SiteMapNode` s `Url` Wert muss eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="083eb-285">`Url` is optional, but if provided, each `SiteMapNode` s `Url` value must be unique.</span></span>
- <span data-ttu-id="083eb-286">Die `SiteMapNode` s `Title`, was erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="083eb-286">The `SiteMapNode` s `Title`, which is required.</span></span>

<span data-ttu-id="083eb-287">Die `AddNode(root)` Methodenaufruf fügt die `SiteMapNode` `root` der Sitemap als Stamm.</span><span class="sxs-lookup"><span data-stu-id="083eb-287">The `AddNode(root)` method call adds the `SiteMapNode` `root` to the site map as the root.</span></span> <span data-ttu-id="083eb-288">Als Nächstes wird jede `ProductRow` in der `ProductsDataTable` aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="083eb-288">Next, each `ProductRow` in the `ProductsDataTable` is enumerated.</span></span> <span data-ttu-id="083eb-289">Wenn es bereits vorhanden ist eine `SiteMapNode` für die aktuelle s Produktkategorie, darauf verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="083eb-289">If there already exists a `SiteMapNode` for the current product s category, it is referenced.</span></span> <span data-ttu-id="083eb-290">Andernfalls ein neues `SiteMapNode` für die Kategorie erstellt und als untergeordnetes Element hinzugefügt wird die `SiteMapNode``root` über die `AddNode(categoryNode, root)` -Methodenaufruf.</span><span class="sxs-lookup"><span data-stu-id="083eb-290">Otherwise, a new `SiteMapNode` for the category is created and added as a child of the `SiteMapNode``root` through the `AddNode(categoryNode, root)` method call.</span></span> <span data-ttu-id="083eb-291">Nach der jeweiligen Kategorie `SiteMapNode` Knoten gefunden oder erstellt haben, wurde eine `SiteMapNode` für das aktuelle Produkt erstellt und hinzugefügt werden, als untergeordnetes Element der Kategorie `SiteMapNode` über `AddNode(productNode, categoryNode)`.</span><span class="sxs-lookup"><span data-stu-id="083eb-291">After the appropriate category `SiteMapNode` node has been found or created, a `SiteMapNode` is created for the current product and added as a child of the category `SiteMapNode` via `AddNode(productNode, categoryNode)`.</span></span> <span data-ttu-id="083eb-292">Beachten Sie, dass die Kategorie `SiteMapNode` s `Url` Eigenschaftswert ist `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID` dagegen das Produkt `SiteMapNode` s `Url` -Eigenschaft zugewiesen `~/SiteMapNode/ProductDetails.aspx?ProductID=productID`.</span><span class="sxs-lookup"><span data-stu-id="083eb-292">Note that the category `SiteMapNode` s `Url` property value is `~/SiteMapProvider/ProductsByCategory.aspx?CategoryID=categoryID` while the product `SiteMapNode` s `Url` property is assigned `~/SiteMapNode/ProductDetails.aspx?ProductID=productID`.</span></span>

> [!NOTE]
> <span data-ttu-id="083eb-293">Diese Produkte mit einer Datenbank `NULL` Wert für ihre `CategoryID` werden in einer Kategorie gruppiert `SiteMapNode` , deren `Title` Eigenschaftensatz keine und deren `Url` Eigenschaft auf eine leere Zeichenfolge festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="083eb-293">Those products that have a database `NULL` value for their `CategoryID` are grouped under a category `SiteMapNode` whose `Title` property is set to None and whose `Url` property is set to an empty string.</span></span> <span data-ttu-id="083eb-294">Entschied ich mich, legen Sie `Url` auf eine leere Zeichenfolge seit der `ProductBLL` Klasse s `GetProductsByCategory(categoryID)` Methode fehlt derzeit die Möglichkeit, nur für diese Produkte mit einem `NULL` `CategoryID` Wert.</span><span class="sxs-lookup"><span data-stu-id="083eb-294">I decided to set `Url` to an empty string since the `ProductBLL` class s `GetProductsByCategory(categoryID)` method currently lacks the capability to return just those products with a `NULL` `CategoryID` value.</span></span> <span data-ttu-id="083eb-295">Darüber hinaus ich zeigen möchten, wie die Navigationssteuerelemente gerendert eine `SiteMapNode` , die verfügt nicht über einen Wert für die `Url` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="083eb-295">Also, I wanted to demonstrate how the navigation controls render a `SiteMapNode` that lacks a value for its `Url` property.</span></span> <span data-ttu-id="083eb-296">Überzeugen Sie sich in diesem Lernprogramm erweitern, damit keine `SiteMapNode` s `Url` -Eigenschaft verweist auf `ProductsByCategory.aspx`, noch zeigt nur die Produkte mit `NULL` `CategoryID` Werte.</span><span class="sxs-lookup"><span data-stu-id="083eb-296">I encourage you to extend this tutorial so that the None `SiteMapNode` s `Url` property points to `ProductsByCategory.aspx`, yet only displays the products with `NULL` `CategoryID` values.</span></span>


<span data-ttu-id="083eb-297">Nach dem Erstellen der Siteübersicht, ein beliebiges Objekt hinzugefügt wird, für den Datencache mithilfe einer SQL-Cacheabhängigkeit auf die `Categories` und `Products` Tabellen über eine `AggregateCacheDependency` Objekt.</span><span class="sxs-lookup"><span data-stu-id="083eb-297">After constructing the site map, an arbitrary object is added to the data cache using a SQL cache dependency on the `Categories` and `Products` tables through an `AggregateCacheDependency` object.</span></span> <span data-ttu-id="083eb-298">Wir verwenden von SQL-Cache-Abhängigkeiten in dem vorherigen Lernprogramm untersucht *mithilfe von SQL-Cache-Abhängigkeiten*.</span><span class="sxs-lookup"><span data-stu-id="083eb-298">We explored using SQL cache dependencies in the preceding tutorial, *Using SQL Cache Dependencies*.</span></span> <span data-ttu-id="083eb-299">Die benutzerdefinierte Website Kartenanbieter verwendet jedoch eine Überladung der Datencache s `Insert` Methode, dass wir Ve noch zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="083eb-299">The custom site map provider, however, uses an overload of the data cache s `Insert` method that we ve yet to explore.</span></span> <span data-ttu-id="083eb-300">Diese Überladung wird ein Delegat, der aufgerufen wird, wenn das Objekt aus dem Cache entfernt wird als der letzte Eingabeparameter akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="083eb-300">This overload accepts as its final input parameter a delegate that is called when the object is removed from the cache.</span></span> <span data-ttu-id="083eb-301">Insbesondere wird in einem neuen übergeben [ `CacheItemRemovedCallback` Delegieren](https://msdn.microsoft.com/library/system.web.caching.cacheitemremovedcallback.aspx) , verweist auf die `OnSiteMapChanged` Methode definiert weiteren unten in der `NorthwindSiteMapProvider` Klasse.</span><span class="sxs-lookup"><span data-stu-id="083eb-301">Specifically, we pass in a new [`CacheItemRemovedCallback` delegate](https://msdn.microsoft.com/library/system.web.caching.cacheitemremovedcallback.aspx) that points to the `OnSiteMapChanged` method defined further down in the `NorthwindSiteMapProvider` class.</span></span>

> [!NOTE]
> <span data-ttu-id="083eb-302">Die in-Memory-Darstellung der Siteübersicht wird über die Variable auf Klassenebene zwischengespeichert `root`.</span><span class="sxs-lookup"><span data-stu-id="083eb-302">The in-memory representation of the site map is cached through the class-level variable `root`.</span></span> <span data-ttu-id="083eb-303">Da es nur eine Instanz der Klasse die Zuordnung, und ist da diese Instanz in der Webanwendung auf allen Threads freigegeben wird, dient diese Klassenvariable als Cache.</span><span class="sxs-lookup"><span data-stu-id="083eb-303">Since there is only one instance of the custom site map provider class and since that instance is shared among all threads in the web application, this class variable serves as a cache.</span></span> <span data-ttu-id="083eb-304">Die `BuildSiteMap` Methode verwendet auch den Datencache, jedoch nur als Mittel zum Benachrichtigung erhalten, wenn die zugrunde liegende Datenbank Daten in die `Categories` oder `Products` Änderungen Tabellen.</span><span class="sxs-lookup"><span data-stu-id="083eb-304">The `BuildSiteMap` method also uses the data cache, but only as a means to receive notification when the underlying database data in the `Categories` or `Products` tables changes.</span></span> <span data-ttu-id="083eb-305">Beachten Sie, dass der Wert der Datencache abgelegt nur das aktuelle Datum und die Uhrzeit aus.</span><span class="sxs-lookup"><span data-stu-id="083eb-305">Note that the value put into the data cache is just the current date and time.</span></span> <span data-ttu-id="083eb-306">Ist die tatsächliche Siteübersichtsdaten *nicht* im Zwischenspeicher abgelegt.</span><span class="sxs-lookup"><span data-stu-id="083eb-306">The actual site map data is *not* put in the data cache.</span></span>


<span data-ttu-id="083eb-307">Die `BuildSiteMap` Methode abgeschlossen wird, indem Sie den Stammknoten der Siteübersicht zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="083eb-307">The `BuildSiteMap` method completes by returning the root node of the site map.</span></span>

<span data-ttu-id="083eb-308">Die restlichen Methoden sind recht einfach.</span><span class="sxs-lookup"><span data-stu-id="083eb-308">The remaining methods are fairly straightforward.</span></span> <span data-ttu-id="083eb-309">`GetRootNodeCore` ist verantwortlich für die Rückgabe des Stammknotens.</span><span class="sxs-lookup"><span data-stu-id="083eb-309">`GetRootNodeCore` is responsible for returning the root node.</span></span> <span data-ttu-id="083eb-310">Da `BuildSiteMap` gibt das Stammelement, `GetRootNodeCore` gibt einfach auftragsantwortnachrichten zurück `BuildSiteMap` s-Rückgabewert.</span><span class="sxs-lookup"><span data-stu-id="083eb-310">Since `BuildSiteMap` returns the root, `GetRootNodeCore` simply returns `BuildSiteMap` s return value.</span></span> <span data-ttu-id="083eb-311">Die `OnSiteMapChanged` -Methode legt `root` an `null` Wenn das Element im Cache entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="083eb-311">The `OnSiteMapChanged` method sets `root` back to `null` when the cache item is removed.</span></span> <span data-ttu-id="083eb-312">Mit einem angegebenen Stamm legen wieder auf `null`, das nächste Mal `BuildSiteMap` wird aufgerufen, die Siteübersichtsstruktur wird neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-312">With root set back to `null`, the next time `BuildSiteMap` is invoked, the site map structure will be rebuilt.</span></span> <span data-ttu-id="083eb-313">Abschließend wird die `CachedDate` Eigenschaft gibt den gespeicherten im Datencache, Datum und Uhrzeit-Wert aus, wenn ein solcher Wert vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="083eb-313">Lastly, the `CachedDate` property returns the date and time value stored in the data cache, if such a value exists.</span></span> <span data-ttu-id="083eb-314">Diese Eigenschaft kann von einem Seitenentwickler verwendet werden, um zu bestimmen, wann die Siteübersichtsdaten zuletzt zwischengespeichert wurde.</span><span class="sxs-lookup"><span data-stu-id="083eb-314">This property can be used by a page developer to determine when the site map data was last cached.</span></span>

## <a name="step-7-registering-thenorthwindsitemapprovider"></a><span data-ttu-id="083eb-315">Schritt 7: Registrieren der`NorthwindSiteMapProvider`</span><span class="sxs-lookup"><span data-stu-id="083eb-315">Step 7: Registering the`NorthwindSiteMapProvider`</span></span>

<span data-ttu-id="083eb-316">In der Reihenfolge für unsere Webanwendung für die Verwendung der `NorthwindSiteMapProvider` Kartenanbieter der Site in Schritt 6 erstellt haben, müssen wir registrieren Sie ihn in die `<siteMap>` Teil `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="083eb-316">In order for our web application to use the `NorthwindSiteMapProvider` site map provider created in Step 6, we need to register it in the `<siteMap>` section of `Web.config`.</span></span> <span data-ttu-id="083eb-317">Insbesondere, fügen Sie das folgende Markup innerhalb der `<system.web>` Element im `Web.config`:</span><span class="sxs-lookup"><span data-stu-id="083eb-317">Specifically, add the following markup within the `<system.web>` element in `Web.config`:</span></span>


[!code-xml[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample7.xml)]

<span data-ttu-id="083eb-318">Dieses Markup führt zwei Aufgaben aus: zuerst, bedeutet dies, dass die integrierte `AspNetXmlSiteMapProvider` ist der Standardanbieter der Siteübersicht; Zweitens, registriert die benutzerdefinierte Website Kartenanbieter in Schritt 6 mit einem von Menschen benutzerfreundliche Namen Northwind erstellt.</span><span class="sxs-lookup"><span data-stu-id="083eb-318">This markup does two things: first, it indicates that the built-in `AspNetXmlSiteMapProvider` is the default site map provider; second, it registers the custom site map provider created in Step 6 with the human-friendly name Northwind .</span></span>

> [!NOTE]
> <span data-ttu-id="083eb-319">Für Anbietern der Siteübersicht befindet sich in der Anwendung s `App_Code` Ordner, der Wert der `type` -Attribut ist einfach der Name der Klasse.</span><span class="sxs-lookup"><span data-stu-id="083eb-319">For site map providers located in the application s `App_Code` folder, the value of the `type` attribute is simply the class name.</span></span> <span data-ttu-id="083eb-320">Alternativ können Sie die benutzerdefinierte Website Kartenanbieter hätte erstellt in einem separaten Klassenbibliotheksprojekt mit die kompilierte Assembly platziert, in der Web-Anwendung s `/Bin` Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="083eb-320">Alternatively, the custom site map provider could have been created in a separate Class Library project with the compiled assembly placed in the web application s `/Bin` directory.</span></span> <span data-ttu-id="083eb-321">In diesem Fall die `type` Attributwert wäre *Namespace*. *Klassenname*, *AssemblyName* .</span><span class="sxs-lookup"><span data-stu-id="083eb-321">In that case, the `type` attribute value would be *Namespace*.*ClassName*, *AssemblyName* .</span></span>


<span data-ttu-id="083eb-322">Nach der Aktualisierung `Web.config`, nehmen einen Moment Zeit, um eine beliebige Seite in den Lernprogrammen in einem Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="083eb-322">After updating `Web.config`, take a moment to view any page from the tutorials in a browser.</span></span> <span data-ttu-id="083eb-323">Beachten Sie, dass die Navigationsschnittstelle auf der linken Seite weiterhin in den Abschnitten zeigt und Lernprogramme, die in definierten `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="083eb-323">Note that the navigation interface on the left still shows the sections and tutorials defined in `Web.sitemap`.</span></span> <span data-ttu-id="083eb-324">Dies ist darauf zurückzuführen wir `AspNetXmlSiteMapProvider` als Standardanbieter.</span><span class="sxs-lookup"><span data-stu-id="083eb-324">This is because we left `AspNetXmlSiteMapProvider` as the default provider.</span></span> <span data-ttu-id="083eb-325">Um ein Benutzeroberflächenelement für die Navigation zu erstellen, verwendet die `NorthwindSiteMapProvider`, benötigen wir explizit angeben, dass der Northwind-Site-Zuordnung-Anbieter verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="083eb-325">In order to create a navigation user interface element that uses the `NorthwindSiteMapProvider`, we'll need to explicitly specify that the Northwind site map provider should be used.</span></span> <span data-ttu-id="083eb-326">Wir sehen, wie dies in Schritt 8 zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="083eb-326">We'll see how to accomplish this in Step 8.</span></span>

## <a name="step-8-displaying-site-map-information-using-the-custom-site-map-provider"></a><span data-ttu-id="083eb-327">Schritt 8: Anzeigen von Standortinformationen Zuordnung mithilfe der benutzerdefinierten Website Kartenanbieter</span><span class="sxs-lookup"><span data-stu-id="083eb-327">Step 8: Displaying Site Map Information Using the Custom Site Map Provider</span></span>

<span data-ttu-id="083eb-328">Mit der benutzerdefinierten Website Kartenanbieter erstellt und registriert `Web.config`, wir re kann jetzt Steuerelemente zur Navigation zum Hinzufügen der `Default.aspx`, `ProductsByCategory.aspx`, und `ProductDetails.aspx` Seiten in der `SiteMapProvider` Ordner.</span><span class="sxs-lookup"><span data-stu-id="083eb-328">With the custom site map provider created and registered in `Web.config`, we re ready to add navigation controls to the `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages in the `SiteMapProvider` folder.</span></span> <span data-ttu-id="083eb-329">Öffnen Sie zunächst die `Default.aspx` Seite, und ziehen Sie eine `SiteMapPath` aus der Toolbox in den Designer.</span><span class="sxs-lookup"><span data-stu-id="083eb-329">Start by opening the `Default.aspx` page and drag a `SiteMapPath` from the Toolbox onto the Designer.</span></span> <span data-ttu-id="083eb-330">Das Steuerelement SiteMapPath befindet sich im Abschnitt "Navigation" der Toolbox.</span><span class="sxs-lookup"><span data-stu-id="083eb-330">The SiteMapPath control is located in the Navigation section of the Toolbox.</span></span>


<span data-ttu-id="083eb-331">[![Hinzufügen einer SiteMapPath "default.aspx"](building-a-custom-database-driven-site-map-provider-cs/_static/image19.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image18.gif)</span><span class="sxs-lookup"><span data-stu-id="083eb-331">[![Add a SiteMapPath to Default.aspx](building-a-custom-database-driven-site-map-provider-cs/_static/image19.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image18.gif)</span></span>

<span data-ttu-id="083eb-332">**Abbildung 16**: Hinzufügen einer SiteMapPath auf `Default.aspx` ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image20.gif))</span><span class="sxs-lookup"><span data-stu-id="083eb-332">**Figure 16**: Add a SiteMapPath to `Default.aspx` ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image20.gif))</span></span>


<span data-ttu-id="083eb-333">Das SiteMapPath-Steuerelement zeigt Breadcrumb, der angibt, der aktuelle Seite s Position innerhalb der Siteübersicht.</span><span class="sxs-lookup"><span data-stu-id="083eb-333">The SiteMapPath control displays a breadcrumb, indicating the current page s location within the site map.</span></span> <span data-ttu-id="083eb-334">Wir eine SiteMapPath hinzugefügt, an den Anfang der Masterseite wieder in die *Masterseiten und Websitenavigation* Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="083eb-334">We added a SiteMapPath to the top of the master page back in the *Master Pages and Site Navigation* tutorial.</span></span>

<span data-ttu-id="083eb-335">Nehmen Sie einen Moment Zeit, um diese Seite über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="083eb-335">Take a moment to view this page through a browser.</span></span> <span data-ttu-id="083eb-336">In Abbildung 16 hinzugefügt SiteMapPath verwendet den Standardanbieter der Siteübersicht, ziehen die zugehörigen Daten aus `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="083eb-336">The SiteMapPath added in Figure 16 uses the default site map provider, pulling its data from `Web.sitemap`.</span></span> <span data-ttu-id="083eb-337">Aus diesem Grund zeigt die Breadcrumb-Leiste Startseite &gt; Anpassen der Siteübersicht, genau wie die Breadcrumb-Leiste in der oberen rechten Ecke.</span><span class="sxs-lookup"><span data-stu-id="083eb-337">Therefore, the breadcrumb shows Home &gt; Customizing the Site Map, just like the breadcrumb in the upper-right corner.</span></span>


<span data-ttu-id="083eb-338">[![Die Breadcrumb-Leiste verwendet den Standardanbieter der Siteübersicht](building-a-custom-database-driven-site-map-provider-cs/_static/image22.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.gif)</span><span class="sxs-lookup"><span data-stu-id="083eb-338">[![The Breadcrumb Uses the Default Site Map Provider](building-a-custom-database-driven-site-map-provider-cs/_static/image22.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.gif)</span></span>

<span data-ttu-id="083eb-339">**Abbildung 17**: der Brotkrümelnavigation verwendet die standardmäßige Website Kartenanbieter ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image23.gif))</span><span class="sxs-lookup"><span data-stu-id="083eb-339">**Figure 17**: The Breadcrumb Uses the Default Site Map Provider ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image23.gif))</span></span>


<span data-ttu-id="083eb-340">Damit die SiteMapPath in Abbildung 16 hinzugefügt, die die benutzerdefinierte Website Kartenanbieter verwenden wir das in Schritt 6 erstellt haben, legen Sie dessen [ `SiteMapProvider` Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemappath.sitemapprovider.aspx) Northwind, den Namen wir zugewiesen, um die `NorthwindSiteMapProvider` in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="083eb-340">To have the SiteMapPath added in Figure 16 use the custom site map provider we created in Step 6, set its [`SiteMapProvider` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemappath.sitemapprovider.aspx) to Northwind, the name we assigned to the `NorthwindSiteMapProvider` in `Web.config`.</span></span> <span data-ttu-id="083eb-341">Leider Designer weiterhin den Standardanbieter für Standort Zuordnung verwenden, aber wenn Sie die Seite über einen Browser besuchen, nach dieser Eigenschaft Änderung werden Sie sehen, dass die Breadcrumb-Leiste jetzt die benutzerdefinierte Website Kartenanbieter verwendet.</span><span class="sxs-lookup"><span data-stu-id="083eb-341">Unfortunately, the Designer continues to use the default site map provider, but if you visit the page through a browser after making this property change you'll see that the breadcrumb now uses the custom site map provider.</span></span>


<span data-ttu-id="083eb-342">[![Die Breadcrumb-Leiste verwendet jetzt die benutzerdefinierte Zuordnung Anbieter NorthwindSiteMapProvider](building-a-custom-database-driven-site-map-provider-cs/_static/image25.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image24.gif)</span><span class="sxs-lookup"><span data-stu-id="083eb-342">[![The Breadcrumb Now Uses the Custom Site Map Provider NorthwindSiteMapProvider](building-a-custom-database-driven-site-map-provider-cs/_static/image25.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image24.gif)</span></span>

<span data-ttu-id="083eb-343">**Abbildung 18**: der Brotkrümelnavigation verwendet jetzt die benutzerdefinierte Website Kartenanbieter `NorthwindSiteMapProvider` ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image26.gif))</span><span class="sxs-lookup"><span data-stu-id="083eb-343">**Figure 18**: The Breadcrumb Now Uses the Custom Site Map Provider `NorthwindSiteMapProvider` ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image26.gif))</span></span>


<span data-ttu-id="083eb-344">Das SiteMapPath-Steuerelement zeigt eine komplexere Benutzeroberfläche in der `ProductsByCategory.aspx` und `ProductDetails.aspx` Seiten.</span><span class="sxs-lookup"><span data-stu-id="083eb-344">The SiteMapPath control displays a more functional user interface in the `ProductsByCategory.aspx` and `ProductDetails.aspx` pages.</span></span> <span data-ttu-id="083eb-345">Hinzufügen einer SiteMapPath auf diese Seiten, Festlegen der `SiteMapProvider` Eigenschaft sowohl an Northwind.</span><span class="sxs-lookup"><span data-stu-id="083eb-345">Add a SiteMapPath to these pages, setting the `SiteMapProvider` property in both to Northwind.</span></span> <span data-ttu-id="083eb-346">Von `Default.aspx` klicken Sie auf den Link Produkte anzeigen, für Getränke und dann auf den Link "Details anzeigen" für Chai Tee.</span><span class="sxs-lookup"><span data-stu-id="083eb-346">From `Default.aspx` click on the View Products link for Beverages, and then on the View Details link for Chai Tea.</span></span> <span data-ttu-id="083eb-347">Wie in Abbildung 19 gezeigt, enthält die Breadcrumb-Leiste den aktuellen Standort Zuordnung Abschnitt (Chai Tee) und dessen Vorgänger: Getränke und aller Kategorien.</span><span class="sxs-lookup"><span data-stu-id="083eb-347">As Figure 19 shows, the breadcrumb includes the current site map section ( Chai Tea ) and its ancestors: Beverages and All Categories .</span></span>


<span data-ttu-id="083eb-348">[![Die Breadcrumb-Leiste verwendet jetzt die benutzerdefinierte Zuordnung Anbieter NorthwindSiteMapProvider](building-a-custom-database-driven-site-map-provider-cs/_static/image27.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="083eb-348">[![The Breadcrumb Now Uses the Custom Site Map Provider NorthwindSiteMapProvider](building-a-custom-database-driven-site-map-provider-cs/_static/image27.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image21.png)</span></span>

<span data-ttu-id="083eb-349">**Abbildung 19**: der Brotkrümelnavigation verwendet jetzt die benutzerdefinierte Website Kartenanbieter `NorthwindSiteMapProvider` ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="083eb-349">**Figure 19**: The Breadcrumb Now Uses the Custom Site Map Provider `NorthwindSiteMapProvider` ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image22.png))</span></span>


<span data-ttu-id="083eb-350">Andere Elemente einer Benutzeroberfläche Navigation können zusätzlich zu den SiteMapPath, z. B. die Menü- und TreeView-Steuerelemente verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="083eb-350">Other navigation user interface elements can be used in addition to the SiteMapPath, such as the Menu and TreeView controls.</span></span> <span data-ttu-id="083eb-351">Die `Default.aspx`, `ProductsByCategory.aspx`, und `ProductDetails.aspx` die Seiten im Download für dieses Lernprogramm enthalten alle Menüsteuerelemente (siehe Abbildung 20).</span><span class="sxs-lookup"><span data-stu-id="083eb-351">The `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages in the download for this tutorial, for example, all include Menu controls (see Figure 20).</span></span> <span data-ttu-id="083eb-352">Finden Sie unter [Untersuchen von ASP.NET 2.0 s Navigationsfunktionen Standort](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) und die [Standort Navigationssteuerelemente mithilfe](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/navigation/sitenavcontrols.aspx) Teil der [ASP.NET 2.0-Schnellstarts](https://quickstarts.asp.net/QuickStartv20/aspnet/) für eine eingehendere Betrachtung der Steuerelemente für die Seitennavigation und Standortsystem über die Zuordnung in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="083eb-352">See [Examining ASP.NET 2.0 s Site Navigation Features](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) and the [Using Site Navigation Controls](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/navigation/sitenavcontrols.aspx) section of the [ASP.NET 2.0 QuickStarts](https://quickstarts.asp.net/QuickStartv20/aspnet/) for a more in-depth look at the navigation controls and site map system in ASP.NET 2.0.</span></span>


<span data-ttu-id="083eb-353">[![Das Menüsteuerelement enthält alle Kategorien und Produkte](building-a-custom-database-driven-site-map-provider-cs/_static/image29.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image28.gif)</span><span class="sxs-lookup"><span data-stu-id="083eb-353">[![The Menu Control Lists Each of the Categories and Products](building-a-custom-database-driven-site-map-provider-cs/_static/image29.gif)](building-a-custom-database-driven-site-map-provider-cs/_static/image28.gif)</span></span>

<span data-ttu-id="083eb-354">**Abbildung 20**: die im Menü Steuerelement führt jede der Kategorien und die Produkte ([klicken Sie hier, um das Bild in voller Größe angezeigt](building-a-custom-database-driven-site-map-provider-cs/_static/image30.gif))</span><span class="sxs-lookup"><span data-stu-id="083eb-354">**Figure 20**: The Menu Control Lists Each of the Categories and Products ([Click to view full-size image](building-a-custom-database-driven-site-map-provider-cs/_static/image30.gif))</span></span>


<span data-ttu-id="083eb-355">Wie weiter oben in diesem Lernprogramm erwähnt, die Siteübersichtsstruktur möglich, programmgesteuert über die `SiteMap` Klasse.</span><span class="sxs-lookup"><span data-stu-id="083eb-355">As mentioned earlier in this tutorial, the site map structure can be accessed programmatically through the `SiteMap` class.</span></span> <span data-ttu-id="083eb-356">Der folgende Code gibt den Stamm `SiteMapNode` des Standardanbieters:</span><span class="sxs-lookup"><span data-stu-id="083eb-356">The following code returns the root `SiteMapNode` of the default provider:</span></span>


[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample8.cs)]

<span data-ttu-id="083eb-357">Da die `AspNetXmlSiteMapProvider` ist der Standardanbieter für unsere Anwendung würde der obige Code zurückgeben, den Stammknoten in definierten `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="083eb-357">Since the `AspNetXmlSiteMapProvider` is the default provider for our application, the above code would return the root node defined in `Web.sitemap`.</span></span> <span data-ttu-id="083eb-358">Um einem Standort Kartenanbieter außer dem Standardnamen zu verweisen, verwenden die `SiteMap` Klasse s [ `Providers` Eigenschaft](https://msdn.microsoft.com/library/system.web.sitemap.providers.aspx) wie folgt:</span><span class="sxs-lookup"><span data-stu-id="083eb-358">To reference a site map provider other than the default, use the `SiteMap` class s [`Providers` property](https://msdn.microsoft.com/library/system.web.sitemap.providers.aspx) like so:</span></span>


[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample9.cs)]

<span data-ttu-id="083eb-359">Wobei *Namen* ist der Name des benutzerdefinierten Site Map-Anbieters (Northwind, für die Webanwendung).</span><span class="sxs-lookup"><span data-stu-id="083eb-359">Where *name* is the name of the custom site map provider ( Northwind, for our web application).</span></span>

<span data-ttu-id="083eb-360">Verwenden Sie für den Zugriff auf einen Member, die spezifisch für eine Website Kartenanbieter `SiteMap.Providers["name"]` die Anbieterinstanz abzurufen und es dann in den entsprechenden Typ umwandeln.</span><span class="sxs-lookup"><span data-stu-id="083eb-360">To access a member specific to a site map provider, use `SiteMap.Providers["name"]` to retrieve the provider instance and then cast it to the appropriate type.</span></span> <span data-ttu-id="083eb-361">Z. B. zum Anzeigen der `NorthwindSiteMapProvider` s `CachedDate` Eigenschaft auf einer ASP.NET-Seite verwenden Sie folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="083eb-361">For example, to display the `NorthwindSiteMapProvider` s `CachedDate` property in an ASP.NET page, use the following code:</span></span>


[!code-csharp[Main](building-a-custom-database-driven-site-map-provider-cs/samples/sample10.cs)]

> [!NOTE]
> <span data-ttu-id="083eb-362">Achten Sie darauf, dass die SQL-Cache-Abhängigkeit-Funktion zu testen.</span><span class="sxs-lookup"><span data-stu-id="083eb-362">Be sure to test out the SQL cache dependency feature.</span></span> <span data-ttu-id="083eb-363">Nach dem Aufrufen der `Default.aspx`, `ProductsByCategory.aspx`, und `ProductDetails.aspx` Seiten, wechseln Sie zu den Tutorials in bearbeiten, einfügen und Löschen von Abschnitt und bearbeiten Sie den Namen einer Kategorie oder Produkt.</span><span class="sxs-lookup"><span data-stu-id="083eb-363">After visiting the `Default.aspx`, `ProductsByCategory.aspx`, and `ProductDetails.aspx` pages, go to one of the tutorials in the Editing, Inserting, and Deleting section and edit the name of a category or product.</span></span> <span data-ttu-id="083eb-364">Fahren Sie dann mit einer der Seiten in der `SiteMapProvider` Ordner.</span><span class="sxs-lookup"><span data-stu-id="083eb-364">Then return to one of the pages in the `SiteMapProvider` folder.</span></span> <span data-ttu-id="083eb-365">Vorausgesetzt, die Abrufmechanismus Beachten Sie die Änderung der zugrunde liegenden Datenbank ausreichend Zeit verstrichen ist, sollte die Siteübersicht aktualisiert werden, um das neue Produkt oder den Kategorienamen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="083eb-365">Assuming enough time has passed for the polling mechanism to note the change to the underlying database, the site map should be updated to show the new product or category name.</span></span>


## <a name="summary"></a><span data-ttu-id="083eb-366">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="083eb-366">Summary</span></span>

<span data-ttu-id="083eb-367">ASP.NET 2.0 s Zuordnung Websitefunktionen umfasst eine `SiteMap` -Klasse, eine Anzahl von integrierten Navigation Web steuert und ein Standard-Site-Zuordnung-Anbieter, der erwartet, die Standortinformationen für die Zuordnung dass in eine XML-Datei beibehalten.</span><span class="sxs-lookup"><span data-stu-id="083eb-367">ASP.NET 2.0 s site map features includes a `SiteMap` class, a number of built-in navigation Web controls, and a default site map provider that expects the site map information persisted to an XML file.</span></span> <span data-ttu-id="083eb-368">Um Standortinformationen für die Zuordnung von einer anderen Quelle wie z. B. aus einer Datenbank zu verwenden, die Anwendungsarchitektur s oder einem Remotewebdienst zum Erstellen einer benutzerdefinierten Website müssen Anbieter zuordnen.</span><span class="sxs-lookup"><span data-stu-id="083eb-368">In order to use site map information from some other source such as from a database, the application s architecture, or a remote Web service we need to create a custom site map provider.</span></span> <span data-ttu-id="083eb-369">Dies schließt die Erstellung einer Klasse, die direkt oder indirekt, abgeleitet aus dem `SiteMapProvider` Klasse.</span><span class="sxs-lookup"><span data-stu-id="083eb-369">This involves creating a class that derives, directly or indirectly, from the `SiteMapProvider` class.</span></span>

<span data-ttu-id="083eb-370">In diesem Lernprogramm wurde erläutert, wie eine benutzerdefinierte Website Kartenanbieter erstellen, auf denen das Produkt und die Kategorie Informationen aus der Anwendungsarchitektur grafikgeräts Siteübersicht basiert.</span><span class="sxs-lookup"><span data-stu-id="083eb-370">In this tutorial we saw how to create a custom site map provider that based the site map on the product and category information culled from the application architecture.</span></span> <span data-ttu-id="083eb-371">Unsere Anbieter erweitert die `StaticSiteMapProvider` Klassen- und resultierendem erstellen eine `BuildSiteMap` Methode, die die Daten abgerufen erstellt die Standorthierarchie für die Karte und die entstehende Struktur in einer Variablen auf Klassenebene zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="083eb-371">Our provider extended the `StaticSiteMapProvider` class and entailed creating a `BuildSiteMap` method that retrieved the data, constructed the site map hierarchy, and cached the resulting structure in a class-level variable.</span></span> <span data-ttu-id="083eb-372">Wird eine SQL-Cacheabhängigkeit mit eine Rückruffunktion um für ungültig zu erklärende die zwischengespeicherten strukturieren, wenn die zugrunde liegende `Categories` oder `Products` Daten geändert.</span><span class="sxs-lookup"><span data-stu-id="083eb-372">We used a SQL cache dependency with a callback function to invalidate the cached structure when the underlying `Categories` or `Products` data is modified.</span></span>

<span data-ttu-id="083eb-373">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="083eb-373">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="083eb-374">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="083eb-374">Further Reading</span></span>

<span data-ttu-id="083eb-375">Weitere Informationen zu den Themen in diesem Lernprogramm erläutert finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="083eb-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- <span data-ttu-id="083eb-376">[Speichern von Sitemaps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) und [der SQL-Standort-Kartenanbieter Sie Ve gewartet wurde](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx)</span><span class="sxs-lookup"><span data-stu-id="083eb-376">[Storing Site Maps in SQL Server](https://msdn.microsoft.com/msdnmag/issues/05/06/WickedCode/) and [The SQL Site Map Provider You ve Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/wickedcode/default.aspx)</span></span>
- [<span data-ttu-id="083eb-377">Ein Blick auf ASP.NET 2.0 s-Anbieter-Modell</span><span class="sxs-lookup"><span data-stu-id="083eb-377">A Look at ASP.NET 2.0 s Provider Model</span></span>](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)
- [<span data-ttu-id="083eb-378">Die Anbietertoolkit</span><span class="sxs-lookup"><span data-stu-id="083eb-378">The Provider Toolkit</span></span>](https://msdn.microsoft.com/asp.net/aa336558.aspx)
- [<span data-ttu-id="083eb-379">Untersuchen ASP.NET 2.0 Navigationsfunktionen für s-Standorts</span><span class="sxs-lookup"><span data-stu-id="083eb-379">Examining ASP.NET 2.0 s Site Navigation Features</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)

## <a name="about-the-author"></a><span data-ttu-id="083eb-380">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="083eb-380">About the Author</span></span>

<span data-ttu-id="083eb-381">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="083eb-381">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="083eb-382">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="083eb-382">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="083eb-383">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="083eb-383">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="083eb-384">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="083eb-384">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="083eb-385">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="083eb-385">Special Thanks To</span></span>

<span data-ttu-id="083eb-386">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="083eb-386">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="083eb-387">Lead Prüfer für dieses Lernprogramm wurden Dave Gardner, Zack Jones Teresa Murphy und Bernadette Leigh.</span><span class="sxs-lookup"><span data-stu-id="083eb-387">Lead reviewers for this tutorial were Dave Gardner, Zack Jones, Teresa Murphy, and Bernadette Leigh.</span></span> <span data-ttu-id="083eb-388">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="083eb-388">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="083eb-389">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="083eb-389">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="083eb-390">Nächste</span><span class="sxs-lookup"><span data-stu-id="083eb-390">Next</span></span>](building-a-custom-database-driven-site-map-provider-vb.md)
