---
uid: mvc/overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2
title: "Zum Aktualisieren eines ASP.NET MVC 4 und Web-API-Projekt für ASP.NET MVC 5 und Web-API 2 | Microsoft Docs"
author: Rick-Anderson
description: "ASP.NET MVC 5 und Web-API 2 schalten einen Host der neuen Features, einschließlich routing-Attribut, Authentifizierungsfilter und vieles mehr."
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/17/2013
ms.topic: article
ms.assetid: db0d02d9-58e8-4a0b-8d7d-b8df8ea97b88
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2
msc.type: authoredcontent
ms.openlocfilehash: 05a3189cf105d1230b96e90b46ea5ab60fef1bf1
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
<a name="how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2"></a><span data-ttu-id="92c38-103">So aktualisieren Sie eine ASP.NET MVC 4 und Web-API-Projekt für ASP.NET MVC 5 und Web-API 2</span><span class="sxs-lookup"><span data-stu-id="92c38-103">How to Upgrade an ASP.NET MVC 4 and Web API Project to ASP.NET MVC 5 and Web API 2</span></span>
====================
<span data-ttu-id="92c38-104">Durch [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="92c38-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="92c38-105">ASP.NET MVC 5 und Web-API 2 schalten einen Host der neuen Features, einschließlich routing-Attribut, Authentifizierungsfilter und vieles mehr.</span><span class="sxs-lookup"><span data-stu-id="92c38-105">ASP.NET MVC 5 and Web API 2 bring a host of new features, including attribute routing, authentication filters, and much more.</span></span> <span data-ttu-id="92c38-106">Finden Sie unter [https://www.asp.net/vnext](https://www.asp.net/core) Weitere Details.</span><span class="sxs-lookup"><span data-stu-id="92c38-106">See [https://www.asp.net/vnext](https://www.asp.net/core) for more details.</span></span>
> 
> <span data-ttu-id="92c38-107">Diese exemplarische Vorgehensweise führt Sie mit den Schritten erforderlich, um Ihre Anwendung auf die neueste Version zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="92c38-107">This walkthrough will guide you with the steps required to upgrade your application to the latest version.</span></span>  
> 
> > [!NOTE]
> > <span data-ttu-id="92c38-108">Finden Sie unter [ASP.NET und Webtools für Visual Studio 2013-Versionshinweise](../../../visual-studio/overview/2013/release-notes.md) Informationen über wichtige Änderungen von MVC 4 und Web-API auf die nächste Version.</span><span class="sxs-lookup"><span data-stu-id="92c38-108">Please see [ASP.NET and Web Tools for Visual Studio 2013 Release Notes](../../../visual-studio/overview/2013/release-notes.md) for information on breaking changes from MVC 4 and Web API to the next version.</span></span>
> 
>   
> 
> <span data-ttu-id="92c38-109">In diesem Artikel wurde von Youngjune Hongkong und Rick Anderson geschrieben ( [ @RickAndMSFT ](https://twitter.com/#!/RickAndMSFT) )</span><span class="sxs-lookup"><span data-stu-id="92c38-109">This article was written by Youngjune Hong and Rick Anderson ( [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) )</span></span>


## <a name="upgrade-steps"></a><span data-ttu-id="92c38-110">Upgradeschritte</span><span class="sxs-lookup"><span data-stu-id="92c38-110">Upgrade Steps</span></span>

1. <span data-ttu-id="92c38-111">Sichern Sie das Projekt.</span><span class="sxs-lookup"><span data-stu-id="92c38-111">Backup your project.</span></span> <span data-ttu-id="92c38-112">In dieser exemplarischen Vorgehensweise müssen Sie Änderungen an Ihrer Projektdatei, die Paketkonfiguration und die web.config-Dateien.</span><span class="sxs-lookup"><span data-stu-id="92c38-112">This walkthrough will require you to make changes to your project file, package configuration, and web.config files.</span></span>
2. <span data-ttu-id="92c38-113">Für das Upgrade von Web-API auf Web-API 2, in der Datei global.asax zu ändern:</span><span class="sxs-lookup"><span data-stu-id="92c38-113">For upgrading from Web API to Web API 2, in global.asax, change:</span></span>

    [!code-csharp[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample1.cs)]

 <span data-ttu-id="92c38-114">auf</span><span class="sxs-lookup"><span data-stu-id="92c38-114">to</span></span>

    [!code-csharp[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample2.cs)]
3. <span data-ttu-id="92c38-115">Stellen Sie sicher, dass alle Pakete, mit denen Ihre Projekte mit MVC 5 und Web-API 2 kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="92c38-115">Make sure all the packages that your projects use are compatible with MVC 5 and Web API 2.</span></span> <span data-ttu-id="92c38-116">Die folgende Tabelle zeigt, wie die MVC 4 und Web-API im Zusammenhang mit Paketen nicht geändert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="92c38-116">The following table shows the MVC 4 and Web API related packages than need to be changed.</span></span> <span data-ttu-id="92c38-117">Wenn Sie ein Paket, die eines der verfügen unten aufgeführten Pakete abhängig ist, wenden Sie sich an den Verlegern, um die neueren Versionen zu erhalten, die mit MVC 5 und Web-API 2 kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="92c38-117">If you have a package that is dependent on one of the packages listed below, please contact the publishers to get the newer versions that are compatible with MVC 5 and Web API 2.</span></span> <span data-ttu-id="92c38-118">Wenn Sie den Quellcode für diese Pakete haben, sollten Sie mit den neuen Assemblys von MVC 5 und Web-API 2 neu kompilieren.</span><span class="sxs-lookup"><span data-stu-id="92c38-118">If you have the source code for those packages, you should recompile them with the new assemblies of MVC 5 and Web API 2.</span></span>   

    | <span data-ttu-id="92c38-119">**Paket-Id**</span><span class="sxs-lookup"><span data-stu-id="92c38-119">**Package Id**</span></span> | <span data-ttu-id="92c38-120">**Alte version**</span><span class="sxs-lookup"><span data-stu-id="92c38-120">**Old version**</span></span> | <span data-ttu-id="92c38-121">**Neue version**</span><span class="sxs-lookup"><span data-stu-id="92c38-121">**New version**</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="92c38-122">Microsoft.AspNet.Razor</span><span class="sxs-lookup"><span data-stu-id="92c38-122">Microsoft.AspNet.Razor</span></span> | <span data-ttu-id="92c38-123">2.0.x.x</span><span class="sxs-lookup"><span data-stu-id="92c38-123">2.0.x.x</span></span> | <span data-ttu-id="92c38-124">3.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-124">3.0.0</span></span> |
    | <span data-ttu-id="92c38-125">Microsoft.AspNet.WebPages</span><span class="sxs-lookup"><span data-stu-id="92c38-125">Microsoft.AspNet.WebPages</span></span> | <span data-ttu-id="92c38-126">2.0.x.x</span><span class="sxs-lookup"><span data-stu-id="92c38-126">2.0.x.x</span></span> | <span data-ttu-id="92c38-127">3.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-127">3.0.0</span></span> |
    | <span data-ttu-id="92c38-128">Microsoft.AspNet.WebPages.WebData</span><span class="sxs-lookup"><span data-stu-id="92c38-128">Microsoft.AspNet.WebPages.WebData</span></span> | <span data-ttu-id="92c38-129">2.0.x.x</span><span class="sxs-lookup"><span data-stu-id="92c38-129">2.0.x.x</span></span> | <span data-ttu-id="92c38-130">3.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-130">3.0.0</span></span> |
    | <span data-ttu-id="92c38-131">Microsoft.AspNet.WebPages.OAuth</span><span class="sxs-lookup"><span data-stu-id="92c38-131">Microsoft.AspNet.WebPages.OAuth</span></span> | <span data-ttu-id="92c38-132">2.0.x.x</span><span class="sxs-lookup"><span data-stu-id="92c38-132">2.0.x.x</span></span> | <span data-ttu-id="92c38-133">3.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-133">3.0.0</span></span> |
    | <span data-ttu-id="92c38-134">Microsoft.AspNet.Mvc</span><span class="sxs-lookup"><span data-stu-id="92c38-134">Microsoft.AspNet.Mvc</span></span> | <span data-ttu-id="92c38-135">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-135">4.0.x.x</span></span> | <span data-ttu-id="92c38-136">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-136">5.0.0</span></span> |
    | <span data-ttu-id="92c38-137">Microsoft.AspNet.Mvc.Facebook</span><span class="sxs-lookup"><span data-stu-id="92c38-137">Microsoft.AspNet.Mvc.Facebook</span></span> | <span data-ttu-id="92c38-138">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-138">4.0.x.x</span></span> | <span data-ttu-id="92c38-139">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-139">5.0.0</span></span> |
    | <span data-ttu-id="92c38-140">Microsoft.AspNet.WebApi.Core</span><span class="sxs-lookup"><span data-stu-id="92c38-140">Microsoft.AspNet.WebApi.Core</span></span> | <span data-ttu-id="92c38-141">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-141">4.0.x.x</span></span> | <span data-ttu-id="92c38-142">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-142">5.0.0</span></span> |
    | <span data-ttu-id="92c38-143">Microsoft.AspNet.WebApi.SelfHost</span><span class="sxs-lookup"><span data-stu-id="92c38-143">Microsoft.AspNet.WebApi.SelfHost</span></span> | <span data-ttu-id="92c38-144">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-144">4.0.x.x</span></span> | <span data-ttu-id="92c38-145">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-145">5.0.0</span></span> |
    | <span data-ttu-id="92c38-146">Microsoft.AspNet.WebApi.Client</span><span class="sxs-lookup"><span data-stu-id="92c38-146">Microsoft.AspNet.WebApi.Client</span></span> | <span data-ttu-id="92c38-147">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-147">4.0.x.x</span></span> | <span data-ttu-id="92c38-148">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-148">5.0.0</span></span> |
    | <span data-ttu-id="92c38-149">Microsoft.AspNet.WebApi.OData</span><span class="sxs-lookup"><span data-stu-id="92c38-149">Microsoft.AspNet.WebApi.OData</span></span> | <span data-ttu-id="92c38-150">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-150">4.0.x.x</span></span> | <span data-ttu-id="92c38-151">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-151">5.0.0</span></span> |
    | <span data-ttu-id="92c38-152">Microsoft.AspNet.WebApi</span><span class="sxs-lookup"><span data-stu-id="92c38-152">Microsoft.AspNet.WebApi</span></span> | <span data-ttu-id="92c38-153">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-153">4.0.x.x</span></span> | <span data-ttu-id="92c38-154">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-154">5.0.0</span></span> |
    | <span data-ttu-id="92c38-155">Microsoft.AspNet.WebApi.WebHost</span><span class="sxs-lookup"><span data-stu-id="92c38-155">Microsoft.AspNet.WebApi.WebHost</span></span> | <span data-ttu-id="92c38-156">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-156">4.0.x.x</span></span> | <span data-ttu-id="92c38-157">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-157">5.0.0</span></span> |
    | <span data-ttu-id="92c38-158">Microsoft.AspNet.WebApi.Tracing</span><span class="sxs-lookup"><span data-stu-id="92c38-158">Microsoft.AspNet.WebApi.Tracing</span></span> | <span data-ttu-id="92c38-159">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-159">4.0.x.x</span></span> | <span data-ttu-id="92c38-160">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-160">5.0.0</span></span> |
    | <span data-ttu-id="92c38-161">Microsoft.AspNet.WebApi.HelpPage</span><span class="sxs-lookup"><span data-stu-id="92c38-161">Microsoft.AspNet.WebApi.HelpPage</span></span> | <span data-ttu-id="92c38-162">4.0.x.x beschrieben</span><span class="sxs-lookup"><span data-stu-id="92c38-162">4.0.x.x</span></span> | <span data-ttu-id="92c38-163">5.0.0</span><span class="sxs-lookup"><span data-stu-id="92c38-163">5.0.0</span></span> |
    | <span data-ttu-id="92c38-164">Microsoft.Net.Http</span><span class="sxs-lookup"><span data-stu-id="92c38-164">Microsoft.Net.Http</span></span> | <span data-ttu-id="92c38-165">2.0.x.</span><span class="sxs-lookup"><span data-stu-id="92c38-165">2.0.x.</span></span> | <span data-ttu-id="92c38-166">2.2.x.</span><span class="sxs-lookup"><span data-stu-id="92c38-166">2.2.x.</span></span> |
    | <span data-ttu-id="92c38-167">Microsoft.Data.OData</span><span class="sxs-lookup"><span data-stu-id="92c38-167">Microsoft.Data.OData</span></span> | <span data-ttu-id="92c38-168">5.2.x</span><span class="sxs-lookup"><span data-stu-id="92c38-168">5.2.x</span></span> | <span data-ttu-id="92c38-169">5.6.x</span><span class="sxs-lookup"><span data-stu-id="92c38-169">5.6.x</span></span> |
    | <span data-ttu-id="92c38-170">System.Spatial</span><span class="sxs-lookup"><span data-stu-id="92c38-170">System.Spatial</span></span> | <span data-ttu-id="92c38-171">5.2.x</span><span class="sxs-lookup"><span data-stu-id="92c38-171">5.2.x</span></span> | <span data-ttu-id="92c38-172">5.6.x</span><span class="sxs-lookup"><span data-stu-id="92c38-172">5.6.x</span></span> |
    | <span data-ttu-id="92c38-173">Microsoft.Data.Edm</span><span class="sxs-lookup"><span data-stu-id="92c38-173">Microsoft.Data.Edm</span></span> | <span data-ttu-id="92c38-174">5.2.x</span><span class="sxs-lookup"><span data-stu-id="92c38-174">5.2.x</span></span> | <span data-ttu-id="92c38-175">5.6.x</span><span class="sxs-lookup"><span data-stu-id="92c38-175">5.6.x</span></span> |
    | <span data-ttu-id="92c38-176">Microsoft.AspNet.Mvc.FixedDisplayModes</span><span class="sxs-lookup"><span data-stu-id="92c38-176">Microsoft.AspNet.Mvc.FixedDisplayModes</span></span> | <span data-ttu-id="92c38-177">< o: p >< / o: p ></span><span class="sxs-lookup"><span data-stu-id="92c38-177"><o:p> </o:p></span></span> | <span data-ttu-id="92c38-178">Entfernt</span><span class="sxs-lookup"><span data-stu-id="92c38-178">Removed</span></span> |
    | <span data-ttu-id="92c38-179">Microsoft.AspNet.WebPages.Administration</span><span class="sxs-lookup"><span data-stu-id="92c38-179">Microsoft.AspNet.WebPages.Administration</span></span> | <span data-ttu-id="92c38-180">< o: p >< / o: p ></span><span class="sxs-lookup"><span data-stu-id="92c38-180"><o:p> </o:p></span></span> | <span data-ttu-id="92c38-181">Entfernt</span><span class="sxs-lookup"><span data-stu-id="92c38-181">Removed</span></span> |
    | <span data-ttu-id="92c38-182">Microsoft Webhilfsprogramme</span><span class="sxs-lookup"><span data-stu-id="92c38-182">Microsoft-Web-Helpers</span></span> | <span data-ttu-id="92c38-183">< o: p >< / o: p ></span><span class="sxs-lookup"><span data-stu-id="92c38-183"><o:p> </o:p></span></span> | <span data-ttu-id="92c38-184">Microsoft.AspNet.WebHelpers</span><span class="sxs-lookup"><span data-stu-id="92c38-184">Microsoft.AspNet.WebHelpers</span></span> |

    > [!NOTE]
    > <span data-ttu-id="92c38-185">Microsoft Webhilfsprogramme wurde durch Microsoft.AspNet.WebHelpers ersetzt.</span><span class="sxs-lookup"><span data-stu-id="92c38-185">Microsoft-Web-Helpers has been replaced with Microsoft.AspNet.WebHelpers.</span></span> <span data-ttu-id="92c38-186">Sie sollten entfernen Sie zuerst die alte Paket, und installieren Sie dann auf neuere Paket.</span><span class="sxs-lookup"><span data-stu-id="92c38-186">You should remove the old package first, and then install the newer package.</span></span>   
    >   
    > <span data-ttu-id="92c38-187">Es gibt keine Cross Versionskompatibilität zwischen wichtigen ASP.NET Pakete aus.</span><span class="sxs-lookup"><span data-stu-id="92c38-187">There is no cross version compatibility among major ASP.NET packages.</span></span> <span data-ttu-id="92c38-188">MVC 5 ist beispielsweise nur mit Razor-3, und nicht die Razor-2 kompatibel.</span><span class="sxs-lookup"><span data-stu-id="92c38-188">For example, MVC 5 is compatible with only Razor 3, and not Razor 2.</span></span>
4. <span data-ttu-id="92c38-189">Öffnen Sie das Projekt in Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="92c38-189">Open your project in Visual Studio 2013.</span></span>
5. <span data-ttu-id="92c38-190">Entfernen Sie eines der folgenden ASP.NET NuGet-Pakete, die installiert werden.</span><span class="sxs-lookup"><span data-stu-id="92c38-190">Remove any of the following ASP.NET NuGet packages that are installed.</span></span> <span data-ttu-id="92c38-191">Sie werden diese mithilfe der Paket-Manager-Konsole (PMC) entfernt.</span><span class="sxs-lookup"><span data-stu-id="92c38-191">You will remove these using the Package Manager Console (PMC).</span></span> <span data-ttu-id="92c38-192">Wählen Sie zum Öffnen der PMC der **Tools** , und wählen Sie dann im Menü **Bibliotheks-Paket-Manager,** wählen Sie dann **Package Manager Console**.</span><span class="sxs-lookup"><span data-stu-id="92c38-192">To open the PMC, select the **Tools** menu and then select **Library Package Manager,** then select **Package Manager Console**.</span></span> <span data-ttu-id="92c38-193">Das Projekt möglicherweise nicht alle diese umfassen.</span><span class="sxs-lookup"><span data-stu-id="92c38-193">Your project might not include all of these.</span></span>

    1. `Microsoft.AspNet.WebPages.Administration`  
 <span data-ttu-id="92c38-194">Dieses Paket wird beim Upgrade von MVC 3 zur MVC 4 in der Regel hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="92c38-194">This package is typically added when upgrading from MVC 3 to MVC 4.</span></span> <span data-ttu-id="92c38-195">Führen Sie den folgenden Befehl in der Systemmonitor, um es zu entfernen:</span><span class="sxs-lookup"><span data-stu-id="92c38-195">To remove it, run the following command in the PMC:</span></span>  
        `Uninstall-Package -Id Microsoft.AspNet.WebPages.Administration`
    2. `Microsoft-Web-Helpers`   
 <span data-ttu-id="92c38-196">Dieses Paket wurde umbenannt wurde, als `Microsoft.AspNet.WebHelpers`.</span><span class="sxs-lookup"><span data-stu-id="92c38-196">This package has been rebranded as `Microsoft.AspNet.WebHelpers`.</span></span> <span data-ttu-id="92c38-197">Führen Sie den folgenden Befehl in der Systemmonitor, um es zu entfernen:</span><span class="sxs-lookup"><span data-stu-id="92c38-197">To remove it, run the following command in the PMC:</span></span>  
        `Uninstall-Package -Id Microsoft-Web-Helpers`
    3. `Microsoft.AspNet.Mvc.FixedDisplayMode`  
 <span data-ttu-id="92c38-198">Dieses Paket enthält eine Umgehung für einen Programmfehler in MVC 4, die in MVC 5 behoben wurde.</span><span class="sxs-lookup"><span data-stu-id="92c38-198">This package contains a work around for a bug in MVC 4 that has been fixed in MVC 5.</span></span> <span data-ttu-id="92c38-199">Führen Sie den folgenden Befehl in der Systemmonitor, um es zu entfernen:</span><span class="sxs-lookup"><span data-stu-id="92c38-199">To remove it, run the following command in the PMC:</span></span>  
        `Uninstall-Package -Id Microsoft.AspNet.Mvc.FixedDisplayModes`
6. <span data-ttu-id="92c38-200">Aktualisieren Sie alle mit der Systemmonitor ASP.NET NuGet-Pakete.</span><span class="sxs-lookup"><span data-stu-id="92c38-200">Upgrade all the ASP.NET NuGet packages using the PMC.</span></span> <span data-ttu-id="92c38-201">Führen Sie in der Systemmonitor den folgenden Befehl ein:</span><span class="sxs-lookup"><span data-stu-id="92c38-201">In the PMC, run the following command:</span></span>  
    `Update-Package`  
 <span data-ttu-id="92c38-202">Die `Update-Package` Befehl ohne Parameter jedes Paket aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="92c38-202">The `Update-Package` command without any parameters will update every package.</span></span> <span data-ttu-id="92c38-203">Sie können Pakete einzeln aktualisieren, mit dem ID-Argument.</span><span class="sxs-lookup"><span data-stu-id="92c38-203">You can update packages individually by using the ID argument.</span></span> <span data-ttu-id="92c38-204">Führen Sie für Weitere Informationen zu den Updatebefehl, `get-help update-package` .</span><span class="sxs-lookup"><span data-stu-id="92c38-204">For more information about the update command, run     `get-help update-package` .</span></span>

## <a name="update-the-application-webconfig-file"></a><span data-ttu-id="92c38-205">Aktualisieren Sie die Anwendung *"Web.config"* Datei</span><span class="sxs-lookup"><span data-stu-id="92c38-205">Update the Application *web.config* File</span></span>

<span data-ttu-id="92c38-206">Achten Sie darauf, dass Sie diese Änderungen vorgenommen haben, in der app *"Web.config"* Datei nicht das *"Web.config"* in der Datei die *Ansichten* Ordner.</span><span class="sxs-lookup"><span data-stu-id="92c38-206">Be sure to make these changes in the app *web.config* file, not the *web.config* file in the *Views* folder.</span></span>

<span data-ttu-id="92c38-207">Suchen Sie die `<runtime>/<assemblyBinding>` Abschnitt, und nehmen Sie die folgenden Änderungen:</span><span class="sxs-lookup"><span data-stu-id="92c38-207">Locate the `<runtime>/<assemblyBinding>` section, and make the following changes:</span></span>

1. <span data-ttu-id="92c38-208">In den Elementen mit dem Namensattribut "System.Web.Mvc" ändern Sie die Versionsnummer von "4.0.0.0" auf "5.0.0.0".</span><span class="sxs-lookup"><span data-stu-id="92c38-208">In the elements with the name attribute "System.Web.Mvc", change the version number from "4.0.0.0" to "5.0.0.0".</span></span> <span data-ttu-id="92c38-209">(Zwei Änderungen in diesem Element).</span><span class="sxs-lookup"><span data-stu-id="92c38-209">(Two changes in that element.)</span></span>
2. <span data-ttu-id="92c38-210">In Elementen mit dem Namensattribut &quot;System.Web.Helpers "und &quot;System.Web.WebPages&quot; ändern Sie die Versionsnummer von"2.0.0.0","3.0.0.0".</span><span class="sxs-lookup"><span data-stu-id="92c38-210">In elements with the name attribute &quot;System.Web.Helpers" and &quot;System.Web.WebPages&quot; change the version number from "2.0.0.0" to "3.0.0.0".</span></span> <span data-ttu-id="92c38-211">Vier Änderungen erfolgt, zwei in jedem der Elemente.</span><span class="sxs-lookup"><span data-stu-id="92c38-211">Four changes will occur, two in each of the elements.</span></span>

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample3.xml?highlight=6,10,14)]
3. <span data-ttu-id="92c38-212">Suchen Sie die `<appSettings>` Abschnitt, und aktualisieren Sie die Webpages:version aus 2.0.0.0.0, 3.0.0.0, wie unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="92c38-212">Locate the `<appSettings>` section and update the webpages:version from 2.0.0.0.0 to 3.0.0.0 as shown below:</span></span>

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample4.xml?highlight=2)]
4. <span data-ttu-id="92c38-213">Entfernen Sie alle Vertrauensebenen als voll.</span><span class="sxs-lookup"><span data-stu-id="92c38-213">Remove any trust levels other than Full.</span></span> <span data-ttu-id="92c38-214">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="92c38-214">For example:</span></span>

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample5.xml?highlight=2)]

## <a name="update-the-webconfig-files-under-the-views-folder"></a><span data-ttu-id="92c38-215">Update der *"Web.config"* Dateien unter dem Ordner Views</span><span class="sxs-lookup"><span data-stu-id="92c38-215">Update the *web.config* files under the Views folder</span></span>

<span data-ttu-id="92c38-216">Wenn Ihre Anwendung Bereiche verwendet wird, müssen Sie auch jede aktualisieren *"Web.config"* in der Datei die *Ansichten* Unterordner des Ordners für jeden Bereich.</span><span class="sxs-lookup"><span data-stu-id="92c38-216">If your application is using areas, you will also need to update each *web.config* file in the *Views* sub-folder of each Area folder.</span></span>

1. <span data-ttu-id="92c38-217">Aktualisieren Sie alle Elemente, die das "System.Web.Mvc" von Version "4.0.0.0" Version "5.0.0.0" enthalten.</span><span class="sxs-lookup"><span data-stu-id="92c38-217">Update all elements that contain "System.Web.Mvc" from version "4.0.0.0" to version "5.0.0.0".</span></span>  

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample6.xml?highlight=2)]

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample7.xml?highlight=4-6,8)]
2. <span data-ttu-id="92c38-218">Aktualisieren Sie alle Elemente, die das "System.Web.WebPages.Razor" von Version "2.0.0.0" Version "3.0.0.0" enthalten.</span><span class="sxs-lookup"><span data-stu-id="92c38-218">Update all elements that contain "System.Web.WebPages.Razor" from version "2.0.0.0" to version"3.0.0.0".</span></span> <span data-ttu-id="92c38-219">Wenn in diesem Abschnitt "System.Web.WebPages" enthält, aktualisieren Sie die enthaltenen Elemente von Version "2.0.0.0" Version "3.0.0.0"</span><span class="sxs-lookup"><span data-stu-id="92c38-219">If this section contains "System.Web.WebPages", update those elements from version "2.0.0.0" to version"3.0.0.0"</span></span>  

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample8.xml?highlight=3-5)]
3. <span data-ttu-id="92c38-220">Wenn Sie entfernt die `Microsoft-Web-Helpers` Installieren von NuGet-Paket in einem vorherigen Schritt `Microsoft.AspNet.WebHelpers` mit dem folgenden Befehl in die PMC:</span><span class="sxs-lookup"><span data-stu-id="92c38-220">If you removed the `Microsoft-Web-Helpers` NuGet package in a previous step, install `Microsoft.AspNet.WebHelpers` with the following command in the PMC:</span></span>  
    `Install-Package -Id Microsoft.AspNet.WebHelpers`
4. <span data-ttu-id="92c38-221">Wenn Ihre app verwendet die [User.IsInRole()](https://msdn.microsoft.com/en-us/library/system.web.security.roleprincipal.isinrole(v=vs.110).aspx) -Methode, fügen Sie Folgendes an der *"Web.config"* Datei.</span><span class="sxs-lookup"><span data-stu-id="92c38-221">If your app uses the [User.IsInRole()](https://msdn.microsoft.com/en-us/library/system.web.security.roleprincipal.isinrole(v=vs.110).aspx) method, add the following to the *Web.config* file.</span></span>

    [!code-xml[Main](how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2/samples/sample9.xml)]

## <a name="final-steps"></a><span data-ttu-id="92c38-222">Abschließende Schritte</span><span class="sxs-lookup"><span data-stu-id="92c38-222">Final Steps</span></span>

<span data-ttu-id="92c38-223">Erstellen und Testen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="92c38-223">Build and test the application.</span></span>

<span data-ttu-id="92c38-224">Entfernen Sie die MVC 4-Projekttyp GUID von Projektdateien.</span><span class="sxs-lookup"><span data-stu-id="92c38-224">Remove the MVC 4 project type GUID from the project files.</span></span>

1. <span data-ttu-id="92c38-225">Klicken Sie im Projektmappen-Explorer mit der rechten Maustaste des Projektnamens, und wählen Sie dann **Projekt entladen**.</span><span class="sxs-lookup"><span data-stu-id="92c38-225">In Solution Explorer, right-click the project name and then select **Unload Project**.</span></span>
2. <span data-ttu-id="92c38-226">Mit der rechten Maustaste des Projekts, und wählen Sie Projektname.csproj bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="92c38-226">Right-click the project and select Edit ProjectName.csproj.</span></span>
3. <span data-ttu-id="92c38-227">Suchen Sie die `ProjectTypeGuids` -Element, und entfernen die MVC 4-Projekt-GUID, `{E3E379DF-F4C6-4180-9B81-6769533ABE47}`.</span><span class="sxs-lookup"><span data-stu-id="92c38-227">Locate the `ProjectTypeGuids` element and then remove the MVC 4 project GUID, `{E3E379DF-F4C6-4180-9B81-6769533ABE47}`.</span></span>
4. <span data-ttu-id="92c38-228">Speichern Sie und schließen Sie die Projektdatei öffnen.</span><span class="sxs-lookup"><span data-stu-id="92c38-228">Save and close the open project file.</span></span>
5. <span data-ttu-id="92c38-229">Mit der rechten Maustaste des Projekts, und wählen Sie **Projekt erneut laden**.</span><span class="sxs-lookup"><span data-stu-id="92c38-229">Right-click the project and select **Reload Project**.</span></span>
