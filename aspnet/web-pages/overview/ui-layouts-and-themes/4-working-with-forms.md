---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Arbeiten mit HTML-Formularen in ASP.NET Web Pages (Razor)-Websites | Microsoft Docs
author: tfitzmac
description: "Ein Formular ist, einen Abschnitt eines HTML-Dokuments, in denen Benutzereingaben-Steuerelemente, z. B. Textfelder, Kontrollkästchen, Optionsfelder und Pull-Dropdownlisten abgelegt, wird. Verwenden Sie Formulare geringer..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/10/2014
ms.topic: article
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: 8579c444fd19d1a366349cc09f9f768de23055f8
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2018
---
<a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="2acf7-104">Arbeiten mit HTML-Formularen in ASP.NET Web Pages (Razor)-Websites</span><span class="sxs-lookup"><span data-stu-id="2acf7-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="2acf7-105">durch [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="2acf7-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="2acf7-106">In diesem Artikel wird beschrieben, wie zum Verarbeiten von einem HTML-Formular (mit den Schaltflächen und Textfelder) bei der Arbeit in einer ASP.NET Web Pages (Razor)-Website.</span><span class="sxs-lookup"><span data-stu-id="2acf7-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="2acf7-107">**Lernen Sie:**</span><span class="sxs-lookup"><span data-stu-id="2acf7-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="2acf7-108">Vorgehensweise: Erstellen von einem HTML-Formular.</span><span class="sxs-lookup"><span data-stu-id="2acf7-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="2acf7-109">Wie Benutzereingaben aus dem Formular gelesen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="2acf7-110">Zum Überprüfen von Benutzereingaben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-110">How to validate user input.</span></span>
> - <span data-ttu-id="2acf7-111">Wie Formularwerte wiederhergestellt, nachdem die Seite übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="2acf7-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="2acf7-112">Hierbei handelt es sich um den ASP.NET Programmierungskonzepte eingeführt, die im Artikel:</span><span class="sxs-lookup"><span data-stu-id="2acf7-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="2acf7-113">Das `Request`-Objekt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-113">The `Request` object.</span></span>
> - <span data-ttu-id="2acf7-114">Validierung von Benutzereingaben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-114">Input validation.</span></span>
> - <span data-ttu-id="2acf7-115">HTML-Codierung.</span><span class="sxs-lookup"><span data-stu-id="2acf7-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="2acf7-116">In diesem Lernprogramm verwendeten Versionen der Software</span><span class="sxs-lookup"><span data-stu-id="2acf7-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="2acf7-117">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="2acf7-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="2acf7-118">Dieses Lernprogramm funktioniert auch mit ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="2acf7-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="creating-a-simple-html-form"></a><span data-ttu-id="2acf7-119">Erstellen einen einfachen HTML-Formular</span><span class="sxs-lookup"><span data-stu-id="2acf7-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="2acf7-120">Erstellen einer neuen Website.</span><span class="sxs-lookup"><span data-stu-id="2acf7-120">Create a new website.</span></span>
2. <span data-ttu-id="2acf7-121">Erstellen Sie eine Webseite mit dem Namen in den Stammordner *Form.cshtml* , und geben Sie das folgende Markup:</span><span class="sxs-lookup"><span data-stu-id="2acf7-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="2acf7-122">Starten Sie die Seite in Ihrem Browser.</span><span class="sxs-lookup"><span data-stu-id="2acf7-122">Launch the page in your browser.</span></span> <span data-ttu-id="2acf7-123">(In WebMatrix, in der **Dateien** Arbeitsbereich mit der rechten Maustaste in der das, und wählen Sie dann **in Browser starten**.) Ein einfaches Formular mit drei Eingabefeldern und ein **Absenden** -Schaltfläche angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="2acf7-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Screenshot eines Formulars mit drei Textfelder.](4-working-with-forms/_static/image1.jpg)

    <span data-ttu-id="2acf7-125">An diesem Punkt, wenn Sie auf die **Absenden** Schaltfläche, geschieht nichts.</span><span class="sxs-lookup"><span data-stu-id="2acf7-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="2acf7-126">Um das Formular nützlich ist, müssen Sie Code hinzufügen, der auf dem Server ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="2acf7-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="2acf7-127">Lesen Sie Benutzereingaben aus dem Formular</span><span class="sxs-lookup"><span data-stu-id="2acf7-127">Reading User Input from the Form</span></span>

<span data-ttu-id="2acf7-128">Um das Formular zu verarbeiten, fügen Sie Code, der die übermittelten Feldwerte liest und verarbeitet diese.</span><span class="sxs-lookup"><span data-stu-id="2acf7-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="2acf7-129">Dieses Verfahren wird gezeigt, wie lesen die Felder und die Benutzereingabe auf der Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="2acf7-130">(In einer produktionsanwendung werden im Allgemeinen Weitere interessante Vorgänge mit Benutzereingaben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="2acf7-131">Sie müssen, die im Artikel zum Arbeiten mit Datenbanken ausführen.)</span><span class="sxs-lookup"><span data-stu-id="2acf7-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="2acf7-132">Am oberen Rand der *Form.cshtml* Datei, geben Sie den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="2acf7-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="2acf7-133">Wenn der Benutzer zunächst die Seite anfordert, wird nur die leere Form angezeigt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="2acf7-134">Der Benutzer (die werden) im Formular aufgefüllt und klickt dann auf **Absenden**.</span><span class="sxs-lookup"><span data-stu-id="2acf7-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="2acf7-135">Dies übermittelt (bereitstellen) der Benutzereingabe mit dem Server.</span><span class="sxs-lookup"><span data-stu-id="2acf7-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="2acf7-136">Standardmäßig wird die Anforderung zur selben Seite wechselt (d. h., *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="2acf7-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="2acf7-137">Wenn Sie dieses Mal die Seite senden, werden die eingegebenen Werte oberhalb des Formulars angezeigt:</span><span class="sxs-lookup"><span data-stu-id="2acf7-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Screenshot, der zeigt die Werte, die Sie eingegeben haben, auf der Seite angezeigt.](4-working-with-forms/_static/image2.jpg)

    <span data-ttu-id="2acf7-139">Betrachten Sie den Code für die Seite aus.</span><span class="sxs-lookup"><span data-stu-id="2acf7-139">Look at the code for the page.</span></span> <span data-ttu-id="2acf7-140">Verwenden Sie zunächst die `IsPost` Methode, um zu bestimmen, ob die Seite zurückgesendet wird wird & #8212, d. h., ob ein Benutzer klicken auf die **Absenden** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="2acf7-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="2acf7-141">Ist dies ein Post `IsPost` "Wahr" zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="2acf7-142">Dies ist die Standardmethode in ASP.NET Web Pages zu bestimmen, ob Sie eine ursprüngliche Anforderung (eine GET-Anforderung) oder ein Postback (eine POST-Anforderung) verwenden.</span><span class="sxs-lookup"><span data-stu-id="2acf7-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="2acf7-143">(Weitere Informationen zu GET und POST, finden Sie in der Randleiste "HTTP-GET und POST und die IsPost-Eigenschaft" in [Einführung in ASP.NET Web Pages Programmierung mithilfe der Razor-Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="2acf7-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="2acf7-144">Anschließend rufen Sie die Werte, die der Benutzer von ausgefüllt werden, in der `Request.Form` -Objekt, und fügen Sie sie Variablen für die spätere.</span><span class="sxs-lookup"><span data-stu-id="2acf7-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="2acf7-145">Die `Request.Form` Objekt enthält alle Werte, die auf der Seite gesendet wurden, jeweils mit einem Schlüssel identifiziert.</span><span class="sxs-lookup"><span data-stu-id="2acf7-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="2acf7-146">Der Schlüssel ist die Entsprechung der `name` Attribut des Formularfelds, die Sie lesen möchten.</span><span class="sxs-lookup"><span data-stu-id="2acf7-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="2acf7-147">Z. B. zum Lesen der `companyname` Feld (Textfeld), verwenden Sie `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="2acf7-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="2acf7-148">Formularwerte werden gespeichert, der `Request.Form` Objekt als Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="2acf7-149">Sie müssen als eine Zahl oder ein Datum oder einen anderen Typ mit einem Wert arbeiten, müssen Sie aus diesem Grund aus einer Zeichenfolge in diesen Typ zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="2acf7-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="2acf7-150">Im Beispiel die `AsInt` Methode der `Request.Form` wird verwendet, um den Wert des Felds Mitarbeiter (die Anzahl der Mitarbeiter enthält) in eine ganze Zahl zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="2acf7-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="2acf7-151">Starten Sie die Seite in Ihrem Browser, füllen Sie die Felder, und klicken Sie auf **Absenden**.</span><span class="sxs-lookup"><span data-stu-id="2acf7-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="2acf7-152">Die Seite zeigt die Werte, die Sie eingegeben haben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="2acf7-153">HTML-Codierung für die Darstellung und Sicherheit</span><span class="sxs-lookup"><span data-stu-id="2acf7-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="2acf7-154">Gibt spezielle Verwendungsmöglichkeiten für Zeichen wie für HTML `<`, `>`, und `&`.</span><span class="sxs-lookup"><span data-stu-id="2acf7-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="2acf7-155">Wenn diese Sonderzeichen angezeigt, in dem sie nicht erwartet haben, können sie die Darstellung und Funktionalität Ihrer Webseite beschädigen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="2acf7-156">Der Browser interpretiert z. B. die `<` (es sei denn, gefolgt von einem Leerzeichen ist) als Anfang eines HTML-Elements, z. B. Zeichen `<b>` oder `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="2acf7-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="2acf7-157">Wenn der Browser das Element nicht erkennt, verwirft er einfach die Zeichenfolge, die mit beginnt `<` bis etwas, die erreicht wird erneut erkannt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="2acf7-158">Natürlich kann dies einige seltsames Rendering auf der Seite führen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="2acf7-159">HTML-Codierung ersetzt diesen reservierten Zeichen durch ein Code, den Browser als das richtige Symbol interpretiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="2acf7-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="2acf7-160">Z. B. die `<` Zeichen wird durch ersetzt `&lt;` und `>` Zeichen wird durch ersetzt `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="2acf7-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="2acf7-161">Der Browser rendert diese Ersatzzeichenfolgen als eines der Zeichen, die Sie anzeigen möchten.</span><span class="sxs-lookup"><span data-stu-id="2acf7-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="2acf7-162">Es ist eine gute Idee, die HTML-Codierung jederzeit anzeigen von Zeichenfolgen verwendet (Eingabe), dass Sie von einem Benutzer erhalten haben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="2acf7-163">Wenn Sie dies nicht tun, versucht ein Benutzer kann die Webseite ein böswilliges Skript ausführen oder ein anderes Element abrufen, die Ihre Websitesicherheit kompromittiert oder einfach nicht gewünscht ist.</span><span class="sxs-lookup"><span data-stu-id="2acf7-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="2acf7-164">(Dies ist besonders wichtig, wenn Sie schalten Benutzereingaben an Unbekannter speichern, und klicken Sie dann später &#8212;anzeigen; z. B. einen Blogkommentar Benutzer zu überprüfen, oder etwas installieren möchten,).</span><span class="sxs-lookup"><span data-stu-id="2acf7-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="2acf7-165">Um zu verhindern, diese Probleme zu ASP.NET Web Pages automatisch HTML-codiert Text Inhalte, die Sie aus dem Code ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="2acf7-166">Wenn Sie z. B. den Inhalt einer Variablen oder einem Ausdruck mit Code wie anzeigen `@MyVar`, ASP.NET Web Pages codiert automatisch die Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="2acf7-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>


## <a name="validating-user-input"></a><span data-ttu-id="2acf7-167">Validieren von Benutzereingaben</span><span class="sxs-lookup"><span data-stu-id="2acf7-167">Validating User Input</span></span>

<span data-ttu-id="2acf7-168">Benutzer Fehler unterlaufen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-168">Users make mistakes.</span></span> <span data-ttu-id="2acf7-169">Sie bitten Sie ihn, füllen Sie ein Feld, und dies vergessen, oder Sie bitten, sie geben die Anzahl der Mitarbeiter, und geben sie stattdessen einen Namen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="2acf7-170">Um sicherzustellen, dass ein Formular ordnungsgemäß ausgefüllt wurde vor der Verarbeitung, überprüfen Sie die Eingaben des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="2acf7-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="2acf7-171">Diese Prozedur zeigt, wie alle drei Formularfelder, um sicherzustellen, dass der Benutzer diese leer lassen nicht überprüft.</span><span class="sxs-lookup"><span data-stu-id="2acf7-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="2acf7-172">Sie überprüfen Sie, dass der Wert für die Mitarbeiter eine Zahl ist.</span><span class="sxs-lookup"><span data-stu-id="2acf7-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="2acf7-173">Wenn Fehler vorhanden sind, zeigen Sie Fehler Nachricht, die dem Benutzer, welche Werte mitteilt die Überprüfung bestanden hat nicht.</span><span class="sxs-lookup"><span data-stu-id="2acf7-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="2acf7-174">In der *Form.cshtml* Datei, die erste Codeblock durch den folgenden Code ersetzen:</span><span class="sxs-lookup"><span data-stu-id="2acf7-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="2acf7-175">Um Benutzereingaben zu überprüfen, verwenden Sie die `Validation` Helper.</span><span class="sxs-lookup"><span data-stu-id="2acf7-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="2acf7-176">Sie registrieren Pflichtfelder durch Aufrufen von `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="2acf7-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="2acf7-177">Sie andere Arten von Validierung registrieren, durch den Aufruf `Validation.Add` und das Feld, um zu überprüfen und den Typ der auszuführenden Validierung angibt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="2acf7-178">Wenn die Seite ausgeführt wird, führt ASP.NET alle Validierungstests für Sie.</span><span class="sxs-lookup"><span data-stu-id="2acf7-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="2acf7-179">Überprüfen Sie die Ergebnisse durch Aufrufen von `Validation.IsValid`, womit "true", wenn alles übergeben und "false", wenn ein der Felder Fehler bei der Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="2acf7-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="2acf7-180">Meist rufen Sie `Validation.IsValid` vor dem Ausführen von Verarbeitungen auf die Benutzereingabe.</span><span class="sxs-lookup"><span data-stu-id="2acf7-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="2acf7-181">Update der `<body>` Element durch Hinzufügen von drei Aufrufe an die `Html.ValidationMessage` -Methode, wie folgt:</span><span class="sxs-lookup"><span data-stu-id="2acf7-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="2acf7-182">Um Überprüfungsfehlermeldungen anzuzeigen, können Sie Html aufrufen.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="2acf7-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="2acf7-183">und übergeben sie den Namen des Felds, der die Meldung für soll.</span><span class="sxs-lookup"><span data-stu-id="2acf7-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="2acf7-184">Führen Sie die Seite.</span><span class="sxs-lookup"><span data-stu-id="2acf7-184">Run the page.</span></span> <span data-ttu-id="2acf7-185">Lassen Sie die Felder leer, und klicken Sie auf **Absenden**.</span><span class="sxs-lookup"><span data-stu-id="2acf7-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="2acf7-186">Fehlermeldungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-186">You see error messages.</span></span>

    ![Screenshot zeigt, dass Fehlermeldungen angezeigt, wenn Benutzereingaben Überprüfung nicht bestanden haben.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="2acf7-188">Eine Zeichenfolge (z. B. "ABC") hinzufügen, um die **Anzahl der Mitarbeiter** Feld, und klicken Sie auf **senden** erneut.</span><span class="sxs-lookup"><span data-stu-id="2acf7-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="2acf7-189">Dieses Mal eine Fehlermeldung angezeigt wird, der angibt, wird die Zeichenfolge in das richtige Format auf, nämlich eine ganze Zahl nicht.</span><span class="sxs-lookup"><span data-stu-id="2acf7-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Screenshot, in der angezeigte Fehlermeldungen angezeigt, wenn Benutzer eine Zeichenfolge für die Mitarbeiter-Feld eingeben.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="2acf7-191">ASP.NET Web Pages stellt mehr Optionen zum Überprüfen von Benutzereingaben, einschließlich der Möglichkeit zum automatischen Ausführen von mit Clientskripts, Validierung, damit Benutzer im Browser unmittelbares Feedback erhalten.</span><span class="sxs-lookup"><span data-stu-id="2acf7-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="2acf7-192">Finden Sie unter der [zusätzliche Ressourcen](#Additional_Resources) Abschnitt weiter unten für Weitere Informationen.</span><span class="sxs-lookup"><span data-stu-id="2acf7-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="2acf7-193">Wiederherstellen von Formularwerte nach Postbacks</span><span class="sxs-lookup"><span data-stu-id="2acf7-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="2acf7-194">Wenn Sie die Seite im vorherigen Abschnitt getestet haben, möglicherweise, die haben Sie bemerkt Wenn Sie tritt ein Validierungsfehler mussten, wird alles, was Sie eingegeben haben (nicht nur die ungültigen Daten) nicht mehr vorhanden wurde und mussten Sie Werte für alle Felder erneut eingeben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="2acf7-195">Dies veranschaulicht einen wichtigen Punkt: die Seite ist von Grund auf neu erstellt, beim Absenden einer Seite, sie verarbeitet und klicken Sie dann die Seite erneut zu rendern.</span><span class="sxs-lookup"><span data-stu-id="2acf7-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="2acf7-196">Wie Sie gesehen haben, bedeutet dies, dass alle Werte, die auf der Seite wurden, wenn er übermittelt wurde, nicht mehr vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="2acf7-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="2acf7-197">Sie können dies problemlos, jedoch beheben.</span><span class="sxs-lookup"><span data-stu-id="2acf7-197">You can fix this easily, however.</span></span> <span data-ttu-id="2acf7-198">Sie haben Zugriff auf die Werte, die gesendet wurden (in der `Request.Form` -Objekt, damit Sie diese Werte wieder in die Felder füllen können, wenn die Seite gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="2acf7-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="2acf7-199">In der *Form.cshtml* Datei, ersetzen Sie die `value` Attribute der `<input>` Elemente mithilfe der `value` Attribut.:</span><span class="sxs-lookup"><span data-stu-id="2acf7-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="2acf7-200">Die `value` Attribut von der `<input>` Elemente festgelegt wurde, den Wert des Felds, der dynamisch zu lesen der `Request.Form` Objekt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="2acf7-201">Beim ersten, der die Seite angefordert wird, die Werte in der `Request.Form` Objekt alle leer sind.</span><span class="sxs-lookup"><span data-stu-id="2acf7-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="2acf7-202">Dies ist in Ordnung, da auf diese Weise das Formular leer ist.</span><span class="sxs-lookup"><span data-stu-id="2acf7-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="2acf7-203">Starten Sie die Seite in Ihrem Browser, füllen Sie die Felder oder leer lassen, und klicken Sie auf **Absenden**.</span><span class="sxs-lookup"><span data-stu-id="2acf7-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="2acf7-204">Eine Seite, die die übermittelten Werte wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="2acf7-204">A page that shows the submitted values is displayed.</span></span>

    ![Formulare 5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="2acf7-206">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="2acf7-206">Additional Resources</span></span>

- [<span data-ttu-id="2acf7-207">1.001 Möglichkeiten zum Abrufen von Eingabe von Webbenutzern</span><span class="sxs-lookup"><span data-stu-id="2acf7-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/library/ms971057.aspx)
- <span data-ttu-id="2acf7-208">[Verwendung von Formularen und Verarbeitung von Benutzereingaben](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="2acf7-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="2acf7-209">Überprüfen der Benutzereingabe in ASP.NET Web Pages-Websites</span><span class="sxs-lookup"><span data-stu-id="2acf7-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="2acf7-210">[Verwenden von AutoVervollständigen in HTML-Formularen](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="2acf7-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span></span>
