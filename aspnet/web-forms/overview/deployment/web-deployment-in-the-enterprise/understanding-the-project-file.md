---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
title: Grundlegendes zur Projektdatei | Microsoft Docs
author: jrjlee
description: "Projektdateien Microsoft Build Engine (MSBuild) bilden den Kern des Prozesses Build- und Bereitstellungsprozess. Dieses Thema beginnt mit eine konzeptionelle Übersicht über MSBuild..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 07978d9d-341c-4524-bcba-62976f390f77
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
msc.type: authoredcontent
ms.openlocfilehash: 09c3793e9cdddb7c42cf966f2d079245f441540c
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2018
---
<a name="understanding-the-project-file"></a><span data-ttu-id="f2c0c-104">Grundlegendes zu der Projektdatei</span><span class="sxs-lookup"><span data-stu-id="f2c0c-104">Understanding the Project File</span></span>
====================
<span data-ttu-id="f2c0c-105">durch [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="f2c0c-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="f2c0c-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="f2c0c-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="f2c0c-107">Projektdateien Microsoft Build Engine (MSBuild) bilden den Kern des Prozesses Build- und Bereitstellungsprozess.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-107">Microsoft Build Engine (MSBuild) project files lie at the heart of the build and deployment process.</span></span> <span data-ttu-id="f2c0c-108">Dieses Thema beginnt mit eine konzeptionelle Übersicht über MSBuild und die Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-108">This topic starts with a conceptual overview of MSBuild and the project file.</span></span> <span data-ttu-id="f2c0c-109">Es beschreibt die wichtigsten Komponenten, die Sie stoßen werden, wenn Sie die Projektdateien arbeiten und funktioniert über ein Beispiel der Nutzung von Projektdateien echten Anwendungen bereitgestellt werden können.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-109">It describes the key components you'll come across when you work with project files, and it works through an example of how you can use project files to deploy real-world applications.</span></span>
> 
> <span data-ttu-id="f2c0c-110">Lernen Sie:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-110">What you'll learn:</span></span>
> 
> - <span data-ttu-id="f2c0c-111">MSBuild verwendet wie MSBuild-Projektdateien, um Projekte zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-111">How MSBuild uses MSBuild project files to build projects.</span></span>
> - <span data-ttu-id="f2c0c-112">Bereitstellungstechnologien, z. B. die Internetinformationsdienste (Internet Information Services, IIS)-Webbereitstellungstool (Web Deploy) wie MSBuild integriert.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-112">How MSBuild integrates with deployment technologies, like the Internet Information Services (IIS) Web Deployment Tool (Web Deploy).</span></span>
> - <span data-ttu-id="f2c0c-113">Kennenlernen der Schlüsselkomponenten einer Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-113">How to understand the key components of a project file.</span></span>
> - <span data-ttu-id="f2c0c-114">Wie können Sie Projektdateien erstellen und komplexe Anwendungen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-114">How you can use project files to build and deploy complex applications.</span></span>


## <a name="msbuild-and-the-project-file"></a><span data-ttu-id="f2c0c-115">MSBuild und der Projektdatei</span><span class="sxs-lookup"><span data-stu-id="f2c0c-115">MSBuild and the Project File</span></span>

<span data-ttu-id="f2c0c-116">Beim Erstellen und Projektmappen in Visual Studio erstellen, verwendet Visual Studio MSBuild jedes Projekt in der Projektmappe zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-116">When you create and build solutions in Visual Studio, Visual Studio uses MSBuild to build each project in your solution.</span></span> <span data-ttu-id="f2c0c-117">Alle Visual Studio-Projekt enthält eine MSBuild-Projektdatei mit der Erweiterung, die den Typ des Projekts & #x 2014 wiedergibt; z. B. ein C#-Projekt (csproj), ein Projekt Visual Basic.NET (.vbproj) oder ein Datenbankprojekt (.dbproj).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-117">Every Visual Studio project includes an MSBuild project file, with a file extension that reflects the type of project&#x2014;for example, a C# project (.csproj), a Visual Basic.NET project (.vbproj), or a database project (.dbproj).</span></span> <span data-ttu-id="f2c0c-118">Um ein Projekt erstellen, muss MSBuild die Projektdatei, die dem Projekt zugeordneten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-118">In order to build a project, MSBuild must process the project file associated with the project.</span></span> <span data-ttu-id="f2c0c-119">Die Projektdatei ist eine XML-Dokument mit den Informationen und Anweisungen, MSBuild, um das Erstellen des Projekts, z. B. den Inhalt einschließen, die plattformanforderungen, die Versionsinformationen, die Webserver oder die datenbankeinstellungen für Server muss, und die Aufgaben, die ausgeführt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-119">The project file is an XML document that contains all the information and instructions that MSBuild needs in order to build your project, like the content to include, the platform requirements, versioning information, web server or database server settings, and the tasks that must be performed.</span></span>

<span data-ttu-id="f2c0c-120">MSBuild-Projektdateien basieren auf der [MSBuild XML-Schema](https://msdn.microsoft.com/library/5dy88c2e.aspx), und daher während des Erstellungsprozesses vollständig geöffnet und transparent.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-120">MSBuild project files are based on the [MSBuild XML schema](https://msdn.microsoft.com/library/5dy88c2e.aspx), and as a result the build process is entirely open and transparent.</span></span> <span data-ttu-id="f2c0c-121">Darüber hinaus müssen Sie nicht Visual Studio zu installieren, um das MSBuild-Modul & #x 2014 verwenden; die MSBuild.exe ausführbare Datei ist Teil von .NET Framework und können Sie es an einer Eingabeaufforderung ausführen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-121">In addition, you don't need to install Visual Studio in order to use the MSBuild engine&#x2014;the MSBuild.exe executable is part of the .NET Framework, and you can run it from a command prompt.</span></span> <span data-ttu-id="f2c0c-122">Als Entwickler können Sie erstellen Ihre eigenen MSBuild-Projektdateien mit der MSBuild-XML-Schema erzwingen hochentwickelte und eine präzisere Kontrolle über die wie Ihre Projekte erstellt und bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-122">As a developer, you can craft your own MSBuild project files, using the MSBuild XML schema, to impose sophisticated and fine-grained control over how your projects are built and deployed.</span></span> <span data-ttu-id="f2c0c-123">Diese benutzerdefinierte Projektdateien arbeiten auf genau die gleiche Weise wie die Projektdateien, die Visual Studio automatisch generiert.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-123">These custom project files work in exactly the same way as the project files that Visual Studio generates automatically.</span></span>

> [!NOTE]
> <span data-ttu-id="f2c0c-124">Sie können auch MSBuild-Projektdateien mit dem Team Build-Dienst in der Team Foundation Server (TFS) verwenden.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-124">You can also use MSBuild project files with the Team Build service in Team Foundation Server (TFS).</span></span> <span data-ttu-id="f2c0c-125">Beispielsweise können Sie die Projektdateien in fortlaufende Integration (CI)-Szenarien zur automatischen Bereitstellung in einer testumgebung aus, bei der neue Code eingecheckt wird.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-125">For example, you can use project files in continuous integration (CI) scenarios to automate deployment to a test environment when new code is checked in.</span></span> <span data-ttu-id="f2c0c-126">Weitere Informationen finden Sie unter [Konfigurieren von Team Foundation Server für die automatisierte Bereitstellung](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-126">For more information, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span>


### <a name="project-file-naming-conventions"></a><span data-ttu-id="f2c0c-127">Benennungskonventionen für Projektdatei</span><span class="sxs-lookup"><span data-stu-id="f2c0c-127">Project File Naming Conventions</span></span>

<span data-ttu-id="f2c0c-128">Wenn Sie eine eigene Projektdateien erstellen, können Sie eine Dateierweiterung, die Ihnen gefallen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-128">When you create your own project files, you can use any file extension you like.</span></span> <span data-ttu-id="f2c0c-129">Um Ihre Lösungen für andere verständlich vereinfachen, sollten Sie jedoch diese allgemeinen Konventionen verwenden:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-129">However, to make your solutions easier for others to understand, you should use these common conventions:</span></span>

- <span data-ttu-id="f2c0c-130">Verwenden Sie die Erweiterung ".proj", wenn Sie eine Projektdatei erstellen, die Projekte erstellt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-130">Use the .proj extension when you create a project file that builds projects.</span></span>
- <span data-ttu-id="f2c0c-131">Verwenden Sie die targets-Erweiterung, bei der Erstellung einer wiederverwendbaren Projektdatei in andere Projektdateien importiert.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-131">Use the .targets extension when you create a reusable project file to import into other project files.</span></span> <span data-ttu-id="f2c0c-132">Dateien mit einer TARGETS-Erweiterung in der Regel nicht "erstellen" alles selbst, sie einfach enthalten Anweisungen, die Sie in Ihrem ".proj"-Dateien importieren können.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-132">Files with a .targets extension typically don't build anything themselves, they simply contain instructions that you can import into your .proj files.</span></span>

### <a name="integration-with-deployment-technologies"></a><span data-ttu-id="f2c0c-133">Integration mit Bereitstellungstechnologien</span><span class="sxs-lookup"><span data-stu-id="f2c0c-133">Integration with Deployment Technologies</span></span>

<span data-ttu-id="f2c0c-134">Wenn Sie mit Webanwendungsprojekte in Visual Studio 2010, wie PHP-Webanwendungen und ASP.NET MVC-Webanwendungen, gearbeitet haben, wissen Sie, dass diese Projekte integrierten Unterstützung für das Verpacken und Bereitstellen der Webanwendung in einer zielumgebung enthalten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-134">If you've worked with web application projects in Visual Studio 2010, like ASP.NET web applications and ASP.NET MVC web applications, you'll know that these projects include built-in support for packaging and deploying the web application to a target environment.</span></span> <span data-ttu-id="f2c0c-135">Die **Eigenschaften** Seiten für diese Projekte schließen **Web packen/veröffentlichen** und **SQL packen/veröffentlichen** Registerkarten, die Sie verwenden können, so konfigurieren Sie wie die Bestandteile Ihrer Anwendung werden verpackt und bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-135">The **Properties** pages for these projects include **Package/Publish Web** and **Package/Publish SQL** tabs that you can use to configure how the components of your application are packaged and deployed.</span></span> <span data-ttu-id="f2c0c-136">Dies zeigt die **Web packen/veröffentlichen** Registerkarte:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-136">This shows the **Package/Publish Web** tab:</span></span>

![](understanding-the-project-file/_static/image1.png)

<span data-ttu-id="f2c0c-137">Die zugrundeliegende Technologie hinter diesen Funktionen wird als Webdienst veröffentlichen Pipeline (WPP) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-137">The underlying technology behind these capabilities is known as the Web Publishing Pipeline (WPP).</span></span> <span data-ttu-id="f2c0c-138">Die WPP bringt im Wesentlichen MSBuild und [Web Deploy](https://go.microsoft.com/?linkid=9805122) zusammen, um einen vollständigen Build, Paket- und Bereitstellung-Prozess für Ihre Webanwendungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-138">The WPP essentially brings MSBuild and [Web Deploy](https://go.microsoft.com/?linkid=9805122) together to provide a complete build, package, and deployment process for your web applications.</span></span>

<span data-ttu-id="f2c0c-139">Die gute Nachricht ist, dass Sie die Integrationspunkte, die die WPP bereitstellt nutzen können, wenn Sie benutzerdefinierte Projektdateien für Webprojekte erstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-139">The good news is that you can take advantage of the integration points that the WPP provides when you create custom project files for web projects.</span></span> <span data-ttu-id="f2c0c-140">Sie können Anweisungen zur Bereitstellung in der Projektdatei, können Sie Ihre Projekte erstellen, Web-Bereitstellungspakete erstellen und installieren diese Pakete auf Remoteservern über ein einzelnes Projekt Datei- und eines einzelnen Aufrufs von MSBuild enthalten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-140">You can include deployment instructions in your project file, which allows you to build your projects, create web deployment packages, and install these packages on remote servers through a single project file and a single call to MSBuild.</span></span> <span data-ttu-id="f2c0c-141">Sie können auch andere ausführbare Dateien als Teil des Buildprozesses aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-141">You can also call any other executables as part of your build process.</span></span> <span data-ttu-id="f2c0c-142">Beispielsweise können Sie das VSDBCMD.exe-Befehlszeilentool zum Bereitstellen einer Datenbank aus einer Schemadatei ausführen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-142">For example, you can run the VSDBCMD.exe command-line tool to deploy a database from a schema file.</span></span> <span data-ttu-id="f2c0c-143">Im Verlauf dieses Themas erfahren Sie, wie Sie diese Funktionen zu den Anforderungen Ihrer Bereitstellungsszenarios nutzen können.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-143">Over the course of this topic, you'll see how you can take advantage of these capabilities to meet the requirements of your enterprise deployment scenarios.</span></span>

> [!NOTE]
> <span data-ttu-id="f2c0c-144">Weitere Informationen zur Funktionsweise der Bereitstellungsprozess der Web-Anwendung finden Sie unter [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-144">For more information on how the web application deployment process works, see [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span></span>


## <a name="the-anatomy-of-a-project-file"></a><span data-ttu-id="f2c0c-145">Die Struktur einer Projektdatei</span><span class="sxs-lookup"><span data-stu-id="f2c0c-145">The Anatomy of a Project File</span></span>

<span data-ttu-id="f2c0c-146">Bevor Sie die Build-Prozess im Detail betrachten, ist es lohnt einen Augenblick, mit die grundlegende Struktur einer MSBuild-Projektdatei vertraut.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-146">Before you look at the build process in more detail, it's worth taking a few moments to familiarize yourself with the basic structure of an MSBuild project file.</span></span> <span data-ttu-id="f2c0c-147">Dieser Abschnitt enthält eine Übersicht über die häufigeren Elemente, die Sie treffen, wenn Sie überprüfen, bearbeiten oder erstellen eine Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-147">This section provides an overview of the more common elements that you'll encounter when you review, edit, or create a project file.</span></span> <span data-ttu-id="f2c0c-148">Insbesondere erfahren Sie:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-148">In particular, you'll learn:</span></span>

- <span data-ttu-id="f2c0c-149">Gewusst wie: Verwenden Sie *Eigenschaften* zum Verwalten von Variablen für den Buildprozess.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-149">How to use *properties* to manage variables for the build process.</span></span>
- <span data-ttu-id="f2c0c-150">Gewusst wie: Verwenden Sie *Elemente* um die Eingaben für den Buildprozess zu identifizieren, wie Codedateien.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-150">How to use *items* to identify the inputs to the build process, like code files.</span></span>
- <span data-ttu-id="f2c0c-151">Gewusst wie: verwenden *Ziele* und *Aufgaben* zum Bereitstellen von Anweisungen zur Ausführung für MSBuild mit *Eigenschaften* und *Elemente* an anderer Stelle definiert die Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-151">How to use *targets* and *tasks* to provide execution instructions to MSBuild, using *properties* and *items* defined elsewhere in the project file.</span></span>

<span data-ttu-id="f2c0c-152">Dies zeigt die Beziehung zwischen der Schlüsselelemente im MSBuild-Projektdatei angegeben:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-152">This shows the relationship between the key elements in an MSBuild project file:</span></span>

![](understanding-the-project-file/_static/image2.png)

### <a name="the-project-element"></a><span data-ttu-id="f2c0c-153">Project-Element</span><span class="sxs-lookup"><span data-stu-id="f2c0c-153">The Project Element</span></span>

<span data-ttu-id="f2c0c-154">Die [Projekt](https://msdn.microsoft.com/library/bcxfsh87.aspx) Element ist das Stammelement in jeder Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-154">The [Project](https://msdn.microsoft.com/library/bcxfsh87.aspx) element is the root element of every project file.</span></span> <span data-ttu-id="f2c0c-155">Zusätzlich zum Identifizieren der XML-Schema für die Projektdatei der **Projekt** Element kann Attribute, um anzugeben, die Einstiegspunkte für den Buildprozess einschließen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-155">In addition to identifying the XML schema for the project file, the **Project** element can include attributes to specify the entry points for the build process.</span></span> <span data-ttu-id="f2c0c-156">Z. B. in der [Kontakt-Manager-beispiellösung](the-contact-manager-solution.md), die *Publish.proj* Datei gibt an, dass der Build gestartet werden soll, durch das Ziel mit dem Namen aufrufen **FullPublish**.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-156">For example, in the [Contact Manager sample solution](the-contact-manager-solution.md), the *Publish.proj* file specifies that the build should start by calling the target named **FullPublish**.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample1.xml)]


### <a name="properties-and-conditions"></a><span data-ttu-id="f2c0c-157">Eigenschaften und Bedingungen</span><span class="sxs-lookup"><span data-stu-id="f2c0c-157">Properties and Conditions</span></span>

<span data-ttu-id="f2c0c-158">Eine Projektdatei muss in der Regel enthalten zahlreiche unterschiedliche Arten von Informationen, um erfolgreich zu erstellen und Bereitstellen der Projekte.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-158">A project file typically needs to provide lots of different pieces of information in order to successfully build and deploy your projects.</span></span> <span data-ttu-id="f2c0c-159">Servernamen, Verbindungszeichenfolgen, Anmeldeinformationen, Buildkonfigurationen, Quelle und Ziel-Dateipfade und andere Informationen, die Sie enthalten, das zur Unterstützung zum anpassen möchten, können diese Angaben enthalten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-159">These pieces of information could include server names, connection strings, credentials, build configurations, source and destination file paths, and any other information you want to include to support customization.</span></span> <span data-ttu-id="f2c0c-160">In einer Projektdatei Eigenschaften definiert werden müssen, in einem [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) Element.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-160">In a project file, properties must be defined within a [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) element.</span></span> <span data-ttu-id="f2c0c-161">MSBuild-Eigenschaften werden von Schlüssel-Wert-Paaren bestehen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-161">MSBuild properties consist of key-value pairs.</span></span> <span data-ttu-id="f2c0c-162">Innerhalb der **PropertyGroup** Element den Elementnamen definiert, den Schlüssel und den Inhalt des Elements definiert, den Wert der Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-162">Within the **PropertyGroup** element, the element name defines the property key and the content of the element defines the property value.</span></span> <span data-ttu-id="f2c0c-163">Sie können z. B. Eigenschaften, die mit dem Namen definieren **ServerName** und **"ConnectionString"** , eine statische Server Name und Verbindung der Zeichenfolge zu speichern.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-163">For example, you could define properties named **ServerName** and **ConnectionString** to store a static server name and connection string.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample2.xml)]


<span data-ttu-id="f2c0c-164">Um einen Eigenschaftswert abzurufen, verwenden Sie das Format **$(***PropertyName***) ***.* Beispielsweise, um das Abrufen des Werts der **ServerName** -Eigenschaft geben Sie:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-164">To retrieve a property value, you use the format **$(***PropertyName***)***.*For example, to retrieve the value of the **ServerName** property, you would type:</span></span>


[!code-powershell[Main](understanding-the-project-file/samples/sample3.ps1)]


> [!NOTE]
> <span data-ttu-id="f2c0c-165">Sie sehen, Beispiele, wie und wann die Eigenschaftswerte weiter unten in diesem Thema verwenden.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-165">You'll see examples of how and when to use property values later in this topic.</span></span>


<span data-ttu-id="f2c0c-166">Einbetten von Informationen als statische Eigenschaften in einer Projektdatei ist nicht immer der optimale Ansatz zur Verwaltung des Buildprozesses.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-166">Embedding information as static properties in a project file is not always the ideal approach to managing the build process.</span></span> <span data-ttu-id="f2c0c-167">Möchten Sie in eine Vielzahl von Szenarien die Informationen aus anderen Quellen abrufen, oder den Benutzer die Anmeldeinformationen von der Befehlszeile aus zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-167">In a lot of scenarios, you'll want to obtain the information from other sources or empower the user to provide the information from the command prompt.</span></span> <span data-ttu-id="f2c0c-168">MSBuild können Sie einen beliebigen Eigenschaftswert als Befehlszeilenparameter angeben.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-168">MSBuild allows you to specify any property value as a command-line parameter.</span></span> <span data-ttu-id="f2c0c-169">Der Benutzer kann z. B. einen Wert für bereitstellen **ServerName** wann er ausgeführt wird MSBuild.exe über die Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-169">For example, the user could provide a value for **ServerName** when he or she runs MSBuild.exe from the command line.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample4.cmd)]


> [!NOTE]
> <span data-ttu-id="f2c0c-170">Weitere Informationen zu den Argumenten und -Switches Sie mit MSBuild.exe können, finden Sie unter [MSBuild-Befehlszeilenreferenz](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-170">For more information on the arguments and switches you can use with MSBuild.exe, see [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>


<span data-ttu-id="f2c0c-171">Die gleiche Eigenschaftensyntax können Sie um die Werte der Umgebungsvariablen und integrierte Projekteigenschaften zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-171">You can use the same property syntax to obtain the values of environment variables and built-in project properties.</span></span> <span data-ttu-id="f2c0c-172">Viele häufig verwendete Eigenschaften, die für Sie definiert sind können, und Sie sie in den Projektdateien durch den Namen des entsprechenden Parameters einschließen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-172">Lots of commonly used properties are defined for you, and you can use them in your project files by including the relevant parameter name.</span></span> <span data-ttu-id="f2c0c-173">Z. B. zum Abrufen der aktuellen Projektplattform & #x 2014; z. B. **X86** oder **"anycpu"**& #x 2014; Sie zählen die **$(Platform)** eigenschaftsreferenz im der Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-173">For example, to retrieve the current project platform&#x2014;for example, **x86** or **AnyCpu**&#x2014;you can include the **$(Platform)** property reference in your project file.</span></span> <span data-ttu-id="f2c0c-174">Weitere Informationen finden Sie unter [Makros für Buildbefehle und-Eigenschaften](https://msdn.microsoft.com/library/c02as0cs.aspx), [gemeinsame MSBuild-Projekteigenschaften](https://msdn.microsoft.com/library/bb629394.aspx), und [reservierte Eigenschaften](https://msdn.microsoft.com/library/ms164309.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-174">For more information, see [Macros for Build Commands and Properties](https://msdn.microsoft.com/library/c02as0cs.aspx), [Common MSBuild Project Properties](https://msdn.microsoft.com/library/bb629394.aspx), and [Reserved Properties](https://msdn.microsoft.com/library/ms164309.aspx).</span></span>

<span data-ttu-id="f2c0c-175">Eigenschaften werden häufig in Verbindung mit verwendet *Bedingungen*.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-175">Properties are often used in conjunction with *conditions*.</span></span> <span data-ttu-id="f2c0c-176">Die meisten MSBuild-Elemente unterstützen die **Bedingung** -Attribut, das können Sie die Kriterien angeben, nach dem Auswerten MSBuild das Element.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-176">Most MSBuild elements support the **Condition** attribute, which lets you specify the criteria upon which MSBuild should evaluate the element.</span></span> <span data-ttu-id="f2c0c-177">Betrachten Sie beispielsweise diese Eigenschaftsdefinition:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-177">For example, consider this property definition:</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample5.xml)]


<span data-ttu-id="f2c0c-178">Wenn MSBuild diese Eigenschaftsdefinition verarbeitet, es zunächst geprüft, ob ein **$(OutputRoot)** Eigenschaftswert steht.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-178">When MSBuild processes this property definition, it first checks to see whether an **$(OutputRoot)** property value is available.</span></span> <span data-ttu-id="f2c0c-179">Bei den Wert der Eigenschaft leer & #x 2014; das heißt, der Benutzer wurde nicht bereitgestellt einen Wert für diese Eigenschaft der & #x 2014; ergibt die Bedingung **"true"** und den Wert der Eigenschaft auf festgelegt ist **... \Publish\Out**. Wenn der Benutzer einen Wert für diese Eigenschaft bereitgestellt hat, die Bedingung ausgewertet wird, um **"false"** und der statischen Eigenschaft-Wert wird nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-179">If the property value is blank&#x2014;in other words, the user hasn't provided a value for this property&#x2014;the condition evaluates to **true** and the property value is set to **..\Publish\Out**. If the user has provided a value for this property, the condition evaluates to **false** and the static property value is not used.</span></span>

<span data-ttu-id="f2c0c-180">Weitere Informationen über die verschiedenen Möglichkeiten, in dem Sie Bedingungen angeben können, finden Sie unter [MSBuild-Bedingungen](https://msdn.microsoft.com/library/7szfhaft.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-180">For more information on the different ways in which you can specify conditions, see [MSBuild Conditions](https://msdn.microsoft.com/library/7szfhaft.aspx).</span></span>

### <a name="items-and-item-groups"></a><span data-ttu-id="f2c0c-181">Elemente und Elementgruppen</span><span class="sxs-lookup"><span data-stu-id="f2c0c-181">Items and Item Groups</span></span>

<span data-ttu-id="f2c0c-182">Einer der Rollen der Projektdatei wichtigen ist die Eingaben für den Buildprozess zu definieren.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-182">One of the important roles of the project file is to define the inputs to the build process.</span></span> <span data-ttu-id="f2c0c-183">In der Regel wird diese Eingaben sind Dateien & #x 2014; Codedateien, Konfigurationsdateien, Befehlsdateien und alle anderen Dateien, die Sie benötigen, verarbeiten oder kopieren Sie als Teil des Buildprozesses.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-183">Typically, these inputs are files&#x2014;code files, configuration files, command files, and any other files that you need to process or copy as part of the build process.</span></span> <span data-ttu-id="f2c0c-184">In der MSBuild-Projekt-Schema werden diese Eingaben durch dargestellt [Element](https://msdn.microsoft.com/library/ms164283.aspx) Elemente.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-184">In the MSBuild project schema, these inputs are represented by [Item](https://msdn.microsoft.com/library/ms164283.aspx) elements.</span></span> <span data-ttu-id="f2c0c-185">In einer Projektdatei Elemente definiert werden müssen, innerhalb einer [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) Element.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-185">In a project file, items must be defined within an [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) element.</span></span> <span data-ttu-id="f2c0c-186">Ebenso wie **Eigenschaft** Elemente, Sie können den Namen einer **Element** Element jedoch beliebig.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-186">Just like **Property** elements, you can name an **Item** element however you like.</span></span> <span data-ttu-id="f2c0c-187">Sie müssen jedoch angeben, ein **Include** Attribut identifiziert die Datei oder der Platzhalter, der das Element darstellt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-187">However, you must specify an **Include** attribute to identify the file or wildcard that the item represents.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample6.xml)]


<span data-ttu-id="f2c0c-188">Durch Angeben von mehreren **Element** Elemente mit dem gleichen Namen, erstellen Sie effektiv eine benannte Liste von Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-188">By specifying multiple **Item** elements with the same name, you're effectively creating a named list of resources.</span></span> <span data-ttu-id="f2c0c-189">Eine gute Möglichkeit, dies in Aktion zu sehen ist, in einem der Projektdateien ansehen, die Visual Studio erstellt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-189">A good way to see this in action is to take a look inside one of the project files that Visual Studio creates.</span></span> <span data-ttu-id="f2c0c-190">Z. B. die *ContactManager.Mvc.csproj* Datei in der Beispielprojektmappe umfasst zahlreiche Elementgruppen, die jeweils mit mehreren identisch mit dem Namen **Element** Elemente.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-190">For example, the *ContactManager.Mvc.csproj* file in the sample solution includes a lot of item groups, each with several identically named **Item** elements.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample7.xml)]


<span data-ttu-id="f2c0c-191">Auf diese Weise wird die Projektdatei festzuhalten und MSBuild zum Erstellen von Listen von Dateien, die in der gleichen Weise & #x 2014; verarbeitet werden müssen die **Verweis** Liste enthält die Assemblys, die für einen erfolgreichen Build den vorhandenseinmüssen**Kompilieren** zählen Codedateien, die kompiliert werden müssen, und die **Content** Liste enthält Ressourcen, die kopiert werden müssen, die unverändert.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-191">In this way, the project file is instructing MSBuild to construct lists of files that need to be processed in the same way&#x2014;the **Reference** list includes assemblies that must be in place for a successful build, the **Compile** list includes code files that must be compiled, and the **Content** list includes resources that must be copied unaltered.</span></span> <span data-ttu-id="f2c0c-192">Betrachten wir wie während des Erstellungsprozesses verweist, und verwendet diese Elemente weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-192">We'll look at how the build process references and uses these items later in this topic.</span></span>

<span data-ttu-id="f2c0c-193">ReportItem-Elemente können auch einschließen, [ItemMetadata](https://msdn.microsoft.com/library/ms164284.aspx) untergeordnete Elemente.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-193">Item elements can also include [ItemMetadata](https://msdn.microsoft.com/library/ms164284.aspx) child elements.</span></span> <span data-ttu-id="f2c0c-194">Diese sind benutzerdefinierte Schlüssel-Wert-Paare und Eigenschaften, die speziell für dieses Element sind im Wesentlichen darstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-194">These are user-defined key-value pairs and essentially represent properties that are specific to that item.</span></span> <span data-ttu-id="f2c0c-195">Angenommen, ein Großteil der **Kompilieren** ReportItem-Elemente in der Projektdatei enthalten **DependentUpon** untergeordnete Elemente.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-195">For example, a lot of the **Compile** item elements in the project file include **DependentUpon** child elements.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample8.xml)]


> [!NOTE]
> <span data-ttu-id="f2c0c-196">Zusätzlich zu benutzerdefinierten Elementmetadaten werden alle Elemente auf verschiedene allgemeine Metadaten bei der Erstellung zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-196">In addition to user-created item metadata, all items are assigned various common metadata on creation.</span></span> <span data-ttu-id="f2c0c-197">Weitere Informationen finden Sie unter [Well-known Item Metadata (Bekannte Elementmetadaten)](https://msdn.microsoft.com/library/ms164313.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-197">For more information, see [Well-known Item Metadata](https://msdn.microsoft.com/library/ms164313.aspx).</span></span>


<span data-ttu-id="f2c0c-198">Sie können erstellen **ItemGroup** Elemente innerhalb der Stammebene **Projekt** Element oder in bestimmten **Ziel** Elemente.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-198">You can create **ItemGroup** elements within the root-level **Project** element or within specific **Target** elements.</span></span> <span data-ttu-id="f2c0c-199">**ItemGroup** Elemente unterstützen auch **Bedingung** Attribute, die Sie die Eingaben für den Buildprozess entsprechend Bedingungen wie z. B. die Projektkonfiguration oder Plattform anpassen können.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-199">**ItemGroup** elements also support **Condition** attributes, which lets you tailor the inputs to the build process according to conditions like the project configuration or platform.</span></span>

### <a name="targets-and-tasks"></a><span data-ttu-id="f2c0c-200">Ziele und Aufgaben</span><span class="sxs-lookup"><span data-stu-id="f2c0c-200">Targets and Tasks</span></span>

<span data-ttu-id="f2c0c-201">In der MSBuild-Schema eine [Aufgabe](https://msdn.microsoft.com/library/77f2hx1s.aspx) -Element stellt eine einzelne Build-Anweisung (oder eine Aufgabe) dar.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-201">In the MSBuild schema, a [Task](https://msdn.microsoft.com/library/77f2hx1s.aspx) element represents an individual build instruction (or task).</span></span> <span data-ttu-id="f2c0c-202">MSBuild ist hierin enthalten zahlreiche vordefinierte Tasks.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-202">MSBuild includes a multitude of predefined tasks.</span></span> <span data-ttu-id="f2c0c-203">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-203">For example:</span></span>

- <span data-ttu-id="f2c0c-204">Die **Kopie** Task kopiert Dateien an einem neuen Speicherort.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-204">The **Copy** task copies files to a new location.</span></span>
- <span data-ttu-id="f2c0c-205">Die **Csc** Aufgabe wird den Visual C#-Compiler aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-205">The **Csc** task invokes the Visual C# compiler.</span></span>
- <span data-ttu-id="f2c0c-206">Die **Vbc** Aufgabe wird den Visual Basic-Compiler aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-206">The **Vbc** task invokes the Visual Basic compiler.</span></span>
- <span data-ttu-id="f2c0c-207">Die **Exec** Task ausgeführt wird, ein angegebenes Programm.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-207">The **Exec** task runs a specified program.</span></span>
- <span data-ttu-id="f2c0c-208">Die **Nachricht** Task schreibt eine Meldung, die eine Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-208">The **Message** task writes a message to a logger.</span></span>

> [!NOTE]
> <span data-ttu-id="f2c0c-209">Vollständige Informationen zu Aufgaben, die unmittelbar verfügbar sind, finden Sie unter [Referenz zu MSBuild-Aufgaben](https://msdn.microsoft.com/library/7z253716.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-209">For full details of the tasks that are available out of the box, see [MSBuild Task Reference](https://msdn.microsoft.com/library/7z253716.aspx).</span></span> <span data-ttu-id="f2c0c-210">Weitere Informationen zu Aufgaben, wie Sie eigene benutzerdefinierte Tasks erstellen finden Sie unter [MSBuild-Aufgaben](https://msdn.microsoft.com/library/ms171466.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-210">For more information on tasks, including how to create your own custom tasks, see [MSBuild Tasks](https://msdn.microsoft.com/library/ms171466.aspx).</span></span>


<span data-ttu-id="f2c0c-211">Aufgaben müssen immer enthaltenen [Ziel](https://msdn.microsoft.com/library/t50z2hka.aspx) Elemente.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-211">Tasks must always be contained within [Target](https://msdn.microsoft.com/library/t50z2hka.aspx) elements.</span></span> <span data-ttu-id="f2c0c-212">Ein **Ziel** Element ist ein Satz von einer oder mehreren Aufgaben, die nacheinander ausgeführt werden, und eine Projektdatei kann mehrere Ziele enthalten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-212">A **Target** element is a set of one or more tasks that are executed sequentially, and a project file can contain multiple targets.</span></span> <span data-ttu-id="f2c0c-213">Wenn Sie eine Aufgabe oder eine Reihe von Aufgaben ausführen möchten, rufen Sie das Ziel, das sie enthält.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-213">When you want to run a task, or a set of tasks, you invoke the target that contains them.</span></span> <span data-ttu-id="f2c0c-214">Nehmen wir beispielsweise an, dass Sie eine einfachen Projektdatei verfügen, die eine Meldung protokolliert.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-214">For example, suppose you have a simple project file that logs a message.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample9.xml)]


<span data-ttu-id="f2c0c-215">Sie können das Ziel in der Befehlszeile aufrufen, indem Sie mit der **/t** wechseln, um das Ziel anzugeben.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-215">You can invoke the target from the command line, by using the **/t** switch to specify the target.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample10.cmd)]


<span data-ttu-id="f2c0c-216">Sie können auch Hinzufügen einer **DefaultTargets** -Attribut auf die **Projekt** Element, um die Ziele anzugeben, die Sie aufrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-216">Alternatively, you can add a **DefaultTargets** attribute to the **Project** element, to specify the targets that you want to invoke.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample11.xml)]


<span data-ttu-id="f2c0c-217">In diesem Fall müssen Sie das Ziel in der Befehlszeile angeben.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-217">In this case, you don't need to specify the target from the command line.</span></span> <span data-ttu-id="f2c0c-218">Sie können einfach die Projektdatei angeben und MSBuild wird aufgerufen, die **FullPublish** Ziel für Sie.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-218">You can simply specify the project file, and MSBuild will invoke the **FullPublish** target for you.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample12.cmd)]


<span data-ttu-id="f2c0c-219">Ziele und Aufgaben zählen **Bedingung** Attribute.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-219">Both targets and tasks can include **Condition** attributes.</span></span> <span data-ttu-id="f2c0c-220">Sie können daher ganze Ziele oder einzelne Aufgaben zu unterdrücken, wenn bestimmte Bedingungen erfüllt sind.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-220">As such, you can choose to omit entire targets or individual tasks if certain conditions are met.</span></span>

<span data-ttu-id="f2c0c-221">Wenn Sie nützliche Aufgaben und Ziele erstellen, müssen Sie im Allgemeinen beziehen sich auf die Eigenschaften und Elemente, die Sie an anderer Stelle in der Projektdatei definiert haben:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-221">Generally speaking, when you create useful tasks and targets, you'll need to refer to the properties and items that you've defined elsewhere in the project file:</span></span>

- <span data-ttu-id="f2c0c-222">Geben Sie für die Verwendung ein Eigenschaftswerts **$(***PropertyName***)**, wobei *PropertyName* ist der Name des der **Eigenschaft** Element oder den Namen des der Parameter.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-222">To use a property value, type **$(***PropertyName***)**, where *PropertyName* is the name of the **Property** element or the name of the parameter.</span></span>
- <span data-ttu-id="f2c0c-223">Um ein Element zu verwenden, geben **@(***ItemName***)**, wobei *ItemName* ist der Name des der **Element** Element.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-223">To use an item, type **@(***ItemName***)**, where *ItemName* is the name of the **Item** element.</span></span>

> [!NOTE]
> <span data-ttu-id="f2c0c-224">Denken Sie daran, dass wenn Sie mehrere Elemente mit dem gleichen Namen erstellen, Sie eine Liste erstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-224">Remember that if you create multiple items with the same name, you're building a list.</span></span> <span data-ttu-id="f2c0c-225">Im Gegensatz dazu, wenn Sie mehrere Eigenschaften mit demselben Namen zu erstellen, überschreiben die letzte angegebene Eigenschaftenwert alle zuvor beschriebenen Eigenschaften mit dem gleichen Namen & #x 2014; eine Eigenschaft kann nur einen einzelnen Wert enthalten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-225">In contrast, if you create multiple properties with the same name, the last property value you provide will overwrite any previous properties with the same name&#x2014;a property can only contain a single value.</span></span>


<span data-ttu-id="f2c0c-226">Beispielsweise ist in der *Publish.proj* Datei in der Beispielprojektmappe, sehen Sie sich die **BuildProjects** Ziel.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-226">For example, in the *Publish.proj* file in the sample solution, take a look at the **BuildProjects** target.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample13.xml)]


<span data-ttu-id="f2c0c-227">In diesem Beispiel können Sie diese wichtige Punkte beachten:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-227">In this sample, you can observe these key points:</span></span>

- <span data-ttu-id="f2c0c-228">Wenn die **BuildingInTeamBuild** Parameter angegeben ist, und hat den Wert **"true"**, keinen der Tasks in diesem Ziel wird ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-228">If the **BuildingInTeamBuild** parameter is specified and has a value of **true**, none of the tasks within this target will be executed.</span></span>
- <span data-ttu-id="f2c0c-229">Das Ziel enthält eine einzelne Instanz der [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-229">The target contains a single instance of the [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) task.</span></span> <span data-ttu-id="f2c0c-230">Mit diesem Task können Sie die anderen MSBuild-Projekte erstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-230">This task lets you build other MSBuild projects.</span></span>
- <span data-ttu-id="f2c0c-231">Die **ProjectsToBuild** Element an die Aufgabe übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-231">The **ProjectsToBuild** item is passed to the task.</span></span> <span data-ttu-id="f2c0c-232">Dieses Element kann eine Liste von Projektmappen- oder Projektdateien, indem alle definierten dargestellt **ProjectsToBuild** Element der Elemente innerhalb einer Elementgruppe.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-232">This item could represent a list of project or solution files, all defined by **ProjectsToBuild** item elements within an item group.</span></span> <span data-ttu-id="f2c0c-233">In diesem Fall die **ProjectsToBuild** Element bezieht sich auf eine einzelne Projektmappe.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-233">In this case, the **ProjectsToBuild** item refers to a single solution file.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample14.xml)]
- <span data-ttu-id="f2c0c-234">Die Eigenschaftswerte, die zum Übergeben der **MSBuild** Aufgabe enthalten Parameter, die mit dem Namen **OutputRoot** und **Konfiguration**.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-234">The property values passed to the **MSBuild** task include parameters named **OutputRoot** and **Configuration**.</span></span> <span data-ttu-id="f2c0c-235">Wenn sie nicht sind diese Parameterwerte, wenn sie bereitgestellt werden oder statische Eigenschaftswerte festgelegt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-235">These are set to parameter values if they are provided, or static property values if they are not.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample15.xml)]

<span data-ttu-id="f2c0c-236">Sie können auch sehen, die **MSBuild** Vorgang ruft ein Ziel mit dem Namen **erstellen**.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-236">You can also see that the **MSBuild** task invokes a target named **Build**.</span></span> <span data-ttu-id="f2c0c-237">Dies ist eine mehrere integrierte Ziele, die häufig in Visual Studio-Projektdateien und stehen zur Verfügung, die Sie in Ihre benutzerdefinierte Projektdateien verwendet wird, z. B. werden **erstellen**, **Bereinigen**, **Rebuild**, und **veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-237">This is one of several built-in targets that are widely used in Visual Studio project files and are available to you in your custom project files, like **Build**, **Clean**, **Rebuild**, and **Publish**.</span></span> <span data-ttu-id="f2c0c-238">Erfahren Sie mehr über die Verwendung von Zielen und Aufgaben Steuern des Buildprozesses und über die **MSBuild** Aufgabe insbesondere weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-238">You'll learn more about using targets and tasks to control the build process, and about the **MSBuild** task in particular, later in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="f2c0c-239">Weitere Informationen zu Zielen finden Sie unter [MSBuild-Ziele](https://msdn.microsoft.com/library/ms171462.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-239">For more information on targets, see [MSBuild Targets](https://msdn.microsoft.com/library/ms171462.aspx).</span></span>


## <a name="splitting-project-files-to-support-multiple-environments"></a><span data-ttu-id="f2c0c-240">Aufteilen von Projektdateien, um mehrere Umgebungen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-240">Splitting Project Files to Support Multiple Environments</span></span>

<span data-ttu-id="f2c0c-241">Angenommen, Sie möchten eine Lösung in mehreren Umgebungen, wie von Testservern, staging Plattformen und produktionsumgebungen bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-241">Suppose you want to be able to deploy a solution to multiple environments, like test servers, staging platforms, and production environments.</span></span> <span data-ttu-id="f2c0c-242">Die Konfiguration kann im Wesentlichen zwischen diesen Umgebungen & #x 2014 unterschiedlich, und nicht nur im Hinblick auf den Servernamen, Verbindungszeichenfolgen und So weiter, sondern auch potenziell im Hinblick auf Anmeldeinformationen, Sicherheitseinstellungen und viele andere Faktoren.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-242">The configuration may vary substantially between these environments&#x2014;not just in terms of server names, connection strings, and so on, but also potentially in terms of credentials, security settings, and lots of other factors.</span></span> <span data-ttu-id="f2c0c-243">Wenn Sie dies regelmäßig durchführen müssen, ist es nicht sehr zweckmäßig, um mehrere Eigenschaften in der Projektdatei zu bearbeiten, jedes Mal, wenn Sie die zielumgebung wechseln.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-243">If you need to do this regularly, it's not really expedient to edit multiple properties in your project file every time you switch the target environment.</span></span> <span data-ttu-id="f2c0c-244">Trotzdem ist eine ideale Lösung eine endlose Liste von Eigenschaftswerten für den Buildprozess bereitgestellt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-244">Nor is it an ideal solution to require an endless list of property values to be provided to the build process.</span></span>

<span data-ttu-id="f2c0c-245">Glücklicherweise ist eine Alternative vorhanden.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-245">Fortunately there is an alternative.</span></span> <span data-ttu-id="f2c0c-246">MSBuild können Sie die Buildkonfiguration auf mehreren Projektdateien aufgeteilt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-246">MSBuild lets you split your build configuration across multiple project files.</span></span> <span data-ttu-id="f2c0c-247">Um die Funktionsweise zu sehen, in der Beispielprojektmappe Beachten Sie, dass es zwei benutzerdefinierte Projektdateien:</span><span class="sxs-lookup"><span data-stu-id="f2c0c-247">To see how this works, in the sample solution, notice that there are two custom project files:</span></span>

- <span data-ttu-id="f2c0c-248">*Publish.proj*mit Elementen, Eigenschaften und Ziele, die gelten für alle Umgebungen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-248">*Publish.proj*, which contains properties, items, and targets that are common to all environments.</span></span>
- <span data-ttu-id="f2c0c-249">*Env Dev.proj*, enthält Eigenschaften, die für eine entwicklerumgebung spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-249">*Env-Dev.proj*, which contains properties that are specific to a developer environment.</span></span>

<span data-ttu-id="f2c0c-250">Beachten Sie, dass jetzt die *Publish.proj* -Datei enthält eine [Import](https://msdn.microsoft.com/library/92x05xfs.aspx) Element direkt unterhalb der öffnenden **Projekt** Tag.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-250">Now notice that the *Publish.proj* file includes an [Import](https://msdn.microsoft.com/library/92x05xfs.aspx) element, immediately beneath the opening **Project** tag.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample16.xml)]


<span data-ttu-id="f2c0c-251">Die **importieren** Element wird verwendet, um den Inhalt von einem anderen MSBuild-Projektdatei in die aktuelle MSBuild-Projektdatei importieren.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-251">The **Import** element is used to import the contents of another MSBuild project file into the current MSBuild project file.</span></span> <span data-ttu-id="f2c0c-252">In diesem Fall die **TargetEnvPropsFile** Parameter enthält der Dateiname der Projektdatei, die Sie importieren möchten.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-252">In this case, the **TargetEnvPropsFile** parameter provides the filename of the project file you want to import.</span></span> <span data-ttu-id="f2c0c-253">Sie können einen Wert für diesen Parameter bereitstellen, wenn Sie MSBuild ausführen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-253">You can provide a value for this parameter when you run MSBuild.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample17.cmd)]


<span data-ttu-id="f2c0c-254">Dies führt tatsächlich den Inhalt von zwei Dateien in einer Projektdatei zusammen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-254">This effectively merges the contents of the two files into a single project file.</span></span> <span data-ttu-id="f2c0c-255">Bei dieser Vorgehensweise können Sie eine Projektdatei mit der universellen Buildkonfiguration und mehrere zusätzliche Projektdateien mit umgebungsspezifische Eigenschaften erstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-255">Using this approach, you can create one project file containing your universal build configuration and multiple supplementary project files containing environment-specific properties.</span></span> <span data-ttu-id="f2c0c-256">Folglich kann einfach einen Befehl mit einem anderen Wert aus die Projektmappe in eine andere Umgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-256">As a result, simply running a command with a different parameter value lets you deploy your solution to a different environment.</span></span>

![](understanding-the-project-file/_static/image3.png)

<span data-ttu-id="f2c0c-257">Teilen die Projektdateien auf diese Weise wird empfohlen, folgen.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-257">Splitting your project files in this way is a good practice to follow.</span></span> <span data-ttu-id="f2c0c-258">Es ermöglicht Entwicklern Bereitstellung in mehreren Umgebungen durch Ausführen eines einzelnen Befehls die Duplizierung der universal Buildeigenschaften über mehrere Projektdateien zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-258">It allows developers to deploy to multiple environments by running a single command, while avoiding the duplication of universal build properties across multiple project files.</span></span>

> [!NOTE]
> <span data-ttu-id="f2c0c-259">Anleitungen zum Anpassen der umgebungsspezifische-Projektdateien für eigene Server-Umgebungen finden Sie unter [Konfigurieren von Bereitstellungseigenschaften für eine Zielumgebung](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="f2c0c-259">For guidance on how to customize the environment-specific project files for your own server environments, see [Configuring Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="conclusion"></a><span data-ttu-id="f2c0c-260">Schlussbemerkung</span><span class="sxs-lookup"><span data-stu-id="f2c0c-260">Conclusion</span></span>

<span data-ttu-id="f2c0c-261">In diesem Thema eine allgemeine Einführung in MSBuild-Projektdateien bereitgestellt und erläutert, wie Sie eigene benutzerdefinierte Projektdateien zum Steuern des Buildprozesses erstellen können.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-261">This topic provided a general introduction to MSBuild project files and explained how you can create your own custom project files to control the build process.</span></span> <span data-ttu-id="f2c0c-262">Es wurde auch das Konzept der Projektdateien in universelle Buildanweisungen und umgebungsspezifische Buildeigenschaften, erleichtern das Erstellen und Bereitstellen von Projekten an mehrere Ziele aufgeteilt.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-262">It also introduced the concept of splitting project files into universal build instructions and environment-specific build properties, to make it easy to build and deploy projects to multiple destinations.</span></span>

<span data-ttu-id="f2c0c-263">Im nächsten Thema [Verständnis des Build-Prozesses](understanding-the-build-process.md), bietet mehr Einblick in die Verwendung zu Steuerelement Build- und Bereitstellungsprozess Projektdateien werden Sie durch die Bereitstellung einer Lösung mit einer realistischen Maß an Komplexität.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-263">The next topic, [Understanding the Build Process](understanding-the-build-process.md), provides more insight into how you can use project files to control build and deployment by walking you through the deployment of a solution with a realistic level of complexity.</span></span>

## <a name="further-reading"></a><span data-ttu-id="f2c0c-264">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="f2c0c-264">Further Reading</span></span>

<span data-ttu-id="f2c0c-265">Eine ausführliche Einführung in die Projektdateien und die WPP finden Sie unter [innerhalb der Microsoft Build Engine: Verwenden von MSBuild und Team Foundation Build](http://amzn.com/0735645248) Sayed Ibrahim Hashimi und William Bartholomew, ISBN-Nummer: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="f2c0c-265">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="f2c0c-266">[Zurück](setting-up-the-contact-manager-solution.md)
[Weiter](understanding-the-build-process.md)</span><span class="sxs-lookup"><span data-stu-id="f2c0c-266">[Previous](setting-up-the-contact-manager-solution.md)
[Next](understanding-the-build-process.md)</span></span>
