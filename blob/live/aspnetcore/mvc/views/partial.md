---
title: Teilansichten
author: ardalis
description: Verwenden von Teilansichten in ASP.NET Core MVC
keywords: ASP.NET Core, Teilansichten, partial
ms.author: riande
manager: wpickett
ms.date: 03/14/2017
ms.topic: article
ms.assetid: 4be1b12c-b74e-44ff-826b-99ce86e8d464
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/views/partial
ms.openlocfilehash: 60f5255ca31accbffffec18053b29810977a5ff1
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
# <a name="partial-views"></a><span data-ttu-id="24d8c-104">Teilansichten</span><span class="sxs-lookup"><span data-stu-id="24d8c-104">Partial Views</span></span>

<span data-ttu-id="24d8c-105">Durch [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), und [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="24d8c-105">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="24d8c-106">ASP.NET Core MVC unterstützt Teilansichten sind hilfreich, wenn Sie wieder verwendbare Teile der Webseiten, die Sie zwischen verschiedenen Ansichten freigeben möchten.</span><span class="sxs-lookup"><span data-stu-id="24d8c-106">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="24d8c-107">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([Vorgehensweise zum Herunterladen](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="24d8c-107">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="24d8c-108">Was sind Teilansichten?</span><span class="sxs-lookup"><span data-stu-id="24d8c-108">What are Partial Views?</span></span>

<span data-ttu-id="24d8c-109">Eine partielle Ansicht ist eine Sicht, die innerhalb einer anderen Ansicht gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="24d8c-109">A partial view is a view that is rendered within another view.</span></span> <span data-ttu-id="24d8c-110">Die HTML-Ausgabe generiert, die durch Ausführen der Teilansicht wird in der Ansicht aufrufen (oder übergeordneten) gerendert.</span><span class="sxs-lookup"><span data-stu-id="24d8c-110">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="24d8c-111">Ebenso wie die Ansichten, Teilansichten verwenden die *cshtml* Dateierweiterung.</span><span class="sxs-lookup"><span data-stu-id="24d8c-111">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="24d8c-112">Wann sollte ich Teilansichten verwenden?</span><span class="sxs-lookup"><span data-stu-id="24d8c-112">When Should I Use Partial Views?</span></span>

<span data-ttu-id="24d8c-113">Teilansichten sind eine effektive Möglichkeit zum Aufteilen von großen Ansichten in kleinere Komponenten.</span><span class="sxs-lookup"><span data-stu-id="24d8c-113">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="24d8c-114">Sie können die Duplizierung Inhalt anzeigen verringert und Zulassen von Ansichtselementen wiederverwendet wird.</span><span class="sxs-lookup"><span data-stu-id="24d8c-114">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="24d8c-115">Allgemeine Layoutelemente sollte angegeben werden, [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="24d8c-115">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="24d8c-116">Nicht-Layout wiederverwendbaren Inhalt kann in Teilansichten gekapselt werden.</span><span class="sxs-lookup"><span data-stu-id="24d8c-116">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="24d8c-117">Wenn Sie eine komplexe Seite setzt sich aus mehreren logischen Teilen verfügen, kann es hilfreich sein, die mit jedem Datenelement als eigene partielle Ansicht arbeiten sein.</span><span class="sxs-lookup"><span data-stu-id="24d8c-117">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="24d8c-118">Jeder Teil der Seite kann isoliert vom Rest der Seite angezeigt werden, und die Ansicht für die Seite selbst wird viel einfacher, da sie nur die allgemeine Seitenstruktur und der Aufrufe an die Teilansichten zu rendern enthält.</span><span class="sxs-lookup"><span data-stu-id="24d8c-118">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="24d8c-119">Tipp: Führen Sie die [Don't wiederholen selbst Prinzip](http://deviq.com/don-t-repeat-yourself/) in Ihren Ansichten.</span><span class="sxs-lookup"><span data-stu-id="24d8c-119">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="24d8c-120">Deklarieren von Teilansichten</span><span class="sxs-lookup"><span data-stu-id="24d8c-120">Declaring Partial Views</span></span>

<span data-ttu-id="24d8c-121">Teilansichten werden wie jede andere Sicht erstellt: Sie erstellen eine *cshtml* innerhalb der *Ansichten* Ordner.</span><span class="sxs-lookup"><span data-stu-id="24d8c-121">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="24d8c-122">Es gibt keine semantische Unterschied zwischen einer Teilansicht und eine reguläre Ansicht - sie werden lediglich anders gerendert.</span><span class="sxs-lookup"><span data-stu-id="24d8c-122">There is no semantic difference between a partial view and a regular view - they are just rendered differently.</span></span> <span data-ttu-id="24d8c-123">Sie können eine Sicht, die direkt von eines Controllers zurückgegeben wird `ViewResult`, und die gleiche Sicht kann verwendet werden, wie eine Teilansicht.</span><span class="sxs-lookup"><span data-stu-id="24d8c-123">You can have a view that is returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="24d8c-124">Der Hauptunterschied zwischen wie eine Sicht und eine partielle Ansicht gerendert werden besteht darin, Teilansichten nicht ausgeführt werden *Ansichten "_viewstart.cshtml"* (während Ansichten erfahren Sie mehr über - *Ansichten "_viewstart.cshtml"* in [Layout ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="24d8c-124">The main difference between how a view and a partial view are rendered is that partial views do not run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="24d8c-125">Verweisen auf eine Teilansicht</span><span class="sxs-lookup"><span data-stu-id="24d8c-125">Referencing a Partial View</span></span>

<span data-ttu-id="24d8c-126">Von innerhalb einer Seite anzeigen und gibt es mehrere Möglichkeiten einer Teilansicht rendern.</span><span class="sxs-lookup"><span data-stu-id="24d8c-126">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="24d8c-127">Die am einfachsten ist die Verwendung `Html.Partial`, welche gibt eine `IHtmlString` kann verwiesen werden, durch den Aufruf mit voranstellen `@`:</span><span class="sxs-lookup"><span data-stu-id="24d8c-127">The simplest is to use `Html.Partial`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=9)]

<span data-ttu-id="24d8c-128">Die `PartialAsync` Methode ist verfügbar, für teilweise mit asynchronen Code anzeigt (obwohl Code in den Ansichten im Allgemeinen nicht empfehlenswert ist):</span><span class="sxs-lookup"><span data-stu-id="24d8c-128">The `PartialAsync` method is available for partial views containing asynchronous code (although code in views is generally discouraged):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="24d8c-129">Sie können eine Teilansicht mit Rendern `RenderPartial`.</span><span class="sxs-lookup"><span data-stu-id="24d8c-129">You can render a partial view with `RenderPartial`.</span></span> <span data-ttu-id="24d8c-130">Diese Methode wird nicht ein Ergebnis zurückgegeben. Er überträgt die gerenderte Ausgabe direkt in die Antwort.</span><span class="sxs-lookup"><span data-stu-id="24d8c-130">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="24d8c-131">Da es ein Ergebnis zurückgibt, muss er innerhalb eines Blocks der Razor-Code aufgerufen werden (Sie können auch aufrufen `RenderPartialAsync` bei Bedarf):</span><span class="sxs-lookup"><span data-stu-id="24d8c-131">Because it doesn't return a result, it must be called within a Razor code block (you can also call `RenderPartialAsync` if necessary):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=10-12)]

<span data-ttu-id="24d8c-132">Da es direkt das Ergebnis streamt `RenderPartial` und `RenderPartialAsync` möglicherweise eine bessere Leistung in einigen Szenarien.</span><span class="sxs-lookup"><span data-stu-id="24d8c-132">Because it streams the result directly, `RenderPartial` and `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="24d8c-133">Verwenden Sie in den meisten Fällen es, Sie empfohlen ist jedoch `Partial` und `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="24d8c-133">However, in most cases it's recommended you use `Partial` and `PartialAsync`.</span></span>

> [!NOTE]
> <span data-ttu-id="24d8c-134">Wenn Ihre Ansichten zum Ausführen von Code müssen, das empfohlene Muster ist die Verwendung einer [Ansichtskomponente](view-components.md) anstelle einer Teilansicht.</span><span class="sxs-lookup"><span data-stu-id="24d8c-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="24d8c-135">Teilansicht-Ermittlung</span><span class="sxs-lookup"><span data-stu-id="24d8c-135">Partial View Discovery</span></span>

<span data-ttu-id="24d8c-136">Wenn eine Teilansicht verwiesen wird, finden Sie in ihrem Speicherort auf verschiedene Weise:</span><span class="sxs-lookup"><span data-stu-id="24d8c-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```text
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@Html.Partial("ViewName")

// A view with this name must be in the same folder
@Html.Partial("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@Html.Partial("~/Views/Folder/ViewName.cshtml")
@Html.Partial("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@Html.Partial("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="24d8c-137">Sie können verschiedene Teilansichten mit dem gleichen Namen in andere Ansichtordner verfügen.</span><span class="sxs-lookup"><span data-stu-id="24d8c-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="24d8c-138">Wenn die Ansichten von Namen (ohne Dateierweiterung) verwiesen wird, werden Ansichten im jeweiligen Ordner Teilansicht im gleichen Ordner mit diesen verwenden.</span><span class="sxs-lookup"><span data-stu-id="24d8c-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="24d8c-139">Sie können auch angeben eine Standard-Teilansicht zu verwenden, legen Sie das Element in der *Shared* Ordner.</span><span class="sxs-lookup"><span data-stu-id="24d8c-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="24d8c-140">Die freigegebene Teilansicht wird von Sichten verwendet werden, die nicht über eine eigene Version der Teilansicht verfügen.</span><span class="sxs-lookup"><span data-stu-id="24d8c-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="24d8c-141">Können Sie eine partielle Standardansicht haben (in *Shared*), die durch eine Teilansicht mit dem gleichen Namen im gleichen Ordner wie die übergeordnete Ansicht überschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="24d8c-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="24d8c-142">Teilansichten können werden *verkettet*.</span><span class="sxs-lookup"><span data-stu-id="24d8c-142">Partial views can be *chained*.</span></span> <span data-ttu-id="24d8c-143">Eine Teilansicht kann also eine andere partielle Ansicht aufrufen, (solange Sie keine Schleife erstellen).</span><span class="sxs-lookup"><span data-stu-id="24d8c-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="24d8c-144">Sind relative Pfade innerhalb jeder Sicht oder eine Teilansicht immer relativ zu dieser Ansicht anzeigen, nicht der Stammknoten oder übergeordneter aus.</span><span class="sxs-lookup"><span data-stu-id="24d8c-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="24d8c-145">Wenn Sie deklarieren eine [Razor](razor.md) `section` in eine Teilansicht, es werden für zugehöriger sichtbar; sie werden auf die Teilansicht beschränkt.</span><span class="sxs-lookup"><span data-stu-id="24d8c-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="24d8c-146">Zugriff auf Daten aus Teilansichten</span><span class="sxs-lookup"><span data-stu-id="24d8c-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="24d8c-147">Wenn eine Teilansicht instanziiert wird, ruft Sie eine Kopie der übergeordneten Ansicht `ViewData` Wörterbuch.</span><span class="sxs-lookup"><span data-stu-id="24d8c-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="24d8c-148">Updates an, um die Daten in die partielle Ansicht werden nicht in der übergeordneten Ansicht beibehalten.</span><span class="sxs-lookup"><span data-stu-id="24d8c-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="24d8c-149">`ViewData`geändert in eine partielle Ansicht geht verloren, wenn die Teilansicht zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="24d8c-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="24d8c-150">Sie können eine Instanz von übergeben `ViewDataDictionary` zur Teilansicht:</span><span class="sxs-lookup"><span data-stu-id="24d8c-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```csharp
@Html.Partial("PartialName", customViewData)
   ```

<span data-ttu-id="24d8c-151">Sie können auch ein Modell in einer Teilansicht übergeben.</span><span class="sxs-lookup"><span data-stu-id="24d8c-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="24d8c-152">Dies kann Ansichtsmodell, in der Seite oder einem Teil davon oder ein benutzerdefiniertes Objekt sein.</span><span class="sxs-lookup"><span data-stu-id="24d8c-152">This can be the page's view model, or some portion of it, or a custom object.</span></span> <span data-ttu-id="24d8c-153">Sie können ein Miningmodell übergeben `Partial`,`PartialAsync`, `RenderPartial`, oder `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="24d8c-153">You can pass a model to `Partial`,`PartialAsync`, `RenderPartial`, or `RenderPartialAsync`:</span></span>

```csharp
@Html.Partial("PartialName", viewModel)
   ```

<span data-ttu-id="24d8c-154">Sie können eine Instanz von übergeben `ViewDataDictionary` und einem Ansichtsmodell in eine partielle Ansicht:</span><span class="sxs-lookup"><span data-stu-id="24d8c-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="24d8c-155">Das Markup veranschaulicht die *Views/Articles/Read.cshtml* anzeigen, die zwei Teilansichten enthält.</span><span class="sxs-lookup"><span data-stu-id="24d8c-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="24d8c-156">Die zweite Teilansicht übergibt in einem Modell und `ViewData` auf die Teilansicht.</span><span class="sxs-lookup"><span data-stu-id="24d8c-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="24d8c-157">Sie können neue übergeben `ViewData` Wörterbuch Beibehaltung der vorhandenen `ViewData` bei Verwendung der Überladung des Konstruktors von der `ViewDataDictionary` unten markiert:</span><span class="sxs-lookup"><span data-stu-id="24d8c-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="24d8c-158">*Ansichten/freigegeben/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="24d8c-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="24d8c-159">Die *ArticleSection* partielle:</span><span class="sxs-lookup"><span data-stu-id="24d8c-159">The *ArticleSection* partial:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="24d8c-160">Zur Laufzeit die Replikatsgruppenelemente gerendert werden in der übergeordneten Ansicht, die selbst gerendert wird innerhalb der freigegebenen *_Layout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="24d8c-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![Teilansicht-Ausgabe](partial/_static/output.png)
