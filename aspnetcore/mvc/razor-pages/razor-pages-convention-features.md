---
title: 'Razor-Seiten: Routen- und App-Konventionsfeatures in ASP.NET Core'
author: guardrex
description: Erfahren Sie, wie Konventionsfeatures für Routen- und App-Modellanbieter Sie beim Steuern von Seitenrouting, Ermittlung und Verarbeitung unterstützen können.
manager: wpickett
ms.author: riande
ms.date: 10/23/2017
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: mvc/razor-pages/razor-pages-convention-features
ms.openlocfilehash: bf1c895fc972310d5541d0098226d58b8183e320
ms.sourcegitcommit: a510f38930abc84c4b302029d019a34dfe76823b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/30/2018
---
# <a name="razor-pages-route-and-app-convention-features-in-aspnet-core"></a><span data-ttu-id="8d8fd-103">Razor-Seiten: Routen- und App-Konventionsfeatures in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="8d8fd-103">Razor Pages route and app convention features in ASP.NET Core</span></span>

<span data-ttu-id="8d8fd-104">Von [Luke Latham](https://github.com/guardrex)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-104">By [Luke Latham](https://github.com/guardrex)</span></span>

<span data-ttu-id="8d8fd-105">Erfahren Sie, wie Sie in Apps für Razor-Seiten mithilfe von Seitenrouten- und Konventionsfeatures für App-Modellanbieter das Seitenrouting, die Ermittlung und die Verarbeitung steuern können.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-105">Learn how to use page route and app model provider convention features to control page routing, discovery, and processing in Razor Pages apps.</span></span> <span data-ttu-id="8d8fd-106">Wenn Sie für einzelne Seiten benutzerdefinierte Seitenrouten konfigurieren müssen, sollten Sie das Routing zu den Seiten mithilfe der [AddPageRoute-Konvention](#configure-a-page-route) konfigurieren, die weiter unten in diesem Artikel beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-106">When you need to configure custom page routes for individual pages, configure routing to pages with the [AddPageRoute convention](#configure-a-page-route) described later in this topic.</span></span>

<span data-ttu-id="8d8fd-107">Verwenden Sie die [Beispielanwendung](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/razor-pages/razor-pages-convention-features/sample) ([Download-Anleitung](xref:tutorials/index#how-to-download-a-sample)), um die in diesem Artikel beschriebenen Features auszuprobieren.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-107">Use the [sample app](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/razor-pages/razor-pages-convention-features/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample)) to explore the features described in this topic.</span></span>

| <span data-ttu-id="8d8fd-108">Features</span><span class="sxs-lookup"><span data-stu-id="8d8fd-108">Features</span></span> | <span data-ttu-id="8d8fd-109">Dieses Beispiel veranschaulicht Folgendes:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-109">The sample demonstrates ...</span></span> |
| -------- | --------------------------- |
| [<span data-ttu-id="8d8fd-110">Routen- und App-Modellkonventionen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-110">Route and app model conventions</span></span>](#add-route-and-app-model-conventions)<br><br><span data-ttu-id="8d8fd-111">Conventions.Add</span><span class="sxs-lookup"><span data-stu-id="8d8fd-111">Conventions.Add</span></span><ul><li><span data-ttu-id="8d8fd-112">IPageRouteModelConvention</span><span class="sxs-lookup"><span data-stu-id="8d8fd-112">IPageRouteModelConvention</span></span></li><li><span data-ttu-id="8d8fd-113">IPageApplicationModelConvention</span><span class="sxs-lookup"><span data-stu-id="8d8fd-113">IPageApplicationModelConvention</span></span></li></ul> | <span data-ttu-id="8d8fd-114">Hinzufügen einer Routenvorlage und eines Headers zu den Seiten einer App</span><span class="sxs-lookup"><span data-stu-id="8d8fd-114">Adding a route template and header to an app's pages.</span></span> |
| [<span data-ttu-id="8d8fd-115">Konventionen für Seitenroutenaktionen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-115">Page route action conventions</span></span>](#page-route-action-conventions)<ul><li><span data-ttu-id="8d8fd-116">AddFolderRouteModelConvention</span><span class="sxs-lookup"><span data-stu-id="8d8fd-116">AddFolderRouteModelConvention</span></span></li><li><span data-ttu-id="8d8fd-117">AddPageRouteModelConvention</span><span class="sxs-lookup"><span data-stu-id="8d8fd-117">AddPageRouteModelConvention</span></span></li><li><span data-ttu-id="8d8fd-118">AddPageRoute</span><span class="sxs-lookup"><span data-stu-id="8d8fd-118">AddPageRoute</span></span></li></ul> | <span data-ttu-id="8d8fd-119">Hinzufügen einer Routenvorlage zu Seiten in einem Ordner und zu einer Einzelseite</span><span class="sxs-lookup"><span data-stu-id="8d8fd-119">Adding a route template to pages in a folder and to a single page.</span></span> |
| [<span data-ttu-id="8d8fd-120">Konventionen für Seitenmodellaktionen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-120">Page model action conventions</span></span>](#page-model-action-conventions)<ul><li><span data-ttu-id="8d8fd-121">AddFolderApplicationModelConvention</span><span class="sxs-lookup"><span data-stu-id="8d8fd-121">AddFolderApplicationModelConvention</span></span></li><li><span data-ttu-id="8d8fd-122">AddPageApplicationModelConvention</span><span class="sxs-lookup"><span data-stu-id="8d8fd-122">AddPageApplicationModelConvention</span></span></li><li><span data-ttu-id="8d8fd-123">ConfigureFilter (Filterklasse, Lambdaausdruck oder Filterzuordnungsinstanz)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-123">ConfigureFilter (filter class, lambda expression, or filter factory)</span></span></li></ul> | <span data-ttu-id="8d8fd-124">Hinzufügen eines Headers zu Seiten in einem Ordner, Hinzufügen eines Headers zu einer Einzelseite sowie Konfigurieren einer [Filterzuordnungsinstanz](xref:mvc/controllers/filters#ifilterfactory), um einen Header zu den Seiten einer App hinzuzufügen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-124">Adding a header to pages in a folder, adding a header to a single page, and configuring a [filter factory](xref:mvc/controllers/filters#ifilterfactory) to add a header to an app's pages.</span></span> |
| [<span data-ttu-id="8d8fd-125">Standardanbieter Seitenanwendungsmodelle</span><span class="sxs-lookup"><span data-stu-id="8d8fd-125">Default page app model provider</span></span>](#replace-the-default-page-app-model-provider) | <span data-ttu-id="8d8fd-126">Ersetzen des Standardanbieters für Seitenmodelle, um die Konventionen für die Benennung von Handlern zu verändern</span><span class="sxs-lookup"><span data-stu-id="8d8fd-126">Replacing the default page model provider to change the conventions for handler naming.</span></span> |

## <a name="add-route-and-app-model-conventions"></a><span data-ttu-id="8d8fd-127">Hinzufügen von Routen- und App-Modellkonventionen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-127">Add route and app model conventions</span></span>

<span data-ttu-id="8d8fd-128">Fügen Sie einen Delegaten für [IPageConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageconvention) hinzu, um Routen- und App-Modellkonventionen hinzuzufügen, die auf Razor-Seiten anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-128">Add a delegate for [IPageConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageconvention) to add route and app model conventions that apply to Razor Pages.</span></span>

<span data-ttu-id="8d8fd-129">**Hinzufügen einer Routenmodellkonvention zu allen Seiten**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-129">**Add a route model convention to all pages**</span></span>

<span data-ttu-id="8d8fd-130">Verwenden Sie [Conventions](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.razorpagesoptions.conventions) zum Erstellen und Hinzufügen einer [IPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelconvention) zur Auflistung der [IPageConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageconvention)-Instanzen, die während der Erstellung von Routen und Seitenmodellen eingesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-130">Use [Conventions](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.razorpagesoptions.conventions) to create and add an [IPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelconvention) to the collection of [IPageConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageconvention) instances that are applied during route and page model construction.</span></span>

<span data-ttu-id="8d8fd-131">Die Beispielanwendung fügt dann zu allen Seiten der App eine `{globalTemplate?}`-Routenvorlage hinzu:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-131">The sample app adds a `{globalTemplate?}` route template to all of the pages in the app:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Conventions/GlobalTemplatePageRouteModelConvention.cs?name=snippet1)]

> [!NOTE]
> <span data-ttu-id="8d8fd-132">Die Eigenschaft `Order` ist für das `AttributeRouteModel` auf `0` (null) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-132">The `Order` property for the `AttributeRouteModel` is set to `0` (zero).</span></span> <span data-ttu-id="8d8fd-133">Dadurch wird sichergestellt, dass diese Vorlage in Bezug auf die erste Position für einen Routendatenwert vorgezogen wird, wenn nur ein einziger Routenwert angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-133">This ensures that this template is given priority for the first route data value position when a single route value is provided.</span></span> <span data-ttu-id="8d8fd-134">Beispielsweise wird durch die Beispielanwendung weiter unten in diesem Artikel eine `{aboutTemplate?}`-Routenvorlage hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-134">For example, the sample adds an `{aboutTemplate?}` route template later in the topic.</span></span> <span data-ttu-id="8d8fd-135">Die Vorlage `{aboutTemplate?}` erhält den `Order` von `1`.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-135">The `{aboutTemplate?}` template is given an `Order` of `1`.</span></span> <span data-ttu-id="8d8fd-136">Wenn die Seite „Info“ unter `/About/RouteDataValue` angefordert wird, wird „RouteDataValue“ in die Vorlage `RouteData.Values["globalTemplate"]` geladen (`Order = 0`) und nicht in `RouteData.Values["aboutTemplate"]` (`Order = 1`), da die Eigenschaft `Order` auf null festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-136">When the About page is requested at `/About/RouteDataValue`, "RouteDataValue" is loaded into `RouteData.Values["globalTemplate"]` (`Order = 0`) and not `RouteData.Values["aboutTemplate"]` (`Order = 1`) due to setting the `Order` property.</span></span>

<span data-ttu-id="8d8fd-137">*Startup.cs*:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-137">*Startup.cs*:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet1)]

<span data-ttu-id="8d8fd-138">Fordern Sie die Seite „Info“ der Beispielanwendung unter `localhost:5000/About/GlobalRouteValue` an, und prüfen Sie das Ergebnis:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-138">Request the sample's About page at `localhost:5000/About/GlobalRouteValue` and inspect the result:</span></span>

![Die Seite „Info“ wird mit einem Routensegment von GlobalRouteValue angefordert.](razor-pages-convention-features/_static/about-page-global-template.png)

<span data-ttu-id="8d8fd-141">**Hinzufügen einer App-Modellkonvention zu allen Seiten**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-141">**Add an app model convention to all pages**</span></span>

<span data-ttu-id="8d8fd-142">Verwenden Sie [Conventions](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.razorpagesoptions.conventions) zum Erstellen und Hinzufügen einer [IPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelconvention) zur Auflistung der [IPageConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageconvention)-Instanzen, die während der Erstellung von Routen und Seitenmodellen eingesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-142">Use [Conventions](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.razorpagesoptions.conventions) to create and add an [IPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelconvention) to the collection of [IPageConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageconvention) instances that are applied during route and page model construction.</span></span>

<span data-ttu-id="8d8fd-143">Die Beispielanwendung enthält eine `AddHeaderAttribute`-Klasse, damit das Verwenden dieser und anderer Konventionen weiter unten in diesem Thema gezeigt werden kann.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-143">To demonstrate this and other conventions later in the topic, the sample app includes an `AddHeaderAttribute` class.</span></span> <span data-ttu-id="8d8fd-144">Der Klassenkonstruktor akzeptiert eine `name`-Zeichenfolge und ein `values`-Zeichenfolgenarray.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-144">The class constructor accepts a `name` string and a `values` string array.</span></span> <span data-ttu-id="8d8fd-145">Diese Werte werden in seiner `OnResultExecuting`-Methode verwendet, um einen Antwortheader einzurichten.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-145">These values are used in its `OnResultExecuting` method to set a response header.</span></span> <span data-ttu-id="8d8fd-146">Die Klasse wird im Abschnitt [Seitenmodellaktionskonventionen](#page-model-action-conventions) weiter unten in diesem Artikel erläutert.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-146">The full class is shown in the [Page model action conventions](#page-model-action-conventions) section later in the topic.</span></span>

<span data-ttu-id="8d8fd-147">Die Beispielanwendung verwendet die Klasse `AddHeaderAttribute`, um den Header `GlobalHeader` zu allen Seiten der Anwendung hinzuzufügen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-147">The sample app uses the `AddHeaderAttribute` class to add a header, `GlobalHeader`, to all of the pages in the app:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Conventions/GlobalHeaderPageApplicationModelConvention.cs?name=snippet1)]

<span data-ttu-id="8d8fd-148">*Startup.cs*:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-148">*Startup.cs*:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet2)]

<span data-ttu-id="8d8fd-149">Fordern Sie die Seite „Info“ der Beispielanwendung unter `localhost:5000/About` an, und überprüfen Sie die Header, um das Ergebnis zu sehen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-149">Request the sample's About page at `localhost:5000/About` and inspect the headers to view the result:</span></span>

![Antwortheader der Seite „Info“ zeigen an, dass „GlobalHeader“ hinzugefügt wurde.](razor-pages-convention-features/_static/about-page-global-header.png)

## <a name="page-route-action-conventions"></a><span data-ttu-id="8d8fd-151">Konventionen für Seitenroutenaktionen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-151">Page route action conventions</span></span>

<span data-ttu-id="8d8fd-152">Der Standardanbieter für Routenmodelle, der von [IPageRouteModelProvider](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelprovider) abgeleitet wird, ruft Konventionen auf, die entwickelt wurden, um Erweiterungspunkte zum Konfigurieren von Seitenrouten bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-152">The default route model provider that derives from [IPageRouteModelProvider](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelprovider) invokes conventions which are designed to provide extensibility points for configuring page routes.</span></span>

<span data-ttu-id="8d8fd-153">**Ordnerroutenmodellkonvention**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-153">**Folder route model convention**</span></span>

<span data-ttu-id="8d8fd-154">Verwenden Sie [AddFolderRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addfolderroutemodelconvention) zum Erstellen und Hinzufügen von [IPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelconvention), wodurch für alle Seiten im angegebenen Ordner eine Aktion auf dem [PageRouteModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageroutemodel) aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-154">Use [AddFolderRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addfolderroutemodelconvention) to create and add an [IPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelconvention) that invokes an action on the [PageRouteModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageroutemodel) for all of the pages under the specified folder.</span></span>

<span data-ttu-id="8d8fd-155">Die Beispielanwendung verwendet `AddFolderRouteModelConvention`, um eine `{otherPagesTemplate?}`-Routenvorlage zu den Seiten im Ordner *OtherPages* hinzuzufügen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-155">The sample app uses `AddFolderRouteModelConvention` to add an `{otherPagesTemplate?}` route template to the pages in the *OtherPages* folder:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet3)]

> [!NOTE]
> <span data-ttu-id="8d8fd-156">Die Eigenschaft `Order` ist für das `AttributeRouteModel` auf `1` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-156">The `Order` property for the `AttributeRouteModel` is set to `1`.</span></span> <span data-ttu-id="8d8fd-157">Dadurch wird sichergestellt, dass die Vorlage für `{globalTemplate?}`, die weiter oben in diesem Artikel festgelegt wurde, in Bezug auf die erste Position für einen Routendatenwert vorgezogen wird, wenn nur ein einziger Routenwert angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-157">This ensures that the template for `{globalTemplate?}` (set earlier in the topic) is given priority for the first route data value position when a single route value is provided.</span></span> <span data-ttu-id="8d8fd-158">Falls die Seite „Seite1“ unter `/OtherPages/Page1/RouteDataValue` angefordert wird, wird „RouteDataValue“ in die Vorlage `RouteData.Values["globalTemplate"]` geladen (`Order = 0`) und nicht in `RouteData.Values["otherPagesTemplate"]` (`Order = 1`), da die Eigenschaft `Order` auf null festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-158">If the Page1 page is requested at `/OtherPages/Page1/RouteDataValue`, "RouteDataValue" is loaded into `RouteData.Values["globalTemplate"]` (`Order = 0`) and not `RouteData.Values["otherPagesTemplate"]` (`Order = 1`) due to setting the `Order` property.</span></span>

<span data-ttu-id="8d8fd-159">Fordern Sie die Seite „Seite1“ der Beispielanwendung unter `localhost:5000/OtherPages/Page1/GlobalRouteValue/OtherPagesRouteValue` an, und prüfen Sie das Ergebnis:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-159">Request the sample's Page1 page at `localhost:5000/OtherPages/Page1/GlobalRouteValue/OtherPagesRouteValue` and inspect the result:</span></span>

![Seite1 aus dem Ordner „OtherPages“ wird mit einem Routensegment von GlobalRouteValue und OtherPagesRouteValue angefordert.](razor-pages-convention-features/_static/otherpages-page1-global-and-otherpages-templates.png)

<span data-ttu-id="8d8fd-162">**Seitenroutenmodellkonvention**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-162">**Page route model convention**</span></span>

<span data-ttu-id="8d8fd-163">Verwenden Sie [AddPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addpageroutemodelconvention) zum Erstellen und Hinzufügen einer [IPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelconvention), die für die Seite mit dem angegebenen Namen eine Aktion auf dem [PageRouteModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageroutemodel) aufruft.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-163">Use [AddPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addpageroutemodelconvention) to create and add an [IPageRouteModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageroutemodelconvention) that invokes an action on the [PageRouteModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageroutemodel) for the page with the specified name.</span></span>

<span data-ttu-id="8d8fd-164">Die Beispielanwendung verwendet `AddPageRouteModelConvention`, um eine `{aboutTemplate?}`-Routenvorlage zu der Seite „Info“ hinzuzufügen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-164">The sample app uses `AddPageRouteModelConvention` to add an `{aboutTemplate?}` route template to the About page:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet4)]

> [!NOTE]
> <span data-ttu-id="8d8fd-165">Die Eigenschaft `Order` ist für das `AttributeRouteModel` auf `1` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-165">The `Order` property for the `AttributeRouteModel` is set to `1`.</span></span> <span data-ttu-id="8d8fd-166">Dadurch wird sichergestellt, dass die Vorlage für `{globalTemplate?}`, die weiter oben in diesem Artikel festgelegt wurde, in Bezug auf die erste Position für einen Routendatenwert vorgezogen wird, wenn nur ein einziger Routenwert angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-166">This ensures that the template for `{globalTemplate?}` (set earlier in the topic) is given priority for the first route data value position when a single route value is provided.</span></span> <span data-ttu-id="8d8fd-167">Falls die Seite „Info“ unter `/About/RouteDataValue` angefordert wird, wird „RouteDataValue“ in die Vorlage `RouteData.Values["globalTemplate"]` geladen (`Order = 0`) und nicht in `RouteData.Values["aboutTemplate"]` (`Order = 1`), da die Eigenschaft `Order` auf null festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-167">If the About page is requested at `/About/RouteDataValue`, "RouteDataValue" is loaded into `RouteData.Values["globalTemplate"]` (`Order = 0`) and not `RouteData.Values["aboutTemplate"]` (`Order = 1`) due to setting the `Order` property.</span></span>

<span data-ttu-id="8d8fd-168">Fordern Sie die Seite „Info“ der Beispielanwendung unter `localhost:5000/About/GlobalRouteValue/AboutRouteValue` an, und prüfen Sie das Ergebnis:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-168">Request the sample's About page at `localhost:5000/About/GlobalRouteValue/AboutRouteValue` and inspect the result:</span></span>

![Die Seite „Info“ wird mit Routensegmenten für GlobalRouteValue und AboutRouteValue angefordert.](razor-pages-convention-features/_static/about-page-global-and-about-templates.png)

## <a name="configure-a-page-route"></a><span data-ttu-id="8d8fd-171">Konfigurieren einer Seitenroute</span><span class="sxs-lookup"><span data-stu-id="8d8fd-171">Configure a page route</span></span>

<span data-ttu-id="8d8fd-172">Konfigurieren Sie mithilfe von [AddPageRoute](/dotnet/api/microsoft.extensions.dependencyinjection.pageconventioncollectionextensions.addpageroute) eine Route zu einer Seite am angegebenen Seitenpfad.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-172">Use [AddPageRoute](/dotnet/api/microsoft.extensions.dependencyinjection.pageconventioncollectionextensions.addpageroute) to configure a route to a page at the specified page path.</span></span> <span data-ttu-id="8d8fd-173">Generierte Links, die auf die Seite verweisen, verwenden die von Ihnen angegebene Route.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-173">Generated links to the page use your specified route.</span></span> <span data-ttu-id="8d8fd-174">`AddPageRoute` verwendet die `AddPageRouteModelConvention` zum Aufbauen der Route.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-174">`AddPageRoute` uses `AddPageRouteModelConvention` to establish the route.</span></span>

<span data-ttu-id="8d8fd-175">Die Beispielanwendung erstellt für *Contact.cshtml* eine Route zur Seite `/TheContactPage`:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-175">The sample app creates a route to `/TheContactPage` for *Contact.cshtml*:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet5)]

<span data-ttu-id="8d8fd-176">Die Seite „Kontakt“ kann auch unter `/Contact` über ihre Standardroute erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-176">The Contact page can also be reached at `/Contact` via its default route.</span></span>

<span data-ttu-id="8d8fd-177">Die benutzerdefinierte Route der Beispielanwendung, die zur Seite „Kontakt“ führt, ermöglicht das Verwenden eines optionalen `text`-Routensegments (`{text?}`).</span><span class="sxs-lookup"><span data-stu-id="8d8fd-177">The sample app's custom route to the Contact page allows for an optional `text` route segment (`{text?}`).</span></span> <span data-ttu-id="8d8fd-178">Die Seite enthält dieses optionale Segment auch in ihrer `@page`-Anweisung, für den Fall, dass der Besucher über die `/Contact`-Route auf die Seite zugreift:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-178">The page also includes this optional segment in its `@page` directive in case the visitor accesses the page at its `/Contact` route:</span></span>

[!code-cshtml[Main](razor-pages-convention-features/sample/Pages/Contact.cshtml?highlight=1)]

<span data-ttu-id="8d8fd-179">Beachten Sie, dass die URL, die für den Link **Kontakt** in der gerenderten Seite generiert wurde, die aktualisierte Route widerspiegelt:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-179">Note that the URL generated for the **Contact** link in the rendered page reflects the updated route:</span></span>

![Kontaktlink der Beispielanwendung in der Navigationsleiste](razor-pages-convention-features/_static/contact-link.png)

![Beim Überprüfen des Kontaktlinks in der gerenderten HTML zeigt sich, dass das HREF-Attribut auf „/TheContactPage“ festgelegt wurde.](razor-pages-convention-features/_static/contact-link-source.png)

<span data-ttu-id="8d8fd-182">Sie können die Kontaktseite entweder über deren übliche Route, `/Contact`, oder über die benutzerdefinierte Route, `/TheContactPage`, besuchen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-182">Visit the Contact page at either its ordinary route, `/Contact`, or the custom route, `/TheContactPage`.</span></span> <span data-ttu-id="8d8fd-183">Wenn Sie ein zusätzliches `text`-Routensegment bereitstellen, wird dieses HTML-codierte Segment auf der Seite angezeigt:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-183">If you supply an additional `text` route segment, the page shows the HTML-encoded segment that you provide:</span></span>

![Beispiel für das Bereitstellen eines optionalen „Text“-Routensegments mit „TextValue“ in der URL in der Ansicht des Microsoft Edge-Browsers](razor-pages-convention-features/_static/route-segment-with-custom-route.png)

## <a name="page-model-action-conventions"></a><span data-ttu-id="8d8fd-186">Konventionen für Seitenmodellaktionen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-186">Page model action conventions</span></span>

<span data-ttu-id="8d8fd-187">Der Standardanbieter für Seitenmodelle, der [IPageApplicationModelProvider](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelprovider) implementiert, ruft Konventionen auf, die entwickelt wurden, um Erweiterungspunkte zum Konfigurieren von Seitenmodellen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-187">The default page model provider that implements [IPageApplicationModelProvider](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelprovider) invokes conventions which are designed to provide extensibility points for configuring page models.</span></span> <span data-ttu-id="8d8fd-188">Diese Konventionen sind beim Erstellen und Ändern von Seitenermittlungs- und Verarbeitungsfeatures hilfreich.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-188">These conventions are useful when building and modifying page discovery and processing features.</span></span>

<span data-ttu-id="8d8fd-189">In den Beispielen in diesem Abschnitt verwendet die Beispielanwendung eine `AddHeaderAttribute`-Klasse, also ein [ResultFilterAttribute](/dotnet/api/microsoft.aspnetcore.mvc.filters.resultfilterattribute), das einen Antwortheader verwendet:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-189">For the examples in this section, the sample app uses an `AddHeaderAttribute` class, which is a [ResultFilterAttribute](/dotnet/api/microsoft.aspnetcore.mvc.filters.resultfilterattribute), that applies a response header:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Filters/AddHeader.cs?name=snippet1)]

<span data-ttu-id="8d8fd-190">Das Beispiel veranschaulicht mithilfe von Konventionen, wie das Attribut auf alle Seiten in einem Ordner und auf eine Einzelseite angewendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-190">Using conventions, the sample demonstrates how to apply the attribute to all of the pages in a folder and to a single page.</span></span>

<span data-ttu-id="8d8fd-191">**Ordner-App-Modellkonvention**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-191">**Folder app model convention**</span></span>

<span data-ttu-id="8d8fd-192">Verwenden Sie [AddFolderApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addfolderapplicationmodelconvention) zum Erstellen und Hinzufügen einer [IPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelconvention), die für alle Seiten in dem angegebenen Ordner eine Aktion in [PageApplicationModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageapplicationmodel)-Instanzen aufruft.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-192">Use [AddFolderApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addfolderapplicationmodelconvention) to create and add an [IPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelconvention) that invokes an action on [PageApplicationModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageapplicationmodel) instances for all pages under the specified folder.</span></span>

<span data-ttu-id="8d8fd-193">Im Beispiel wird die Verwendung der `AddFolderApplicationModelConvention` durch Hinzufügen eines Headers, `OtherPagesHeader`, zu den Seiten im Ordner *OtherPages* der Anwendung veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-193">The sample demonstrates the use of `AddFolderApplicationModelConvention` by adding a header, `OtherPagesHeader`, to the pages inside the *OtherPages* folder of the app:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet6)]

<span data-ttu-id="8d8fd-194">Fordern Sie die Seite „Seite1“ der Beispielanwendung unter `localhost:5000/OtherPages/Page1` an, und prüfen Sie die Header, um das Ergebnis zu sehen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-194">Request the sample's Page1 page at `localhost:5000/OtherPages/Page1` and inspect the headers to view the result:</span></span>

![Antwortheader der Seite „OtherPages/Seite1“ zeigt, dass der OtherPagesHeader hinzugefügt wurde.](razor-pages-convention-features/_static/page1-otherpages-header.png)

<span data-ttu-id="8d8fd-196">**Seiten-App-Modellkonvention**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-196">**Page app model convention**</span></span>

<span data-ttu-id="8d8fd-197">Verwenden Sie [AddPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addpageapplicationmodelconvention) zum Erstellen und Hinzufügen einer [IPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelconvention), die für die Seite mit dem angegebenen Namen eine Aktion im [PageApplicationModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageapplicationmodel) aufruft.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-197">Use [AddPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageconventioncollection.addpageapplicationmodelconvention) to create and add an [IPageApplicationModelConvention](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.ipageapplicationmodelconvention) that invokes an action on the [PageApplicationModel](/dotnet/api/microsoft.aspnetcore.mvc.applicationmodels.pageapplicationmodel) for the page with the speciifed name.</span></span>

<span data-ttu-id="8d8fd-198">Im Beispiel wird das Verwenden von `AddPageApplicationModelConvention` durch Hinzufügen eines Headers, `AboutHeader`, auf der Seite „Info“ veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-198">The sample demonstrates the use of `AddPageApplicationModelConvention` by adding a header, `AboutHeader`, to the About page:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet7)]

<span data-ttu-id="8d8fd-199">Fordern Sie die Seite „Info“ der Beispielanwendung unter `localhost:5000/About` an, und überprüfen Sie die Header, um das Ergebnis zu sehen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-199">Request the sample's About page at `localhost:5000/About` and inspect the headers to view the result:</span></span>

![Antwortheader der Seite „Info“ zeigen, dass AboutHeader hinzugefügt wurde.](razor-pages-convention-features/_static/about-page-about-header.png)

<span data-ttu-id="8d8fd-201">**Konfigurieren eines Filters**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-201">**Configure a filter**</span></span>

<span data-ttu-id="8d8fd-202">Der angegebene Filter, der angewendet werden soll, wird mit [ConfigureFilter](/dotnet/api/microsoft.extensions.dependencyinjection.pageconventioncollectionextensions.configurefilter) konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-202">[ConfigureFilter](/dotnet/api/microsoft.extensions.dependencyinjection.pageconventioncollectionextensions.configurefilter) configures the specified filter to apply.</span></span> <span data-ttu-id="8d8fd-203">Sie können Filterklassen selbst implementieren. In der Beispielanwendung wird jedoch gezeigt, wie Sie einen Filter in einen Lambdaausdruck implementieren. Dieser wird dann im Hintergrund als Zuordnungsinstanz implementiert, die einen Filter zurückgibt:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-203">You can implement a filter class, but the sample app shows how to implement a filter in a lambda expression, which is implemented behind-the-scenes as a factory that returns a filter:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet8)]

<span data-ttu-id="8d8fd-204">Das Seiten-App-Modell wird verwendet, um den relativen Pfad für Segmente zu überprüfen, die zur Seite „Seite2“ im Ordner *OtherPages* führen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-204">The page app model is used to check the relative path for segments that lead to the Page2 page in the *OtherPages* folder.</span></span> <span data-ttu-id="8d8fd-205">Wenn die Bedingung erfüllt ist, wird ein Header hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-205">If the condition passes, a header is added.</span></span> <span data-ttu-id="8d8fd-206">Wenn dies nicht der Fall ist, wird der `EmptyFilter` angewendet.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-206">If not, the `EmptyFilter` is applied.</span></span>

<span data-ttu-id="8d8fd-207">`EmptyFilter` ist ein [Aktionsfilter](xref:mvc/controllers/filters#action-filters).</span><span class="sxs-lookup"><span data-stu-id="8d8fd-207">`EmptyFilter` is an [Action filter](xref:mvc/controllers/filters#action-filters).</span></span> <span data-ttu-id="8d8fd-208">Wenn der Pfad `OtherPages/Page2` nicht enthält, hat der `EmptyFilter`, wie vorgesehen, keine Funktion, da Aktionsfilter von Razor-Seiten ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-208">Since Action filters are ignored by Razor Pages, the `EmptyFilter` no-ops as intended if the path doesn't contain `OtherPages/Page2`.</span></span>

<span data-ttu-id="8d8fd-209">Fordern Sie die Seite „Seite2“ der Beispielanwendung unter `localhost:5000/OtherPages/Page2` an, und prüfen Sie die Header, um das Ergebnis zu sehen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-209">Request the sample's Page2 page at `localhost:5000/OtherPages/Page2` and inspect the headers to view the result:</span></span>

![Der Header „OtherPagesPage2Header“ wird zur Antwort für „Seite2“ hinzugefügt.](razor-pages-convention-features/_static/page2-filter-header.png)

<span data-ttu-id="8d8fd-211">**Konfigurieren einer Filterzuordnungsinstanz**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-211">**Configure a filter factory**</span></span>

<span data-ttu-id="8d8fd-212">Mit [ConfigureFilter](/dotnet/api/microsoft.extensions.dependencyinjection.pageconventioncollectionextensions.configurefilter?view=aspnetcore-2.0#Microsoft_Extensions_DependencyInjection_PageConventionCollectionExtensions_ConfigureFilter_Microsoft_AspNetCore_Mvc_ApplicationModels_PageConventionCollection_System_Func_Microsoft_AspNetCore_Mvc_ApplicationModels_PageApplicationModel_Microsoft_AspNetCore_Mvc_Filters_IFilterMetadata__) wird die angegebene Zuordnungsinstanz so konfiguriert, dass sie [Filter](xref:mvc/controllers/filters) auf alle Razor-Seiten anwendet.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-212">[ConfigureFilter](/dotnet/api/microsoft.extensions.dependencyinjection.pageconventioncollectionextensions.configurefilter?view=aspnetcore-2.0#Microsoft_Extensions_DependencyInjection_PageConventionCollectionExtensions_ConfigureFilter_Microsoft_AspNetCore_Mvc_ApplicationModels_PageConventionCollection_System_Func_Microsoft_AspNetCore_Mvc_ApplicationModels_PageApplicationModel_Microsoft_AspNetCore_Mvc_Filters_IFilterMetadata__) configures the specified factory to apply [filters](xref:mvc/controllers/filters) to all Razor Pages.</span></span>

<span data-ttu-id="8d8fd-213">Die Beispielanwendung bietet Ihnen die Möglichkeit des beispielhaften Verwendens einer [Filterzuordnungsinstanz](xref:mvc/controllers/filters#ifilterfactory) durch Hinzufügen des Headers `FilterFactoryHeader` zu den Seiten der Anwendung, der zwei Werte besitzt:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-213">The sample app provides an example of using a [filter factory](xref:mvc/controllers/filters#ifilterfactory) by adding a header, `FilterFactoryHeader`, with two values to the app's pages:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet9)]

<span data-ttu-id="8d8fd-214">*AddHeaderWithFactory.cs*:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-214">*AddHeaderWithFactory.cs*:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Factories/AddHeaderWithFactory.cs?name=snippet1)]

<span data-ttu-id="8d8fd-215">Fordern Sie die Seite „Info“ der Beispielanwendung unter `localhost:5000/About` an, und überprüfen Sie die Header, um das Ergebnis zu sehen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-215">Request the sample's About page at `localhost:5000/About` and inspect the headers to view the result:</span></span>

![Die Antwortheader der Seite „Info“ zeigen, dass zwei Header des Typs „FilterFactoryHeader“ hinzugefügt wurden.](razor-pages-convention-features/_static/about-page-filter-factory-header.png)

## <a name="replace-the-default-page-app-model-provider"></a><span data-ttu-id="8d8fd-217">Ersetzen der Standardanbieter für Modelle für Seitenanwendungen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-217">Replace the default page app model provider</span></span>

<span data-ttu-id="8d8fd-218">Razor-Seiten verwenden die Schnittstelle `IPageApplicationModelProvider` zum Erstellen von [DefaultPageApplicationModelProvider](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.internal.defaultpageapplicationmodelprovider).</span><span class="sxs-lookup"><span data-stu-id="8d8fd-218">Razor Pages uses the `IPageApplicationModelProvider` interface to create a [DefaultPageApplicationModelProvider](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.internal.defaultpageapplicationmodelprovider).</span></span> <span data-ttu-id="8d8fd-219">Sie können vom Standardanbieter für Modelle das übernehmen, was Sie benötigen, um Ihre eigene Implementierungslogik für die Ermittlung und Verarbeitung von Handlern bereitstellen zu können.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-219">You can inherit from the default model provider to provide your own implementation logic for handler discovery and processing.</span></span> <span data-ttu-id="8d8fd-220">Die Standardimplementierung ([Referenzquelle](https://github.com/aspnet/Mvc/blob/rel/2.0.1/src/Microsoft.AspNetCore.Mvc.RazorPages/Internal/DefaultPageApplicationModelProvider.cs)) erstellt Konventionen zur Benennung von *unbenannten* und *benannten* Handlern, was nachfolgend genauer beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-220">The default implementation ([reference source](https://github.com/aspnet/Mvc/blob/rel/2.0.1/src/Microsoft.AspNetCore.Mvc.RazorPages/Internal/DefaultPageApplicationModelProvider.cs)) establishes conventions for *unnamed* and *named* handler naming, which is described below.</span></span>

<span data-ttu-id="8d8fd-221">**Standardmethoden unbenannter Handler**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-221">**Default unnamed handler methods**</span></span>

<span data-ttu-id="8d8fd-222">Handlermethoden für HTTP-Verben (Methoden „unbenannter“ Handler) folgen der Konvention `On<HTTP verb>[Async]`. Das Anfügen von `Async` ist optional, wird jedoch für asynchrone Methoden empfohlen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-222">Handler methods for HTTP verbs ("unnamed" handler methods) follow a convention: `On<HTTP verb>[Async]` (appending `Async` is optional but recommended for async methods).</span></span>

| <span data-ttu-id="8d8fd-223">Methode eines unbenannten Handlers</span><span class="sxs-lookup"><span data-stu-id="8d8fd-223">Unnamed handler method</span></span>     | <span data-ttu-id="8d8fd-224">Vorgang</span><span class="sxs-lookup"><span data-stu-id="8d8fd-224">Operation</span></span>                      |
| -------------------------- | ------------------------------ |
| `OnGet`/`OnGetAsync`       | <span data-ttu-id="8d8fd-225">Initialisieren des Seitenzustands</span><span class="sxs-lookup"><span data-stu-id="8d8fd-225">Initialize the page state.</span></span>     |
| `OnPost`/`OnPostAsync`     | <span data-ttu-id="8d8fd-226">Verarbeiten von POST-Anforderungen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-226">Handle POST requests.</span></span>          |
| `OnDelete`/`OnDeleteAsync` | <span data-ttu-id="8d8fd-227">Verarbeiten von DELETE-Anforderungen&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-227">Handle DELETE requests&#8224;.</span></span> |
| `OnPut`/`OnPutAsync`       | <span data-ttu-id="8d8fd-228">Verarbeiten von PUT-Anforderungen&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-228">Handle PUT requests&#8224;.</span></span>    |
| `OnPatch`/`OnPatchAsync`   | <span data-ttu-id="8d8fd-229">Verarbeiten von PATCH-Anforderungen&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-229">Handle PATCH requests&#8224;.</span></span>  |

<span data-ttu-id="8d8fd-230">&#8224;Zum Durchführen von API-Aufrufen der Seite</span><span class="sxs-lookup"><span data-stu-id="8d8fd-230">&#8224;Used for making API calls to the page.</span></span>

<span data-ttu-id="8d8fd-231">**Standardmethoden für benannte Handler**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-231">**Default named handler methods**</span></span>

<span data-ttu-id="8d8fd-232">Vom Entwickler zur Verfügung gestellte Handlermethoden (Methoden „benannter“ Handler) folgen einer ähnlichen Konvention.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-232">Handler methods provided by the developer ("named" handler methods) follow a similar convention.</span></span> <span data-ttu-id="8d8fd-233">Der Name des Handlers wird nach dem HTTP-Verb oder zwischen HTTP-Verb und `Async` angezeigt: `On<HTTP verb><handler name>[Async]`. Das Anfügen von `Async` ist optional, wird jedoch für asynchrone Methoden empfohlen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-233">The handler name appears after the HTTP verb or between the HTTP verb and `Async`: `On<HTTP verb><handler name>[Async]` (appending `Async` is optional but recommended for async methods).</span></span> <span data-ttu-id="8d8fd-234">Methoden, die Nachrichten verarbeiten, könnten beispielsweise so benannt sein, wie in der folgenden Tabelle dargestellt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-234">For example, methods that process messages might take the naming shown in the table below.</span></span>

| <span data-ttu-id="8d8fd-235">Beispielmethode eines benannten Handlers</span><span class="sxs-lookup"><span data-stu-id="8d8fd-235">Example named handler method</span></span>             | <span data-ttu-id="8d8fd-236">Beispielvorgang</span><span class="sxs-lookup"><span data-stu-id="8d8fd-236">Example operation</span></span>        |
| ---------------------------------------- | ------------------------ |
| `OnGetMessage`/`OnGetMessageAsync`       | <span data-ttu-id="8d8fd-237">Abrufen einer Nachricht</span><span class="sxs-lookup"><span data-stu-id="8d8fd-237">Obtain a message.</span></span>        |
| `OnPostMessage`/`OnPostMessageAsync`     | <span data-ttu-id="8d8fd-238">POST a message (Versenden einer Nachricht)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-238">POST a message.</span></span>          |
| `OnDeleteMessage`/`OnDeleteMessageAsync` | <span data-ttu-id="8d8fd-239">DELETE a message (Löschen einer Nachricht)&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-239">DELETE a message&#8224;.</span></span> |
| `OnPutMessage`/`OnPutMessageAsync`       | <span data-ttu-id="8d8fd-240">PUT a message (Platzieren einer Nachricht)&#8224;</span><span class="sxs-lookup"><span data-stu-id="8d8fd-240">PUT a message&#8224;.</span></span>    |
| `OnPatchMessage`/`OnPatchMessageAsync`   | <span data-ttu-id="8d8fd-241">PATCH a message (Patch für eine Nachricht anwenden)&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-241">PATCH a message&#8224;.</span></span>  |

<span data-ttu-id="8d8fd-242">&#8224;Zum Durchführen von API-Aufrufen der Seite</span><span class="sxs-lookup"><span data-stu-id="8d8fd-242">&#8224;Used for making API calls to the page.</span></span>

<span data-ttu-id="8d8fd-243">**Anpassen der Namen von Handlermethoden**</span><span class="sxs-lookup"><span data-stu-id="8d8fd-243">**Customize handler method names**</span></span>

<span data-ttu-id="8d8fd-244">Angenommen, Sie möchten unbenannte und benannte Handlermethoden anhand eines anderen Schemas benennen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-244">Assume that you prefer to change the way unnamed and named handler methods are named.</span></span> <span data-ttu-id="8d8fd-245">Ein alternatives Benennungsschema besteht darin, die Methodennamen nicht mit „On“ beginnen zu lassen, sondern das erste Wortsegment zum Bestimmen des HTTP-Verbs zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-245">An alternative naming scheme is to avoid starting the method names with "On" and use the first word segment to determine the HTTP verb.</span></span> <span data-ttu-id="8d8fd-246">Sie können auch andere Änderungen vornehmen, z.B. die Verben für DELETE, PUT und PATCH in POST konvertieren.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-246">You can make other changes, such as converting the verbs for DELETE, PUT, and PATCH to POST.</span></span> <span data-ttu-id="8d8fd-247">Solch ein Schema liefert die Methodennamen, die in der folgenden Tabelle aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-247">Such a scheme provides the method names shown in the following table.</span></span>

| <span data-ttu-id="8d8fd-248">Handlermethode</span><span class="sxs-lookup"><span data-stu-id="8d8fd-248">Handler method</span></span>                       | <span data-ttu-id="8d8fd-249">Vorgang</span><span class="sxs-lookup"><span data-stu-id="8d8fd-249">Operation</span></span>                      |
| ------------------------------------ | ------------------------------ |
| `Get`                                | <span data-ttu-id="8d8fd-250">Initialisieren des Seitenzustands</span><span class="sxs-lookup"><span data-stu-id="8d8fd-250">Initialize the page state.</span></span>     |
| `Post`/`PostAsync`                   | <span data-ttu-id="8d8fd-251">Verarbeiten von POST-Anforderungen</span><span class="sxs-lookup"><span data-stu-id="8d8fd-251">Handle POST requests.</span></span>          |
| `Delete`/`DeleteAsync`               | <span data-ttu-id="8d8fd-252">Verarbeiten von DELETE-Anforderungen&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-252">Handle DELETE requests&#8224;.</span></span> |
| `Put`/`PutAsync`                     | <span data-ttu-id="8d8fd-253">Verarbeiten von PUT-Anforderungen&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-253">Handle PUT requests&#8224;.</span></span>    |
| `Patch`/`PatchAsync`                 | <span data-ttu-id="8d8fd-254">Verarbeiten von PATCH-Anforderungen&#8224;.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-254">Handle PATCH requests&#8224;.</span></span>  |
| `GetMessage`                         | <span data-ttu-id="8d8fd-255">Abrufen einer Nachricht</span><span class="sxs-lookup"><span data-stu-id="8d8fd-255">Obtain a message.</span></span>              |
| `PostMessage`/`PostMessageAsync`     | <span data-ttu-id="8d8fd-256">POST a message (Versenden einer Nachricht)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-256">POST a message.</span></span>                |
| `DeleteMessage`/`DeleteMessageAsync` | <span data-ttu-id="8d8fd-257">POST a message to delete (Versenden einer zu löschenden Nachricht)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-257">POST a message to delete.</span></span>      |
| `PutMessage`/`PutMessageAsync`       | <span data-ttu-id="8d8fd-258">POST a message to put (Versenden einer zu platzierenden Nachricht)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-258">POST a message to put.</span></span>         |
| `PatchMessage`/`PatchMessageAsync`   | <span data-ttu-id="8d8fd-259">POST a message to patch (Versenden einer Nachricht, für die ein Patch angewendet werden soll)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-259">POST a message to patch.</span></span>       |

<span data-ttu-id="8d8fd-260">&#8224;Zum Durchführen von API-Aufrufen der Seite</span><span class="sxs-lookup"><span data-stu-id="8d8fd-260">&#8224;Used for making API calls to the page.</span></span>

<span data-ttu-id="8d8fd-261">Wenn Sie dieses Schema erstellen möchten, muss von der Klasse `DefaultPageApplicationModelProvider` geerbt werden und die Methode [CreateHandlerModel](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.internal.defaultpageapplicationmodelprovider.createhandlermodel) muss überschrieben werden, damit eine benutzerdefinierte Logik zum Auflösen von [PageModel](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.pagemodel)-Handlernamen bereitgestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-261">To establish this scheme, inherit from the `DefaultPageApplicationModelProvider` class and override the [CreateHandlerModel](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.internal.defaultpageapplicationmodelprovider.createhandlermodel) method to supply custom logic for resolving [PageModel](/dotnet/api/microsoft.aspnetcore.mvc.razorpages.pagemodel) handler names.</span></span> <span data-ttu-id="8d8fd-262">In der Beispielanwendung wird anhand der Klasse `CustomPageApplicationModelProvider` gezeigt, wie dies funktioniert:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-262">The sample app shows you how this is done in its `CustomPageApplicationModelProvider` class:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/CustomPageApplicationModelProvider.cs?name=snippet1&highlight=1-2,45-46,64-68,78-85,87,92,106)]

<span data-ttu-id="8d8fd-263">Die Klasse bietet u.a. folgende Vorteile:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-263">Highlights of the class include:</span></span>

* <span data-ttu-id="8d8fd-264">Die Klasse erbt von `DefaultPageApplicationModelProvider`.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-264">The class inherits from `DefaultPageApplicationModelProvider`.</span></span>
* <span data-ttu-id="8d8fd-265">Die `TryParseHandlerMethod` verarbeitet einen Handler, um beim Erstellen von `PageHandlerModel` das HTTP-Verb (`httpMethod`) sowie den Namen des benannten Handlers (`handlerName`) zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-265">The `TryParseHandlerMethod` processes a handler to determine the HTTP verb (`httpMethod`) and named handler name (`handlerName`) when creating the `PageHandlerModel`.</span></span>
  * <span data-ttu-id="8d8fd-266">`Async`-Postfixe werden ignoriert, falls vorhanden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-266">An `Async` postfix is ignored, if present.</span></span>
  * <span data-ttu-id="8d8fd-267">Groß- und Kleinschreibung wird verwendet, um das HTTP-Verb aus dem Methodennamen herauszulesen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-267">Casing is used to parse the HTTP verb from the method name.</span></span>
  * <span data-ttu-id="8d8fd-268">Wenn der Methodenname (ohne `Async`) dem Namen des HTTP-Verbs gleicht, ist kein benannter Handler vorhanden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-268">When the method name (without `Async`) is equal to the HTTP verb name, there's no named handler.</span></span> <span data-ttu-id="8d8fd-269">Der `handlerName` ist auf `null` festgelegt, und der Methodenname lautet `Get`, `Post`, `Delete`, `Put` oder `Patch`.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-269">The `handlerName` is set to `null`, and the method name is `Get`, `Post`, `Delete`, `Put`, or `Patch`.</span></span>
  * <span data-ttu-id="8d8fd-270">Wenn der Methodenname (ohne `Async`) länger als der Name des HTTP-Verbs ist, ist ein benannter Handler vorhanden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-270">When the method name (without `Async`) is longer than the HTTP verb name, there's a named handler.</span></span> <span data-ttu-id="8d8fd-271">`handlerName` wird auf `<method name (less 'Async', if present)>` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-271">The `handlerName` is set to `<method name (less 'Async', if present)>`.</span></span> <span data-ttu-id="8d8fd-272">Beispielsweise geben sowohl „GetMessage“ als auch „GetMessageAsync“ den Handlernamen „GetMessage“ zurück.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-272">For example, both "GetMessage" and "GetMessageAsync" yield a handler name of "GetMessage".</span></span>
  * <span data-ttu-id="8d8fd-273">Die HTTP-Verben DELETE, PUT und PATCH werden in POST konvertiert.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-273">DELETE, PUT, and PATCH HTTP verbs are converted to POST.</span></span>

<span data-ttu-id="8d8fd-274">So registrieren Sie den `CustomPageApplicationModelProvider` in der Klasse `Startup`:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-274">Register the `CustomPageApplicationModelProvider` in the `Startup` class:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Startup.cs?name=snippet10)]

<span data-ttu-id="8d8fd-275">Das Seitenmodell in der Datei *Index.cshtml.cs* zeigt, wie die üblichen Namenskonventionen für Handlermethoden für Seiten in der Anwendung geändert werden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-275">The page model in *Index.cshtml.cs* shows how the ordinary handler method naming conventions are changed for pages in the app.</span></span> <span data-ttu-id="8d8fd-276">Das Präfix „On“, das in Razor-Seiten üblicherweise bei der Benennung verwendet wird, wird entfernt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-276">The ordinary "On" prefix naming used with Razor Pages is removed.</span></span> <span data-ttu-id="8d8fd-277">Die Methode, die den Seitenstatus initialisiert, heißt jetzt `Get`.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-277">The method that initializes the page state is now named `Get`.</span></span> <span data-ttu-id="8d8fd-278">Sie können sehen, dass diese Konvention in der ganzen Anwendung verwendet wird, wenn Sie eines der Seitenmodelle für eine der Seiten öffnen.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-278">You can see this convention used throughout the app if you open any page model for any of the pages.</span></span>

<span data-ttu-id="8d8fd-279">Alle anderen Methoden beginnen mit dem HTTP-Verb, das ihre Verarbeitung beschreibt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-279">Each of the other methods start with the HTTP verb that describes its processing.</span></span> <span data-ttu-id="8d8fd-280">Die beiden Methoden, die mit `Delete` beginnen, würden normalerweise wie DELETE-HTTP-Verben behandelt werden, aber die Logik der `TryParseHandlerMethod` legt für beide Handler das Verb explizit auf POST fest.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-280">The two methods that start with `Delete` would normally be treated as DELETE HTTP verbs, but the logic in `TryParseHandlerMethod` explicitly sets the verb to POST for both handlers.</span></span>

<span data-ttu-id="8d8fd-281">Beachten Sie, dass `Async` optional ist, wenn es um `DeleteAllMessages` und `DeleteMessageAsync` geht.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-281">Note that `Async` is optional between `DeleteAllMessages` and `DeleteMessageAsync`.</span></span> <span data-ttu-id="8d8fd-282">Beides sind asynchrone Methoden. Es steht Ihnen frei, das Postfix `Async` zu verwenden, allerdings wird empfohlen, es zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-282">They're both asynchronous methods, but you can choose to use the `Async` postfix or not; we recommend that you do.</span></span> <span data-ttu-id="8d8fd-283">`DeleteAllMessages` wird hier lediglich zur Veranschaulichung verwendet. Es wird jedoch empfohlen, dass Sie einer solchen Methode den Namen `DeleteAllMessagesAsync` geben.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-283">`DeleteAllMessages` is used here for demonstration purposes, but we recommend that you name such a method `DeleteAllMessagesAsync`.</span></span> <span data-ttu-id="8d8fd-284">Dies wirkt sich nicht auf die Verarbeitung der Implementierung der Beispielanwendung aus, aber durch das Verwenden des Postfixes `Async` wird die Tatsache hervorgehoben, dass es sich um eine asynchrone Methode handelt.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-284">It doesn't affect the processing of the sample's implementation, but using the `Async` postfix calls out the fact that it's an asynchronous method.</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Pages/Index.cshtml.cs?name=snippet1&highlight=1,6,16,29)]

<span data-ttu-id="8d8fd-285">Beachten Sie, dass die in *Index.cshtml* bereitgestellten Handlernamen den Handlermethoden `DeleteAllMessages` und `DeleteMessageAsync` entsprechen:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-285">Note the handler names provided in *Index.cshtml* match the `DeleteAllMessages` and `DeleteMessageAsync` handler methods:</span></span>

[!code-cshtml[Main](razor-pages-convention-features/sample/Pages/Index.cshtml?range=29-60&highlight=7-8,24-25)]

<span data-ttu-id="8d8fd-286">Das Postfix `Async` im Namen der Handlermethode `DeleteMessageAsync` wird durch die `TryParseHandlerMethod` ausgeklammert, die der Handlerzuordnung von POST-Anforderung und entsprechender Methode dient.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-286">`Async` in the handler method name `DeleteMessageAsync` is factored out by the `TryParseHandlerMethod` for handler matching of POST request to method.</span></span> <span data-ttu-id="8d8fd-287">Der `asp-page-handler`-Name von `DeleteMessage` wird der Handlermethode `DeleteMessageAsync` zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-287">The `asp-page-handler` name of `DeleteMessage` is matched to the handler method `DeleteMessageAsync`.</span></span>

## <a name="mvc-filters-and-the-page-filter-ipagefilter"></a><span data-ttu-id="8d8fd-288">Die MVC-Filter und der Seitenfilter (IPageFilter)</span><span class="sxs-lookup"><span data-stu-id="8d8fd-288">MVC Filters and the Page filter (IPageFilter)</span></span>

<span data-ttu-id="8d8fd-289">MVC-[Aktionsfilter](xref:mvc/controllers/filters#action-filters) werden von Razor-Seiten ignoriert, da diese Handlermethoden verwenden.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-289">MVC [Action filters](xref:mvc/controllers/filters#action-filters) are ignored by Razor Pages, since Razor Pages use handler methods.</span></span> <span data-ttu-id="8d8fd-290">Sie können jedoch andere Arten von MVC-Filtern verwenden: [Autorisierung](xref:mvc/controllers/filters#authorization-filters), [Ausnahme](xref:mvc/controllers/filters#exception-filters), [Ressource](xref:mvc/controllers/filters#resource-filters) und [Ergebnis](xref:mvc/controllers/filters#result-filters).</span><span class="sxs-lookup"><span data-stu-id="8d8fd-290">Other types of MVC filters are available for you to use: [Authorization](xref:mvc/controllers/filters#authorization-filters), [Exception](xref:mvc/controllers/filters#exception-filters), [Resource](xref:mvc/controllers/filters#resource-filters), and [Result](xref:mvc/controllers/filters#result-filters).</span></span> <span data-ttu-id="8d8fd-291">Weitere Informationen finden Sie im Thema [Filter](xref:mvc/controllers/filters).</span><span class="sxs-lookup"><span data-stu-id="8d8fd-291">For more information, see the [Filters](xref:mvc/controllers/filters) topic.</span></span>

<span data-ttu-id="8d8fd-292">Der Seitenfilter ([IPageFilter](/dotnet/api/microsoft.aspnetcore.mvc.filters.ipagefilter)) ist ein Filter, der auf Razor-Seiten anwendbar ist.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-292">The Page filter ([IPageFilter](/dotnet/api/microsoft.aspnetcore.mvc.filters.ipagefilter)) is a filter that applies to Razor Pages.</span></span> <span data-ttu-id="8d8fd-293">Er umschließt die Ausführung einer Seitenhandlermethode.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-293">It surrounds the execution of a page handler method.</span></span> <span data-ttu-id="8d8fd-294">Sie können damit benutzerdefinierten Code in Phasen der Ausführung der Seitenhandlermethode verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-294">It allows you to process custom code at stages of page handler method execution.</span></span> <span data-ttu-id="8d8fd-295">Nachfolgend finden Sie ein Beispiel aus der Beispielanwendung:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-295">Here's an example from the sample app:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Filters/ReplaceRouteValueFilterAttribute.cs?name=snippet1)]

<span data-ttu-id="8d8fd-296">Dieser Filter sucht nach dem Routenwert `globalTemplate` von „TriggerValue“ und ersetzt diesen durch „ReplacementValue“.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-296">This filter checks for a `globalTemplate` route value of "TriggerValue" and swaps in "ReplacementValue".</span></span>

<span data-ttu-id="8d8fd-297">Das Attribut `ReplaceRouteValueFilter` kann einem `PageModel` direkt zugewiesen werden:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-297">The `ReplaceRouteValueFilter` attribute can be applied directly to a `PageModel`:</span></span>

[!code-csharp[Main](razor-pages-convention-features/sample/Pages/OtherPages/Page3.cshtml.cs?range=10-12&highlight=1)]

<span data-ttu-id="8d8fd-298">Fordern Sie die Seite „Seite3“ von der Beispielanwendung unter `localhost:5000/OtherPages/Page3/TriggerValue` an.</span><span class="sxs-lookup"><span data-stu-id="8d8fd-298">Request the Page3 page from the sample app with at `localhost:5000/OtherPages/Page3/TriggerValue`.</span></span> <span data-ttu-id="8d8fd-299">Nehmen Sie zur Kenntnis, wie der Filter den Routenwert ersetzt:</span><span class="sxs-lookup"><span data-stu-id="8d8fd-299">Notice how the filter replaces the route value:</span></span>

![Anforderung von „OtherPages/Seite3“ mit einem TriggerValue-Routensegment führt dazu, dass der Filter den Routenwert durch „ReplacementValue“ ersetzt](razor-pages-convention-features/_static/otherpages-page3-filter-replacement-value.png)

## <a name="see-also"></a><span data-ttu-id="8d8fd-301">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="8d8fd-301">See also</span></span>

* [<span data-ttu-id="8d8fd-302">Autorisierungskonventionen für Razor-Seiten</span><span class="sxs-lookup"><span data-stu-id="8d8fd-302">Razor Pages authorization conventions</span></span>](xref:security/authorization/razor-pages-authorization)
