---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
title: Master/Detail-Filtern mit einer DropDownList (c#) | Microsoft Docs
author: rick-anderson
description: In diesem Lernprogramm sehen wir die Vorgehensweise beim Anzeigen von Master/Detail-Berichte in einer einzelnen Webseite mit DropDownLists 'master' Datensätze und DataList, bol angezeigt...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/18/2007
ms.topic: article
ms.assetid: 07fa47ae-e491-4a2f-b265-d342b9ddef46
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: c84902ccf028c976246380abfaebb6a76c573603
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="58d2a-103">Master/Detail-Filtern mit einer DropDownList (c#)</span><span class="sxs-lookup"><span data-stu-id="58d2a-103">Master/Detail Filtering With a DropDownList (C#)</span></span>
====================
<span data-ttu-id="58d2a-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="58d2a-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="58d2a-105">[Beispiel-App herunterladen](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) oder [PDF herunterladen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="58d2a-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span></span>

> <span data-ttu-id="58d2a-106">In diesem Lernprogramm sehen wir die Vorgehensweise beim Anzeigen von Master/Detail-Berichte in einer einzelnen Webseite mit DropDownLists zum Anzeigen der "master" Datensätze "und" DataList "Details" anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>


## <a name="introduction"></a><span data-ttu-id="58d2a-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="58d2a-107">Introduction</span></span>

<span data-ttu-id="58d2a-108">Master/Detail-Berichts, die wir bei der Erstellung mit GridView in den früheren [Master/Detail-Filtern mit einer DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) Lernprogramm beginnt, durch einen Satz mit "master" Datensätze anzeigen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="58d2a-109">Der Benutzer kann dann einen der master Datensätze Drilldown in und Anzeigen von diesen master Datensatz "Details."</span><span class="sxs-lookup"><span data-stu-id="58d2a-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="58d2a-110">Master/Detail-Berichte sind eine ideale Option für die visuelle Darstellung der 1: n-Beziehungen und zum Anzeigen von detaillierten Informationen aus besonders "Breite" Tabellen (Argumente, die viele Spalten haben).</span><span class="sxs-lookup"><span data-stu-id="58d2a-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="58d2a-111">Wir haben zum Implementieren von Master/Detail-Berichte, die mit den Steuerelementen GridView und DetailsView in vorherigen Lernprogrammen untersucht.</span><span class="sxs-lookup"><span data-stu-id="58d2a-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="58d2a-112">In diesem Lernprogramm und die nächsten beiden wir werden diese Konzepte, aber den Fokus zur Verwendung von DataList nochmals und Repeater stattdessen steuert.</span><span class="sxs-lookup"><span data-stu-id="58d2a-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="58d2a-113">In diesem Lernprogramm lernen wir mit einer DropDownList der "master" Datensätze, die "details" Datensätze in einem DataList enthalten.</span><span class="sxs-lookup"><span data-stu-id="58d2a-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="58d2a-114">Schritt 1: Hinzufügen von Webseiten der Master-/Detail-Lernprogramm</span><span class="sxs-lookup"><span data-stu-id="58d2a-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="58d2a-115">Bevor wir in diesem Lernprogramm beginnen, zuerst werfen wir einen Moment Zeit, fügen Sie die Ordner und ASP.NET-Seiten, die wir für dieses Lernprogramm und die nächsten beiden Umgang mit Master-/Detail-Berichte, die mit den verschiedenen Steuerelementen benötigen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="58d2a-116">Starten, indem Sie einen neuen Ordner erstellen, in das Projekt mit dem Namen `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="58d2a-117">Fügen Sie die folgenden fünf ASP.NET-Seiten in diesen Ordner, dass alle von ihnen für die Verwendung die Masterseite konfiguriert `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="58d2a-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`


![Erstellen Sie einen Ordner DataListRepeaterFiltering, und fügen Sie dem Tutorial ASP.NET-Seiten hinzu](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image1.png)

<span data-ttu-id="58d2a-119">**Abbildung 1**: Erstellen einer `DataListRepeaterFiltering` Ordner, und fügen Sie dem Tutorial ASP.NET-Seiten hinzu</span><span class="sxs-lookup"><span data-stu-id="58d2a-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>


<span data-ttu-id="58d2a-120">Öffnen Sie als Nächstes die `Default.aspx` Seite, und ziehen Sie die `SectionLevelTutorialListing.ascx` Benutzersteuerelement aus den `UserControls` Ordner auf die Entwurfsoberfläche.</span><span class="sxs-lookup"><span data-stu-id="58d2a-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="58d2a-121">Dieses Benutzersteuerelement, die wir in erstellt die [Masterseiten und Websitenavigation](../introduction/master-pages-and-site-navigation-cs.md) Lernprogramm, zählt die Siteübersicht und zeigt die Lernprogramme aus dem aktuellen Abschnitt in einer Liste mit Aufzählungszeichen aus.</span><span class="sxs-lookup"><span data-stu-id="58d2a-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>


<span data-ttu-id="58d2a-122">[![Das Benutzersteuerelement SectionLevelTutorialListing.ascx "default.aspx" hinzufügen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span></span>

<span data-ttu-id="58d2a-123">**Abbildung 2**: Hinzufügen der `SectionLevelTutorialListing.ascx` Benutzersteuerelement `Default.aspx` ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span></span>


<span data-ttu-id="58d2a-124">Um die Anzeige der Liste mit Aufzählungszeichen haben müssen wir Master/Detail-Lernprogramme, die wir erstellen, die um sie in der Siteübersicht hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="58d2a-125">Öffnen der `Web.sitemap` Datei, und fügen Sie das folgende Markup nach "Anzeigen von Daten mit der DataList und Repeater" Site Zuordnung Knoten Markup hinzu:</span><span class="sxs-lookup"><span data-stu-id="58d2a-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample1.xml)]


![Aktualisieren Sie die Website-Karte, um die neue ASP.NET-Seiten enthalten](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image5.png)

<span data-ttu-id="58d2a-127">**Abbildung 3**: Aktualisieren Sie die Website-Karte, um die neue ASP.NET-Seiten enthalten</span><span class="sxs-lookup"><span data-stu-id="58d2a-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>


## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="58d2a-128">Schritt 2: Anzeigen der Kategorien in einer DropDownList</span><span class="sxs-lookup"><span data-stu-id="58d2a-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="58d2a-129">Unsere Master/Detail-Bericht listet die Kategorien in einer DropDownList mit dem ausgewählten Listenelement Produkte angezeigt weiter unten auf der Seite in einem DataList.</span><span class="sxs-lookup"><span data-stu-id="58d2a-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="58d2a-130">Anschließend werden die erste Aufgabe vor uns, haben die Kategorien, die in einer Dropdownliste angezeigt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="58d2a-131">Öffnen Sie zunächst die `FilterByDropDownList.aspx` auf der Seite der `DataListRepeaterFiltering` Ordner, und ziehen Sie eine DropDownList aus der Toolbox auf die Seite-Designer.</span><span class="sxs-lookup"><span data-stu-id="58d2a-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="58d2a-132">Legen Sie anschließend die DropDownList `ID` Eigenschaft `Categories`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="58d2a-133">Klicken Sie auf den Link Datenquelle wählen Sie aus der DropDownList-Smarttag, und erstellen Sie eine neue, mit dem Namen ObjectDataSource `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="58d2a-134">[![Fügen Sie eine neue, mit dem Namen CategoriesDataSource ObjectDataSource hinzu](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span></span>

<span data-ttu-id="58d2a-135">**Abbildung 4**: Hinzufügen einer neuen ObjectDataSource namens `CategoriesDataSource` ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span></span>


<span data-ttu-id="58d2a-136">Die neue ObjectDataSource so konfigurieren, dass er ruft die `CategoriesBLL` Klasse `GetCategories()` Methode.</span><span class="sxs-lookup"><span data-stu-id="58d2a-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="58d2a-137">Nach dem Konfigurieren der ObjectDataSource müssen wir noch angeben, welches Feld der Datenquelle in der Dropdownliste angezeigt werden soll und welche sollte einen als der Wert für jedes Listenelement zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="58d2a-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="58d2a-138">Haben die `CategoryName` -Felds ist, als die Anzeige und `CategoryID` als Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="58d2a-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="58d2a-139">[![Weisen Sie die CategoryName-Feld und CategoryID verwenden der DropDownList-Anzeige auf, als Wert](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span></span>

<span data-ttu-id="58d2a-140">**Abbildung 5**: haben Sie die Anzeige der DropDownList der `CategoryName` Feld und Verwendung `CategoryID` als Wert ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span></span>


<span data-ttu-id="58d2a-141">An diesem Punkt haben wir ein DropDownList-Steuerelement, das mit den Datensätzen aufgefüllt wird die `Categories` Tabelle (alle in ungefähr sechs Sekunden erreicht).</span><span class="sxs-lookup"><span data-stu-id="58d2a-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="58d2a-142">Abbildung 6 zeigt unseren Fortschritt bisher ein, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="58d2a-143">[![Eine Dropdownliste werden die aktuellen Kategorien aufgelistet.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span></span>

<span data-ttu-id="58d2a-144">**Abbildung 6**: ein Dropdown-Listet die aktuellen Kategorien ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span></span>


## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="58d2a-145">Schritt 2: Hinzufügen von DataList Produkte</span><span class="sxs-lookup"><span data-stu-id="58d2a-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="58d2a-146">Der letzte Schritt in unserem Master/Detail-Bericht wird die Produkte, die der ausgewählten Kategorie zugeordnet aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="58d2a-147">Klicken Sie hierzu die Seite DataList hinzu, und erstellen Sie eine neue ObjectDataSource mit dem Namen `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="58d2a-148">Haben die `ProductsByCategoryDataSource` Steuerelement abzurufen, dessen Daten aus der `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="58d2a-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="58d2a-149">Da dieser Bericht Master/Detail-schreibgeschützt ist, wählen Sie, dass die (None) auf den Registerkarten INSERT-, Update- und DELETE-option.</span><span class="sxs-lookup"><span data-stu-id="58d2a-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>


<span data-ttu-id="58d2a-150">[![Wählen Sie die GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span></span>

<span data-ttu-id="58d2a-151">**Abbildung 7**: Wählen Sie die `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span></span>


<span data-ttu-id="58d2a-152">Nach dem Klicken auf "Weiter" ObjectDataSource-Assistenten werden Sie uns für die Quelle des Werts für die `GetProductsByCategoryID(categoryID)` Methode *`categoryID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="58d2a-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="58d2a-153">Verwenden Sie den Wert des ausgewählten `categories` DropDownList Element legen Sie als Quelle für die Parameter zum Steuern und die ControlID auf `Categories`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="58d2a-154">[![Legen Sie die CategoryID-Parameter auf den Wert der DropDownList Kategorien](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span></span>

<span data-ttu-id="58d2a-155">**Abbildung 8**: Festlegen der *`categoryID`* auf den Wert von der `Categories` DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span></span>


<span data-ttu-id="58d2a-156">Nach Abschluss der Assistent zum Konfigurieren von Datenquellen, generiert Visual Studio automatisch eine `ItemTemplate` für DataList, die den Namen und Wert der einzelnen Datenfelder anzeigt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="58d2a-157">Wir verbessern die DataList, verwenden Sie stattdessen eine `ItemTemplate` , die zeigt nur den Namen des Produkts, Kategorie, Lieferanten, Menge pro Einheit und Preis zusammen mit einer `SeparatorTemplate` injiziert, die eine `<hr>` Element zwischen den einzelnen Elementen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="58d2a-158">Ich werde verwenden die `ItemTemplate` aus einem Beispiel, in der [Anzeigen von Daten mit dem DataList und Repeater](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) Lernprogramm jedoch gerne verwenden Sie die Vorlagenmarkup visuell ansprechender finden Sie.</span><span class="sxs-lookup"><span data-stu-id="58d2a-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="58d2a-159">Nachdem diese Änderungen vorgenommen wurden, sollte DataList und seine ObjectDataSource Markup etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="58d2a-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="58d2a-160">Nehmen Sie einen Moment Zeit, um unseren Fortschritt in einem Browser zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="58d2a-161">Bei der ersten Seite besuchen, werden die Produkte, die zur ausgewählten Kategorie (Getränke) angezeigt, (wie in Abbildung 9 gezeigt), aber der DropDownList ändern nicht aktualisiert, die Daten.</span><span class="sxs-lookup"><span data-stu-id="58d2a-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="58d2a-162">Dies ist, da ein Postback, damit das DataList auftreten muss zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="58d2a-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="58d2a-163">Legen Sie hierfür entweder können der DropDownList `AutoPostBack` Eigenschaft `true` oder fügen Sie ein Websteuerelement Schaltfläche auf der Seite.</span><span class="sxs-lookup"><span data-stu-id="58d2a-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="58d2a-164">Für dieses Lernprogramm ich haben sich entschieden, zum Festlegen der DropDownList `AutoPostBack` Eigenschaft `true`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="58d2a-165">Abbildung 9 und 10 veranschaulichen den Master-/Detail-Bericht in Aktion.</span><span class="sxs-lookup"><span data-stu-id="58d2a-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="58d2a-166">[![Bei der ersten Seite besuchen, werden die Produkte Getränke angezeigt.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span></span>

<span data-ttu-id="58d2a-167">**Abbildung 9**: bei der ersten Seite besuchen, werden die Produkte Getränke angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span></span>


<span data-ttu-id="58d2a-168">[![Durch Auswahl eines neuen Produkts (erzeugen) automatisch bewirkt, dass ein Postback handeln, das DataList aktualisieren](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span></span>

<span data-ttu-id="58d2a-169">**Abbildung 10**: durch Auswahl eines neuen Produkts (erzeugen) automatisch bewirkt, dass ein Postback handeln, aktualisieren die DataList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="58d2a-170">Hinzufügen eines Listenelements "– Wählen Sie eine Kategorie –"</span><span class="sxs-lookup"><span data-stu-id="58d2a-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="58d2a-171">Beim ersten Zugriff auf die `FilterByDropDownList.aspx` Seite die Kategorien DropDownLists erste Listenelement (Getränke) wird standardmäßig angezeigt, die mit den Produkten Getränke DataList ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="58d2a-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="58d2a-172">In der *Master/Detail-Filtern mit einer DropDownList* Lernprogramm DropDownList, mit denen wurde standardmäßig ausgewählt, und bei Auswahl dieser Option angezeigt wurde eine Option "– Wählen Sie eine Kategorie –" hinzugefügt *alle* von der Produkte in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="58d2a-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="58d2a-173">Ein derartiger Ansatz wurde verwaltbare beim Auflisten der Produkte in einer GridView wie jede Produktzeile oben eine kleine Menge an Bildschirmfläche gedauert hat.</span><span class="sxs-lookup"><span data-stu-id="58d2a-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="58d2a-174">Mit DataList beansprucht jedoch Informationen für jedes Produkt eine viel größere Segment des Bildschirms.</span><span class="sxs-lookup"><span data-stu-id="58d2a-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="58d2a-175">Nehmen wir weiterhin eine Option "– Wählen Sie eine Kategorie –" hinzufügen und haben sie standardmäßig ausgewählt, aber anstatt sie alle Produkte anzeigen bei Auswahl dieser Option wir es so konfigurieren, dass es keine Produkte zeigt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="58d2a-176">Um ein neues Listenelement DropDownList hinzuzufügen, wechseln Sie zu dem Eigenschaftenfenster, und klicken Sie auf die Auslassungszeichen in der `Items` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="58d2a-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="58d2a-177">Hinzufügen ein neuen Listenelements mit dem `Text` "– Wählen Sie eine Kategorie –" und die `Value` `0`.</span><span class="sxs-lookup"><span data-stu-id="58d2a-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>


![Hinzufügen einer](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image27.png)

<span data-ttu-id="58d2a-179">**Abbildung 11**: Hinzufügen eines Listenelements "– Wählen Sie eine Kategorie –"</span><span class="sxs-lookup"><span data-stu-id="58d2a-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>


<span data-ttu-id="58d2a-180">Alternativ können Sie das Listenelement hinzufügen, indem Sie das folgende Markup DropDownList hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="58d2a-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="58d2a-181">Darüber hinaus müssen wir die DropDownList-Steuerelement festgelegt `AppendDataBoundItems` auf `true` da falls festgelegt `false` (Standard), wenn die Kategorien aus dem ObjectDataSource DropDownList gebunden sind überschreiben diese müssen eine beliebige Liste manuell hinzugefügt Elemente.</span><span class="sxs-lookup"><span data-stu-id="58d2a-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>


![Legen Sie die AppendDataBoundItems-Eigenschaft auf "true"](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image28.png)

<span data-ttu-id="58d2a-183">**Abbildung 12**: Legen Sie die `AppendDataBoundItems` Eigenschaft auf "true"</span><span class="sxs-lookup"><span data-stu-id="58d2a-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="58d2a-184">Der Grund dafür haben wir den Wert `0` für die Liste "– Wählen Sie eine Kategorie –" Element ist, da es keine Kategorien im System mit einem Wert von gibt `0`, daher keine Produktdatensätze werden zurückgegeben, wenn das Listenelement "– Wählen Sie eine Kategorie –" ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="58d2a-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="58d2a-185">Nehmen Sie einen Moment Zeit, um die Seite über einen Browser besuchen, um dies zu bestätigen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="58d2a-186">Wie in Abbildung 13 gezeigt, wenn zunächst Anzeige der Seite das Listenelement "– Wählen Sie eine Kategorie –" ausgewählt ist und keine Produkte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="58d2a-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>


<span data-ttu-id="58d2a-187">[![Wenn die](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="58d2a-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span></span>

<span data-ttu-id="58d2a-188">**Abbildung 13**: No Produkte werden angezeigt, wenn das Listenelement "– Wählen Sie eine Kategorie –" ausgewählt ist, ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="58d2a-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span></span>


<span data-ttu-id="58d2a-189">Wenn Sie stattdessen anzeigen würde *alle* der Produkte, wenn die Option "– Wählen Sie eine Kategorie –" ausgewählt ist, verwenden Sie den Wert `-1` stattdessen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="58d2a-190">Aufmerksame Leser erinnern, wieder in der *Master/Detail-Filtern mit einer DropDownList* Lernprogramm wir aktualisiert, die `ProductsBLL` -Klasse `GetProductsByCategoryID(categoryID)` Methode so, dass wenn eine *`categoryID`* Wert des `-1` übergeben wurde, alle Produkte wurden Einträge zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="58d2a-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="58d2a-191">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="58d2a-191">Summary</span></span>

<span data-ttu-id="58d2a-192">Zum Anzeigen von hierarchisch produktbezogene Daten leichter häufig zum Präsentieren von Daten mithilfe von Master/Detail-Berichte, die der Benutzer kann aus denen die Daten aus der obersten Hierarchieebene beispieldatasets starten und Drilldown auf Details.</span><span class="sxs-lookup"><span data-stu-id="58d2a-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="58d2a-193">In diesem Lernprogramm untersucht wir erstellen einen einfache Master/Detail-Bericht, der Produkte einer ausgewählten Kategorie anzeigt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="58d2a-194">Dies wurde mithilfe einer DropDownList für die Liste der Kategorien und DataList für die Produkte, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="58d2a-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="58d2a-195">In den nächsten Lernprogrammen betrachten wir die Datensätze Master und Details über zwei Seiten aufteilen.</span><span class="sxs-lookup"><span data-stu-id="58d2a-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="58d2a-196">Auf der ersten Seite wird eine Liste der "master" Datensätze mit einem Link zum Anzeigen der Details angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="58d2a-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="58d2a-197">Durch Klicken auf den Link wird den Benutzer auf die zweite Seite weiter, der die Details für den ausgewählten master Datensatz angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="58d2a-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="58d2a-198">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="58d2a-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="58d2a-199">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="58d2a-199">About the Author</span></span>

<span data-ttu-id="58d2a-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="58d2a-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="58d2a-201">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="58d2a-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="58d2a-202">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="58d2a-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="58d2a-203">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="58d2a-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="58d2a-204">Besonderen Dank an...</span><span class="sxs-lookup"><span data-stu-id="58d2a-204">Special Thanks To…</span></span>

<span data-ttu-id="58d2a-205">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="58d2a-205">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="58d2a-206">Lead Prüfer für dieses Lernprogramm wurde Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="58d2a-206">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="58d2a-207">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="58d2a-207">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="58d2a-208">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="58d2a-208">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="58d2a-209">Nächste</span><span class="sxs-lookup"><span data-stu-id="58d2a-209">Next</span></span>](master-detail-filtering-acess-two-pages-datalist-cs.md)
