---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
title: Master/Detail-Filtern mit zwei DropDownLists (c#) | Microsoft Docs
author: rick-anderson
description: In diesem Lernprogramm wird erweitert, die Master-/Detail-Beziehung, um eine dritte Ebene, mit zwei DropDownList-Steuerelementen zum Auswählen der gewünschten über- und referenzierende Recor hinzufügen...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: ac4b0d77-4816-4ded-afd0-88dab667aedd
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
msc.type: authoredcontent
ms.openlocfilehash: d971dcb3814dc088202c3a3e4addb03375049ca0
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-with-two-dropdownlists-c"></a><span data-ttu-id="62612-103">Master/Detail-Filtern mit zwei DropDownLists (c#)</span><span class="sxs-lookup"><span data-stu-id="62612-103">Master/Detail Filtering With Two DropDownLists (C#)</span></span>
====================
<span data-ttu-id="62612-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="62612-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="62612-105">[Beispiel-App herunterladen](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) oder [PDF herunterladen](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="62612-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span></span>

> <span data-ttu-id="62612-106">In diesem Lernprogramm wird erweitert, die Master-/Detail-Beziehung, um eine dritte Ebene, mit zwei DropDownList-Steuerelementen zum Auswählen der gewünschten über- und referenzierende Datensätze hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="62612-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>


## <a name="introduction"></a><span data-ttu-id="62612-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="62612-107">Introduction</span></span>

<span data-ttu-id="62612-108">In der [vorherigen Lernprogramm](master-detail-filtering-with-a-dropdownlist-cs.md) untersucht die Vorgehensweise beim Anzeigen eines einfachen Master-/Detail-Berichts mit einer einzelnen DropDownList mit Kategorien und eine GridView, die mit dieser Produkte, die der ausgewählten Kategorie angehören, aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="62612-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="62612-109">Dieses Muster Bericht funktioniert gut, wenn Datensätze anzeigen, die eine 1: n-Beziehung aufweisen und können problemlos für Szenarien geeignet, die mehrere 1: n-Beziehungen enthalten erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="62612-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="62612-110">Beispielsweise müsste ein bestellungseingabesystem Tabellen, die Kunden, Bestellungen und Einzelposten Reihenfolge entsprechen.</span><span class="sxs-lookup"><span data-stu-id="62612-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="62612-111">Ein bestimmten Kunden möglicherweise mehrere Aufträge mit jede Bestellung, bestehend aus mehreren Elementen.</span><span class="sxs-lookup"><span data-stu-id="62612-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="62612-112">Diese Daten können mit zwei DropDownLists und eine GridView an den Benutzer angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="62612-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="62612-113">Der erste DropDownList müsste ein Listenelement für jeden Kunden in der Datenbank mit dem zweiten einer Person Inhalt wird vom ausgewählten Kunden aufgegebene Bestellungen.</span><span class="sxs-lookup"><span data-stu-id="62612-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="62612-114">Eine GridView würden die Einzelposten aus der ausgewählten Reihenfolge aufgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="62612-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="62612-115">Wenn die Northwind-Datenbank enthält die kanonische Customer/Order/Order Detailinformationen in der `Customers`, `Orders`, und `Order Details` Tabellen diese Tabellen werden nicht in unserem Architektur aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="62612-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="62612-116">Dennoch eine überaus können wir noch zeigen zwei abhängige DropDownLists verwenden.</span><span class="sxs-lookup"><span data-stu-id="62612-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="62612-117">Der erste DropDownList werden die Produkte, die der ausgewählten Kategorie gehören die Kategorien und die zweite aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="62612-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="62612-118">Eine DetailsView werden dann die Details des ausgewählten Produkts aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="62612-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="62612-119">Schritt 1: Erstellen und Auffüllen der DropDownList Kategorien</span><span class="sxs-lookup"><span data-stu-id="62612-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="62612-120">Unser erste Ziel besteht darin DropDownList hinzuzufügen, die die Kategorien aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="62612-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="62612-121">Diese Schritte ausführlich untersucht wurden, in dem vorherigen Lernprogramm, jedoch werden hier aus Gründen der Vollständigkeit zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="62612-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="62612-122">Öffnen der `MasterDetailsDetails.aspx` auf der Seite der `Filtering` Ordner hinzufügen, eine DropDownList auf der Seite, legen Sie seine `ID` Eigenschaft, um `Categories`, und klicken Sie dann auf den Link "Datenquelle konfigurieren" in das Smarttag.</span><span class="sxs-lookup"><span data-stu-id="62612-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="62612-123">Wählen Sie den Konfigurations-Assistenten eine neue Datenquelle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="62612-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>


<span data-ttu-id="62612-124">[![Fügen Sie eine neue Datenquelle für die DropDownList hinzu.](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="62612-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span></span>

<span data-ttu-id="62612-125">**Abbildung 1**: Hinzufügen einer neuen Datenquelle für DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="62612-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span></span>


<span data-ttu-id="62612-126">Die neue Datenquelle, natürlich ein ObjectDataSource sollte.</span><span class="sxs-lookup"><span data-stu-id="62612-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="62612-127">Nennen Sie diese neue ObjectDataSource `CategoriesDataSource` und Aufrufen der `CategoriesBLL` des Objekts `GetCategories()` Methode.</span><span class="sxs-lookup"><span data-stu-id="62612-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>


<span data-ttu-id="62612-128">[![Wählen Sie die Klasse CategoriesBLL verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="62612-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span></span>

<span data-ttu-id="62612-129">**Abbildung 2**: Wählen Sie zum Verwenden der `CategoriesBLL` Klasse ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="62612-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span></span>


<span data-ttu-id="62612-130">[![Konfigurieren der ObjectDataSource zur Verwendung der GetCategories()-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="62612-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span></span>

<span data-ttu-id="62612-131">**Abbildung 3**: Konfigurieren der ObjectDataSource verwenden die `GetCategories()` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="62612-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span></span>


<span data-ttu-id="62612-132">Nach dem Konfigurieren der ObjectDataSource wir benötigen Sie angeben, welches Feld der Datenquelle angezeigt werden soll, in der `Categories` DropDownList und welche als Wert für das Listenelement konfiguriert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="62612-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="62612-133">Legen Sie die `CategoryName` -Felds ist, als die Anzeige und `CategoryID` als Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="62612-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="62612-134">[![Weisen Sie die CategoryName-Feld und CategoryID verwenden der DropDownList-Anzeige auf, als Wert](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="62612-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span></span>

<span data-ttu-id="62612-135">**Abbildung 4**: haben Sie die Anzeige der DropDownList der `CategoryName` Feld und Verwendung `CategoryID` als Wert ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="62612-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span></span>


<span data-ttu-id="62612-136">An diesem Punkt haben wir ein DropDownList-Steuerelement (`Categories`), wird mit den Datensätzen aufgefüllt, die `Categories` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="62612-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="62612-137">Wenn der Benutzer eine neue Kategorie aus der Dropdownliste auswählt, sollten wir ein Postback ausgeführt wird, um das Produkt DropDownList aktualisieren, die wir die offensichtlichen So erstellen Sie in Schritt2.</span><span class="sxs-lookup"><span data-stu-id="62612-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="62612-138">Aktivieren Sie deshalb die AutoPostBack aktivieren-Option von der `categories` DropDownLists Smarttag.</span><span class="sxs-lookup"><span data-stu-id="62612-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>


<span data-ttu-id="62612-139">[![Für die Kategorien DropDownList AutoPostBack aktivieren](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="62612-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span></span>

<span data-ttu-id="62612-140">**Abbildung 5**: AutoPostBack aktivieren, für die `Categories` DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="62612-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span></span>


## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="62612-141">Schritt 2: Anzeigen der ausgewählten Kategorie Produkte in einer zweiten DropDownList</span><span class="sxs-lookup"><span data-stu-id="62612-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="62612-142">Mit der `Categories` DropDownList abgeschlossen ist, im nächsten Schritt eine DropDownList von Produkten, die zur ausgewählten Kategorie angezeigt.</span><span class="sxs-lookup"><span data-stu-id="62612-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="62612-143">Um dies zu erreichen, fügen Sie einen anderen DropDownList auf der Seite mit dem Namen `ProductsByCategory`.</span><span class="sxs-lookup"><span data-stu-id="62612-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="62612-144">Wie bei der `Categories` DropDownList, erstellen Sie eine neue ObjectDataSource für die `ProductsByCategory` DropDownList mit dem Namen `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="62612-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>


<span data-ttu-id="62612-145">[![Fügen Sie eine neue Datenquelle für ProductsByCategory DropDownList hinzu.](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="62612-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span></span>

<span data-ttu-id="62612-146">**Abbildung 6**: Hinzufügen einer neuen Datenquelle für die `ProductsByCategory` DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="62612-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span></span>


<span data-ttu-id="62612-147">[![Erstellen Sie eine neue, mit dem Namen ProductsByCategoryDataSource ObjectDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="62612-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span></span>

<span data-ttu-id="62612-148">**Abbildung 7**: Erstellen einer neuen ObjectDataSource namens `ProductsByCategoryDataSource` ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="62612-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span></span>


<span data-ttu-id="62612-149">Da die `ProductsByCategory` DropDownList muss nur die Produkte, die der ausgewählten Kategorie gehören angezeigt haben, das ObjectDataSource Aufrufen der `GetProductsByCategoryID(categoryID)` Methode aus der `ProductsBLL` Objekt.</span><span class="sxs-lookup"><span data-stu-id="62612-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>


<span data-ttu-id="62612-150">[![Wählen Sie die Klasse ProductsBLL verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="62612-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span></span>

<span data-ttu-id="62612-151">**Abbildung 8**: Wählen Sie zum Verwenden der `ProductsBLL` Klasse ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="62612-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span></span>


<span data-ttu-id="62612-152">[![Konfigurieren der ObjectDataSource zur Verwendung der GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="62612-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span></span>

<span data-ttu-id="62612-153">**Abbildung 9**: Konfigurieren der ObjectDataSource verwenden die `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="62612-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span></span>


<span data-ttu-id="62612-154">Im letzten Schritt des Assistenten müssen wir den Wert der angeben der *`categoryID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="62612-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="62612-155">Weisen Sie diesen Parameter an das ausgewählte Element aus der `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="62612-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>


<span data-ttu-id="62612-156">[![Ziehen Sie die CategoryID-Parameterwert aus der DropDownList Kategorien](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="62612-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span></span>

<span data-ttu-id="62612-157">**Abbildung 10**: Ziehen Sie die *`categoryID`* Parameterwert aus der `Categories` DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="62612-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span></span>


<span data-ttu-id="62612-158">Mit der ObjectDataSource konfiguriert übrig bleibt angeben, welche Datenquellenfeldern für die Anzeige und der Wert der DropDownList-Elemente verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="62612-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="62612-159">Anzeigen der `ProductName` Feld, und verwenden Sie die `ProductID` Feld als Wert.</span><span class="sxs-lookup"><span data-stu-id="62612-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>


<span data-ttu-id="62612-160">[![Geben Sie die Datenquellenfeldern für Text und Werteigenschaften der DropDownList ListItems verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="62612-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span></span>

<span data-ttu-id="62612-161">**Abbildung 11**: Angeben der Datenquelle Felder verwendet, für die DropDownList `ListItem` s " `Text` und `Value` Eigenschaften ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="62612-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span></span>


<span data-ttu-id="62612-162">Mit der ObjectDataSource und `ProductsByCategory` DropDownList konfiguriert unserer Seite zeigt zwei DropDownLists: die erste Liste alle Kategorien darüber, während die zweite dieser Produkte, die zur ausgewählten Kategorie aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="62612-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="62612-163">Wenn der Benutzer eine neue Kategorie aus der ersten Dropdownliste auswählt, ein Postback wird Stellen Sie sicher, und der zweite DropDownList werden neu, zeigt dieser Produkte, die neu ausgewählte Kategorie angehören.</span><span class="sxs-lookup"><span data-stu-id="62612-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="62612-164">Abbildung 12 und 13 anzeigen `MasterDetailsDetails.aspx` in Aktion, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="62612-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>


<span data-ttu-id="62612-165">[![Bei der ersten Seite besuchen, wird die Kategorie "Getränke" ausgewählt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="62612-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span></span>

<span data-ttu-id="62612-166">**Abbildung 12**: bei der ersten Seite besuchen, die Kategorie "Getränke" ausgewählt ist ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="62612-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span></span>


<span data-ttu-id="62612-167">[![Durch Auswahl einer anderen Kategorie wird die neue Kategorie Produkte angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="62612-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span></span>

<span data-ttu-id="62612-168">**Abbildung 13**: Auswählen einer anderen Kategorie zeigt die neue Kategorie Produkte ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="62612-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span></span>


<span data-ttu-id="62612-169">Derzeit die `productsByCategory` DropDownList, bei deren Änderung ist *nicht* dazu führen, dass einen Postback.</span><span class="sxs-lookup"><span data-stu-id="62612-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="62612-170">Allerdings sollten wir ein Postback erfolgen, sobald wir eine DetailsView zur Anzeige von Details für das ausgewählte Produkt (Schritt 3) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="62612-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="62612-171">Daher das Kontrollkästchen AutoPostBack aktivieren aus dem `productsByCategory` DropDownLists Smarttag.</span><span class="sxs-lookup"><span data-stu-id="62612-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>


<span data-ttu-id="62612-172">[![Die AutoPostBack-Funktion für die ProductsByCategory DropDownList aktivieren](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="62612-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span></span>

<span data-ttu-id="62612-173">**Abbildung 14**: Aktivieren Sie die AutoPostBack-Funktion für die `productsByCategory` DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="62612-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span></span>


## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="62612-174">Schritt 3: Verwenden einer DetailsView zum Anzeigen von Details für das ausgewählte Produkt</span><span class="sxs-lookup"><span data-stu-id="62612-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="62612-175">Der letzte Schritt besteht in einem DetailsView Details für das ausgewählte Produkt anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="62612-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="62612-176">Legen Sie dazu, Hinzufügen einer DetailsView auf der Seite ", seine `ID` Eigenschaft `ProductDetails`, und erstellen Sie eine neue ObjectDataSource für.</span><span class="sxs-lookup"><span data-stu-id="62612-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="62612-177">Konfigurieren Sie diese ObjectDataSource zum Abrufen der zugehörigen Daten aus der `ProductsBLL` -Klasse `GetProductByProductID(productID)` Methode mit den ausgewählten Wert der die `ProductsByCategory` DropDownList für den Wert des der *`productID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="62612-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>


<span data-ttu-id="62612-178">[![Wählen Sie die Klasse ProductsBLL verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="62612-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span></span>

<span data-ttu-id="62612-179">**Abbildung 15**: Wählen Sie zum Verwenden der `ProductsBLL` Klasse ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="62612-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span></span>


<span data-ttu-id="62612-180">[![Konfigurieren der ObjectDataSource zur Verwendung der GetProductByProductID(productID)-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="62612-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span></span>

<span data-ttu-id="62612-181">**Abbildung 16**: Konfigurieren der ObjectDataSource verwenden die `GetProductByProductID(productID)` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="62612-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span></span>


<span data-ttu-id="62612-182">[![Der Parameterwert "ProductID" aus der ProductsByCategory DropDownList abrufen](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="62612-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span></span>

<span data-ttu-id="62612-183">**Abbildung 17**: Ziehen Sie die *`productID`* Parameterwert aus der `ProductsByCategory` DropDownList ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="62612-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span></span>


<span data-ttu-id="62612-184">Sie können auswählen, um eines der verfügbaren Felder in der DetailsView anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="62612-184">You can choose to display any of the available fields in the DetailsView.</span></span> <span data-ttu-id="62612-185">Ich haben sich entschieden, entfernen Sie die `ProductID`, `SupplierID`, und `CategoryID` Felder neu angeordnet und formatiert die verbleibenden Felder.</span><span class="sxs-lookup"><span data-stu-id="62612-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="62612-186">Darüber hinaus ich deaktiviert, DetailsView des `Height` und `Width` Eigenschaften, sodass DetailsView um an die Breite des erforderlich, um die optimale Anzeige zu erweitern, die Daten, anstatt es zu einer angegebenen Größe beschränkt.</span><span class="sxs-lookup"><span data-stu-id="62612-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="62612-187">Das vollständige Markup wird unten angezeigt:</span><span class="sxs-lookup"><span data-stu-id="62612-187">The full markup appears below:</span></span>


[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample1.aspx)]

<span data-ttu-id="62612-188">Nehmen Sie einen Moment Zeit, probieren Sie die `MasterDetailsDetails.aspx` Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="62612-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="62612-189">Auf den ersten Blick scheint es, dass alles wie gewünscht funktioniert, aber es ein Problem feine liegt.</span><span class="sxs-lookup"><span data-stu-id="62612-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="62612-190">Wenn Sie eine neue Kategorie auswählen der `ProductsByCategory` DropDownList so aktualisiert wird, die Produkte für die ausgewählte Kategorie, aber die `ProductDetails` DetailsView fortgesetzt wird, um die vorherigen Produktinformationen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="62612-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="62612-191">DetailsView wird aktualisiert, wenn Sie ein anderes Produkt für die ausgewählte Kategorie auswählen.</span><span class="sxs-lookup"><span data-stu-id="62612-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="62612-192">Darüber hinaus, wenn Sie gründlich genug getestet haben, finden Sie, die auf Wunsch ständig neue Kategorien (z. B. Auswahl Getränke aus der `Categories` DropDownList, und klicken Sie dann auf "Gewürze", klicken Sie dann Süßwaren) jeder anderen benutzerkategorieauswahl bewirkt, dass die `ProductDetails`DetailsView aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="62612-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="62612-193">Um dieses Problem concretize zu unterstützen, sehen wir uns ein Beispiel hierfür.</span><span class="sxs-lookup"><span data-stu-id="62612-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="62612-194">Beim ersten die Seite Besuch die Kategorie "Getränke" ausgewählt ist und die zugehörigen Produkte werden geladen, der `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="62612-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="62612-195">Chai ist das ausgewählte Produkt und die Details werden angezeigt, der `ProductDetails` DetailsView, wie in Abbildung 18 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="62612-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>


<span data-ttu-id="62612-196">[![Das ausgewählte Produkt Details werden in einem DetailsView angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="62612-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span></span>

<span data-ttu-id="62612-197">**Abbildung 18**: Details des ausgewählten Produkts in einer DetailsView angezeigt werden ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="62612-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span></span>


<span data-ttu-id="62612-198">Wenn Sie die Kategorieauswahl Getränke auf "Gewürze" ändern, was zu ein Postback tritt auf, und die `ProductsByCategory` DropDownList wird entsprechend aktualisiert, DetailsView zeigt Details weiterhin für Chai jedoch.</span><span class="sxs-lookup"><span data-stu-id="62612-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>


<span data-ttu-id="62612-199">[![Details des zuvor ausgewählten Produkts werden weiterhin angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="62612-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span></span>

<span data-ttu-id="62612-200">**Abbildung 19**: der zuvor ausgewählten des Produktdetails werden weiterhin angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="62612-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span></span>


<span data-ttu-id="62612-201">DetailsView Entnahme aus der Liste ein neues Produkt aktualisiert werden, wie erwartet.</span><span class="sxs-lookup"><span data-stu-id="62612-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="62612-202">Wenn Sie eine neue Kategorie auswählen, nach dem Ändern des Produkts, das Update wird nicht DetailsView erneut aus.</span><span class="sxs-lookup"><span data-stu-id="62612-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="62612-203">Allerdings würde anstatt auf ein neues Produkt eine neue Kategorie ausgewählt haben, DetailsView aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="62612-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="62612-204">Was in der ganzen Welt wird hier passiert?</span><span class="sxs-lookup"><span data-stu-id="62612-204">What in the world is going on here?</span></span>

<span data-ttu-id="62612-205">Das Problem ist ein Problem der zeitlichen Steuerung im Lebenszyklus der Seite.</span><span class="sxs-lookup"><span data-stu-id="62612-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="62612-206">Bei jedem wird eine Seite angefordert, dass er eine Reihe von Schritten als ihr Rendering durchführt.</span><span class="sxs-lookup"><span data-stu-id="62612-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="62612-207">In einen der folgenden Schritte steuert das ObjectDataSource überprüfen, ob keines ihrer `SelectParameters` Werte geändert haben.</span><span class="sxs-lookup"><span data-stu-id="62612-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="62612-208">Wenn also das Websteuerelement Daten gebunden weiß das ObjectDataSource, es muss sich um die Anzeige zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="62612-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="62612-209">Wenn z. B. eine neue Kategorie aktiviert ist und die `ProductsByCategoryDataSource` ObjectDataSource erkennt, dass die Parameterwerte geändert wurden und die `ProductsByCategory` DropDownList bindet sich selbst, die Produkte für die ausgewählte Kategorie abrufen.</span><span class="sxs-lookup"><span data-stu-id="62612-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="62612-210">Das Problem, das in diesem Fall tritt auf, ist der Punkt wird im Lebenszyklus Seite, die die ObjectDataSources geänderten Parameter überprüfen auftritt, *vor* die erneute Zuordnung der zugehörigen Daten Websteuerelemente.</span><span class="sxs-lookup"><span data-stu-id="62612-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="62612-211">Daher beim Auswählen einer neuen Kategorie der `ProductsByCategoryDataSource` ObjectDataSource erkennt eine Änderung im Wert des Parameters.</span><span class="sxs-lookup"><span data-stu-id="62612-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="62612-212">Das ObjectDataSource verwendet werden, indem Sie die `ProductDetails` DetailsView, jedoch nicht beachten Sie, solche Änderungen da die `ProductsByCategory` DropDownList wurden noch nicht zu.</span><span class="sxs-lookup"><span data-stu-id="62612-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="62612-213">Weiter unten in den Lebenszyklus der `ProductsByCategory` DropDownList auf seine ObjectDataSource, die Produkte für die neu ausgewählte Kategorie grabbing bindet.</span><span class="sxs-lookup"><span data-stu-id="62612-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="62612-214">Während der `ProductsByCategory` DropDownList Wert geändert wurde, die `ProductDetails` DetailsViews ObjectDataSource hat bereits die Überprüfung der Parameter-Werts durchgeführt; DetailsView zeigt daher die vorherigen Ergebnisse.</span><span class="sxs-lookup"><span data-stu-id="62612-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="62612-215">Diese Aktivität ist in Abbildung 20 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="62612-215">This interaction is depicted in Figure 20.</span></span>


<span data-ttu-id="62612-216">[![Die ProductsByCategory DropDownList-Wert wird nach der ProductDetails DetailsView ObjectDataSource prüft, ob Änderungen geändert](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="62612-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span></span>

<span data-ttu-id="62612-217">**Abbildung 20**: die `ProductsByCategory` DropDownList Wert ändert sich nach der `ProductDetails` DetailsViews ObjectDataSource überprüft Änderungen ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span><span class="sxs-lookup"><span data-stu-id="62612-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span></span>


<span data-ttu-id="62612-218">Um dies zu beheben, wir explizit erneut binden müssen, der `ProductDetails` DetailsView nach der `ProductsByCategory` DropDownList gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="62612-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="62612-219">Wir erreichen dies durch Aufrufen der `ProductDetails` DetailsViews `DataBind()` Methode bei der `ProductsByCategory` DropDownLists `DataBound` -Ereignis ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="62612-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="62612-220">Fügen Sie den folgenden Ereignishandlercode, auf die `MasterDetailsDetails.aspx` Seite des Code-Behind-Klasse (finden Sie in der "[Programmgesteuertes Festlegen von Parameterwerten für das ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" Nähere Informationen zum Hinzufügen eines ereignishandlers):</span><span class="sxs-lookup"><span data-stu-id="62612-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>


[!code-csharp[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample2.cs)]

<span data-ttu-id="62612-221">Nach dieser expliziter Aufruf von der `ProductDetails` DetailsViews `DataBind()` Methode wurde hinzugefügt, das Lernprogramm funktioniert wie erwartet.</span><span class="sxs-lookup"><span data-stu-id="62612-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="62612-222">Abbildung 21 kennzeichnet, wie diese geändert, geschaffen unserer frühere Problem.</span><span class="sxs-lookup"><span data-stu-id="62612-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>


<span data-ttu-id="62612-223">[![ProductDetails DetailsView ist explizit aktualisiert bei der ProductsByCategory DropDownLists datengebundenen-Ereignis ausgelöst](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="62612-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span></span>

<span data-ttu-id="62612-224">**Abbildung 21**: die `ProductDetails` DetailsView wird explizit aktualisiert die `ProductsByCategory` DropDownLists `DataBound` -Ereignis ausgelöst ([klicken Sie hier, um das Bild in voller Größe angezeigt](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="62612-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span></span>


## <a name="summary"></a><span data-ttu-id="62612-225">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="62612-225">Summary</span></span>

<span data-ttu-id="62612-226">Die DropDownList dient als ein Element der Benutzeroberfläche ideal für Master-/Detail-Berichte, eine 1: n-Beziehung zwischen der Master- und Detailtabelle Datensätzen besteht.</span><span class="sxs-lookup"><span data-stu-id="62612-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="62612-227">In dem vorherigen Lernprogramm wurde erläutert, wie eine einzelne DropDownList verwenden, um die Produkte angezeigt, die von der ausgewählten Kategorie zu filtern.</span><span class="sxs-lookup"><span data-stu-id="62612-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="62612-228">In diesem Lernprogramm stellen wir GridView von Produkten mit einer DropDownList ersetzt, und eine DetailsView verwendet, um die Details des ausgewählten Produkts anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="62612-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="62612-229">In diesem Lernprogramm erörterten Konzepte können leicht auf Datenmodellen, die im Zusammenhang mit mehreren 1: n-Beziehungen, z. B. Kunden, Bestellungen und Bestellartikel ausgeweitet werden.</span><span class="sxs-lookup"><span data-stu-id="62612-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="62612-230">Im Allgemeinen können Sie immer eine DropDownList für jede der Entitäten in der 1: n-Beziehungen "one" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="62612-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="62612-231">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="62612-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="62612-232">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="62612-232">About the Author</span></span>

<span data-ttu-id="62612-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="62612-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="62612-234">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="62612-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="62612-235">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="62612-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="62612-236">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="62612-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="62612-237">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="62612-237">Special Thanks To</span></span>

<span data-ttu-id="62612-238">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="62612-238">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="62612-239">Lead Prüfer für dieses Lernprogramm wurde Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="62612-239">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="62612-240">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="62612-240">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="62612-241">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="62612-241">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="62612-242">[Zurück](master-detail-filtering-with-a-dropdownlist-cs.md)
> [Weiter](master-detail-filtering-across-two-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="62612-242">[Previous](master-detail-filtering-with-a-dropdownlist-cs.md)
[Next](master-detail-filtering-across-two-pages-cs.md)</span></span>
