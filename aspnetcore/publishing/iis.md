---
title: Hosten von ASP.NET Core unter Windows mit IIS
author: guardrex
description: "Konfiguration und Bereitstellung von Windows Server-Internetinformationsdienste (Internet Information Services, IIS) für ASP.NET Core-Anwendungen."
keywords: ASP.NET Core, Internetinformationsdienste, IIS, Windows Server, Hostingpaket, ASP.NET Core-Modul, Web Deploy
ms.author: riande
manager: wpickett
ms.date: 03/13/2017
ms.topic: article
ms.assetid: a4449ad3-5bad-410c-afa7-dc32d832b552
ms.technology: aspnet
ms.prod: asp.net-core
uid: publishing/iis
ms.openlocfilehash: f506fc880e50aa2fdc772fd29b905dfad02cda2b
ms.sourcegitcommit: 8005eb4051e568d88ee58d48424f39916052e6e2
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/24/2017
---
# <a name="set-up-a-hosting-environment-for-aspnet-core-on-windows-with-iis-and-deploy-to-it"></a><span data-ttu-id="13eb5-104">Einrichten einer Hostumgebung für ASP.NET Core unter Windows mit IIS und Durchführen von Bereitstellungen in dieser Umgebung</span><span class="sxs-lookup"><span data-stu-id="13eb5-104">Set up a hosting environment for ASP.NET Core on Windows with IIS, and deploy to it</span></span>

<span data-ttu-id="13eb5-105">Von [Luke Latham](https://github.com/guardrex) und [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="13eb5-105">By [Luke Latham](https://github.com/guardrex) and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

## <a name="supported-operating-systems"></a><span data-ttu-id="13eb5-106">Unterstützte Betriebssysteme</span><span class="sxs-lookup"><span data-stu-id="13eb5-106">Supported operating systems</span></span>

<span data-ttu-id="13eb5-107">Die folgenden Betriebssysteme werden unterstützt:</span><span class="sxs-lookup"><span data-stu-id="13eb5-107">The following operating systems are supported:</span></span>

* <span data-ttu-id="13eb5-108">Windows 7 und höher</span><span class="sxs-lookup"><span data-stu-id="13eb5-108">Windows 7 and newer</span></span>

* <span data-ttu-id="13eb5-109">Windows Server 2008 R2 und höher&#8224;</span><span class="sxs-lookup"><span data-stu-id="13eb5-109">Windows Server 2008 R2 and newer&#8224;</span></span>

<span data-ttu-id="13eb5-110">&#8224;Vom Konzept her gilt die in diesem Dokument beschriebene IIS-Konfiguration auch für das Hosten von ASP.NET Core-Anwendungen mit IIS unter Nano Server, die genauen Anweisungen finden Sie jedoch unter [ASP.NET Core mit IIS unter Nano Server](xref:tutorials/nano-server).</span><span class="sxs-lookup"><span data-stu-id="13eb5-110">&#8224;Conceptually, the IIS configuration described in this document also applies to hosting ASP.NET Core applications on Nano Server IIS, but refer to [ASP.NET Core with IIS on Nano Server](xref:tutorials/nano-server) for specific instructions.</span></span>

<span data-ttu-id="13eb5-111">Der [WebListener-Server](xref:fundamentals/servers/weblistener) funktioniert in einer Reverseproxykonfiguration mit IIS nicht.</span><span class="sxs-lookup"><span data-stu-id="13eb5-111">[WebListener server](xref:fundamentals/servers/weblistener) will not work in a reverse-proxy configuration with IIS.</span></span> <span data-ttu-id="13eb5-112">Verwenden Sie den [Kestrel-Server](xref:fundamentals/servers/kestrel).</span><span class="sxs-lookup"><span data-stu-id="13eb5-112">You must use the [Kestrel server](xref:fundamentals/servers/kestrel).</span></span>

## <a name="iis-configuration"></a><span data-ttu-id="13eb5-113">IIS-Konfiguration</span><span class="sxs-lookup"><span data-stu-id="13eb5-113">IIS configuration</span></span>

<span data-ttu-id="13eb5-114">Aktivieren Sie die Rolle **Webserver (IIS)**, und richten Sie Rollendienste ein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-114">Enable the **Web Server (IIS)** role and establish role services.</span></span>

### <a name="windows-desktop-operating-systems"></a><span data-ttu-id="13eb5-115">Windows-Desktopbetriebssysteme</span><span class="sxs-lookup"><span data-stu-id="13eb5-115">Windows desktop operating systems</span></span>

<span data-ttu-id="13eb5-116">Navigieren Sie zu **Systemsteuerung > Programme > Programme und Features > Windows-Features aktivieren oder deaktivieren** (links auf dem Bildschirm).</span><span class="sxs-lookup"><span data-stu-id="13eb5-116">Navigate to **Control Panel > Programs > Programs and Features > Turn Windows features on or off** (left side of the screen).</span></span> <span data-ttu-id="13eb5-117">Öffnen Sie die Gruppe für **Internetinformationsdienste** und **Webverwaltungstools**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-117">Open the group for **Internet Information Services** and **Web Management Tools**.</span></span> <span data-ttu-id="13eb5-118">Aktivieren Sie das Kontrollkästchen für **IIS-Verwaltungskonsole**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-118">Check the box for **IIS Management Console**.</span></span> <span data-ttu-id="13eb5-119">Aktivieren Sie das Kontrollkästchen für **WWW-Dienste**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-119">Check the box for **World Wide Web Services**.</span></span> <span data-ttu-id="13eb5-120">Akzeptieren Sie die Standardfeatures für **WWW-Dienste**, oder passen Sie die IIS-Features an Ihre speziellen Anforderungen an.</span><span class="sxs-lookup"><span data-stu-id="13eb5-120">Accept the default features for **World Wide Web Services** or customize the IIS features to suit your needs.</span></span>

![Die IIS-Verwaltungskonsole und WWW-Dienste werden in Windows-Features ausgewählt.](iis/_static/windows-features-win10.png)

### <a name="windows-server-operating-systems"></a><span data-ttu-id="13eb5-122">Windows Server-Betriebssysteme</span><span class="sxs-lookup"><span data-stu-id="13eb5-122">Windows Server operating systems</span></span>

<span data-ttu-id="13eb5-123">Verwenden Sie für Serverbetriebssysteme den Assistenten **Rollen und Features hinzufügen** im Menü **Verwalten** oder den Link in **Server-Manager**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-123">For server operating systems, use the **Add Roles and Features** wizard via the **Manage** menu or the link in **Server Manager**.</span></span> <span data-ttu-id="13eb5-124">Aktivieren Sie im Schritt **Serverrollen** das Kontrollkästchen für **Webserver (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-124">On the **Server Roles** step, check the box for **Web Server (IIS)**.</span></span>

![Die Rolle „Webserver (IIS)“ wird im Schritt „Serverrollen auswählen“ ausgewählt.](iis/_static/server-roles-ws2016.png)

<span data-ttu-id="13eb5-126">Wählen Sie im Schritt **Rollendienste** die gewünschten IIS-Rollendienste aus, oder übernehmen Sie die angegebenen Standardrollendienste.</span><span class="sxs-lookup"><span data-stu-id="13eb5-126">On the **Role services** step, select the IIS role services you desire or accept the default role services provided.</span></span>

![Die Standardrollendienste werden im Schritt „Rollendienste auswählen“ ausgewählt.](iis/_static/role-services-ws2016.png)

<span data-ttu-id="13eb5-128">Fahren Sie mit dem Schritt **Bestätigung** fort, um die Webserverrolle und die Dienste zu installieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-128">Proceed through the **Confirmation** step to install the web server role and services.</span></span> <span data-ttu-id="13eb5-129">Ein Server-/IIS-Neustart ist nach der Installation der Rolle „Webserver (IIS)“ nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="13eb5-129">A server/IIS restart is not required after installing the Web Server (IIS) role.</span></span>

## <a name="install-the-net-core-windows-server-hosting-bundle"></a><span data-ttu-id="13eb5-130">Installieren des Pakets „.NET Core Windows Server Hosting“</span><span class="sxs-lookup"><span data-stu-id="13eb5-130">Install the .NET Core Windows Server Hosting bundle</span></span>

1. <span data-ttu-id="13eb5-131">Installieren Sie das [Paket „.NET Core Windows Server Hosting“](https://aka.ms/dotnetcore.2.0.0-windowshosting) im Hostsystem.</span><span class="sxs-lookup"><span data-stu-id="13eb5-131">Install the [.NET Core Windows Server Hosting bundle](https://aka.ms/dotnetcore.2.0.0-windowshosting) on the hosting system.</span></span> <span data-ttu-id="13eb5-132">Das Paket installiert die .NET Core-Runtime, die .NET Core-Bibliothek und das [ASP.NET Core-Modul](xref:fundamentals/servers/aspnet-core-module).</span><span class="sxs-lookup"><span data-stu-id="13eb5-132">The bundle will install the .NET Core Runtime, .NET Core Library, and the [ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module).</span></span> <span data-ttu-id="13eb5-133">Das Modul erstellt den Reverseproxy zwischen IIS und dem Kestrel-Server.</span><span class="sxs-lookup"><span data-stu-id="13eb5-133">The module creates the reverse-proxy between IIS and the Kestrel server.</span></span> <span data-ttu-id="13eb5-134">Hinweis: Wenn das System nicht über eine Internetverbindung verfügt, beziehen und installieren Sie *[Microsoft Visual C++ 2015 Redistributable](https://www.microsoft.com/download/details.aspx?id=53840)*, bevor Sie das Paket „.NET Core Windows Server Hosting“ installieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-134">Note: If the system doesn't have an Internet connection, obtain and install the *[Microsoft Visual C++ 2015 Redistributable](https://www.microsoft.com/download/details.aspx?id=53840)* before installing the .NET Core Windows Server Hosting bundle.</span></span>

2. <span data-ttu-id="13eb5-135">Starten Sie das System neu, oder führen Sie **net stop was /y** gefolgt von **net start w3svc** über eine Eingabeaufforderung aus, um eine Änderung am Systempfad zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-135">Restart the system or execute **net stop was /y** followed by **net start w3svc** from a command prompt to pick up a change to the system PATH.</span></span>

> [!NOTE]
> <span data-ttu-id="13eb5-136">Weitere Informationen zur Verwendung einer IIS-Freigabekonfiguration finden Sie unter [ASP.NET Core-Modul mit IIS-Freigabekonfiguration](xref:hosting/aspnet-core-module#aspnet-core-module-with-an-iis-shared-configuration).</span><span class="sxs-lookup"><span data-stu-id="13eb5-136">If you use an IIS Shared Configuration, see [ASP.NET Core Module with IIS Shared Configuration](xref:hosting/aspnet-core-module#aspnet-core-module-with-an-iis-shared-configuration).</span></span>

## <a name="install-web-deploy-when-publishing-with-visual-studio"></a><span data-ttu-id="13eb5-137">Installieren von Web Deploy beim Veröffentlichen mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="13eb5-137">Install Web Deploy when publishing with Visual Studio</span></span>

<span data-ttu-id="13eb5-138">Wenn Sie Ihre Anwendungen mit Web Deploy in Visual Studio bereitstellen möchten, installieren Sie die neueste Version von Web Deploy auf dem Hostsystem.</span><span class="sxs-lookup"><span data-stu-id="13eb5-138">If you intend to deploy your applications with Web Deploy in Visual Studio, install the latest version of Web Deploy on the hosting system.</span></span> <span data-ttu-id="13eb5-139">Um Web Deploy zu installieren, können Sie den [Webplattform-Installer (WebPI)](https://www.microsoft.com/web/downloads/platform.aspx) verwenden oder ein Installationsprogramm direkt aus dem [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=43717) abrufen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-139">To install Web Deploy, you can use the [Web Platform Installer (WebPI)](https://www.microsoft.com/web/downloads/platform.aspx) or obtain an installer directly from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=43717).</span></span> <span data-ttu-id="13eb5-140">Die bevorzugte Methode ist die Verwendung von WebPI.</span><span class="sxs-lookup"><span data-stu-id="13eb5-140">The preferred method is to use WebPI.</span></span> <span data-ttu-id="13eb5-141">WebPI bietet ein eigenständiges Setup und eine Konfiguration für Hostinganbieter.</span><span class="sxs-lookup"><span data-stu-id="13eb5-141">WebPI offers a standalone setup and a configuration for hosting providers.</span></span>

## <a name="application-configuration"></a><span data-ttu-id="13eb5-142">Anwendungskonfiguration</span><span class="sxs-lookup"><span data-stu-id="13eb5-142">Application configuration</span></span>

### <a name="enabling-the-iisintegration-components"></a><span data-ttu-id="13eb5-143">Aktivieren der IISIntegration-Komponenten</span><span class="sxs-lookup"><span data-stu-id="13eb5-143">Enabling the IISIntegration components</span></span>

# <a name="aspnet-core-2xtabaspnetcore2x"></a>[<span data-ttu-id="13eb5-144">ASP.NET Core 2.x</span><span class="sxs-lookup"><span data-stu-id="13eb5-144">ASP.NET Core 2.x</span></span>](#tab/aspnetcore2x)

<span data-ttu-id="13eb5-145">Eine typische *Program.cs*-Datei ruft [CreateDefaultBuilder](/dotnet/api/microsoft.aspnetcore.webhost.createdefaultbuilder) auf, um die Einrichtung eines Hosts zu starten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-145">A typical *Program.cs* calls [CreateDefaultBuilder](/dotnet/api/microsoft.aspnetcore.webhost.createdefaultbuilder) to begin setting up a host.</span></span> <span data-ttu-id="13eb5-146">`CreateDefaultBuilder` konfiguriert [Kestrel](xref:fundamentals/servers/kestrel) als Webserver und aktiviert die IIS-Integration durch Konfigurierung des Basispfads und Ports für das [ASP.NET Core-Modul](xref:fundamentals/servers/aspnet-core-module):</span><span class="sxs-lookup"><span data-stu-id="13eb5-146">`CreateDefaultBuilder` configures [Kestrel](xref:fundamentals/servers/kestrel) as the web server and enables IIS integration by configuring the base path and port for the [ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module):</span></span>

```csharp
public static IWebHost BuildWebHost(string[] args) =>
    WebHost.CreateDefaultBuilder(args)
        ...
```

# <a name="aspnet-core-1xtabaspnetcore1x"></a>[<span data-ttu-id="13eb5-147">ASP.NET Core 1.x</span><span class="sxs-lookup"><span data-stu-id="13eb5-147">ASP.NET Core 1.x</span></span>](#tab/aspnetcore1x)

<span data-ttu-id="13eb5-148">Nehmen Sie eine Abhängigkeit vom Paket [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/) in die Anwendungsabhängigkeiten auf.</span><span class="sxs-lookup"><span data-stu-id="13eb5-148">Include a dependency on the [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/) package in the application dependencies.</span></span> <span data-ttu-id="13eb5-149">Binden Sie Middleware für die Integration von IIS in die Anwendung ein, indem Sie die Erweiterungsmethode *.UseIISIntegration* zu *WebHostBuilder* hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="13eb5-149">Incorporate IIS Integration middleware into the application by adding the *UseIISIntegration* extension method to *WebHostBuilder*:</span></span>

```csharp
var host = new WebHostBuilder()
    .UseKestrel()
    .UseIISIntegration()
    ...
```

<span data-ttu-id="13eb5-150">Es sind jeweils `UseKestrel` und `UseIISIntegration` erforderlich.</span><span class="sxs-lookup"><span data-stu-id="13eb5-150">Both `UseKestrel` and `UseIISIntegration` are required.</span></span> <span data-ttu-id="13eb5-151">Ein Code, der *.UseIISIntegration* aufruft, hat keinen Einfluss auf die Codeportabilität.</span><span class="sxs-lookup"><span data-stu-id="13eb5-151">Code calling *UseIISIntegration* doesn't affect code portability.</span></span> <span data-ttu-id="13eb5-152">Wenn Die App nicht hinter IIS ausgeführt wird (die App wird z.B. direkt auf Kestrel ausgeführt), hat `UseIISIntegration` keine Funktion.</span><span class="sxs-lookup"><span data-stu-id="13eb5-152">If the app isn't run behind IIS (for example, the app is run directly on Kestrel), `UseIISIntegration` no-ops.</span></span>

---

<span data-ttu-id="13eb5-153">Weitere Informationen zum Hosten finden Sie unter [Hosting in ASP.NET Core (Hosten in ASP.NET Core)](xref:fundamentals/hosting).</span><span class="sxs-lookup"><span data-stu-id="13eb5-153">For more information on hosting, see [Hosting in ASP.NET Core](xref:fundamentals/hosting).</span></span>

### <a name="iis-options"></a><span data-ttu-id="13eb5-154">IIS-Optionen</span><span class="sxs-lookup"><span data-stu-id="13eb5-154">IIS options</span></span>

<span data-ttu-id="13eb5-155">Um *IISIntegration*-Dienstoptionen zu konfigurieren, beziehen Sie eine Dienstkonfiguration für *IISOptions* in *ConfigureServices* mit ein:</span><span class="sxs-lookup"><span data-stu-id="13eb5-155">To configure *IISIntegration* service options, include a service configuration for *IISOptions* in *ConfigureServices*:</span></span>

```csharp
services.Configure<IISOptions>(options => 
{
    ...
});
```

| <span data-ttu-id="13eb5-156">Option</span><span class="sxs-lookup"><span data-stu-id="13eb5-156">Option</span></span>                         | <span data-ttu-id="13eb5-157">Standard</span><span class="sxs-lookup"><span data-stu-id="13eb5-157">Default</span></span> | <span data-ttu-id="13eb5-158">Einstellung</span><span class="sxs-lookup"><span data-stu-id="13eb5-158">Setting</span></span> |
| ------------------------------ | ------- | ------- |
| `AutomaticAuthentication`      | `true`  | <span data-ttu-id="13eb5-159">Wenn `true`, dann legt die Authentifizierungsmiddleware `HttpContext.User` fest und reagiert auf generische Herausforderungen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-159">If `true`, the authentication middleware sets the `HttpContext.User` and responds to generic challenges.</span></span> <span data-ttu-id="13eb5-160">Wenn `false`, dann stellt die Authentifizierungsmiddleware nur eine Identität bereit (`HttpContext.User`) und reagiert nur dann auf Herausforderungen, wenn sie dazu explizit von `AuthenticationScheme` angewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-160">If `false`, the authentication middleware only provides an identity (`HttpContext.User`) and responds to challenges when explicitly requested by the `AuthenticationScheme`.</span></span> <span data-ttu-id="13eb5-161">Die Windows-Authentifizierung muss in IIS aktiviert sein, damit `AutomaticAuthentication` funktioniert.</span><span class="sxs-lookup"><span data-stu-id="13eb5-161">Windows Authentication must be enabled in IIS for `AutomaticAuthentication` to function.</span></span> |
| `AuthenticationDisplayName`    | `null`  | <span data-ttu-id="13eb5-162">Legt den Anzeigename fest, der Benutzern auf Anmeldungsseiten angezeigt wird</span><span class="sxs-lookup"><span data-stu-id="13eb5-162">Sets the display name shown to users on login pages.</span></span> |
| `ForwardClientCertificate`     | `true`  | <span data-ttu-id="13eb5-163">Wenn diese Option `true` ist und der Anforderungsheader `MS-ASPNETCORE-CLIENTCERT` vorhanden ist, wird das `HttpContext.Connection.ClientCertificate` aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-163">If `true` and the `MS-ASPNETCORE-CLIENTCERT` request header is present, the `HttpContext.Connection.ClientCertificate` is populated.</span></span> |

### <a name="webconfig"></a><span data-ttu-id="13eb5-164">web.config</span><span class="sxs-lookup"><span data-stu-id="13eb5-164">web.config</span></span>

<span data-ttu-id="13eb5-165">Die Datei *web.config* konfiguriert das ASP.NET Core-Modul und bietet andere IIS-Konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-165">The *web.config* file configures the ASP.NET Core Module and provides other IIS configuration.</span></span> <span data-ttu-id="13eb5-166">Das Erstellen, Transformieren und Veröffentlichen der *web.config* erfolgt durch `Microsoft.NET.Sdk.Web`. Dies wird eingebunden, wenn Sie Ihr Projekt-SDK am Anfang der *CSPROJ*-Datei festlegen: `<Project Sdk="Microsoft.NET.Sdk.Web">`.</span><span class="sxs-lookup"><span data-stu-id="13eb5-166">Creating, transforming, and publishing *web.config* is handled by `Microsoft.NET.Sdk.Web`, which is included when you set your project's SDK at the top of your *.csproj* file, `<Project Sdk="Microsoft.NET.Sdk.Web">`.</span></span> <span data-ttu-id="13eb5-167">Um zu verhindern, dass das MSBuild-Ziel Ihre Datei *web.config* transformiert, fügen Sie der Projektdatei die Eigenschaft **\<IsTransformWebConfigDisabled >** mit der Einstellung `true` hinzu:</span><span class="sxs-lookup"><span data-stu-id="13eb5-167">To prevent the MSBuild target from transforming your *web.config* file, add the **\<IsTransformWebConfigDisabled>** property to your project file with a setting of `true`:</span></span>

```xml
<PropertyGroup>
  <IsTransformWebConfigDisabled>true</IsTransformWebConfigDisabled>
</PropertyGroup>
```

<span data-ttu-id="13eb5-168">Wenn Sie keine Datei *web.config* im Projekt haben, wird die Datei bei der Veröffentlichung mit *dotnet publish* oder durch Veröffentlichen in Visual Studio in der veröffentlichten Ausgabe für Sie erstellt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-168">If you don't have a *web.config* file in the project when you publish with *dotnet publish* or with Visual Studio publish, the file is created for you in published output.</span></span> <span data-ttu-id="13eb5-169">Wenn die Datei in Ihrem Projekt vorhanden ist, wird sie mit dem richtigen *processPath* und den richtigen *Argumenten* transformiert, um das ASP.NET Core-Modul zu konfigurieren und in die veröffentlichte Ausgabe zu verschieben.</span><span class="sxs-lookup"><span data-stu-id="13eb5-169">If you have the file in your project, it's transformed with the correct *processPath* and *arguments* to configure the ASP.NET Core Module and moved to published output.</span></span> <span data-ttu-id="13eb5-170">Die Transformation ändert die IIS-Konfigurationseinstellungen nicht, die Sie in die Datei aufgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="13eb5-170">The transformation doesn't touch IIS configuration settings that you've included in the file.</span></span>

## <a name="create-the-iis-website"></a><span data-ttu-id="13eb5-171">Erstellen der IIS-Website</span><span class="sxs-lookup"><span data-stu-id="13eb5-171">Create the IIS Website</span></span>

1. <span data-ttu-id="13eb5-172">Erstellen Sie im IIS-Zielsystem einen Ordner für die veröffentlichten Ordner und Dateien der Anwendung, die in [Verzeichnisstruktur](xref:hosting/directory-structure) beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="13eb5-172">On the target IIS system, create a folder to contain the application's published folders and files, which are described in [Directory Structure](xref:hosting/directory-structure).</span></span>

2. <span data-ttu-id="13eb5-173">Erstellen Sie in diesem Ordner einen Ordner *Protokolle* zum Speichern der Anwendungsprotokolle (wenn Sie die Protokollierung aktivieren möchten).</span><span class="sxs-lookup"><span data-stu-id="13eb5-173">Within the folder you created, create a *logs* folder to hold application logs (if you plan to enable logging).</span></span> <span data-ttu-id="13eb5-174">Wenn Sie planen, die Anwendung mit einem Ordner *Protokolle* in der Nutzlast bereitzustellen, können Sie diesen Schritt überspringen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-174">If you plan to deploy your application with a *logs* folder in the payload, you may skip this step.</span></span>

3. <span data-ttu-id="13eb5-175">Erstellen Sie im **IIS-Manager** eine neue Website.</span><span class="sxs-lookup"><span data-stu-id="13eb5-175">In **IIS Manager**, create a new website.</span></span> <span data-ttu-id="13eb5-176">Geben Sie einen **Websitenamen** an, und legen Sie den **physischen Pfad** auf den erstellten Bereitstellungsordner der Anwendung fest.</span><span class="sxs-lookup"><span data-stu-id="13eb5-176">Provide a **Site name** and set the **Physical path** to the application's deployment folder that you created.</span></span> <span data-ttu-id="13eb5-177">Geben Sie die Konfiguration unter **Bindung** an, und erstellen Sie die Website.</span><span class="sxs-lookup"><span data-stu-id="13eb5-177">Provide the **Binding** configuration and create the website.</span></span>

4. <span data-ttu-id="13eb5-178">Legen Sie den Anwendungspool auf **Kein verwalteter Code** fest.</span><span class="sxs-lookup"><span data-stu-id="13eb5-178">Set the application pool to **No Managed Code**.</span></span> <span data-ttu-id="13eb5-179">ASP.NET Core wird in einem separaten Prozess ausgeführt und verwaltet die Runtime.</span><span class="sxs-lookup"><span data-stu-id="13eb5-179">ASP.NET Core runs in a separate process and manages the runtime.</span></span>

5. <span data-ttu-id="13eb5-180">Öffnen Sie das Fenster **Website hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-180">Open the **Add Website** window.</span></span>

   ![Klicken Sie im Kontextmenü „Websites“ auf „Website hinzufügen“.](iis/_static/add-website-context-menu-ws2016.png)

6. <span data-ttu-id="13eb5-182">Konfigurieren Sie die Website.</span><span class="sxs-lookup"><span data-stu-id="13eb5-182">Configure the website.</span></span>

   ![Geben Sie den Websitenamen, den physischen Pfad und den Hostnamen im Schritt „Website hinzufügen“ an.](iis/_static/add-website-ws2016.png)

7. <span data-ttu-id="13eb5-184">Öffnen Sie im Bereich **Anwendungspools** das Fenster **Anwendungspool bearbeiten**, indem Sie mit der rechten Maustaste auf den Anwendungspool der Website klicken und im Popupmenü **Grundeinstellungen** auswählen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-184">In the **Application Pools** panel, open the **Edit Application Pool** window by right-clicking on the website's application pool and selecting **Basic Settings...** from the popup menu.</span></span>

   ![Wählen Sie „Grundeinstellungen“ aus dem Kontextmenü des Anwendungspools aus.](iis/_static/apppools-basic-settings-ws2016.png)

8. <span data-ttu-id="13eb5-186">Legen Sie die **.NET CLR-Version** auf **Kein verwalteter Code** fest.</span><span class="sxs-lookup"><span data-stu-id="13eb5-186">Set the **.NET CLR version** to **No Managed Code**.</span></span>

   ![Legen Sie „Kein verwalteter Code“ für die .NET CLR-Version fest.](iis/_static/edit-apppool-ws2016.png)
     
    <span data-ttu-id="13eb5-188">Hinweis: Das Festlegen der **.NET CLR-Version** auf **Kein verwalteter Code** ist optional.</span><span class="sxs-lookup"><span data-stu-id="13eb5-188">Note: Setting the **.NET CLR version** to **No Managed Code** is optional.</span></span> <span data-ttu-id="13eb5-189">Für ASP.NET Core ist das Laden der Desktop-CLR nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="13eb5-189">ASP.NET Core doesn't rely on loading the desktop CLR.</span></span>

9. <span data-ttu-id="13eb5-190">Vergewissern Sie sich, dass die Prozessmodellidentität über die richtigen Berechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-190">Confirm the process model identity has the proper permissions.</span></span>

    <span data-ttu-id="13eb5-191">Wenn Sie die Standardidentität des Anwendungspools (**Prozessmodell** > **Identität**) von **ApplicationPoolIdentity** in eine andere Identität ändern, stellen Sie sicher, dass die neue Identität über die erforderlichen Berechtigungen zum Zugriff auf den Ordner, die Datenbank und andere erforderliche Ressourcen der Anwendung verfügt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-191">If you change the default identity of the application pool (**Process Model** > **Identity**) from **ApplicationPoolIdentity** to another identity, verify that the new identity has the required permissions to access the application's folder, database, and other required resources.</span></span>
   
## <a name="deploy-the-application"></a><span data-ttu-id="13eb5-192">Bereitstellen der Anwendung</span><span class="sxs-lookup"><span data-stu-id="13eb5-192">Deploy the application</span></span>
<span data-ttu-id="13eb5-193">Stellen Sie die Anwendung in dem Ordner bereit, den Sie im IIS-Zielsystem erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="13eb5-193">Deploy the application to the folder you created on the target IIS system.</span></span> <span data-ttu-id="13eb5-194">Web Deploy ist der empfohlene Mechanismus für die Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="13eb5-194">Web Deploy is the recommended mechanism for deployment.</span></span> <span data-ttu-id="13eb5-195">Alternativen zu Web Deploy sind unten aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-195">Alternatives to Web Deploy are listed below.</span></span>

<span data-ttu-id="13eb5-196">Stellen Sie sicher, dass die zur Bereitstellung veröffentlichte App nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-196">Confirm that the published app for deployment isn't running.</span></span> <span data-ttu-id="13eb5-197">Die Dateien im Ordner *publish* sind gesperrt, wenn die App ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-197">Files in the *publish* folder are locked when the app is running.</span></span> <span data-ttu-id="13eb5-198">Die Bereitstellung kann nicht erfolgen, da die gesperrten Dateien nicht kopiert werden können.</span><span class="sxs-lookup"><span data-stu-id="13eb5-198">Deployment can't occur because locked files can't be copied.</span></span>

### <a name="web-deploy-with-visual-studio"></a><span data-ttu-id="13eb5-199">Web Deploy mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="13eb5-199">Web Deploy with Visual Studio</span></span>
<span data-ttu-id="13eb5-200">Informationen zum Erstellen eines Veröffentlichungsprofils zur Verwendung mit Web Deploy finden Sie im Thema [Erstellen von Veröffentlichungsprofilen für Visual Studio und MSBuild zum Bereitstellen von ASP.NET Core-Apps](xref:publishing/web-publishing-vs#publish-profiles).</span><span class="sxs-lookup"><span data-stu-id="13eb5-200">See [Create publish profiles for Visual Studio and MSBuild, to deploy ASP.NET Core apps](xref:publishing/web-publishing-vs#publish-profiles) topic to learn how to create a publish profile for use with Web Deploy.</span></span> <span data-ttu-id="13eb5-201">Wenn Ihr Hostinganbieter ein Veröffentlichungsprofil oder Unterstützung für das Erstellen eines solchen Profils bereitstellt, laden Sie dessen Profil herunter, und importieren Sie es mithilfe des Visual Studio-Dialogfelds **Veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-201">If your hosting provider supplies a Publish Profile or support for creating one, download their profile and import it using the Visual Studio **Publish** dialog.</span></span>

![Dialogfeld „Veröffentlichen“](iis/_static/pub-dialog.png)

### <a name="web-deploy-outside-of-visual-studio"></a><span data-ttu-id="13eb5-203">Web Deploy außerhalb von Visual Studio</span><span class="sxs-lookup"><span data-stu-id="13eb5-203">Web Deploy outside of Visual Studio</span></span>
<span data-ttu-id="13eb5-204">Sie können Web Deploy über die Befehlszeile auch außerhalb von Visual Studio verwenden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-204">You can also use Web Deploy outside of Visual Studio from the command line.</span></span> <span data-ttu-id="13eb5-205">Weitere Informationen finden Sie unter [Web Deployment Tool](https://docs.microsoft.com/iis/publish/using-web-deploy/use-the-web-deployment-tool) (Webbereitstellungstool).</span><span class="sxs-lookup"><span data-stu-id="13eb5-205">For more information, see [Web Deployment Tool](https://docs.microsoft.com/iis/publish/using-web-deploy/use-the-web-deployment-tool).</span></span>

### <a name="alternatives-to-web-deploy"></a><span data-ttu-id="13eb5-206">Alternativen zu Web Deploy</span><span class="sxs-lookup"><span data-stu-id="13eb5-206">Alternatives to Web Deploy</span></span>
<span data-ttu-id="13eb5-207">Wenn Sie Web Deploy nicht verwenden möchten oder Visual Studio nicht nutzen, stehen Ihnen verschiedene Methoden zur Verfügung, um die Anwendung in das Hostsystem zu verschieben, z.B. Xcopy, Robocopy oder PowerShell.</span><span class="sxs-lookup"><span data-stu-id="13eb5-207">If you don't wish to use Web Deploy or are not using Visual Studio, you may use any of several methods to move the application to the hosting system, such as Xcopy, Robocopy, or PowerShell.</span></span> <span data-ttu-id="13eb5-208">Visual Studio-Benutzer können die [Veröffentlichungsbeispiele](https://github.com/aspnet/vsweb-publish/blob/master/samples/samples.md) verwenden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-208">Visual Studio users may use the [Publish Samples](https://github.com/aspnet/vsweb-publish/blob/master/samples/samples.md).</span></span>

## <a name="browse-the-website"></a><span data-ttu-id="13eb5-209">Navigieren auf der Website</span><span class="sxs-lookup"><span data-stu-id="13eb5-209">Browse the website</span></span>
![Der Microsoft Edge-Browser hat die IIS-Startseite geladen.](iis/_static/browsewebsite.png)
   
>[!WARNING]
> <span data-ttu-id="13eb5-211">.NET Core-Anwendungen werden über einen Reverseproxy zwischen IIS und dem Kestrel-Server gehostet.</span><span class="sxs-lookup"><span data-stu-id="13eb5-211">.NET Core applications are hosted via a reverse-proxy between IIS and the Kestrel server.</span></span> <span data-ttu-id="13eb5-212">Zum Erstellen des Reverseproxys muss die Datei *web.config* im Stammpfad des Inhalts (normalerweise der App-Basispfad) der bereitgestellten Anwendung vorhanden sein. Dies ist der physische Pfad der Website, der in IIS bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="13eb5-212">In order to create the reverse-proxy, the *web.config* file must be present at the content root path (typically the app base path) of the deployed application, which is the website physical path provided to IIS.</span></span> <span data-ttu-id="13eb5-213">Im physischen Pfad und den Unterordnern der App sind vertrauliche Dateien vorhanden, wie z.B. *my_application.runtimeconfig.json*, *my_application.xml* (XML-Dokumentationskommentare) und *my_application.deps.json*.</span><span class="sxs-lookup"><span data-stu-id="13eb5-213">Sensitive files exist on the app's physical path, including subfolders, such as *my_application.runtimeconfig.json*, *my_application.xml* (XML Documentation comments), and *my_application.deps.json*.</span></span> <span data-ttu-id="13eb5-214">Die Datei *web.config* ist erforderlich, um den Reverseproxy zu Kestrel zu erstellen. Dadurch wird verhindert, dass IIS diese und andere vertrauliche Dateien bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-214">The *web.config* file is required to create the reverse proxy to Kestrel, which prevents IIS from serving these and other sensitive files.</span></span> <span data-ttu-id="13eb5-215">**Daher ist es wichtig, dass die Datei *web.config* nicht versehentlich umbenannt oder aus der Bereitstellung entfernt wird.**</span><span class="sxs-lookup"><span data-stu-id="13eb5-215">**Therefore, it is important that the *web.config* file is never accidently renamed or removed from the deployment.**</span></span>

## <a name="data-protection"></a><span data-ttu-id="13eb5-216">Schutz von Daten</span><span class="sxs-lookup"><span data-stu-id="13eb5-216">Data protection</span></span>

<span data-ttu-id="13eb5-217">Eine ASP.NET Core-Anwendung speichert unter der folgenden Bedingung den Schlüsselbund im Arbeitsspeicher:</span><span class="sxs-lookup"><span data-stu-id="13eb5-217">An ASP.NET Core application will store the keyring in memory under the following condition:</span></span>

* <span data-ttu-id="13eb5-218">Eine Website wird hinter IIS gehostet.</span><span class="sxs-lookup"><span data-stu-id="13eb5-218">A website is hosted behind IIS.</span></span>
* <span data-ttu-id="13eb5-219">Der Stapel für den Schutz von Daten wurde nicht so konfiguriert, dass der Schlüsselbund in einem permanenten Speicher speichert wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-219">The Data Protection stack has not been configured to store the keyring in a persistent store.</span></span>

<span data-ttu-id="13eb5-220">Falls der Schlüsselbund im Arbeitsspeicher gespeichert wird, wenn die App neu gestartet wird:</span><span class="sxs-lookup"><span data-stu-id="13eb5-220">If the keyring is stored in memory, when the app restarts:</span></span>

* <span data-ttu-id="13eb5-221">Alle Formularauthentifizierungstoken werden ungültig.</span><span class="sxs-lookup"><span data-stu-id="13eb5-221">All forms authentication tokens will be invalid.</span></span> 
* <span data-ttu-id="13eb5-222">Benutzer müssen sich bei ihrer nächsten Anforderung erneut anmelden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-222">Users will need to login again on their next request.</span></span> 
* <span data-ttu-id="13eb5-223">Alle Daten, die Sie mit dem Schlüsselbund geschützt haben, sind nicht mehr ungeschützt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-223">Any data you protected with the keyring will no longer be unprotected.</span></span>

> [!WARNING]
> <span data-ttu-id="13eb5-224">Der Schutz von Daten wird von mehreren ASP.NET-Middlewarefunktionen genutzt, einschließlich der Middleware, die bei der Authentifizierung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-224">Data Protection is used by several ASP.NET middlewares, including those used in authentication.</span></span> <span data-ttu-id="13eb5-225">Auch wenn Sie nicht ausdrücklich Datenschutz-APIs über Ihren eigenen Code aufrufen, sollten Sie den Schutz von Daten mit einem Bereitstellungsskript oder in Ihrem eigenen Code konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-225">Even if you do not specifically call any Data Protection APIs from your own code you should configure Data Protection with a deployment script or in your own code.</span></span> <span data-ttu-id="13eb5-226">Wenn Sie den Schutz von Daten nicht konfigurieren, werden die Schlüssel standardmäßig im Arbeitsspeicher gespeichert und verworfen, wenn Ihre App neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-226">If you do not configure data protection, by default the keys will be held in memory and discarded when your app restarts.</span></span> <span data-ttu-id="13eb5-227">Durch den Neustart werden alle von der Cookieauthentifizierung geschriebenen Cookies ungültig, und Benutzer müssen sich erneut anmelden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-227">Restarting will invalidate any cookies written by the cookie authentication and users will have to login again.</span></span>

<span data-ttu-id="13eb5-228">Zum Konfigurieren des Schutzes von Daten unter IIS müssen Sie einen der folgenden Ansätze verwenden:</span><span class="sxs-lookup"><span data-stu-id="13eb5-228">To configure Data Protection under IIS you must use one of the following approaches:</span></span>

* <span data-ttu-id="13eb5-229">Führen Sie ein [PowerShell-Skript](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) aus, um geeignete Registrierungseinträge zu erstellen (z.B. `.\Provision-AutoGenKeys.ps1 DefaultAppPool`).</span><span class="sxs-lookup"><span data-stu-id="13eb5-229">Run a [powershell script](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) to create suitable registry entries (For example,  `.\Provision-AutoGenKeys.ps1 DefaultAppPool`).</span></span> <span data-ttu-id="13eb5-230">Dadurch werden Schlüssel in der Registrierung gespeichert und mit DPAPI mit einem für den gesamten Computer geltenden Schlüssel geschützt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-230">This will store keys in the registry, protected using DPAPI with a machine wide key.</span></span>
* <span data-ttu-id="13eb5-231">Konfigurieren Sie den IIS-Anwendungspool zum Laden des Benutzerprofils.</span><span class="sxs-lookup"><span data-stu-id="13eb5-231">Configure the IIS Application Pool to load the user profile.</span></span> <span data-ttu-id="13eb5-232">Diese Einstellung befindet sich im Abschnitt **Prozessmodell** unter **Erweiterte Einstellungen** für den Anwendungspool.</span><span class="sxs-lookup"><span data-stu-id="13eb5-232">This setting is in the **Process Model** section under the **Advanced Settings** for the application pool.</span></span> <span data-ttu-id="13eb5-233">Legen Sie **Benutzerprofil laden** auf `True` fest.</span><span class="sxs-lookup"><span data-stu-id="13eb5-233">Set **Load User Profile** to `True`.</span></span> <span data-ttu-id="13eb5-234">Dadurch werden Schlüssel im Benutzerprofilverzeichnis gespeichert und mit DPAPI mit einem Schlüssel geschützt, der nur für das Benutzerkonto gilt, das für den Anwendungspool verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-234">This will store keys under the user profile directory, and protected using DPAPI with a key specific to the user account used for the app pool.</span></span>
* <span data-ttu-id="13eb5-235">Passen Sie den Anwendungscode so an, dass er [das Dateisystem als Schlüsselringspeicher verwendet](xref:security/data-protection/configuration/overview).</span><span class="sxs-lookup"><span data-stu-id="13eb5-235">Adjust your application code to [use the file system as a key ring store](xref:security/data-protection/configuration/overview).</span></span> <span data-ttu-id="13eb5-236">Verwenden Sie ein X509-Zertifikat, um den Schlüsselring zu schützen, und stellen Sie sicher, dass es sich um ein vertrauenswürdiges Zertifikat handelt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-236">Use an X509 certificate to protect the key ring and ensure it is a trusted certificate.</span></span> <span data-ttu-id="13eb5-237">Ein selbst signiertes Zertifikat müssen Sie z.B. im vertrauenswürdigen Stammspeicher platzieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-237">For example, if it is a self signed certificate you must place it in the Trusted Root store.</span></span>

<span data-ttu-id="13eb5-238">Wenn IIS in einer Webfarm verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="13eb5-238">When using IIS in a web farm:</span></span>

* <span data-ttu-id="13eb5-239">Verwenden Sie eine Dateifreigabe, auf die alle Computer zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="13eb5-239">Use a file share all machines can access.</span></span>
* <span data-ttu-id="13eb5-240">Stellen Sie ein X509-Zertifikat auf jedem Computer bereit.</span><span class="sxs-lookup"><span data-stu-id="13eb5-240">Deploy an X509 certificate to each machine.</span></span>  <span data-ttu-id="13eb5-241">Konfigurieren Sie den [Schutz von Daten im Code](https://docs.microsoft.com/aspnet/core/security/data-protection/configuration/overview).</span><span class="sxs-lookup"><span data-stu-id="13eb5-241">Configure [data protection in code](https://docs.microsoft.com/aspnet/core/security/data-protection/configuration/overview).</span></span>

### <a name="1-create-a-data-protection-registry-hive"></a><span data-ttu-id="13eb5-242">1. Erstellen einer Registrierungsstruktur für den Schutz von Daten</span><span class="sxs-lookup"><span data-stu-id="13eb5-242">1. Create a Data Protection Registry Hive</span></span>

<span data-ttu-id="13eb5-243">Schlüssel für den Schutz von Daten, die von ASP.NET-Anwendungen verwendet werden, werden in Registrierungsstrukturen außerhalb der Anwendungen gespeichert.</span><span class="sxs-lookup"><span data-stu-id="13eb5-243">Data Protection keys used by ASP.NET applications are stored in registry hives external to the applications.</span></span> <span data-ttu-id="13eb5-244">Um die Schlüssel für eine bestimmte Anwendung beizubehalten, müssen Sie eine Registrierungsstruktur für den Anwendungspool der Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-244">To persist the keys for a given application, you must create a registry hive for the application's application pool.</span></span>

<span data-ttu-id="13eb5-245">Bei eigenständigen IIS-Installationen können Sie das [PowerShell-Skript „Provision-AutoGenKeys.ps1“ für den Schutz von Daten](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) für jeden Anwendungspool nutzen, der mit einer ASP.NET Core-Anwendung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-245">For standalone IIS installations, you may use the [Data Protection Provision-AutoGenKeys.ps1 PowerShell script](https://github.com/aspnet/DataProtection/blob/dev/Provision-AutoGenKeys.ps1) for each application pool used with an ASP.NET Core application.</span></span> <span data-ttu-id="13eb5-246">Dieses Skript erstellt einen besonderen Registrierungsschlüssel in der HKLM-Registrierung, der nur in der ACL des Workerprozesskontos bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-246">This script will create a special registry key in the HKLM registry that is ACLed only to the worker process account.</span></span> <span data-ttu-id="13eb5-247">Schlüssel werden im Ruhezustand mit DPAPI verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-247">Keys are encrypted at rest using DPAPI.</span></span>

<span data-ttu-id="13eb5-248">In Webfarmszenarien kann eine Anwendung so konfiguriert werden, dass sie einen UNC-Pfad verwendet, um den Schlüsselbund für den Schutz von Daten speichern.</span><span class="sxs-lookup"><span data-stu-id="13eb5-248">In web farm scenarios, an application can be configured to use a UNC path to store its data protection key ring.</span></span> <span data-ttu-id="13eb5-249">Standardmäßig werden die Schlüssel für den Schutz von Daten nicht verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-249">By default, the data protection keys are not encrypted.</span></span> <span data-ttu-id="13eb5-250">Sie sollten sicherstellen, dass die Dateiberechtigungen für eine solche Freigabe auf das Windows-Konto beschränkt sind, mit dem die Anwendung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-250">You should ensure that the file permissions for such a share are limited to the Windows account the application runs as.</span></span> <span data-ttu-id="13eb5-251">Darüber hinaus können Sie Schlüssel im Ruhezustand mit einem X509-Zertifikat schützen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-251">In addition you may choose to protect keys at rest using an X509 certificate.</span></span> <span data-ttu-id="13eb5-252">Sie sollten sich einen Mechanismus überlegen, um es Benutzern zu ermöglichen, Zertifikate hochzuladen, sie im Speicher für vertrauenswürdige Zertifikate des Benutzers zu platzieren und sicherzustellen, dass sie auf allen Computern verfügbar sind, auf denen die Anwendung des Benutzers ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-252">You may wish to consider a mechanism to allow users to upload certificates, place them into the user's trusted certificate store, and ensure they are available on all machines the user's application will run on.</span></span> <span data-ttu-id="13eb5-253">Details finden Sie unter [Konfigurieren des Schutzes von Daten](xref:security/data-protection/configuration/overview#data-protection-configuring).</span><span class="sxs-lookup"><span data-stu-id="13eb5-253">See [Configuring Data Protection](xref:security/data-protection/configuration/overview#data-protection-configuring) for details.</span></span>

### <a name="2-configure-the-iis-application-pool-to-load-the-user-profile"></a><span data-ttu-id="13eb5-254">2. Konfigurieren des IIS-Anwendungspools zum Laden des Benutzerprofils</span><span class="sxs-lookup"><span data-stu-id="13eb5-254">2. Configure the IIS Application Pool to load the user profile</span></span>
<span data-ttu-id="13eb5-255">Diese Einstellung befindet sich im Abschnitt „Prozessmodell“ unter „Erweiterte Einstellungen“ für den Anwendungspool.</span><span class="sxs-lookup"><span data-stu-id="13eb5-255">This setting is in the Process Model section under the Advanced Settings for the application pool.</span></span> <span data-ttu-id="13eb5-256">Legen Sie „Benutzerprofil laden“ auf „True“ fest.</span><span class="sxs-lookup"><span data-stu-id="13eb5-256">Set Load User Profile to True.</span></span> <span data-ttu-id="13eb5-257">Dadurch werden Schlüssel im Benutzerprofilverzeichnis gespeichert und mit DPAPI mit einem Schlüssel geschützt, der nur für das Benutzerkonto gilt, das für den Anwendungspool verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-257">This will store keys under the user profile directory, and protected using DPAPI with a key specific to the user account used for the app pool.</span></span>

### <a name="3-machine-wide-policy-for-data-protection"></a><span data-ttu-id="13eb5-258">3. Computerweite Richtlinie für den Schutz von Daten</span><span class="sxs-lookup"><span data-stu-id="13eb5-258">3. Machine-wide policy for data protection</span></span>

<span data-ttu-id="13eb5-259">Das System zum Schutz von Daten verfügt über eine eingeschränkte Unterstützung zum Festlegen der standardmäßigen [computerweiten Richtlinie](xref:security/data-protection/configuration/machine-wide-policy#data-protection-configuration-machinewidepolicy) für alle Anwendungen, die die Datenschutz-APIs nutzen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-259">The data protection system has limited support for setting default [machine-wide policy](xref:security/data-protection/configuration/machine-wide-policy#data-protection-configuration-machinewidepolicy) for all applications that consume the data protection APIs.</span></span> <span data-ttu-id="13eb5-260">Weitere Details finden Sie in der Dokumentation zum [Schutz von Daten](xref:security/data-protection/index).</span><span class="sxs-lookup"><span data-stu-id="13eb5-260">See the [data protection](xref:security/data-protection/index) documentation for more details.</span></span>

## <a name="configuration-of-sub-applications"></a><span data-ttu-id="13eb5-261">Konfiguration von untergeordneten Anwendungen</span><span class="sxs-lookup"><span data-stu-id="13eb5-261">Configuration of sub-applications</span></span>

<span data-ttu-id="13eb5-262">Untergeordnete Anwendungen, die unter der Stammanwendung hinzugefügt werden, sollten kein ASP.NET Core-Modul als Handler enthalten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-262">Sub applications added under the root application shouldn't include the ASP.NET Core Module as a handler.</span></span> <span data-ttu-id="13eb5-263">Wenn Sie das Modul als Handler in einer *web.config*-Datei einer untergeordneten Anwendung hinzufügen, erhalten Sie den Code 500.19 (interner Serverfehler), der auf die fehlerhafte Konfigurationsdatei verweist, wenn Sie versuchen, in der untergeordneten App zu navigieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-263">If you add the module as a handler in a sub-application's *web.config* file, you receive a 500.19 (Internal Server Error) referencing the faulty config file when you attempt to browse the sub app.</span></span> <span data-ttu-id="13eb5-264">Das folgende Beispiel zeigt den Inhalt einer veröffentlichten *web.config*-Datei für eine untergeordnete ASP.NET Core-App:</span><span class="sxs-lookup"><span data-stu-id="13eb5-264">The following example shows the contents of a published *web.config* file for an ASP.NET Core sub app:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <aspNetCore processPath="dotnet" 
        arguments=".\MyApp.dll" 
        stdoutLogEnabled="false" 
        stdoutLogFile=".\logs\stdout" />
  </system.webServer>
</configuration>
```

<span data-ttu-id="13eb5-265">Wenn Sie beabsichtigen, eine untergeordnete App ohne ASP.NET Core unterhalb einer ASP.NET Core-App zu hosten, müssen Sie die geerbten Handler explizit aus der *web.config*-Datei der untergeordnete App entfernen:</span><span class="sxs-lookup"><span data-stu-id="13eb5-265">If you intend to host a non-ASP.NET Core sub app underneath an ASP.NET Core app, you must explicitly remove the inherited handler in the sub app *web.config* file:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <remove name="aspNetCore"/>
    </handlers>
    <aspNetCore processPath="dotnet" 
        arguments=".\MyApp.dll" 
        stdoutLogEnabled="false" 
        stdoutLogFile=".\logs\stdout" />
  </system.webServer>
</configuration>
```

<span data-ttu-id="13eb5-266">Weitere Informationen zum Konfigurieren des ASP.NET Core-Moduls mit der Datei *web.config* finden Sie im Thema [Einführung in das ASP.NET Core-Modul](xref:fundamentals/servers/aspnet-core-module) und in der [Konfigurationsreferenz für das ASP.NET Core-Modul](xref:hosting/aspnet-core-module).</span><span class="sxs-lookup"><span data-stu-id="13eb5-266">For more information on configuring the ASP.NET Core Module with the *web.config* file, see the [Introduction to ASP.NET Core Module](xref:fundamentals/servers/aspnet-core-module) topic and the [ASP.NET Core Module configuration reference](xref:hosting/aspnet-core-module).</span></span>

## <a name="configuration-of-iis-with-webconfig"></a><span data-ttu-id="13eb5-267">Konfiguration von IIS mit der Datei „web.config“</span><span class="sxs-lookup"><span data-stu-id="13eb5-267">Configuration of IIS with web.config</span></span>

<span data-ttu-id="13eb5-268">Die IIS-Konfiguration wird weiterhin im Hinblick auf IIS-Features, die für eine Reverseproxykonfiguration gelten, vom Abschnitt `<system.webServer>` der Datei *web.config* beeinflusst.</span><span class="sxs-lookup"><span data-stu-id="13eb5-268">IIS configuration is still influenced by the `<system.webServer>` section of *web.config* for those IIS features that apply to a reverse proxy configuration.</span></span> <span data-ttu-id="13eb5-269">Sie könnten z.B. IIS auf Systemebene so konfiguriert haben, dass die dynamische Komprimierung verwendet wird. Sie könnten diese Einstellung jedoch für eine App mit dem Element `<urlCompression>` in der Datei *web.config* der App deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-269">For example, you may have IIS configured at the system level to use dynamic compression, but you could disable that setting for an app with the `<urlCompression>` element in the app's *web.config* file.</span></span> <span data-ttu-id="13eb5-270">Weitere Informationen finden Sie in der [Konfigurationsreferenz für `<system.webServer>` ](https://docs.microsoft.com/iis/configuration/system.webServer/), in der [Konfigurationsreferenz für das ASP.NET Core-Modul](xref:hosting/aspnet-core-module) und unter [Verwenden von IIS-Modulen mit ASP.NET Core](xref:hosting/iis-modules).</span><span class="sxs-lookup"><span data-stu-id="13eb5-270">For more information, see the [configuration reference for `<system.webServer>`](https://docs.microsoft.com/iis/configuration/system.webServer/), [ASP.NET Core Module Configuration Reference](xref:hosting/aspnet-core-module), and [Using IIS Modules with ASP.NET Core](xref:hosting/iis-modules).</span></span> <span data-ttu-id="13eb5-271">Wenn Sie Umgebungsvariablen für einzelne Apps festlegen müssen, die in isolierten Anwendungspools ausgeführt werden (unterstützt für IIS 10.0 und höher), finden Sie weitere Informationen im Abschnitt zum *Befehl „AppCmd.exe“* im Thema [Umgebungsvariablen \< EnvironmentVariables >](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) in der IIS-Referenzdokumentation.</span><span class="sxs-lookup"><span data-stu-id="13eb5-271">If you need to set environment variables for individual apps running in isolated Application Pools (supported on IIS 10.0+), see the *AppCmd.exe command* section of the [Environment Variables \<environmentVariables>](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

## <a name="configuration-sections-of-webconfig"></a><span data-ttu-id="13eb5-272">Konfigurationsabschnitte von „web.config“</span><span class="sxs-lookup"><span data-stu-id="13eb5-272">Configuration sections of web.config</span></span>

<span data-ttu-id="13eb5-273">Im Gegensatz zu .NET Framework-Anwendungen, die mit den Elementen `<system.web>`, `<appSettings>`, `<connectionStrings>` und `<location>` in *web.config* konfiguriert werden, werden ASP.NET Core-Apps über andere Konfigurationsanbieter konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="13eb5-273">Unlike .NET Framework applications that are configured with the `<system.web>`, `<appSettings>`, `<connectionStrings>`, and `<location>` elements in *web.config*, ASP.NET Core apps are configured using other configuration providers.</span></span> <span data-ttu-id="13eb5-274">Weitere Informationen finden Sie unter [Konfiguration](xref:fundamentals/configuration).</span><span class="sxs-lookup"><span data-stu-id="13eb5-274">For more information, see [Configuration](xref:fundamentals/configuration).</span></span>

## <a name="application-pools"></a><span data-ttu-id="13eb5-275">Anwendungspools</span><span class="sxs-lookup"><span data-stu-id="13eb5-275">Application Pools</span></span>

<span data-ttu-id="13eb5-276">Wenn Sie mehrere Websites in einem System hosten, sollten Sie die Anwendungen voneinander isolieren, indem Sie jede App in ihrem eigenen Anwendungspool ausführen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-276">When hosting multiple websites on a single system, you should isolate the applications from each other by running each app in its own application pool.</span></span> <span data-ttu-id="13eb5-277">Im IIS-Dialogfeld **Website hinzufügen** wird standardmäßig dieses Verhalten eingesetzt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-277">The IIS **Add Website** dialog defaults to this behavior.</span></span> <span data-ttu-id="13eb5-278">Wenn Sie einen **Websitenamen** angeben, wird der Text automatisch in das Textfeld **Anwendungspool** übertragen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-278">When you provide a **Site name**, the text is automatically transferred to the **Application pool** textbox.</span></span> <span data-ttu-id="13eb5-279">Ein neuer Anwendungspool wird mit dem Namen der Website erstellt, wenn Sie die Website hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-279">A new application pool will be created using the site name when you add the website.</span></span>

## <a name="application-pool-identity"></a><span data-ttu-id="13eb5-280">Identität des Anwendungspools</span><span class="sxs-lookup"><span data-stu-id="13eb5-280">Application Pool Identity</span></span>

<span data-ttu-id="13eb5-281">Mit einem Konto für die Identität des Anwendungspools können Sie eine Anwendung unter einem eindeutigen Konto ausführen, ohne Domänen oder lokale Konten erstellen und verwalten zu müssen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-281">An application pool identity account allows you to run an application under a unique account without having to create and manage domains or local accounts.</span></span> <span data-ttu-id="13eb5-282">Mit IIS 8.0 und höher erstellt der IIS-Administratorworkerprozess (WAS) ein virtuelles Konto mit dem Namen des neuen Anwendungspools und führt die Workerprozesse des Anwendungspools standardmäßig unter diesem Konto aus.</span><span class="sxs-lookup"><span data-stu-id="13eb5-282">On IIS 8.0+, the IIS Admin Worker Process (WAS) will create a virtual account with the name of the new application pool and run the application pool's worker processes under this account by default.</span></span> <span data-ttu-id="13eb5-283">Stellen Sie in der IIS-Verwaltungskonsole unter „Erweiterte Einstellungen“ für den Anwendungspool sicher, dass die Identität auf **ApplicationPoolIdentity** festgelegt ist, wie in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-283">In the IIS Management Console, under Advanced Settings for your application pool, ensure that the Identity is set to use **ApplicationPoolIdentity** as shown in the image below.</span></span>

![Dialogfeld „Erweiterte Einstellungen“ für den Anwendungspool](iis/_static/apppool-identity.png)

<span data-ttu-id="13eb5-285">Der IIS-Verwaltungsprozess erstellt im Windows-Sicherheitssystem einen sicheren Bezeichner mit dem Namen des Anwendungspools.</span><span class="sxs-lookup"><span data-stu-id="13eb5-285">The IIS management process creates a secure identifier with the name of the application pool in the Windows Security System.</span></span> <span data-ttu-id="13eb5-286">Ressourcen können unter Verwendung dieser Identität gesichert werden. Allerdings ist diese Identität kein echtes Benutzerkonto und wird in der Windows-Benutzerverwaltungskonsole nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-286">Resources can be secured by using this identity; however, this identity is not a real user account and won't show up in the Windows User Management Console.</span></span>

<span data-ttu-id="13eb5-287">Wenn Sie dem IIS-Workerprozess Zugriff auf Ihre Anwendung mit erhöhten Rechten gewähren müssen, müssen Sie die Zugriffssteuerungsliste (ACL) für das Verzeichnis mit der Anwendung ändern.</span><span class="sxs-lookup"><span data-stu-id="13eb5-287">If you need to grant the IIS worker process elevated access to your application, you will need to modify the Access Control List (ACL) for the directory containing your application.</span></span>

1. <span data-ttu-id="13eb5-288">Öffnen Sie Windows Explorer, und navigieren Sie zum Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="13eb5-288">Open Windows Explorer and navigate to the directory.</span></span>

2. <span data-ttu-id="13eb5-289">Klicken Sie mit der rechten Maustaste auf das Verzeichnis, und klicken Sie auf **Eigenschaften**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-289">Right click on the directory and click **Properties**.</span></span>

3. <span data-ttu-id="13eb5-290">Klicken Sie auf der Registerkarte **Sicherheit** auf die Schaltfläche **Bearbeiten** und dann auf die Schaltfläche **Hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-290">Under the **Security** tab, click the **Edit** button and then the **Add** button.</span></span>

4. <span data-ttu-id="13eb5-291">Klicken Sie auf die Schaltfläche **Speicherorte**, und stellen Sie sicher, dass Sie Ihr System auswählen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-291">Click the **Locations** button and make sure you select your system.</span></span>

5. <span data-ttu-id="13eb5-292">Geben Sie in das Textfeld **Geben Sie die zu verwendenden Objektnamen ein** den Text **IIS AppPool\DefaultAppPool** ein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-292">Enter **IIS AppPool\DefaultAppPool** in **Enter the object names to select** textbox.</span></span>

  ![Dialogfeld zum Auswählen von Benutzern oder Gruppen für den Anwendungsordner](iis/_static/select-users-or-groups-1.png)

6. <span data-ttu-id="13eb5-294">Klicken Sie auf die Schaltfläche **Namen überprüfen** und dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="13eb5-294">Click the **Check Names** button and then click **OK**.</span></span>

  ![Dialogfeld zum Auswählen von Benutzern oder Gruppen für den Anwendungsordner](iis/_static/select-users-or-groups-2.png)

<span data-ttu-id="13eb5-296">Hierzu können Sie auch eine Eingabeaufforderung mit dem Tool **ICACLS** verwenden:</span><span class="sxs-lookup"><span data-stu-id="13eb5-296">You can also do this via a command prompt using **ICACLS** tool:</span></span>

```console
ICACLS C:\sites\MyWebApp /grant "IIS AppPool\DefaultAppPool":F
```

## <a name="troubleshooting-tips"></a><span data-ttu-id="13eb5-297">Tipps zur Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="13eb5-297">Troubleshooting tips</span></span>

<span data-ttu-id="13eb5-298">Für die Diagnose von Problemen mit IIS-Bereitstellungen untersuchen Sie die Browserausgabe, prüfen Sie das **Anwendungsprotokoll** des Systems über die **Ereignisanzeige**, und aktivieren Sie die `stdout`-Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="13eb5-298">To diagnose problems with IIS deployments, study browser output, examine the system's **Application** log through **Event Viewer**, and enable `stdout` logging.</span></span> <span data-ttu-id="13eb5-299">Das Protokoll des **ASP.NET Core-Moduls** befindet sich im vom Attribut *stdoutLogFile* des Elements `<aspNetCore>` in *web.config* angegebenen Pfad. Alle Ordner im Pfad, der im Attributwert angegeben ist, müssen in der Bereitstellung vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-299">The **ASP.NET Core Module** log will be found on the path provided in the *stdoutLogFile* attribute of the `<aspNetCore>` element in *web.config*. Any folders on the path provided in the attribute value must exist in the deployment.</span></span> <span data-ttu-id="13eb5-300">Sie müssen außerdem *stdoutLogEnabled="true"* festlegen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-300">You must also set *stdoutLogEnabled="true"*.</span></span> <span data-ttu-id="13eb5-301">Bei Anwendungen, die das `Microsoft.NET.Sdk.Web`-SDK zum Erstellen der Datei *web.config* verwenden, ist die Einstellung *stdoutLogEnabled* standardmäßig auf *false* festgelegt. Daher müssen Sie die Datei *web.config* manuell angeben oder die Datei ändern, um die `stdout`-Protokollierung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-301">Applications that use the `Microsoft.NET.Sdk.Web` SDK to create the *web.config* file will default the *stdoutLogEnabled* setting to *false*, so you must manually provide the *web.config* file or modify the file in order to enable `stdout` logging.</span></span>

<span data-ttu-id="13eb5-302">Einige der häufigen Fehler werden erst im Browser, Anwendungsprotokoll und ASP.NET Core-Modulprotokoll angezeigt, wenn die Werte für *startupTimeLimit* (Standard: 120 Sekunden) und *startupRetryCount* (Standardwert: 2) für das Modul überschritten wurden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-302">Several of the common errors do not appear in the browser, Application Log, and ASP.NET Core Module Log until the module *startupTimeLimit* (default: 120 seconds) and *startupRetryCount* (default: 2) have passed.</span></span> <span data-ttu-id="13eb5-303">Warten Sie daher sechs Minuten, bevor Sie davon ausgehen, dass das Modul keinen Prozess für die Anwendung gestartet hat.</span><span class="sxs-lookup"><span data-stu-id="13eb5-303">Therefore, wait a full six minutes before deducing that the module has failed to start a process for the application.</span></span>

<span data-ttu-id="13eb5-304">Eine schnelle Möglichkeit, um festzustellen, ob die Anwendung ordnungsgemäß funktioniert, ist die direkte Ausführung der Anwendung auf Kestrel.</span><span class="sxs-lookup"><span data-stu-id="13eb5-304">One quick way to determine if the application is working properly is to run the application directly on Kestrel.</span></span> <span data-ttu-id="13eb5-305">Wenn die Anwendung als Framework-abhängige Bereitstellung veröffentlicht wurde, führen Sie **dotnet my_application.dll** im Bereitstellungsordner aus, also dem physischen IIS-Pfad für die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="13eb5-305">If the application was published as a framework-dependent deployment, execute **dotnet my_application.dll** in the deployment folder, which is the IIS physical path to the application.</span></span> <span data-ttu-id="13eb5-306">Wenn die Anwendung als eigenständige Bereitstellung veröffentlicht wurde, führen Sie die ausführbare Datei der Anwendung **my_application.exe** direkt über eine Eingabeaufforderung im Bereitstellungsordner aus.</span><span class="sxs-lookup"><span data-stu-id="13eb5-306">If the application was published as a self-contained deployment, run the application's executable directly from a command prompt, **my_application.exe**, in the deployment folder.</span></span> <span data-ttu-id="13eb5-307">Wenn Kestrel am Standardport 5000 lauscht, sollten Sie die Anwendung über `http://localhost:5000/` aufrufen können.</span><span class="sxs-lookup"><span data-stu-id="13eb5-307">If Kestrel is listening on default port 5000, you should be able to browse the application at `http://localhost:5000/`.</span></span> <span data-ttu-id="13eb5-308">Wenn die Anwendung normalerweise an der Kestrel-Endpunktadresse antwortet, hängt das Problem wahrscheinlich mit der Konfiguration von IIS/dem ASP.NET Core-Modul/Kestrel und vermutlich nicht mit der Anwendung selbst zusammen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-308">If the application responds normally at the Kestrel endpoint address, the problem is more likely related to the IIS-ASP.NET Core Module-Kestrel configuration and less likely within the application itself.</span></span>

<span data-ttu-id="13eb5-309">Eine Möglichkeit zu bestimmen, ob der IIS-Reverseproxy zum Kestrel-Server ordnungsgemäß funktioniert, ist das Ausführen einer einfachen statischen Dateianforderung für ein Stylesheet, Skript oder Image mit den statischen Dateien der Anwendung in *wwwroot* mithilfe der [Middleware für statische Dateien](xref:fundamentals/static-files).</span><span class="sxs-lookup"><span data-stu-id="13eb5-309">One way to determine if the IIS reverse proxy to the Kestrel server is working properly is to perform a simple static file request for a stylesheet, script, or image from the application's static files in *wwwroot* using [Static File middleware](xref:fundamentals/static-files).</span></span> <span data-ttu-id="13eb5-310">Wenn die Anwendung die statischen Dateien verarbeiten kann, jedoch MVC-Ansichten und andere Endpunkte fehl schlagen, wird das Problem wahrscheinlich nicht durch die Konfiguration von IIS/dem ASP.NET Core-Modul/Kestrel verursacht, sondern eher durch die Anwendung selbst (z.B. MVC-Routing oder 500 (interner Serverfehler)).</span><span class="sxs-lookup"><span data-stu-id="13eb5-310">If the application can serve static files but MVC Views and other endpoints are failing, the problem is less likely related to the IIS-ASP.NET Core Module-Kestrel configuration and more likely within the application itself (for example, MVC routing or 500 Internal Server Error).</span></span>

<span data-ttu-id="13eb5-311">Wenn Kestrel normalerweise hinter IIS gestartet wird, aber die App nicht im System ausgeführt wird, nachdem sie erfolgreich lokal ausgeführt wurde, können Sie vorübergehend eine Umgebungsvariable zu *web.config* hinzufügen und `ASPNETCORE_ENVIRONMENT` auf `Development` festlegen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-311">When Kestrel starts normally behind IIS but the app won't run on the system after successfully running locally, you can temporarily add an environment variable to *web.config* to set the `ASPNETCORE_ENVIRONMENT` to `Development`.</span></span> <span data-ttu-id="13eb5-312">Solange Sie die Umgebung beim App-Start nicht außer Kraft setzen, kann dadurch die [Ausnahmeseite für Entwickler](xref:fundamentals/error-handling) angezeigt werden, wenn die App im System ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-312">As long as you don't override the environment in app startup, this will allow the [developer exception page](xref:fundamentals/error-handling) to appear when the app is run on the system.</span></span> <span data-ttu-id="13eb5-313">Das Festlegen der Umgebungsvariablen für `ASPNETCORE_ENVIRONMENT` auf diese Weise wird nur für Staging-/Testsysteme empfohlen, die nicht für das Internet verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-313">Setting the environment variable for `ASPNETCORE_ENVIRONMENT` in this way is only recommended for staging/testing systems that are not exposed to the Internet.</span></span> <span data-ttu-id="13eb5-314">Wenn Sie fertig sind, müssen Sie die Umgebungsvariable aus *web.config* entfernen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-314">Be sure you remove the environment variable from the *web.config* file when finished.</span></span> <span data-ttu-id="13eb5-315">Informationen zum Festlegen von Umgebungsvariablen über *web.config* für den Reverseproxy finden Sie unter [Untergeordnetes environmentVariables-Element von aspNetCore](xref:hosting/aspnet-core-module#setting-environment-variables).</span><span class="sxs-lookup"><span data-stu-id="13eb5-315">For information on setting environment variables via *web.config* for the reverse proxy, see [environmentVariables child element of aspNetCore](xref:hosting/aspnet-core-module#setting-environment-variables).</span></span>

<span data-ttu-id="13eb5-316">In den meisten Fällen hilft das Aktivieren der Anwendungsprotokollierung bei der Behandlung von Problemen mit der Anwendung oder dem Reverseproxy.</span><span class="sxs-lookup"><span data-stu-id="13eb5-316">In most cases, enabling application logging will assist in troubleshooting problems with application or the reverse proxy.</span></span> <span data-ttu-id="13eb5-317">Weitere Informationen finden Sie unter [Protokollierung](xref:fundamentals/logging).</span><span class="sxs-lookup"><span data-stu-id="13eb5-317">See [Logging](xref:fundamentals/logging) for more information.</span></span>

<span data-ttu-id="13eb5-318">Unsere letzter Tipp zur Problembehandlung bezieht sich auf Apps, die nach einem Upgrade des .NET Core SDK auf dem Entwicklungsomputer oder einer Paketversion innerhalb der App nicht ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-318">Our last troubleshooting tip pertains to apps that fail to run after upgrading either the .NET Core SDK on the development machine or package versions within the app.</span></span> <span data-ttu-id="13eb5-319">In einigen Fällen können inkohärente Pakete eine App beschädigen, wenn größere Upgrades durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-319">In some cases, incoherent packages may break an app when performing major upgrades.</span></span> <span data-ttu-id="13eb5-320">Sie können die meisten dieser Probleme beheben, indem Sie die Ordner `bin` und `obj` im Projekt löschen, die Paketcaches unter `%UserProfile%\.nuget\packages\` und `%LocalAppData%\Nuget\v3-cache` löschen, das Projekt wiederherstellen und überprüfen, ob die vorherige Bereitstellung im System vollständig gelöscht wurde, bevor Sie die App erneut bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-320">You can fix most of these issues by deleting the `bin` and `obj` folders in the project, clearing package caches at `%UserProfile%\.nuget\packages\` and `%LocalAppData%\Nuget\v3-cache`, restoring the project, and confirming that your prior deployment on the system has been completely deleted prior to re-deploying the app.</span></span>

>[!TIP]
> <span data-ttu-id="13eb5-321">Eine einfache Möglichkeit zum Löschen des Paketcaches ist, das Tool `NuGet.exe` von [NuGet.org](https://www.nuget.org/) abzurufen, es Ihrem Systempfad hinzuzufügen, und `nuget locals all -clear` über eine Eingabeaufforderung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-321">A convenient way to clear package caches is to obtain the `NuGet.exe` tool from [NuGet.org](https://www.nuget.org/), add it to your system PATH, and execute `nuget locals all -clear` from a command prompt.</span></span>

## <a name="common-errors"></a><span data-ttu-id="13eb5-322">Häufige Fehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-322">Common errors</span></span>

<span data-ttu-id="13eb5-323">Die folgende Liste ist keine vollständige Fehlerliste.</span><span class="sxs-lookup"><span data-stu-id="13eb5-323">The following is not a complete list of errors.</span></span> <span data-ttu-id="13eb5-324">Wenn bei Ihnen ein Fehler auftreten sollte, der hier nicht aufgeführt ist, geben Sie bitte eine detaillierte Fehlermeldung unten im Abschnitt „Kommentare“ ein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-324">Should you encounter an error not listed here, please leave a detailed error message in the comments section below.</span></span>

### <a name="installer-unable-to-obtain-vc-redistributable"></a><span data-ttu-id="13eb5-325">Installationsprogramm konnte VC++ Redistributable nicht abrufen</span><span class="sxs-lookup"><span data-stu-id="13eb5-325">Installer unable to obtain VC++ Redistributable</span></span>

* <span data-ttu-id="13eb5-326">**Ausnahme des Installationsprogramms:** 0x80072efd oder 0x80072f76: Unbekannter Fehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-326">**Installer Exception:** 0x80072efd or 0x80072f76 - Unspecified error</span></span>

* <span data-ttu-id="13eb5-327">**Protokollausnahme des Installationsprogramms&#8224;:** Fehler 0x80072efd oder 0x80072f76: Fehler beim Ausführen des EXE-Pakets</span><span class="sxs-lookup"><span data-stu-id="13eb5-327">**Installer Log Exception&#8224;:** Error 0x80072efd or 0x80072f76: Failed to execute EXE package</span></span>

  <span data-ttu-id="13eb5-328">&#8224;Das Protokoll befindet sich unter „C:\Benutzer\\{BENUTZER}\AppData\Local\Temp\dd_DotNetCoreWinSvrHosting__{timestamp}.log“.</span><span class="sxs-lookup"><span data-stu-id="13eb5-328">&#8224;The log is located at C:\Users\\{USER}\AppData\Local\Temp\dd_DotNetCoreWinSvrHosting__{timestamp}.log.</span></span>

<span data-ttu-id="13eb5-329">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-329">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-330">Verfügt das System während der Installation des Server Hosting-Pakets nicht über Zugriff auf das Internet, tritt diese Ausnahme auf, wenn das Installationsprogramm *Microsoft Visual C++ 2015 Redistributable* nicht abrufen kann.</span><span class="sxs-lookup"><span data-stu-id="13eb5-330">If the system does not have Internet access while installing the server hosting bundle, this exception will occur when the installer is prevented from obtaining the *Microsoft Visual C++ 2015 Redistributable*.</span></span> <span data-ttu-id="13eb5-331">Sie können ein Installationsprogramm aus dem [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840) abrufen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-331">You may obtain an installer from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840).</span></span> <span data-ttu-id="13eb5-332">Wenn das Installationsprogramm fehl schlägt, erhalten Sie möglicherweise die .NET Core-Runtime nicht, die zum Hosten Framework-abhängiger Bereitstellungen erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-332">If the installer fails, you may not receive the .NET Core runtime required to host framework-dependent deployments.</span></span> <span data-ttu-id="13eb5-333">Wenn Sie beabsichtigen, Framework-abhängige Bereitstellungen zu hosten, vergewissern Sie sich, dass die Runtime unter „Programme und Features“ installiert ist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-333">If you plan to host framework-dependent deployments, confirm that the runtime is installed in Programs &amp; Features.</span></span> <span data-ttu-id="13eb5-334">Ein Runtime-Installationsprogramm können Sie über die [.NET-Downloads](https://www.microsoft.com/net/download/core) herunterladen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-334">You may obtain a runtime installer from [.NET Downloads](https://www.microsoft.com/net/download/core).</span></span> <span data-ttu-id="13eb5-335">Starten Sie nach dem Installieren der Runtime das System neu, oder starten Sie IIS neu, indem Sie **net stop was /y** gefolgt von **net start w3svc** über eine Eingabeaufforderung ausführen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-335">After installing the runtime, restart the system or restart IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

### <a name="os-upgrade-removed-the-32-bit-aspnet-core-module"></a><span data-ttu-id="13eb5-336">Durch ein Upgrade des Betriebssystems wird das ASP.NET Core-Modul (32-Bit) entfernt</span><span class="sxs-lookup"><span data-stu-id="13eb5-336">OS upgrade removed the 32-bit ASP.NET Core Module</span></span>

* <span data-ttu-id="13eb5-337">**Anwendungsprotokoll:** Die Modul-DLL **C:\WINDOWS\system32\inetsrv\aspnetcore.dll** konnte nicht geladen werden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-337">**Application Log:** The Module DLL **C:\WINDOWS\system32\inetsrv\aspnetcore.dll** failed to load.</span></span> <span data-ttu-id="13eb5-338">Die Daten sind der Fehler.</span><span class="sxs-lookup"><span data-stu-id="13eb5-338">The data is the error.</span></span>

<span data-ttu-id="13eb5-339">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-339">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-340">Nicht zum Betriebssystem gehörende Dateien im Verzeichnis **C:\Windows\SysWOW64\inetsrv** werden während eines Betriebssystemupgrades nicht beibehalten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-340">Non-OS files in the **C:\Windows\SysWOW64\inetsrv** directory are not preserved during an OS upgrade.</span></span> <span data-ttu-id="13eb5-341">Wenn Sie das ASP.NET Core-Modul installiert haben, bevor Sie ein Betriebssystemupgrade durchführen, und dann nach einem Betriebssystemupgrade versuchen, einen App-Pool im 32-Bit-Modus auszuführen, tritt dieses Problem auf.</span><span class="sxs-lookup"><span data-stu-id="13eb5-341">If you have the ASP.NET Core Module installed prior to an OS upgrade and then try to run any AppPool in 32-bit mode after an OS upgrade, you will encounter this issue.</span></span> <span data-ttu-id="13eb5-342">Reparieren Sie nach einem Betriebssystemupgrade das ASP.NET Core-Modul.</span><span class="sxs-lookup"><span data-stu-id="13eb5-342">After an OS upgrade, repair the ASP.NET Core Module.</span></span> <span data-ttu-id="13eb5-343">Siehe [Installieren des Pakets „.NET Core Windows Server Hosting“](#install-the-net-core-windows-server-hosting-bundle).</span><span class="sxs-lookup"><span data-stu-id="13eb5-343">See [Install the .NET Core Windows Server Hosting bundle](#install-the-net-core-windows-server-hosting-bundle).</span></span> <span data-ttu-id="13eb5-344">Wählen Sie **Reparatur** aus, wenn Sie das Installationsprogramm ausführen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-344">Select **Repair** when you run the installer.</span></span>

### <a name="platform-conflicts-with-rid"></a><span data-ttu-id="13eb5-345">Plattformkonflikte mit RID</span><span class="sxs-lookup"><span data-stu-id="13eb5-345">Platform conflicts with RID</span></span>

* <span data-ttu-id="13eb5-346">**Browser:** HTTP-Fehler 502.5: Prozessfehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-346">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="13eb5-347">**Anwendungsprotokoll:** Anwendung 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' mit dem physischen Stamm 'C:\{PFAD}\'' konnte den Prozess mit der Befehlszeile '"C:\\{PFAD}\my_application.{exe|dll}"' nicht starten. Fehlercode = 0 x 80004005: ff.</span><span class="sxs-lookup"><span data-stu-id="13eb5-347">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\{PATH}\' failed to start process with commandline '"C:\\{PATH}\my_application.{exe|dll}" ', ErrorCode = '0x80004005 : ff.</span></span>

* <span data-ttu-id="13eb5-348">**Protokoll des ASP.NET Core-Moduls:** Ausnahmefehler: System.BadImageFormatException: Datei oder Assembly „my_application.dll“ konnte nicht geladen werden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-348">**ASP.NET Core Module Log:** Unhandled Exception: System.BadImageFormatException: Could not load file or assembly 'my_application.dll'.</span></span> <span data-ttu-id="13eb5-349">Es wurde versucht, ein Programm mit einem falschen Format zu laden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-349">An attempt was made to load a program with an incorrect format.</span></span>

<span data-ttu-id="13eb5-350">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-350">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-351">Vergewissern Sie sich, dass die Anwendung lokal auf Kestrel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-351">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="13eb5-352">Ein Prozessfehler könnte die Folge eines Problems in der Anwendung sein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-352">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="13eb5-353">Weitere Informationen finden Sie unter [Tipps zur Problembehandlung](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="13eb5-353">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="13eb5-354">Vergewissern Sie sich, dass Sie kein `<PlatformTarget>` in Ihrer *CSPROJ* festgelegt haben, das im Konflikt mit der RID steht.</span><span class="sxs-lookup"><span data-stu-id="13eb5-354">Confirm that you didn't set a `<PlatformTarget>` in your *.csproj* that conflicts with the RID.</span></span> <span data-ttu-id="13eb5-355">Geben Sie z.B. als `<PlatformTarget>` nicht `x86` an, und führen Sie die Veröffentlichung nicht mit der RID `win10-x64` durch, entweder mit *dotnet publish -c Release -r win10-x64* oder durch Festlegen von `<RuntimeIdentifiers>` in Ihrer *CSPROJ * auf `win10-x64`.</span><span class="sxs-lookup"><span data-stu-id="13eb5-355">For example, don't specify a `<PlatformTarget>` of `x86` and publish with an RID of `win10-x64`, either by using *dotnet publish -c Release -r win10-x64* or by setting the `<RuntimeIdentifiers>` in your *.csproj* to `win10-x64`.</span></span> <span data-ttu-id="13eb5-356">Das Projekt wird ohne Warnung oder Fehler veröffentlicht, schlägt jedoch mit den oben genannten protokollierten Ausnahmen im System fehl.</span><span class="sxs-lookup"><span data-stu-id="13eb5-356">The project will publish without warning or error but fail with the above logged exceptions on the system.</span></span>

* <span data-ttu-id="13eb5-357">Wenn diese Ausnahme für eine Azure-App-Bereitstellung beim Aktualisieren einer Anwendung und beim Bereitstellen neuerer Assemblys auftritt, löschen Sie alle Dateien aus der vorherigen Bereitstellung manuell.</span><span class="sxs-lookup"><span data-stu-id="13eb5-357">If this exception occurs for an Azure Apps deployment when upgrading an application and deploying newer assemblies, manually delete all files from the prior deployment.</span></span> <span data-ttu-id="13eb5-358">Veraltete inkompatible Assemblys können zu einer `System.BadImageFormatException`-Ausnahme führen, wenn Sie eine aktualisierte App bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-358">Lingering incompatible assemblies can result in a `System.BadImageFormatException` exception when deploying an upgraded app.</span></span>

### <a name="uri-endpoint-wrong-or-stopped-website"></a><span data-ttu-id="13eb5-359">URI-Endpunkt falsch oder beendete Website</span><span class="sxs-lookup"><span data-stu-id="13eb5-359">URI endpoint wrong or stopped website</span></span>

* <span data-ttu-id="13eb5-360">**Browser:** ERR_CONNECTION_REFUSED</span><span class="sxs-lookup"><span data-stu-id="13eb5-360">**Browser:** ERR_CONNECTION_REFUSED</span></span>

* <span data-ttu-id="13eb5-361">**Anwendungsprotokoll:** Kein Eintrag</span><span class="sxs-lookup"><span data-stu-id="13eb5-361">**Application Log:** No entry</span></span>

* <span data-ttu-id="13eb5-362">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei nicht erstellt</span><span class="sxs-lookup"><span data-stu-id="13eb5-362">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="13eb5-363">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-363">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-364">Vergewissern Sie sich, dass Sie den richtigen URI-Endpunkt für die Anwendung verwenden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-364">Confirm you are using the correct URI endpoint for the application.</span></span> <span data-ttu-id="13eb5-365">Überprüfen Sie Ihre Bindungen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-365">Check your bindings.</span></span>

* <span data-ttu-id="13eb5-366">Vergewissern Sie sich, dass die IIS-Website nicht den Status *Beendet* aufweist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-366">Confirm that the IIS website is not in the *Stopped* state.</span></span>

### <a name="corewebengine-or-w3svc-server-features-disabled"></a><span data-ttu-id="13eb5-367">CoreWebEngine oder W3SVC-Serverfeatures deaktiviert</span><span class="sxs-lookup"><span data-stu-id="13eb5-367">CoreWebEngine or W3SVC server features disabled</span></span>

* <span data-ttu-id="13eb5-368">**Ausnahme des Betriebssystems:** Die Features CoreWebEngine und W3SVC von IIS 7.0 müssen installiert sein, um das ASP.NET Core-Modul zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="13eb5-368">**OS Exception:** The IIS 7.0 CoreWebEngine and W3SVC features must be installed to use the ASP.NET Core Module.</span></span>

<span data-ttu-id="13eb5-369">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-369">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-370">Vergewissern Sie sich, dass Sie die richtigen Rollen und Features aktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="13eb5-370">Confirm that you have enabled the proper role and features.</span></span> <span data-ttu-id="13eb5-371">Siehe [IIS-Konfiguration](#iis-configuration).</span><span class="sxs-lookup"><span data-stu-id="13eb5-371">See [IIS Configuration](#iis-configuration).</span></span>

### <a name="incorrect-website-physical-path-or-application-missing"></a><span data-ttu-id="13eb5-372">Falscher physischer Pfad der Website oder Anwendung fehlt</span><span class="sxs-lookup"><span data-stu-id="13eb5-372">Incorrect website physical path or application missing</span></span>

* <span data-ttu-id="13eb5-373">**Browser:** 403 Verboten: Zugriff wird verweigert ** – oder – ** 403.14 Verboten: Der Webserver ist so konfiguriert, dass der Inhalt dieses Verzeichnisses nicht aufgelistet wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-373">**Browser:** 403 Forbidden - Access is denied **--OR--** 403.14 Forbidden - The Web server is configured to not list the contents of this directory.</span></span>

* <span data-ttu-id="13eb5-374">**Anwendungsprotokoll:** Kein Eintrag</span><span class="sxs-lookup"><span data-stu-id="13eb5-374">**Application Log:** No entry</span></span>

* <span data-ttu-id="13eb5-375">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei nicht erstellt</span><span class="sxs-lookup"><span data-stu-id="13eb5-375">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="13eb5-376">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-376">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-377">Überprüfen Sie die **Grundeinstellungen** der IIS-Website und den physischen Anwendungsordner.</span><span class="sxs-lookup"><span data-stu-id="13eb5-377">Check the IIS website **Basic Settings** and the physical application folder.</span></span> <span data-ttu-id="13eb5-378">Vergewissern Sie sich, dass sich die Anwendung im Ordner im **physischen Pfad** der IIS-Website befindet.</span><span class="sxs-lookup"><span data-stu-id="13eb5-378">Confirm that the application is in the folder at the IIS website **Physical path**.</span></span>

### <a name="incorrect-role-module-not-installed-or-incorrect-permissions"></a><span data-ttu-id="13eb5-379">Falsche Rolle, Modul nicht installiert oder falsche Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="13eb5-379">Incorrect role, module not installed, or incorrect permissions</span></span>

* <span data-ttu-id="13eb5-380">**Browser:** 500.19 Interner Serverfehler: Auf die angeforderte Seite kann nicht zugegriffen werden, da die zugehörigen Konfigurationsdaten für die Seite ungültig sind.</span><span class="sxs-lookup"><span data-stu-id="13eb5-380">**Browser:** 500.19 Internal Server Error - The requested page cannot be accessed because the related configuration data for the page is invalid.</span></span>

* <span data-ttu-id="13eb5-381">**Anwendungsprotokoll:** Kein Eintrag</span><span class="sxs-lookup"><span data-stu-id="13eb5-381">**Application Log:** No entry</span></span>

* <span data-ttu-id="13eb5-382">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei nicht erstellt</span><span class="sxs-lookup"><span data-stu-id="13eb5-382">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="13eb5-383">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-383">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-384">Vergewissern Sie sich, dass Sie die richtige Rolle aktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="13eb5-384">Confirm that you have enabled the proper role.</span></span> <span data-ttu-id="13eb5-385">Siehe [IIS-Konfiguration](#iis-configuration).</span><span class="sxs-lookup"><span data-stu-id="13eb5-385">See [IIS Configuration](#iis-configuration).</span></span>

* <span data-ttu-id="13eb5-386">Überprüfen Sie unter **Programme und Features**, ob das **Microsoft ASP.NET Core-Modul** installiert wurde.</span><span class="sxs-lookup"><span data-stu-id="13eb5-386">Check **Programs &amp; Features** and confirm that the **Microsoft ASP.NET Core Module** has been installed.</span></span> <span data-ttu-id="13eb5-387">Wenn das **Microsoft ASP.NET Core-Modul** in der Liste der installierten Programme nicht vorhanden ist, installieren Sie das Modul.</span><span class="sxs-lookup"><span data-stu-id="13eb5-387">If the **Microsoft ASP.NET Core Module** is not present in the list of installed programs, install the module.</span></span> <span data-ttu-id="13eb5-388">Siehe [Installieren des Pakets „.NET Core Windows Server Hosting“](#install-the-net-core-windows-server-hosting-bundle).</span><span class="sxs-lookup"><span data-stu-id="13eb5-388">See [Install the .NET Core Windows Server Hosting bundle](#install-the-net-core-windows-server-hosting-bundle).</span></span>

* <span data-ttu-id="13eb5-389">Stellen Sie sicher, dass **Anwendungspool > Prozessmodell > Identität** auf **ApplicationPoolIdentity** festgelegt ist oder dass Ihre benutzerdefinierte Identität über die erforderlichen Berechtigungen zum Zugriff auf den Bereitstellungsordner der Anwendung verfügt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-389">Make sure that the **Application Pool > Process Model > Identity** is set to **ApplicationPoolIdentity** or your custom identity has the correct permissions to access the application's deployment folder.</span></span>

### <a name="incorrect-processpath-missing-path-variable-hosting-bundle-not-installed-systemiis-not-restarted-vc-redistributable-not-installed-or-dotnetexe-access-violation"></a><span data-ttu-id="13eb5-390">Falscher processPath-Wert, fehlende PATH-Variable, Hostingpaket nicht installiert, System/IIS wird nicht neu gestartet, VC++ Redistributable nicht installiert oder dotnet.exe-Zugriffsverletzung</span><span class="sxs-lookup"><span data-stu-id="13eb5-390">Incorrect processPath, missing PATH variable, hosting bundle not installed, system/IIS not restarted, VC++ Redistributable not installed, or dotnet.exe access violation</span></span>

* <span data-ttu-id="13eb5-391">**Browser:** HTTP-Fehler 502.5: Prozessfehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-391">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="13eb5-392">**Anwendungsprotokoll:** Anwendung 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' mit dem physischen Stamm 'C:\\{PFAD}\'' konnte den Prozess mit der Befehlszeile '".\my_application.exe"' nicht starten. Fehlercode = 0x80070002 : 0.</span><span class="sxs-lookup"><span data-stu-id="13eb5-392">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' failed to start process with commandline '".\my_application.exe" ', ErrorCode = '0x80070002 : 0.</span></span>

* <span data-ttu-id="13eb5-393">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei erstellt, sie ist aber leer</span><span class="sxs-lookup"><span data-stu-id="13eb5-393">**ASP.NET Core Module Log:** Log file created but empty</span></span>

<span data-ttu-id="13eb5-394">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-394">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-395">Vergewissern Sie sich, dass die Anwendung lokal auf Kestrel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-395">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="13eb5-396">Ein Prozessfehler könnte die Folge eines Problems in der Anwendung sein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-396">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="13eb5-397">Weitere Informationen finden Sie unter [Tipps zur Problembehandlung](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="13eb5-397">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="13eb5-398">Überprüfen Sie das Attribut *processPath* im Element `<aspNetCore>` in der *web.config*, um sicherzustellen, dass es *dotnet* für eine Framework-abhängige Bereitstellung oder *.\my_application.exe* für eine eigenständige Bereitstellung ist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-398">Check the *processPath* attribute on the `<aspNetCore>` element in *web.config* to confirm that it is *dotnet* for a framework-dependent deployment or *.\my_application.exe* for a self-contained deployment.</span></span>

* <span data-ttu-id="13eb5-399">Für eine Framework-abhängige Bereitstellung ist *dotnet.exe* möglicherweise über die PATH-Einstellungen nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="13eb5-399">For a framework-dependent deployment, *dotnet.exe* might not be accessible via the PATH settings.</span></span> <span data-ttu-id="13eb5-400">Überprüfen Sie, ob *C:\Programme\dotnet\* in den PATH-Einstellungen des Systems vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-400">Confirm that *C:\Program Files\dotnet\* exists in the System PATH settings.</span></span>

* <span data-ttu-id="13eb5-401">Für eine Framework-abhängige Bereitstellung ist *dotnet.exe* möglicherweise für die Benutzeridentität des Anwendungspools nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="13eb5-401">For a framework-dependent deployment, *dotnet.exe* might not be accessible for the user identity of the Application Pool.</span></span> <span data-ttu-id="13eb5-402">Vergewissern Sie sich, dass die AppPool-Benutzeridentität Zugriff auf das Verzeichnis *C:\Programme\dotnet* hat.</span><span class="sxs-lookup"><span data-stu-id="13eb5-402">Confirm that the AppPool user identity has access to the *C:\Program Files\dotnet* directory.</span></span> <span data-ttu-id="13eb5-403">Vergewissern Sie sich, dass keine Verweigerungsregeln für die AppPool-Benutzeridentität für *C:\Programme\dotnet* und Anwendungsverzeichnisse konfiguriert sind.</span><span class="sxs-lookup"><span data-stu-id="13eb5-403">Confirm that there are no deny rules configured for the AppPool user identity on the *C:\Program Files\dotnet* and application directories.</span></span>

* <span data-ttu-id="13eb5-404">Möglicherweise haben Sie eine Framework-abhängige Bereitstellung bereitgestellt und .NET Core installiert, ohne IIS neu zu starten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-404">You may have deployed a framework-dependent deployment and installed .NET Core without restarting IIS.</span></span> <span data-ttu-id="13eb5-405">Starten Sie den Server neu, oder starten Sie IIS neu, indem Sie **net stop was /y** gefolgt von **net start w3svc** über eine Eingabeaufforderung ausführen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-405">Either restart the server or restart IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

* <span data-ttu-id="13eb5-406">Möglicherweise haben Sie eine Framework-abhängige Bereitstellung bereitgestellt, ohne die .NET Core-Runtime auf dem Hostsystem zu installieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-406">You may have deployed a framework-dependent deployment without installing the .NET Core runtime on the hosting system.</span></span> <span data-ttu-id="13eb5-407">Wenn Sie versuchen, eine Framework-abhängige Bereitstellung bereitzustellen, und die .NET Core-Runtime nicht installiert haben, führen Sie das **Installationsprogramm für das Paket „.NET Core Windows Server Hosting“** in dem System aus.</span><span class="sxs-lookup"><span data-stu-id="13eb5-407">If you're attempting to deploy a framework-dependent deployment and have not installed the .NET Core runtime, run the **.NET Core Windows Server Hosting bundle installer** on the system.</span></span> <span data-ttu-id="13eb5-408">Siehe [Installieren des Pakets „.NET Core Windows Server Hosting“](#install-the-net-core-windows-server-hosting-bundle).</span><span class="sxs-lookup"><span data-stu-id="13eb5-408">See [Install the .NET Core Windows Server Hosting bundle](#install-the-net-core-windows-server-hosting-bundle).</span></span> <span data-ttu-id="13eb5-409">Wenn Sie versuchen, die .NET Core-Runtime in einem System ohne Internetverbindung zu installieren, laden Sie die Runtime aus den [.NET-Downloads](https://www.microsoft.com/net/download/core) herunter, und führen Sie das Installationsprogramm für das Hostingpaket aus, um das ASP.NET Core-Modul zu installieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-409">If you are attempting to install the .NET Core runtime on a system without an Internet connection, obtain the runtime from [.NET Downloads](https://www.microsoft.com/net/download/core) and run the hosting bundle installer to install the ASP.NET Core Module.</span></span> <span data-ttu-id="13eb5-410">Schließen Sie die Installation ab, indem Sie das System oder IIS neu starten. Führen Sie dazu **net stop was /y** gefolgt von **net start w3svc** über eine Eingabeaufforderung aus.</span><span class="sxs-lookup"><span data-stu-id="13eb5-410">Complete the installation by restarting the system or restarting IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

* <span data-ttu-id="13eb5-411">Möglicherweise haben Sie eine Framework-abhängige Bereitstellung bereitgestellt und .NET Core installiert, ohne das System/IIS neu zu starten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-411">You may have deployed a framework-dependent deployment and installed .NET Core without restarting the system/IIS.</span></span> <span data-ttu-id="13eb5-412">Starten Sie das System neu, oder starten Sie IIS neu, indem Sie **net stop was /y** gefolgt von **net start w3svc** über eine Eingabeaufforderung ausführen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-412">Either restart the system or restart IIS by executing **net stop was /y** followed by **net start w3svc** from a command prompt.</span></span>

* <span data-ttu-id="13eb5-413">Möglicherweise haben Sie eine Framework-abhängige Bereitstellung bereitgestellt, und *Microsoft Visual C++ 2015 Redistributable (x64)* ist im System nicht installiert.</span><span class="sxs-lookup"><span data-stu-id="13eb5-413">You may have deployed a framework-dependent deployment and the *Microsoft Visual C++ 2015 Redistributable (x64)* is not installed on the system.</span></span> <span data-ttu-id="13eb5-414">Sie können ein Installationsprogramm aus dem [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840) abrufen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-414">You may obtain an installer from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53840).</span></span>

### <a name="incorrect-arguments-of-aspnetcore-element"></a><span data-ttu-id="13eb5-415">Falsche Argumente des Elements \<aspNetCore\></span><span class="sxs-lookup"><span data-stu-id="13eb5-415">Incorrect arguments of \<aspNetCore\> element</span></span>

* <span data-ttu-id="13eb5-416">**Browser:** HTTP-Fehler 502.5: Prozessfehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-416">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="13eb5-417">**Anwendungsprotokoll:** Anwendung 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' mit dem physischen Stamm 'C:\\{PFAD}\'' konnte den Prozess mit der Befehlszeile '"dotnet" .\my_application.dll' nicht starten. Fehlercode = 0x80004005 : 80008081.</span><span class="sxs-lookup"><span data-stu-id="13eb5-417">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' failed to start process with commandline '"dotnet" .\my_application.dll', ErrorCode = '0x80004005 : 80008081.</span></span>

* <span data-ttu-id="13eb5-418">**Protokoll des ASP.NET Core-Moduls:** Die auszuführende Anwendung ist nicht vorhanden: 'PFAD\my_application.dll'</span><span class="sxs-lookup"><span data-stu-id="13eb5-418">**ASP.NET Core Module Log:** The application to execute does not exist: 'PATH\my_application.dll'</span></span>

<span data-ttu-id="13eb5-419">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-419">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-420">Vergewissern Sie sich, dass die Anwendung lokal auf Kestrel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-420">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="13eb5-421">Ein Prozessfehler könnte die Folge eines Problems in der Anwendung sein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-421">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="13eb5-422">Weitere Informationen finden Sie unter [Tipps zur Problembehandlung](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="13eb5-422">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="13eb5-423">Überprüfen Sie das Attribut *arguments* im Element `<aspNetCore>` in *web.config*, um sicherzustellen, dass es (a) *.\my_applciation.dll* für eine Framework-abhängige Bereitstellung oder (b) nicht vorhanden, eine leere Zeichenfolge (*arguments=""*) oder eine Liste von Argumenten der Anwendung (*arguments="arg1, arg2,..."*) für eine eigenständige Bereitstellung ist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-423">Examine the *arguments* attribute on the `<aspNetCore>` element in *web.config* to confirm that it is either (a) *.\my_application.dll* for a framework-dependent deployment; or (b) not present, an empty string (*arguments=""*), or a list of your application's arguments (*arguments="arg1, arg2, ..."*) for a self-contained deployment.</span></span>

### <a name="missing-net-framework-version"></a><span data-ttu-id="13eb5-424">Fehlende .NET Framework-Version</span><span class="sxs-lookup"><span data-stu-id="13eb5-424">Missing .NET Framework version</span></span>

* <span data-ttu-id="13eb5-425">**Browser:** 502.3 Ungültiges Gateway: Bei der Weiterleitung der Anforderung ist ein Verbindungsfehler aufgetreten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-425">**Browser:** 502.3 Bad Gateway - There was a connection error while trying to route the request.</span></span>

* <span data-ttu-id="13eb5-426">**Anwendungsprotokoll:** Fehlercode: Anwendung 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' mit dem physischen Stamm 'C:\\{PFAD}\'' konnte den Prozess mit der Befehlszeile '"dotnet" .\my_application.dll' nicht starten. Fehlercode = 0x80004005 : 80008081.</span><span class="sxs-lookup"><span data-stu-id="13eb5-426">**Application Log:** ErrorCode = Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' failed to start process with commandline '"dotnet" .\my_application.dll', ErrorCode = '0x80004005 : 80008081.</span></span>

* <span data-ttu-id="13eb5-427">**Protokoll des ASP.NET Core-Moduls:** Ausnahme wegen fehlender Methode, Datei oder Assembly.</span><span class="sxs-lookup"><span data-stu-id="13eb5-427">**ASP.NET Core Module Log:** Missing method, file, or assembly exception.</span></span> <span data-ttu-id="13eb5-428">Die in der Ausnahme angegebene Methode, Datei oder Assembly ist eine .NET Framework-Methode, -Datei oder -Assembly.</span><span class="sxs-lookup"><span data-stu-id="13eb5-428">The method, file, or assembly specified in the exception is a .NET Framework method, file, or assembly.</span></span>

<span data-ttu-id="13eb5-429">Problembehandlung:</span><span class="sxs-lookup"><span data-stu-id="13eb5-429">Troubleshooting:</span></span>

* <span data-ttu-id="13eb5-430">Installieren Sie die .NET Framework-Version, die im System fehlt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-430">Install the .NET Framework version missing from the system.</span></span>

* <span data-ttu-id="13eb5-431">Stellen Sie für eine Framework-abhängige Bereitstellung sicher, dass die richtige Runtime im System installiert ist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-431">For a framework-dependent deployment, confirm that you have the correct runtime installed on the system.</span></span> <span data-ttu-id="13eb5-432">Wenn Sie beispielsweise ein Projekt von 1.0 auf 1.1 aktualisieren, auf dem Hostsystem bereitstellen und diese Ausnahme erhalten, müssen Sie Framework 1.1 auf dem Hostsystem installieren.</span><span class="sxs-lookup"><span data-stu-id="13eb5-432">For example if you upgrade a project from 1.0 to 1.1, deploy to the hosting system, and receive this exception, ensure you install the 1.1 framework on the hosting system.</span></span>

### <a name="stopped-application-pool"></a><span data-ttu-id="13eb5-433">Beendeter Anwendungspool</span><span class="sxs-lookup"><span data-stu-id="13eb5-433">Stopped Application Pool</span></span>

* <span data-ttu-id="13eb5-434">**Browser:** 503 Dienst nicht verfügbar</span><span class="sxs-lookup"><span data-stu-id="13eb5-434">**Browser:** 503 Service Unavailable</span></span>

* <span data-ttu-id="13eb5-435">**Anwendungsprotokoll:** Kein Eintrag</span><span class="sxs-lookup"><span data-stu-id="13eb5-435">**Application Log:** No entry</span></span>

* <span data-ttu-id="13eb5-436">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei nicht erstellt</span><span class="sxs-lookup"><span data-stu-id="13eb5-436">**ASP.NET Core Module Log:** Log file not created</span></span>

<span data-ttu-id="13eb5-437">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="13eb5-437">Troubleshooting</span></span>

* <span data-ttu-id="13eb5-438">Vergewissern Sie sich, dass der Anwendungspool nicht den Status *Beendet* aufweist.</span><span class="sxs-lookup"><span data-stu-id="13eb5-438">Confirm that the Application Pool is not in the *Stopped* state.</span></span>

### <a name="iis-integration-middleware-not-implemented"></a><span data-ttu-id="13eb5-439">Middleware für die Integration von IIS nicht implementiert</span><span class="sxs-lookup"><span data-stu-id="13eb5-439">IIS Integration middleware not implemented</span></span>

* <span data-ttu-id="13eb5-440">**Browser:** HTTP-Fehler 502.5: Prozessfehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-440">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="13eb5-441">**Anwendungsprotokoll:** Anwendung 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' mit dem physischen Stamm 'C:\\{PFAD}\' hat den Prozess mit der Befehlszeile '"C:\\{PFAD}\my_application.{exe|dll}"' erstellt, ist jedoch entweder abgestürzt, hat nicht geantwortet oder lauscht nicht am angegebenen Port '{PORT}', Fehlercode = '0x800705b4'</span><span class="sxs-lookup"><span data-stu-id="13eb5-441">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' created process with commandline '"C:\\{PATH}\my_application.{exe|dll}" ' but either crashed or did not reponse or did not listen on the given port '{PORT}', ErrorCode = '0x800705b4'</span></span>

* <span data-ttu-id="13eb5-442">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei wurde erstellt und gibt Normalbetrieb an.</span><span class="sxs-lookup"><span data-stu-id="13eb5-442">**ASP.NET Core Module Log:** Log file created and shows normal operation.</span></span>

<span data-ttu-id="13eb5-443">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="13eb5-443">Troubleshooting</span></span>

* <span data-ttu-id="13eb5-444">Vergewissern Sie sich, dass die Anwendung lokal auf Kestrel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="13eb5-444">Confirm that the application runs locally on Kestrel.</span></span> <span data-ttu-id="13eb5-445">Ein Prozessfehler könnte die Folge eines Problems in der Anwendung sein.</span><span class="sxs-lookup"><span data-stu-id="13eb5-445">A process failure might be the result of a problem within the application.</span></span> <span data-ttu-id="13eb5-446">Weitere Informationen finden Sie unter [Tipps zur Problembehandlung](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="13eb5-446">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

* <span data-ttu-id="13eb5-447">Stellen Sie sicher, dass Sie die Middleware für die Integration von IIS richtig referenziert haben, indem Sie die Methode *.UseIISIntegration()* für *WebHostBuilder()* der Anwendung aufrufen.</span><span class="sxs-lookup"><span data-stu-id="13eb5-447">Confirm that you have correctly referenced the IIS Integration middleware by calling the *.UseIISIntegration()* method on the application's *WebHostBuilder()*.</span></span>

### <a name="sub-application-includes-a-handlers-section"></a><span data-ttu-id="13eb5-448">Untergeordnete Anwendung enthält einen \<handlers\>-Abschnitt</span><span class="sxs-lookup"><span data-stu-id="13eb5-448">Sub-application includes a \<handlers\> section</span></span>

* <span data-ttu-id="13eb5-449">**Browser:** HTTP-Fehler 500.19: Interner Serverfehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-449">**Browser:** HTTP Error 500.19 - Internal Server Error</span></span>

* <span data-ttu-id="13eb5-450">**Anwendungsprotokoll:** Kein Eintrag</span><span class="sxs-lookup"><span data-stu-id="13eb5-450">**Application Log:** No entry</span></span>

* <span data-ttu-id="13eb5-451">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei wurde erstellt und gibt für die Stammanwendung Normalbetrieb an.</span><span class="sxs-lookup"><span data-stu-id="13eb5-451">**ASP.NET Core Module Log:** Log file created and shows normal operation for the root application.</span></span> <span data-ttu-id="13eb5-452">Die Protokolldatei wurde für die untergeordnete Anwendung nicht erstellt.</span><span class="sxs-lookup"><span data-stu-id="13eb5-452">Log file not created for the sub-application.</span></span>

<span data-ttu-id="13eb5-453">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="13eb5-453">Troubleshooting</span></span>

* <span data-ttu-id="13eb5-454">Überprüfen Sie, ob die Datei *web.config* der untergeordneten Anwendung einen `<handlers>`-Abschnitt enthält.</span><span class="sxs-lookup"><span data-stu-id="13eb5-454">Confirm that the sub-application's *web.config* file doesn't include a `<handlers>` section.</span></span>

### <a name="application-configuration-general-issue"></a><span data-ttu-id="13eb5-455">Allgemeines Problem mit der Anwendungskonfiguration</span><span class="sxs-lookup"><span data-stu-id="13eb5-455">Application configuration general issue</span></span>

* <span data-ttu-id="13eb5-456">**Browser:** HTTP-Fehler 502.5: Prozessfehler</span><span class="sxs-lookup"><span data-stu-id="13eb5-456">**Browser:** HTTP Error 502.5 - Process Failure</span></span>

* <span data-ttu-id="13eb5-457">**Anwendungsprotokoll:** Anwendung 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' mit dem physischen Stamm 'C:\\{PFAD}\' hat den Prozess mit der Befehlszeile '"C:\\{PFAD}\my_application.{exe|dll}"' erstellt, ist jedoch entweder abgestürzt, hat nicht geantwortet oder lauscht nicht am angegebenen Port '{PORT}', Fehlercode = '0x800705b4'</span><span class="sxs-lookup"><span data-stu-id="13eb5-457">**Application Log:** Application 'MACHINE/WEBROOT/APPHOST/MY_APPLICATION' with physical root 'C:\\{PATH}\' created process with commandline '"C:\\{PATH}\my_application.{exe|dll}" ' but either crashed or did not reponse or did not listen on the given port '{PORT}', ErrorCode = '0x800705b4'</span></span>

* <span data-ttu-id="13eb5-458">**Protokoll des ASP.NET Core-Moduls:** Protokolldatei erstellt, sie ist aber leer</span><span class="sxs-lookup"><span data-stu-id="13eb5-458">**ASP.NET Core Module Log:** Log file created but empty</span></span>

<span data-ttu-id="13eb5-459">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="13eb5-459">Troubleshooting</span></span>

* <span data-ttu-id="13eb5-460">Diese allgemeine Ausnahme gibt an, dass ein Prozess nicht gestartet wurde, wahrscheinlich aufgrund eines Problems mit der Anwendungskonfiguration.</span><span class="sxs-lookup"><span data-stu-id="13eb5-460">This general exception indicates that the process failed to start, most likely due to an application configuration issue.</span></span> <span data-ttu-id="13eb5-461">Überprüfen Sie in der [Verzeichnisstruktur](xref:hosting/directory-structure), ob die bereitgestellten Dateien und Ordner der Anwendung in Ordnung sind und ob die Konfigurationsdateien der Anwendung vorhanden sind und die richtigen Einstellungen für Ihre App und die Umgebung enthalten.</span><span class="sxs-lookup"><span data-stu-id="13eb5-461">Referring to [Directory Structure](xref:hosting/directory-structure), confirm that your application's deployed files and folders are appropriate and that your application's configuration files are present and contain the correct settings for your app and environment.</span></span> <span data-ttu-id="13eb5-462">Weitere Informationen finden Sie unter [Tipps zur Problembehandlung](#troubleshooting-tips).</span><span class="sxs-lookup"><span data-stu-id="13eb5-462">For more information, see [Troubleshooting tips](#troubleshooting-tips).</span></span>

## <a name="resources"></a><span data-ttu-id="13eb5-463">Ressourcen</span><span class="sxs-lookup"><span data-stu-id="13eb5-463">Resources</span></span>

* [<span data-ttu-id="13eb5-464">Einführung in das ASP.NET Core-Modul</span><span class="sxs-lookup"><span data-stu-id="13eb5-464">Introduction to ASP.NET Core Module</span></span>](xref:fundamentals/servers/aspnet-core-module)

* [<span data-ttu-id="13eb5-465">Konfigurationsreferenz für das ASP.NET Core-Modul</span><span class="sxs-lookup"><span data-stu-id="13eb5-465">ASP.NET Core Module configuration reference</span></span>](xref:hosting/aspnet-core-module)

* [<span data-ttu-id="13eb5-466">Verwenden von IIS-Modulen mit ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="13eb5-466">Using IIS Modules with ASP.NET Core</span></span>](xref:hosting/iis-modules)

* [<span data-ttu-id="13eb5-467">Einführung in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="13eb5-467">Introduction to ASP.NET Core</span></span>](../index.md)

* [<span data-ttu-id="13eb5-468">Die offizielle Microsoft IIS-Website</span><span class="sxs-lookup"><span data-stu-id="13eb5-468">The Official Microsoft IIS Site</span></span>](https://www.iis.net/)

* [<span data-ttu-id="13eb5-469">Microsoft TechNet-Bibliothek: Windows Server</span><span class="sxs-lookup"><span data-stu-id="13eb5-469">Microsoft TechNet Library: Windows Server</span></span>](https://docs.microsoft.com/windows-server/windows-server-versions)
