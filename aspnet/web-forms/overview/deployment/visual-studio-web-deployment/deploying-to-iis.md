---
uid: web-forms/overview/deployment/visual-studio-web-deployment/deploying-to-iis
title: 'ASP.NET Web-Bereitstellung mit Visual Studio: Bereitstellen von Test | Microsoft Docs'
author: tdykstra
description: Diese Reihe von Lernprogrammen wird gezeigt, wie bereitstellen (veröffentlichen) aus einer ASP.NET web-Anwendung auf Azure App Service-Web-Apps oder mit einem Hostinganbieter von Drittanbietern durch wählen...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/23/2015
ms.topic: article
ms.assetid: 8bf2c4fb-4ee5-4841-bfc2-03462c1f7a7a
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/deploying-to-iis
msc.type: authoredcontent
ms.openlocfilehash: dc11072e053cbddd089e5df4bcea6d2a7af864fc
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
ms.locfileid: "30890865"
---
<a name="aspnet-web-deployment-using-visual-studio-deploying-to-test"></a><span data-ttu-id="422b3-103">ASP.NET Web-Bereitstellung mit Visual Studio: Bereitstellen von Test</span><span class="sxs-lookup"><span data-stu-id="422b3-103">ASP.NET Web Deployment using Visual Studio: Deploying to Test</span></span>
====================
<span data-ttu-id="422b3-104">durch [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="422b3-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="422b3-105">Startprojekt herunterladen</span><span class="sxs-lookup"><span data-stu-id="422b3-105">Download Starter Project</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="422b3-106">Diese Reihe von Lernprogrammen wird gezeigt, wie bereitstellen (veröffentlichen) aus einer ASP.NET web-Anwendung eines Drittanbieters Hostinganbieter oder Azure App Service-Web-Apps mithilfe von Visual Studio 2012 oder Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="422b3-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="422b3-107">Informationen über die Reihen finden Sie unter [im ersten Lernprogramm, in der Reihe](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="422b3-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="422b3-108">Übersicht</span><span class="sxs-lookup"><span data-stu-id="422b3-108">Overview</span></span>

<span data-ttu-id="422b3-109">Dieses Lernprogramm zeigt, wie eine ASP.NET-Webanwendung in IIS auf dem lokalen Computer bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="422b3-109">This tutorial shows how to deploy an ASP.NET web application to IIS on the local computer.</span></span>

<span data-ttu-id="422b3-110">Wenn Sie eine Anwendung entwickeln, testen Sie in der Regel in Visual Studio ausführen.</span><span class="sxs-lookup"><span data-stu-id="422b3-110">When you develop an application, you generally test by running it in Visual Studio.</span></span> <span data-ttu-id="422b3-111">Standardmäßig verwenden Webanwendungsprojekte in Visual Studio 2012 als den Development Webserver IIS Express.</span><span class="sxs-lookup"><span data-stu-id="422b3-111">By default, web application projects in Visual Studio 2012 use IIS Express as the development web server.</span></span> <span data-ttu-id="422b3-112">IIS Express verhält sich wie die vollständige Variante von IIS als Visual Studio Development Server (auch bekannt als Cassini), der Visual Studio 2010 standardmäßig verwendet.</span><span class="sxs-lookup"><span data-stu-id="422b3-112">IIS Express behaves more like full IIS than the Visual Studio Development Server (also known as Cassini), which Visual Studio 2010 uses by default.</span></span> <span data-ttu-id="422b3-113">Aber weder Entwicklungswebserver funktioniert genauso wie IIS.</span><span class="sxs-lookup"><span data-stu-id="422b3-113">But neither development web server works exactly like IIS.</span></span> <span data-ttu-id="422b3-114">Daher ist es möglich, dass eine Anwendung ordnungsgemäß ausgeführt wird, wenn Sie in Visual Studio zu testen, jedoch fehl, wenn er für IIS bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-114">As a result, it's possible that an application will run correctly when you test it in Visual Studio, but fail when it's deployed to IIS.</span></span>

<span data-ttu-id="422b3-115">Sie können Ihre Anwendung zuverlässiger folgendermaßen testen:</span><span class="sxs-lookup"><span data-stu-id="422b3-115">You can test your application more reliably in these ways:</span></span>

1. <span data-ttu-id="422b3-116">Bereitstellen der Anwendung in IIS auf dem Entwicklungscomputer mithilfe desselben Prozesses, der später verwendet werden, die sie in der produktionsumgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="422b3-116">Deploy the application to IIS on your development computer by using the same process that you'll use later to deploy it to your production environment.</span></span> <span data-ttu-id="422b3-117">Sie können konfigurieren, dass Visual Studio, um IIS zu verwenden, wenn Sie ein Webprojekt ausführen, aber auf diese Weise wird das Verfahren zum Bereitstellen nicht testen.</span><span class="sxs-lookup"><span data-stu-id="422b3-117">You can configure Visual Studio to use IIS when you run a web project, but doing that would not test your deployment process.</span></span> <span data-ttu-id="422b3-118">Diese Methode überprüft, ob das Verfahren zum Bereitstellen zusätzlich zu überprüfen, das Ihre Anwendung unter IIS ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-118">This method validates your deployment process in addition to validating that your application will run correctly under IIS.</span></span>
2. <span data-ttu-id="422b3-119">Bereitstellen Sie die Anwendung in einer testumgebung, die nahezu identisch mit der produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="422b3-119">Deploy the application to a test environment that is nearly identical to your production environment.</span></span> <span data-ttu-id="422b3-120">Da die produktionsumgebung für diese Lernprogramme Web-Apps in Azure App Service ist, ist die ideale Umgebung für eine weitere Web-app in Azure App Service erstellt.</span><span class="sxs-lookup"><span data-stu-id="422b3-120">Since the production environment for these tutorials is Web Apps in Azure App Service, the ideal test environment is an additional web app created in Azure App Service.</span></span> <span data-ttu-id="422b3-121">Sie würden diese zweite Web-app nur zu Testzwecken verwenden, aber es würde die gleiche Weise wie die Produktions-Web-app einrichten festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-121">You would use this second web app only for testing, but it would be set up the same way as the production web app.</span></span>

<span data-ttu-id="422b3-122">Option 2 ist die zuverlässigste Möglichkeit zum Testen, und wenn Sie dies tun, Sie müssen nicht unbedingt über option 1.</span><span class="sxs-lookup"><span data-stu-id="422b3-122">Option 2 is the most reliable way to test, and if you do that, you don't necessarily have to do option 1.</span></span> <span data-ttu-id="422b3-123">Allerdings, wenn Sie die Bereitstellung einer Drittanbieter-Anbieter Hostingoption 2 möglicherweise nicht praktikabel sein oder möglicherweise viel Leistung beanspruchen, damit dieses Lernprogrammen Reihen beide Methoden anzeigt.</span><span class="sxs-lookup"><span data-stu-id="422b3-123">However, if you are deploying to a third-party hosting provider option 2 might not be feasible or might be expensive, so this tutorial series shows both methods.</span></span> <span data-ttu-id="422b3-124">Option 2 Anweisungen der [in der Produktionsumgebung bereitstellen](deploying-to-production.md) Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="422b3-124">Guidance for option 2 is provided in the [Deploying to the Production Environment](deploying-to-production.md) tutorial.</span></span>

<span data-ttu-id="422b3-125">Weitere Informationen zur Verwendung von Webservern in Visual Studio finden Sie unter [Webserver in Visual Studio für ASP.NET-Webprojekte](https://msdn.microsoft.com/library/58wxa9w5.aspx).</span><span class="sxs-lookup"><span data-stu-id="422b3-125">For more information about using web servers in Visual Studio, see [Web Servers in Visual Studio for ASP.NET Web Projects](https://msdn.microsoft.com/library/58wxa9w5.aspx).</span></span>

<span data-ttu-id="422b3-126">Hinweis: Wenn Sie eine Fehlermeldung erhalten, oder etwas funktioniert nicht, wenn Sie das Lernprogramm absolvieren, müssen Sie überprüfen die [Website](troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="422b3-126">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](troubleshooting.md).</span></span>

## <a name="install-iis"></a><span data-ttu-id="422b3-127">Installieren von IIS</span><span class="sxs-lookup"><span data-stu-id="422b3-127">Install IIS</span></span>

<span data-ttu-id="422b3-128">Um IIS auf dem Entwicklungscomputer bereitzustellen, benötigen Sie IIS und Web Deploy installiert.</span><span class="sxs-lookup"><span data-stu-id="422b3-128">To deploy to IIS on your development computer, you must have IIS and Web Deploy installed.</span></span> <span data-ttu-id="422b3-129">Web Deploy wird standardmäßig mit Visual Studio installiert, aber IIS ist nicht in der Standardkonfiguration für Windows 8 oder Windows 7 enthalten.</span><span class="sxs-lookup"><span data-stu-id="422b3-129">Web Deploy is installed by default with Visual Studio, but IIS is not included in the default Windows 8 or Windows 7 configuration.</span></span> <span data-ttu-id="422b3-130">Wenn IIS bereits installiert haben und der Standardanwendungspool in .NET 4 bereits festgelegt ist, fahren Sie mit [im nächsten Abschnitt](#sqlexpress).</span><span class="sxs-lookup"><span data-stu-id="422b3-130">If you have already installed IIS and the default application pool is already set to .NET 4, skip to [the next section](#sqlexpress).</span></span>

1. <span data-ttu-id="422b3-131">Mithilfe der [Webplattform-Installer](https://www.microsoft.com/web/downloads/platform.aspx) ist die bevorzugte Möglichkeit, IIS und Web Deploy, installiert werden, da der Webplattform-Installer eine empfohlene Konfiguration für IIS installiert und automatisch die erforderlichen Komponenten für IIS und Web installiert Stellen Sie bei Bedarf bereit.</span><span class="sxs-lookup"><span data-stu-id="422b3-131">Using the [Web Platform Installer](https://www.microsoft.com/web/downloads/platform.aspx) is the preferred way to install IIS and Web Deploy, because the Web Platform Installer installs a recommended configuration for IIS and it automatically installs the prerequisites for IIS and Web Deploy if necessary.</span></span>

    <span data-ttu-id="422b3-132">Verwenden Sie den folgenden Link zum Ausführen von Webplattform-Installer zum Installieren von IIS und Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="422b3-132">To run Web Platform Installer to install IIS and Web Deploy, use the following link.</span></span> <span data-ttu-id="422b3-133">Wenn Sie IIS, Web Deploy oder ihre erforderlichen Komponenten bereits installiert haben, installiert der Webplattform-Installer nur was fehlt.</span><span class="sxs-lookup"><span data-stu-id="422b3-133">If you already have installed IIS, Web Deploy or any of their required components, the Web Platform Installer installs only what is missing.</span></span>

   - [<span data-ttu-id="422b3-134">Installieren von IIS und Web Deploy mithilfe von WebPI</span><span class="sxs-lookup"><span data-stu-id="422b3-134">Install IIS and Web Deploy using WebPI</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=IIS7;ASPNET;NETFramework4;WDeploy)

     <span data-ttu-id="422b3-135">Sie sehen, die darauf hinweist, dass IIS 7 installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="422b3-135">You'll see messages indicating that IIS 7 will be installed.</span></span> <span data-ttu-id="422b3-136">Die Verknüpfung funktioniert für IIS 8 unter Windows 8, jedoch für Windows 8, stellen Sie sicher, dass ASP.NET 4.5 installiert ist, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="422b3-136">The link works for IIS 8 in Windows 8, but for Windows 8 make sure that ASP.NET 4.5 is installed by performing the following steps:</span></span>

   - <span data-ttu-id="422b3-137">Open **Systemsteuerung**, **Programme und Funktionen**, **Windows-Funktionen ein- oder ausschalten**.</span><span class="sxs-lookup"><span data-stu-id="422b3-137">Open **Control Panel**, **Programs and Features**, **Turn Windows features on or off**.</span></span>
   - <span data-ttu-id="422b3-138">Erweitern Sie **Internetinformationsdienste (IIS)**, **WWW-Dienste**, und **Anwendungsentwicklungsfeatures**.</span><span class="sxs-lookup"><span data-stu-id="422b3-138">Expand **Internet Information Services**, **World Wide Web Services**, and **Application Development Features**.</span></span>
   - <span data-ttu-id="422b3-139">Stellen Sie sicher, dass **ASP.NET 4.5** ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="422b3-139">Make sure that **ASP.NET 4.5** is selected.</span></span>

      ![ASP.NET 4.5 auswählen](deploying-to-iis/_static/image1.png)

<span data-ttu-id="422b3-141">Führen Sie nach der Installation von IIS, **IIS-Manager** um sicherzustellen, dass .NET Framework, Version 4 der Standardanwendungspool zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="422b3-141">After installing IIS, run **IIS Manager** to make sure that the .NET Framework version 4 is assigned to the default application pool.</span></span>

1. <span data-ttu-id="422b3-142">Drücken Sie WINDOWS + R, öffnen Sie die **ausführen** (Dialogfeld).</span><span class="sxs-lookup"><span data-stu-id="422b3-142">Press WINDOWS+R to open the **Run** dialog box.</span></span>

    <span data-ttu-id="422b3-143">(Oder geben Sie im Windows 8 die "run" auf die **starten** Seite, oder wählen Sie in Windows 7 **ausführen** aus der **starten** Menü.</span><span class="sxs-lookup"><span data-stu-id="422b3-143">(Or in Windows 8 enter "run" on the **Start** page, or in Windows 7 select **Run** from the **Start** menu.</span></span> <span data-ttu-id="422b3-144">Wenn **ausführen** befindet sich nicht in der **starten** im Menü der Taskleiste mit der rechten Maustaste klicken Sie auf **Eigenschaften**, wählen die **Startmenü** auf **Anpassen**, und wählen Sie **Ausführungsbefehl**.)</span><span class="sxs-lookup"><span data-stu-id="422b3-144">If **Run** isn't in the **Start** menu, right-click the taskbar, click **Properties**, select the **Start Menu** tab, click **Customize**, and select **Run command**.)</span></span>
2. <span data-ttu-id="422b3-145">Geben Sie "Inetmgr", und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="422b3-145">Enter "inetmgr", and then click **OK**.</span></span>
3. <span data-ttu-id="422b3-146">In der **Verbindungen** Bereich, erweitern Sie den Serverknoten, und wählen Sie **Anwendungspools**.</span><span class="sxs-lookup"><span data-stu-id="422b3-146">In the **Connections** pane, expand the server node and select **Application Pools**.</span></span> <span data-ttu-id="422b3-147">In der **Anwendungspools** Bereich, wenn **DefaultAppPool** ist .NET Frameworkversion 4, wie in der folgenden Abbildung zugewiesen, mit dem nächsten Abschnitt überspringen.</span><span class="sxs-lookup"><span data-stu-id="422b3-147">In the **Application Pools** pane, if **DefaultAppPool** is assigned to the .NET framework version 4 as in the following illustration, skip to the next section.</span></span>

    <span data-ttu-id="422b3-148">[![Inetmgr_showing_4.0_app_pools](deploying-to-iis/_static/image3.png)](deploying-to-iis/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="422b3-148">[![Inetmgr_showing_4.0_app_pools](deploying-to-iis/_static/image3.png)](deploying-to-iis/_static/image2.png)</span></span>
4. <span data-ttu-id="422b3-149">Wenn Sie nur zwei Anwendungspools finden Sie unter, und beide .NET Framework 2.0 festgelegt sind, müssen Sie ASP.NET 4 in IIS zu installieren.</span><span class="sxs-lookup"><span data-stu-id="422b3-149">If you see only two application pools and both of them are set to the .NET Framework 2.0, you have to install ASP.NET 4 in IIS.</span></span>

    <span data-ttu-id="422b3-150">Windows 8 finden Sie unter den Anweisungen im vorherigen Abschnitt für sichergestellt wird, ASP.NET 4.5 installiert ist, oder finden Sie unter [diesem KB-Artikel](https://support.microsoft.com/kb/2736284).</span><span class="sxs-lookup"><span data-stu-id="422b3-150">For Windows 8, see the instructions in the previous section for making sure that ASP.NET 4.5 is installed, or see [this KB article](https://support.microsoft.com/kb/2736284).</span></span> <span data-ttu-id="422b3-151">Für Windows 7, öffnen Sie ein Eingabeaufforderungsfenster mit der rechten Maustaste **Eingabeaufforderung** in Windows **starten** Menü- und Auswählen von **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-151">For Windows 7, open a command prompt window by right-clicking **Command Prompt** in the Windows **Start** menu and selecting **Run as Administrator**.</span></span> <span data-ttu-id="422b3-152">Führen Sie [Aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) So installieren Sie ASP.NET 4 in IIS mit den folgenden Befehlen.</span><span class="sxs-lookup"><span data-stu-id="422b3-152">Then run [aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) to install ASP.NET 4 in IIS, using the following commands.</span></span> <span data-ttu-id="422b3-153">(Ersetzen Sie im 32-Bit-Systemen "Framework64" mit "Framework").</span><span class="sxs-lookup"><span data-stu-id="422b3-153">(In 32-bit systems, replace "Framework64" with "Framework".)</span></span>

    [!code-console[Main](deploying-to-iis/samples/sample1.cmd)]

    <span data-ttu-id="422b3-154">Dieser Befehl erstellt neuen Anwendungspools für .NET Framework 4, aber der Standardanwendungspool wird weiterhin auf 2.0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="422b3-154">This command creates new application pools for the .NET Framework 4, but the default application pool will still be set to 2.0.</span></span> <span data-ttu-id="422b3-155">Sie müssen eine Anwendung bereitstellen werden, dessen Ziel .NET 4 für diesen Anwendungspool müssen Sie den Anwendungspool in .NET 4 ändern.</span><span class="sxs-lookup"><span data-stu-id="422b3-155">You'll be deploying an application that targets .NET 4 to that application pool, so you have to change the application pool to .NET 4.</span></span>
5. <span data-ttu-id="422b3-156">Wenn Sie geschlossen **IIS-Manager**, führen Sie es erneut aus, erweitern Sie den Serverknoten, und klicken Sie auf **Anwendungspools** zum Anzeigen der **Anwendungspools** erneut auf den Bereich.</span><span class="sxs-lookup"><span data-stu-id="422b3-156">If you closed **IIS Manager**, run it again, expand the server node, and click **Application Pools** to display the **Application Pools** pane again.</span></span>
6. <span data-ttu-id="422b3-157">In der **Anwendungspools** Bereich, klicken Sie auf **DefaultAppPool**, und klicken Sie dann in der **Aktionen** Bereich auf **Grundeinstellungen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-157">In the **Application Pools** pane, click **DefaultAppPool**, and then in the **Actions** pane click **Basic Settings**.</span></span>

    <span data-ttu-id="422b3-158">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deploying-to-iis/_static/image5.png)](deploying-to-iis/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="422b3-158">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deploying-to-iis/_static/image5.png)](deploying-to-iis/_static/image4.png)</span></span>
7. <span data-ttu-id="422b3-159">In der **Anwendungspool bearbeiten** ändern Sie im Dialogfeld **.NET Framework-Version** auf **.NET Framework-v4.0.30319** , und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="422b3-159">In the **Edit Application Pool** dialog box, change **.NET Framework version** to **.NET Framework v4.0.30319** and click **OK**.</span></span>

    <span data-ttu-id="422b3-160">[![Selecting_.NET_4_for_DefaultAppPool](deploying-to-iis/_static/image7.png)](deploying-to-iis/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="422b3-160">[![Selecting_.NET_4_for_DefaultAppPool](deploying-to-iis/_static/image7.png)](deploying-to-iis/_static/image6.png)</span></span>

<span data-ttu-id="422b3-161">IIS ist nun bereit für eine Webanwendung zu veröffentlichen, aber bevor Sie dies tun können müssen Sie die Datenbanken, die Sie verwenden in der testumgebung erstellen.</span><span class="sxs-lookup"><span data-stu-id="422b3-161">IIS is now ready for you to publish a web application to it, but before you can do that you have to create the databases that you will use in the test environment.</span></span>

<a id="sqlexpress"></a>

## <a name="install-sql-server-express"></a><span data-ttu-id="422b3-162">Installieren Sie SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="422b3-162">Install SQL Server Express</span></span>

<span data-ttu-id="422b3-163">LocalDB ist nicht für die Verwendung konzipiert in IIS für Ihre testumgebung müssen Sie SQL Server Express installiert haben.</span><span class="sxs-lookup"><span data-stu-id="422b3-163">LocalDB is not designed to work in IIS, so for your test environment you need to have SQL Server Express installed.</span></span> <span data-ttu-id="422b3-164">Wenn Sie Visual Studio 2010 SQL Server Express verwenden, ist standardmäßig bereits installiert.</span><span class="sxs-lookup"><span data-stu-id="422b3-164">If you are using Visual Studio 2010 SQL Server Express is already installed by default.</span></span> <span data-ttu-id="422b3-165">Wenn Sie Visual Studio 2012 verwenden, müssen Sie es installieren.</span><span class="sxs-lookup"><span data-stu-id="422b3-165">If you are using Visual Studio 2012, you have to install it.</span></span>

<span data-ttu-id="422b3-166">Um SQL Server Express zu installieren, installieren Sie ihn von [Download Center: Microsoft SQL Server 2012 Express](https://www.microsoft.com/download/details.aspx?id=29062) durch Klicken auf [ENU\x64\SQLEXPR\_X64\_ENU.exe](https://download.microsoft.com/download/8/D/D/8DD7BDBA-CEF7-4D8E-8C16-D9F69527F909/ENU/x64/SQLEXPR_x64_ENU.exe) oder [ ENU\x86\SQLEXPR\_X86\_ENU.exe](https://download.microsoft.com/download/8/D/D/8DD7BDBA-CEF7-4D8E-8C16-D9F69527F909/ENU/x86/SQLEXPR_x86_ENU.exe).</span><span class="sxs-lookup"><span data-stu-id="422b3-166">To install SQL Server Express, install it from [Download Center: Microsoft SQL Server 2012 Express](https://www.microsoft.com/download/details.aspx?id=29062) by clicking [ENU\x64\SQLEXPR\_x64\_ENU.exe](https://download.microsoft.com/download/8/D/D/8DD7BDBA-CEF7-4D8E-8C16-D9F69527F909/ENU/x64/SQLEXPR_x64_ENU.exe) or [ENU\x86\SQLEXPR\_x86\_ENU.exe](https://download.microsoft.com/download/8/D/D/8DD7BDBA-CEF7-4D8E-8C16-D9F69527F909/ENU/x86/SQLEXPR_x86_ENU.exe).</span></span> <span data-ttu-id="422b3-167">Falls die falsche Datei gewünscht für Ihr System schlägt fehl installieren und Sie können versuchen, eine andere.</span><span class="sxs-lookup"><span data-stu-id="422b3-167">If you choose the wrong one for your system it will fail to install and you can try the other one.</span></span>

<span data-ttu-id="422b3-168">Klicken Sie auf der ersten Seite des SQL Server-Installationscenter auf **eigenständige neue SQL Server-Installation oder Hinzufügen von Funktionen zu einer vorhandenen Installation**, und befolgen Sie die Anweisungen, akzeptieren die Standardoptionen.</span><span class="sxs-lookup"><span data-stu-id="422b3-168">On the first page of the SQL Server Installation Center, click **New SQL Server stand-alone installation or add features to an existing installation**, and follow the instructions, accepting the default choices.</span></span> <span data-ttu-id="422b3-169">Übernehmen Sie die Standardeinstellungen im Installations-Assistenten.</span><span class="sxs-lookup"><span data-stu-id="422b3-169">In the installation wizard accept the default settings.</span></span> <span data-ttu-id="422b3-170">Weitere Informationen zu Installationsoptionen finden Sie unter [Installieren von SQL Server 2012 vom Installations-Assistenten (Setup)](https://msdn.microsoft.com/library/ms143219.aspx).</span><span class="sxs-lookup"><span data-stu-id="422b3-170">For more information about installation options, see [Install SQL Server 2012 from the Installation Wizard (Setup)](https://msdn.microsoft.com/library/ms143219.aspx).</span></span>

## <a name="create-sql-server-express-databases-for-the-test-environment"></a><span data-ttu-id="422b3-171">Erstellen von SQL Server Express-Datenbanken für die testumgebung</span><span class="sxs-lookup"><span data-stu-id="422b3-171">Create SQL Server Express databases for the test environment</span></span>

<span data-ttu-id="422b3-172">Die University Contoso-Anwendung verfügt über zwei Datenbanken: der Mitgliedschaftsdatenbank und der Anwendungsdatenbank.</span><span class="sxs-lookup"><span data-stu-id="422b3-172">The Contoso University application has two databases: the membership database and the application database.</span></span> <span data-ttu-id="422b3-173">Sie können diese Datenbanken auf zwei separaten Datenbanken oder auf eine einzelne Datenbank bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="422b3-173">You can deploy these databases to two separate databases or to a single database.</span></span> <span data-ttu-id="422b3-174">Möglicherweise möchten sie kombinieren, um Datenbankjoins zwischen Ihrer Anwendung und Ihre Mitgliedschaftsdatenbank zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="422b3-174">You might want to combine them in order to facilitate database joins between your application database and your membership database.</span></span> <span data-ttu-id="422b3-175">Wenn Sie mit einem Drittanbieter-Hostinganbieter bereitstellen, möglicherweise Ihren hostingplan auch einen Grund für diese kombinieren angeben.</span><span class="sxs-lookup"><span data-stu-id="422b3-175">If you are deploying to a third-party hosting provider, your hosting plan might also provide a reason to combine them.</span></span> <span data-ttu-id="422b3-176">Z. B. des hostenden Anbieters möglicherweise fallen Kosten für mehrere Datenbanken oder möglicherweise mehr als eine Datenbank selbst nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="422b3-176">For example, the hosting provider might charge more for multiple databases or might not even allow more than one database.</span></span>

<span data-ttu-id="422b3-177">In diesem Lernprogramm stellen Sie mit zwei Datenbanken in der testumgebung, und klicken Sie auf eine Datenbank in der Staging- und produktionsumgebungen bereit.</span><span class="sxs-lookup"><span data-stu-id="422b3-177">In this tutorial, you'll deploy to two databases in the test environment, and to one database in the staging and production environments.</span></span>

<span data-ttu-id="422b3-178">Aus der **Ansicht** in Visual Studio wählen Sie im Menü **Server-Explorer** (**Datenbank-Explorer** in Visual Web Developer), und klicken Sie dann mit der rechten Maustaste **Datenverbindungen**  , und wählen Sie **neue SQL Server-Datenbank erstellen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-178">From the **View** menu in Visual Studio select **Server Explorer** (**Database Explorer** in Visual Web Developer), and then right-click **Data Connections** and select **Create New SQL Server Database**.</span></span>

![Selecting_Create_New_SQL_Server_Database](deploying-to-iis/_static/image8.png)

<span data-ttu-id="422b3-180">In der **neue SQL Server-Datenbank erstellen** Dialogfeld Geben Sie ". \SQLExpress" in der **Servernamen** Feld und "Aspnet-ContosoUniversity" in der **neuer Datenbankname** Feld, klicken Sie dann Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="422b3-180">In the **Create New SQL Server Database** dialog box, enter ".\SQLExpress" in the **Server name** box and "aspnet-ContosoUniversity" in the **New database name** box, then click **OK**.</span></span>

![Erstellen von Aspnet-ContosoUniversity](deploying-to-iis/_static/image9.png)

<span data-ttu-id="422b3-182">Führen Sie das gleiche Verfahren zum Erstellen einer neuen SQL Server Express School-Datenbank mit dem Namen "ContosoUniversity" aus.</span><span class="sxs-lookup"><span data-stu-id="422b3-182">Follow the same procedure to create a new SQL Server Express School database named "ContosoUniversity".</span></span>

<span data-ttu-id="422b3-183">**Server-Explorer** zeigt nun zwei neuen Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="422b3-183">**Server Explorer** now shows the two new databases.</span></span>

![Neue Datenbanken im Server-Explorer](deploying-to-iis/_static/image10.png)

## <a name="create-a-grant-script-for-the-new-databases"></a><span data-ttu-id="422b3-185">Erstellen Sie eine Grant-Skript für die neuen Datenbanken</span><span class="sxs-lookup"><span data-stu-id="422b3-185">Create a grant script for the new databases</span></span>

<span data-ttu-id="422b3-186">Wenn die Anwendung in IIS auf dem Entwicklungscomputer ausgeführt wird, greift auf die Anwendung die Datenbank mithilfe von Anmeldeinformationen für den Standardanwendungspool.</span><span class="sxs-lookup"><span data-stu-id="422b3-186">When the application runs in IIS on your development computer, the application accesses the database by using the default application pool's credentials.</span></span> <span data-ttu-id="422b3-187">Standardmäßig haben die Identität des Anwendungspools jedoch keine Berechtigung zum Öffnen von Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="422b3-187">However, by default, the application pool identity does not have permission to open the databases.</span></span> <span data-ttu-id="422b3-188">Daher müssen Sie zum Ausführen eines Skripts, um diese Berechtigung zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="422b3-188">So you have to run a script to grant that permission.</span></span> <span data-ttu-id="422b3-189">In diesem Abschnitt erstellen Sie das Skript ausgeführt wird weiter unten, um sicherzustellen, dass die Anwendung die Datenbanken öffnen kann, wenn sie in IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-189">In this section you create the script that you'll run later to make sure that the application can open the databases when it runs in IIS.</span></span>

<span data-ttu-id="422b3-190">Mit der rechten Maustaste in der Projektmappe (nicht eines der Projekte), und klicken Sie auf **neues Element hinzufügen**, und erstellen Sie ein neues **SQL-Datei** mit dem Namen *Grant.sql*.</span><span class="sxs-lookup"><span data-stu-id="422b3-190">Right-click the solution (not one of the projects), and click **Add New Item**, and then create a new **SQL File** named *Grant.sql*.</span></span> <span data-ttu-id="422b3-191">Kopieren Sie die folgenden SQL-Befehle in die Datei, und speichern Sie und schließen Sie die Datei:</span><span class="sxs-lookup"><span data-stu-id="422b3-191">Copy the following SQL commands into the file, and then save and close the file:</span></span>

[!code-sql[Main](deploying-to-iis/samples/sample2.sql)]

> [!NOTE]
> <span data-ttu-id="422b3-192">Dieses Skript dient zum Arbeiten mit SQL Server Express 2012 und IIS-Einstellungen in Windows 8 oder Windows 7, wie sie in diesem Lernprogramm angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="422b3-192">This script is designed to work with SQL Server Express 2012 and with the IIS settings in Windows 8 or Windows 7 as they are specified in this tutorial.</span></span> <span data-ttu-id="422b3-193">Wenn Sie eine andere Version von SQL Server oder von Windows verwenden, oder wenn Sie IIS auf Ihrem Computer unterschiedlich eingerichtet, Änderungen an diesem Skript möglicherweise erforderlich.</span><span class="sxs-lookup"><span data-stu-id="422b3-193">If you're using a different version of SQL Server or of Windows, or if you set up IIS on your computer differently, changes to this script might be required.</span></span> <span data-ttu-id="422b3-194">Weitere Informationen zu SQL Server-Skripts finden Sie unter [SQL Server-Onlinedokumentation](https://go.microsoft.com/fwlink/?LinkId=132511).</span><span class="sxs-lookup"><span data-stu-id="422b3-194">For more information about SQL Server scripts, see [SQL Server Books Online](https://go.microsoft.com/fwlink/?LinkId=132511).</span></span>


> [!NOTE] 
> 
> <span data-ttu-id="422b3-195">**Sicherheitshinweis** dieses Skript gibt Db\_kontobesitzerberechtigungen verfügen, um den Benutzer, die zur Laufzeit in der produktionsumgebung müssen also auf die Datenbank zugreift.</span><span class="sxs-lookup"><span data-stu-id="422b3-195">**Security Note** This script gives db\_owner permissions to the user that accesses the database at run time, which is what you'll have in the production environment.</span></span> <span data-ttu-id="422b3-196">In einigen Szenarien empfiehlt es sich um ein Benutzer mit vollständigen Datenbankschema aktualisieren Sie Berechtigungen nur für die Bereitstellung, und geben Sie einen anderen Benutzer, der berechtigt nur zum Lesen und Schreiben von Daten zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="422b3-196">In some scenarios you might want to specify a user that has full database schema update permissions only for deployment, and specify for run time a different user that has permissions only to read and write data.</span></span> <span data-ttu-id="422b3-197">Weitere Informationen finden Sie unter [überprüfen die automatischen Änderungen von "Web.config" für die Code First-Migrationen](#reviewingmigrations) weiter unten in diesem Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="422b3-197">For more information, see [Reviewing the Automatic Web.config Changes for Code First Migrations](#reviewingmigrations) later in this tutorial.</span></span>


<a id="publish"></a>

## <a name="run-the-grant-script-in-the-application-database"></a><span data-ttu-id="422b3-198">Führen Sie das Skript zum Erteilen der Anwendungsdatenbank</span><span class="sxs-lookup"><span data-stu-id="422b3-198">Run the grant script in the application database</span></span>

<span data-ttu-id="422b3-199">Sie können konfigurieren, dass dem Veröffentlichungsprofil ein, um das Skript zum Erteilen in der Mitgliedschaftsdatenbank während der Bereitstellung ausgeführt werden, da die datenbankbereitstellung der DbDacFx-Anbieter verwendet.</span><span class="sxs-lookup"><span data-stu-id="422b3-199">You can configure the publish profile to run the grant script in the membership database during deployment because that database deployment uses the dbDacFx provider.</span></span> <span data-ttu-id="422b3-200">Während der Bereitstellung von Code First-Migrationen, die ist, wie Sie die Anwendungsdatenbank bereitstellen, können Sie können keine Skripts ausführen.</span><span class="sxs-lookup"><span data-stu-id="422b3-200">You can't run scripts during Code First Migrations deployment, which is how you're deploying the application database.</span></span> <span data-ttu-id="422b3-201">Aus diesem Grund müssen Sie das Skript vor der Bereitstellung in der Anwendungsdatenbank manuell ausführen.</span><span class="sxs-lookup"><span data-stu-id="422b3-201">Therefore, you have to manually run the script before deployment in the application database.</span></span>

1. <span data-ttu-id="422b3-202">Öffnen Sie in Visual Studio die *Grant.sql* -Datei, die Sie zuvor erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="422b3-202">In Visual Studio, open the *Grant.sql* file that you created earlier.</span></span>
2. <span data-ttu-id="422b3-203">Klicken Sie auf **verbinden**.</span><span class="sxs-lookup"><span data-stu-id="422b3-203">Click **Connect**.</span></span> 

    ![Schaltfläche "Verbinden"](deploying-to-iis/_static/image11.png)
3. <span data-ttu-id="422b3-205">In der **Verbindung mit Server herstellen** Dialogfeld Geben Sie *. \SQLExpress* als die **Servernamen**, und klicken Sie dann auf **verbinden**.</span><span class="sxs-lookup"><span data-stu-id="422b3-205">In the **Connect to Server** dialog box, enter *.\SQLExpress* as the **Server Name**, and then click **Connect**.</span></span>
4. <span data-ttu-id="422b3-206">Wählen Sie in der Datenbank-Dropdownliste **ContosoUniversity**, und klicken Sie dann auf **Execute**.</span><span class="sxs-lookup"><span data-stu-id="422b3-206">In the database drop-down list select **ContosoUniversity**, and then click **Execute**.</span></span> 

    ![](deploying-to-iis/_static/image12.png)

<span data-ttu-id="422b3-207">Die Standardidentität des Anwendungspools verfügt jetzt über ausreichende Berechtigungen in der Anwendungsdatenbank für Code First-Migrationen Tabellen der Datenbank zu erstellen, wenn die Anwendung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-207">The default application pool identity now has sufficient permissions in the application database for Code First Migrations to create the database tables when the application runs.</span></span>

## <a name="publish-to-iis"></a><span data-ttu-id="422b3-208">In IIS veröffentlichen</span><span class="sxs-lookup"><span data-stu-id="422b3-208">Publish to IIS</span></span>

<span data-ttu-id="422b3-209">Es gibt mehrere Möglichkeiten, die Sie in IIS mithilfe von Visual Studio und Web Deploy bereitstellen können:</span><span class="sxs-lookup"><span data-stu-id="422b3-209">There are several ways you can deploy to IIS using Visual Studio and Web Deploy:</span></span>

- <span data-ttu-id="422b3-210">Verwenden Sie Visual Studio One-Click-Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="422b3-210">Use Visual Studio one-click publish.</span></span>
- <span data-ttu-id="422b3-211">Veröffentlichen Sie über die Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="422b3-211">Publish from the command line.</span></span>
- <span data-ttu-id="422b3-212">Erstellen einer *Bereitstellungspaket* und installieren Sie es mithilfe der IIS-Manager-UI.</span><span class="sxs-lookup"><span data-stu-id="422b3-212">Create a *deployment package* and install it using the IIS Manager UI.</span></span> <span data-ttu-id="422b3-213">Das Bereitstellungspaket besteht aus einem *ZIP* Datei, enthält alle Dateien und Metadaten, die zum Installieren eines Standorts in IIS erforderlich.</span><span class="sxs-lookup"><span data-stu-id="422b3-213">The deployment package consists of a *.zip* file that contains all the files and metadata needed to install a site in IIS.</span></span>
- <span data-ttu-id="422b3-214">Erstellen Sie ein Bereitstellungspaket, und installieren Sie es über die Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="422b3-214">Create a deployment package and install it using the command line.</span></span>

<span data-ttu-id="422b3-215">Der Prozess, den Sie in den vorherigen Lernprogrammen zum Visual Studio einrichten, damit automatisieren gab es Bereitstellungsaufgaben gilt für alle diese Methoden.</span><span class="sxs-lookup"><span data-stu-id="422b3-215">The process you went through in the previous tutorials to set up Visual Studio to automate deployment tasks applies to all of these methods.</span></span> <span data-ttu-id="422b3-216">In diesen Lernprogrammen verwenden Sie die ersten beiden dieser Methoden.</span><span class="sxs-lookup"><span data-stu-id="422b3-216">In these tutorials you'll use the first two of these methods.</span></span> <span data-ttu-id="422b3-217">Informationen zur Verwendung von Bereitstellungspaketen finden Sie unter [Bereitstellen einer Web-Anwendung erstellen und Installieren eines Webbereitstellungspakets](https://go.microsoft.com/fwlink/p/?LinkId=282413#package) in der Web Content Bereitstellungskarte für Visual Studio und ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="422b3-217">For information about using deployment packages, see [Deploying a web application by creating and installing a web deployment package](https://go.microsoft.com/fwlink/p/?LinkId=282413#package) in the Web Deployment Content Map for Visual Studio and ASP.NET.</span></span>

<span data-ttu-id="422b3-218">Stellen Sie vor der Veröffentlichung sicher, dass Sie Visual Studio im Administratormodus ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-218">Before publishing, make sure that you are running Visual Studio in administrator mode.</span></span> <span data-ttu-id="422b3-219">Wenn Sie nicht sehen **(Administrator)** in der Titelleiste, schließen Sie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="422b3-219">If you don't see **(Administrator)** in the title bar, close Visual Studio.</span></span> <span data-ttu-id="422b3-220">In der Windows Server 8 **starten** Seiten- oder Windows 7 **starten** im Menü Maustaste auf das Symbol für die Version von Visual Studio, die Sie verwenden, und wählen Sie **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-220">In the Windows 8 **Start** page or the Windows 7 **Start** menu, right-click the icon for the version of Visual Studio you're using and select **Run as Administrator**.</span></span> <span data-ttu-id="422b3-221">Im Administratormodus ist erforderlich für die Veröffentlichung nur wenn Sie in IIS auf dem lokalen Computer veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="422b3-221">Administrator mode is required for publishing only when you are publishing to IIS on the local computer.</span></span>

### <a name="create-the-publish-profile"></a><span data-ttu-id="422b3-222">Erstellen Sie das Veröffentlichungsprofil</span><span class="sxs-lookup"><span data-stu-id="422b3-222">Create the publish profile</span></span>

1. <span data-ttu-id="422b3-223">In **Projektmappen-Explorer**mit der rechten Maustaste auf das Projekt ContosoUniversity (nicht auf das Projekt ContosoUniversity.DAL), und wählen Sie **veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-223">In **Solution Explorer**, right-click the ContosoUniversity project (not the ContosoUniversity.DAL project) and select **Publish**.</span></span>

    <span data-ttu-id="422b3-224">Die **Web veröffentlichen** -Assistent wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="422b3-224">The **Publish Web** wizard appears.</span></span>

    ![Veröffentlichen Sie die Registerkarte "Web-Assistent-Profil"](deploying-to-iis/_static/image13.png)
2. <span data-ttu-id="422b3-226">Wählen Sie in der Dropdown-Liste  **&lt;neu... &gt;**.</span><span class="sxs-lookup"><span data-stu-id="422b3-226">In the drop-down list, select **&lt;New...&gt;**.</span></span> <span data-ttu-id="422b3-227">(Mit dem aktuellen Visual Studio-Update installiert, keine Dropdown-Liste vorhanden ist, und die Schaltfläche klicken, um ein neues Profil von Grund auf neu zu erstellen ist **benutzerdefinierte**.)</span><span class="sxs-lookup"><span data-stu-id="422b3-227">(With the latest Visual Studio update installed, there is no drop-down list, and the button to click in order to create a new profile from scratch is **Custom**.)</span></span>
3. <span data-ttu-id="422b3-228">In der **neues Profil** (Dialogfeld), geben Sie "Test", und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="422b3-228">In the **New Profile** dialog box, enter "Test", and then click **OK**.</span></span>

    <span data-ttu-id="422b3-229">Der Assistent springt automatisch zu den **Verbindung** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="422b3-229">The wizard automatically advances to the **Connection** tab.</span></span>
4. <span data-ttu-id="422b3-230">In der **Dienst-URL** geben *"localhost"*.</span><span class="sxs-lookup"><span data-stu-id="422b3-230">In the **Service URL** box, enter *localhost*.</span></span>
5. <span data-ttu-id="422b3-231">In der **Website/Anwendung** geben *Default Web Site/ContosoUniversity*</span><span class="sxs-lookup"><span data-stu-id="422b3-231">In the **Site/application** box, enter *Default Web Site/ContosoUniversity*</span></span>
6. <span data-ttu-id="422b3-232">In der **Ziel-URL** Geben Sie `http://localhost/ContosoUniversity`</span><span class="sxs-lookup"><span data-stu-id="422b3-232">In the **Destination URL** box, enter `http://localhost/ContosoUniversity`</span></span>

    <span data-ttu-id="422b3-233">Die **Ziel-URL** Einstellung ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="422b3-233">The **Destination URL** setting isn't required.</span></span> <span data-ttu-id="422b3-234">Wenn Visual Studio abgeschlossen ist, die Anwendung bereitstellen, wird Ihrem Standardbrowser an diese URL automatisch geöffnet.</span><span class="sxs-lookup"><span data-stu-id="422b3-234">When Visual Studio finishes deploying the application, it automatically opens your default browser to this URL.</span></span> <span data-ttu-id="422b3-235">Wenn Sie nicht möchten, dass den Browser nach der Bereitstellung nicht automatisch geöffnet wird, lassen Sie dieses Feld leer.</span><span class="sxs-lookup"><span data-stu-id="422b3-235">If you don't want the browser to open automatically after deployment, leave this box blank.</span></span>
7. <span data-ttu-id="422b3-236">Klicken Sie auf **Validate Connection** um sicherzustellen, dass die Einstellungen richtig sind und Sie können mit IIS auf dem lokalen Computer verbinden.</span><span class="sxs-lookup"><span data-stu-id="422b3-236">Click **Validate Connection** to verify that the settings are correct and you can connect to IIS on the local computer.</span></span>

    <span data-ttu-id="422b3-237">Ein grünes Häkchen überprüft, ob die Verbindung erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="422b3-237">A green check mark verifies that the connection is successful.</span></span>

    ![Veröffentlichen von Web-Assistent – Registerkarte "Datenbankverbindung"](deploying-to-iis/_static/image14.png)
8. <span data-ttu-id="422b3-239">Klicken Sie auf **Weiter** um zum Wechseln der **Einstellungen** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="422b3-239">Click **Next** to advance to the **Settings** tab.</span></span>
9. <span data-ttu-id="422b3-240">Die **Konfiguration** Dropdown-Feld gibt die Buildkonfiguration bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="422b3-240">The **Configuration** drop-down box specifies the build configuration to deploy.</span></span> <span data-ttu-id="422b3-241">Lassen Sie auf den Standardwert der Veröffentlichung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="422b3-241">Leave it set to the default value of Release.</span></span> <span data-ttu-id="422b3-242">Sie wird nicht in diesem Lernprogramm Debug-Builds bereitstellen, werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-242">You won't be deploying Debug builds in this tutorial.</span></span>
10. <span data-ttu-id="422b3-243">Erweitern Sie **Dateiveröffentlichungsoptionen**, und wählen Sie dann **Ausschließen von Dateien aus der App\_Datenordner**.</span><span class="sxs-lookup"><span data-stu-id="422b3-243">Expand **File Publish Options**, and then select **Exclude files from the App\_Data folder**.</span></span>

    <span data-ttu-id="422b3-244">In der testumgebung, die Sie in der lokalen SQL Server Express-Instanz erstellten Datenbanken wird auf die Anwendung zugreifen, nicht die MDF-Dateien in den *App\_Daten* Ordner.</span><span class="sxs-lookup"><span data-stu-id="422b3-244">In the test environment the application will access the databases that you created in the local SQL Server Express instance, not the .mdf files in the *App\_Data* folder.</span></span>
11. <span data-ttu-id="422b3-245">Lassen Sie die **Precompile während der Veröffentlichung** und **entfernen weiterer Dateien am Ziel** Kontrollkästchen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="422b3-245">Leave the **Precompile during publishing** and **Remove additional files at destination** check boxes cleared.</span></span>

    ![Dateiveröffentlichungsoptionen in der Registerkarte "Einstellungen"](deploying-to-iis/_static/image15.png)

    <span data-ttu-id="422b3-247">Vorkompilieren von ist eine Option, die hauptsächlich für sehr große Websites hilfreich sind. Sie reduzieren Seite Startzeit zum ersten Mal, wenn eine Seite angefordert wird, nachdem der Standort veröffentlicht wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-247">Precompiling is an option that is useful mainly for very large sites; it can reduce page startup time for the first time a page is requested after the site is published.</span></span>

    <span data-ttu-id="422b3-248">Sie müssen zusätzliche Dateien entfernt werden, da dies Ihre erste Bereitstellung ist und Sie es keine Dateien im Zielordner noch nicht.</span><span class="sxs-lookup"><span data-stu-id="422b3-248">You don't need to remove additional files since this is your first deployment and there won't be any files in the destination folder yet.</span></span>

    > [!NOTE] 
    > 
    > [!CAUTION]
    > <span data-ttu-id="422b3-249">Bei Auswahl des **entfernen weiterer Dateien** für eine nachfolgende Bereitstellung am selben Standort, stellen Sie sicher, dass Sie die Vorschaufunktion verwenden, damit Sie rechtzeitig sehen, welche Dateien vor der Bereitstellung gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-249">If you select **Remove additional files** for a subsequent deployment to the same site, make sure that you use the preview feature so that you see in advance which files will be deleted before you deploy.</span></span> <span data-ttu-id="422b3-250">Das erwartete Verhalten ist, dass Web Deploy-Dateien auf dem Zielserver gelöscht werden, die Sie in Ihrem Projekt gelöscht haben.</span><span class="sxs-lookup"><span data-stu-id="422b3-250">The expected behavior is that Web Deploy will delete files on the destination server that you have deleted in your project.</span></span> <span data-ttu-id="422b3-251">Allerdings wird die gesamte Ordnerstruktur in den Quell- und Zielschemas Ordnern verglichen, und in einigen Szenarien Web Deploy-Dateien, die Sie löschen möchten, nicht löschen kann.</span><span class="sxs-lookup"><span data-stu-id="422b3-251">However, the entire folder structure under the source and destination folders is compared, and in some scenarios Web Deploy might delete files you don't want to delete.</span></span>
    > 
    > <span data-ttu-id="422b3-252">Wenn Sie beim Bereitstellen eines Projekts in den Stammordner in einem Unterordner auf dem Server über eine Webanwendung verfügen, wird z. B. der Unterordner gelöscht.</span><span class="sxs-lookup"><span data-stu-id="422b3-252">For example, if you have a web application in a subfolder on the server when you deploy a project to the root folder, the subfolder will be deleted.</span></span> <span data-ttu-id="422b3-253">Ein Projekt für die main-Website unter "contoso.com" und ein anderes Projekt für einen Blog unter Objekte Remote möglicherweise.</span><span class="sxs-lookup"><span data-stu-id="422b3-253">You might have one project for the main site at contoso.com and another project for a blog at contoso.com/blog.</span></span> <span data-ttu-id="422b3-254">Die Bloganwendung ist in einem Unterordner.</span><span class="sxs-lookup"><span data-stu-id="422b3-254">The blog application is in a subfolder.</span></span> <span data-ttu-id="422b3-255">Wenn Sie entfernen Weitere Dateien am Ziel auswählen, wenn Sie auf der Hauptwebsite bereitstellen, wird die Bloganwendung gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-255">If you select Remove additional files at destination when you deploy the main site, the blog application will be deleted.</span></span>
    > 
    > <span data-ttu-id="422b3-256">Ein weiteres Beispiel Ihrer App\_Datenordner möglicherweise unerwartet gelöscht.</span><span class="sxs-lookup"><span data-stu-id="422b3-256">For another example, your App\_Data folder might get deleted unexpectedly.</span></span> <span data-ttu-id="422b3-257">Bestimmte Datenbanken wie z. B. SQL Server Compact-Datenbankdateien speichern, in der App\_Datenordner.</span><span class="sxs-lookup"><span data-stu-id="422b3-257">Certain databases such as SQL Server Compact store database files in the App\_Data folder.</span></span> <span data-ttu-id="422b3-258">Nach der ersten Bereitstellung möchte Sie nicht die Datenbankdateien in nachfolgenden Bereitstellungen kopiert beibehalten, sodass Sie ausschließen App auswählen,\_Daten auf der Registerkarte "Web packen/veröffentlichen". Nachdem Sie, dass nicht tun, wenn Sie entfernen weiterer Dateien am Ziel ausgewählt haben, die Datenbankdateien und die App\_Datenordner selbst werden gelöscht, wenn Sie das nächste Mal, die Sie veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="422b3-258">After the initial deployment you don't want to keep copying the database files in subsequent deployments so you select  Exclude App\_Data on the Package/Publish Web tab. After you do that, if you have Remove additional files at destination selected, your database files and the App\_Data folder itself will be deleted the next time you publish.</span></span>

### <a name="configure-deployment-for-the-membership-database"></a><span data-ttu-id="422b3-259">Konfigurieren der Bereitstellung für die Mitgliedschaftsdatenbank</span><span class="sxs-lookup"><span data-stu-id="422b3-259">Configure deployment for the membership database</span></span>

<span data-ttu-id="422b3-260">Die folgenden Schritte gelten für die **DefaultConnection** -Datenbank in die **Datenbanken** Abschnitt des Dialogfelds.</span><span class="sxs-lookup"><span data-stu-id="422b3-260">The following steps apply to the **DefaultConnection** database in the **Databases** section of the dialog box.</span></span>

1. <span data-ttu-id="422b3-261">In der **Remote Verbindungszeichenfolge** Geben Sie die folgende Verbindungszeichenfolge, die auf die neue SQL Server Express Mitgliedschaftsdatenbank verweist.</span><span class="sxs-lookup"><span data-stu-id="422b3-261">In the **Remote connection string** box, enter the following connection string that points to the new SQL Server Express membership database.</span></span>

    [!code-console[Main](deploying-to-iis/samples/sample3.cmd)]

    <span data-ttu-id="422b3-262">Der Bereitstellungsprozess wird diese Verbindungszeichenfolge in der bereitgestellten Datei "Web.config" versetzt, da **verwenden diese Verbindungszeichenfolge zur Laufzeit** ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="422b3-262">The deployment process will put this connection string in the deployed Web.config file because **Use this connection string at runtime** is selected.</span></span>

    <span data-ttu-id="422b3-263">Sie können auch abrufen die Verbindungszeichenfolge vom **Server-Explorer**.</span><span class="sxs-lookup"><span data-stu-id="422b3-263">You can also get the connection string from **Server Explorer**.</span></span> <span data-ttu-id="422b3-264">In **Server-Explorer**, erweitern Sie **Datenverbindungen** , und wählen Sie die  **&lt;Machinename&gt;\sqlexpress.aspnet-ContosoUniversity** Datenbank, klicken Sie dann aus der **Eigenschaften** Fenster Kopie der **Verbindungszeichenfolge** Wert.</span><span class="sxs-lookup"><span data-stu-id="422b3-264">In **Server Explorer**, expand **Data Connections** and select the **&lt;machinename&gt;\sqlexpress.aspnet-ContosoUniversity** database, then from the **Properties** window copy the **Connection String** value.</span></span> <span data-ttu-id="422b3-265">Dass die Verbindungszeichenfolge eine zusätzliche Einstellung verfügt, die Sie löschen können: `Pooling=False`.</span><span class="sxs-lookup"><span data-stu-id="422b3-265">That connection string will have one additional setting that you can delete: `Pooling=False`.</span></span>
2. <span data-ttu-id="422b3-266">Wählen Sie **Datenbank aktualisieren**.</span><span class="sxs-lookup"><span data-stu-id="422b3-266">Select **Update database**.</span></span>

    <span data-ttu-id="422b3-267">Dadurch wird das Datenbankschema in der Zieldatenbank, die während der Bereitstellung erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-267">This will cause the database schema to be created in the destination database during deployment.</span></span> <span data-ttu-id="422b3-268">In den folgenden Schritten Geben Sie die zusätzliche Skripts, die Sie ausführen müssen: eine Datenbank Zugriff auf den Standardanwendungspool und eins, um Daten bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="422b3-268">In the following steps you specify the additional scripts that you need to run: one to grant database access to the default application pool and one to deploy data.</span></span>
3. <span data-ttu-id="422b3-269">Klicken Sie auf **Datenbankupdates konfigurieren**.</span><span class="sxs-lookup"><span data-stu-id="422b3-269">Click **Configure database updates**.</span></span>
4. <span data-ttu-id="422b3-270">In der **Datenbankupdates konfigurieren** (Dialogfeld), klicken Sie auf **SQL-Skript hinzufügen** und navigieren Sie zu der *Grant.sql* Skript, das Sie zuvor im Projektmappenordner gespeichert.</span><span class="sxs-lookup"><span data-stu-id="422b3-270">In the **Configure Database Updates** dialog box, click **Add SQL Script** and then navigate to the *Grant.sql* script that you saved earlier in the solution folder.</span></span>
5. <span data-ttu-id="422b3-271">Wiederholen Sie den Vorgang zum Hinzufügen der *Aspnet-Daten-dev.sql* Skript.</span><span class="sxs-lookup"><span data-stu-id="422b3-271">Repeat the process to add the *aspnet-data-dev.sql* script.</span></span>

    ![Konfigurieren von Datenbank-Updates für die Mitgliedschaftsdatenbank](deploying-to-iis/_static/image16.png)
6. <span data-ttu-id="422b3-273">Klicken Sie auf **Schließen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-273">Click **Close**.</span></span>

### <a name="configure-deployment-for-the-application-database"></a><span data-ttu-id="422b3-274">Konfigurieren der Bereitstellung für die Datenbank der dienstanwendung</span><span class="sxs-lookup"><span data-stu-id="422b3-274">Configure deployment for the application database</span></span>

<span data-ttu-id="422b3-275">Wenn Visual Studio eine Entity Framework erkennt `DbContext` -Klasse, erstellt es einen Eintrag in der **Datenbanken** Abschnitt durch, ein **führen Sie Code First-Migrationen** Kontrollkästchen anstelle von einer  **Aktualisieren der Datenbank** Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="422b3-275">When Visual Studio detects an Entity Framework `DbContext` class, it creates an entry in the **Databases** section that has an **Execute Code First Migrations** check box instead of an **Update Database** check box.</span></span> <span data-ttu-id="422b3-276">Für dieses Lernprogramm verwenden Sie das Kontrollkästchen Code First-Migrationen Bereitstellung angeben.</span><span class="sxs-lookup"><span data-stu-id="422b3-276">For this tutorial you'll use that check box to specify Code First Migrations deployment.</span></span>

<span data-ttu-id="422b3-277">In einigen Szenarien möglicherweise verwenden Sie eine `DbContext` Datenbank, aber Sie DbDacFx-Anbieter anstelle Migrationen zu verwenden, um die Datenbank bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="422b3-277">In some scenarios, you might be using a `DbContext` database but you want to use the dbDacFx provider instead of Migrations to deploy the database.</span></span> <span data-ttu-id="422b3-278">In diesem Fall finden Sie unter [wie ich eine Code First Datenbank ohne Migrationen bereitstellen?](https://msdn.microsoft.com/library/ee942158.aspx#deploy_code_first_without_migrations) in der ASP.NET Web-Bereitstellung – häufig gestellte Fragen in MSDN.</span><span class="sxs-lookup"><span data-stu-id="422b3-278">In that case, see [How do I deploy a Code First database without Migrations?](https://msdn.microsoft.com/library/ee942158.aspx#deploy_code_first_without_migrations) in the ASP.NET Web Deployment FAQ on MSDN.</span></span>

<span data-ttu-id="422b3-279">Die folgenden Schritte gelten für die **SchoolContext** -Datenbank in die **Datenbanken** Abschnitt des Dialogfelds.</span><span class="sxs-lookup"><span data-stu-id="422b3-279">The following steps apply to the **SchoolContext** database in the **Databases** section of the dialog box.</span></span>

1. <span data-ttu-id="422b3-280">In der **Remote Verbindungszeichenfolge** Geben Sie die folgende Verbindungszeichenfolge, die auf die neue Datenbank für SQL Server Express-Anwendung verweist.</span><span class="sxs-lookup"><span data-stu-id="422b3-280">In the **Remote connection string** box, enter the following connection string that points to the new SQL Server Express application database.</span></span>

    [!code-console[Main](deploying-to-iis/samples/sample4.cmd)]

    <span data-ttu-id="422b3-281">Der Bereitstellungsprozess wird diese Verbindungszeichenfolge in der bereitgestellten Datei "Web.config" versetzt, da **verwenden diese Verbindungszeichenfolge zur Laufzeit** ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="422b3-281">The deployment process will put this connection string in the deployed Web.config file because **Use this connection string at runtime** is selected.</span></span>

    <span data-ttu-id="422b3-282">Sie erhalten auch die Verbindungszeichenfolge für die Anwendung von **Server-Explorer** Datenbankverbindungszeichenfolge für die gleiche Weise, die Sie erhalten die Mitgliedschaft haben.</span><span class="sxs-lookup"><span data-stu-id="422b3-282">You can also get the application database connection string from **Server Explorer** the same way you got the membership database connection string.</span></span>
2. <span data-ttu-id="422b3-283">Wählen Sie **führen Sie Code First-Migrationen (wird beim Anwendungsstart ausgeführt)**.</span><span class="sxs-lookup"><span data-stu-id="422b3-283">Select **Execute Code First Migrations (runs on application start)**.</span></span>

    <span data-ttu-id="422b3-284">Diese Option bewirkt, dass der Bereitstellungsprozess so konfigurieren Sie die bereitgestellte Datei "Web.config" Angeben der `MigrateDatabaseToLatestVersion` Initialisierer.</span><span class="sxs-lookup"><span data-stu-id="422b3-284">This option causes the deployment process to configure the deployed Web.config file to specify the `MigrateDatabaseToLatestVersion` initializer.</span></span> <span data-ttu-id="422b3-285">Diese Initialisierer aktualisiert die Datenbank automatisch auf die neueste Version, wenn die Anwendung Zugriff auf die Datenbank zum ersten Mal nach der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="422b3-285">This initializer automatically updates the database to the latest version when the application accesses the database for the first time after deployment.</span></span>

### <a name="configure-publish-profile-transforms"></a><span data-ttu-id="422b3-286">Konfigurieren von Transformationen Profil veröffentlichen</span><span class="sxs-lookup"><span data-stu-id="422b3-286">Configure publish profile transforms</span></span>

1. <span data-ttu-id="422b3-287">Klicken Sie auf **schließen**, und klicken Sie dann auf **Ja** Wenn werden Sie gefragt, ob Sie Änderungen speichern möchten.</span><span class="sxs-lookup"><span data-stu-id="422b3-287">Click **Close**, and then click **Yes** when you are asked if you want to save changes.</span></span>
2. <span data-ttu-id="422b3-288">In **Projektmappen-Explorer**, erweitern Sie **Eigenschaften**, erweitern Sie **PublishProfiles**.</span><span class="sxs-lookup"><span data-stu-id="422b3-288">In **Solution Explorer**, expand **Properties**, expand **PublishProfiles**.</span></span>
3. <span data-ttu-id="422b3-289">"Rright" Klick *Test.pubxml,* , und klicken Sie dann auf **Config Transformation hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-289">Rright-click *Test.pubxml,* and then click **Add Config Transform**.</span></span>

    ![Konfigurationstransformation-Menü "hinzufügen"](deploying-to-iis/_static/image17.png)

    <span data-ttu-id="422b3-291">Visual Studio erstellt die *Web.Test.config* Transform-Datei und öffnet diese.</span><span class="sxs-lookup"><span data-stu-id="422b3-291">Visual Studio creates the *Web.Test.config* transform file and opens it.</span></span>
4. <span data-ttu-id="422b3-292">In der *Web.Test.config* Transformationsdatei, fügen Sie den folgenden Code unmittelbar nach dem Öffnen Konfigurationstag.</span><span class="sxs-lookup"><span data-stu-id="422b3-292">In the *Web.Test.config* transform file, insert the following code immediately after the opening configuration tag.</span></span>

    [!code-xml[Main](deploying-to-iis/samples/sample5.xml)]

    <span data-ttu-id="422b3-293">Wenn Sie den Test verwenden Veröffentlichungsprofil, diese Transformation legt den Indikator Umgebung "Test".</span><span class="sxs-lookup"><span data-stu-id="422b3-293">When you use the Test publish profile, this transform sets the environment indicator to "Test".</span></span> <span data-ttu-id="422b3-294">In der bereitgestellten Website sehen Sie nach der "Contoso University" H1-Überschrift "(Test)".</span><span class="sxs-lookup"><span data-stu-id="422b3-294">In the deployed site you'll see "(Test)" after the "Contoso University" H1 heading.</span></span>
5. <span data-ttu-id="422b3-295">Speichern und schließen Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="422b3-295">Save and close the file.</span></span>
6. <span data-ttu-id="422b3-296">Mit der rechten Maustaste die *Web.Test.config* Datei, und klicken Sie auf **Vorschau transformieren** um sicherzustellen, dass die Transformation, die Sie codiert die erwartete Änderungen erzeugt.</span><span class="sxs-lookup"><span data-stu-id="422b3-296">Right-click the *Web.Test.config* file and click **Preview Transform** to make sure that the transform you coded produces the expected changes.</span></span>

    <span data-ttu-id="422b3-297">Die **"Web.config" Vorschau** Fenster zeigt das Ergebnis des Anwendens sowohl die *Web.Release.config* transformiert und die *Web.Test.config* transformiert.</span><span class="sxs-lookup"><span data-stu-id="422b3-297">The **Web.config Preview** window shows the result of applying both the *Web.Release.config* transforms and the *Web.Test.config* transforms.</span></span>

### <a name="preview-the-deployment-updates"></a><span data-ttu-id="422b3-298">Die Bereitstellungsupdates in der Vorschau anzeigen</span><span class="sxs-lookup"><span data-stu-id="422b3-298">Preview the deployment updates</span></span>

1. <span data-ttu-id="422b3-299">Öffnen der **Web veröffentlichen** Assistenten erneut aus (mit der rechten Maustaste des ContosoUniversity-Projekts, und klicken Sie auf **veröffentlichen**).</span><span class="sxs-lookup"><span data-stu-id="422b3-299">Open the **Publish Web** wizard again (right-click the ContosoUniversity project and click **Publish**).</span></span>
2. <span data-ttu-id="422b3-300">In der **Vorschau** Registerkarte, stellen Sie sicher, dass die **Test** Profil ist weiterhin aktiviert, und klicken Sie dann auf **starten Preview** um eine Liste der Dateien anzuzeigen, die kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-300">In the **Preview** tab, make sure that the **Test** profile is still selected, and then click **Start Preview** to see a list of the files that will be copied.</span></span>

    ![Schaltfläche "Vorschau"](deploying-to-iis/_static/image18.png)

    ![Veröffentlichungsvorschau](deploying-to-iis/_static/image19.png)

    <span data-ttu-id="422b3-303">Sie können auch klicken Sie auf die **vorschaudatenbank** Link, um die Skripts anzuzeigen, die in der Mitgliedschaftsdatenbank ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-303">You can also click the **Preview database** link to see the scripts that will run in the membership database.</span></span> <span data-ttu-id="422b3-304">(Keine Skripts werden für die Bereitstellung von Code First-Migrationen ausgeführt, sodass es nichts zum für die Datenbank der dienstanwendung in der Vorschau anzeigen ist.)</span><span class="sxs-lookup"><span data-stu-id="422b3-304">(No scripts are run for Code First Migrations deployment, so there is nothing to preview for the application database.)</span></span>
3. <span data-ttu-id="422b3-305">Klicken Sie auf **Veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="422b3-305">Click **Publish**.</span></span>

    <span data-ttu-id="422b3-306">Wenn Visual Studio nicht im Administratormodus ist, erhalten Sie möglicherweise eine Fehlermeldung angezeigt, die einen Berechtigungsfehler angibt.</span><span class="sxs-lookup"><span data-stu-id="422b3-306">If Visual Studio is not in administrator mode, you might get an error message that indicates a permissions error.</span></span> <span data-ttu-id="422b3-307">In diesem Fall schließen Sie Visual Studio, öffnen Sie es im Administratormodus und versuchen Sie, erneut zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="422b3-307">In that case, close Visual Studio, open it in administrator mode, and try to publish again.</span></span>

    <span data-ttu-id="422b3-308">Wenn Visual Studio im Administratormodus, ist die **Ausgabe** Fenster Berichte erfolgreich erstellen und veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="422b3-308">If Visual Studio is in administrator mode, the **Output** window reports successful build and publish.</span></span>

    ![Output_window_publish_Test](deploying-to-iis/_static/image20.png)

    <span data-ttu-id="422b3-310">Wenn Sie die URL im eingegeben haben die **Ziel-URL** auf dem Veröffentlichungsprofil ein **Verbindung** Registerkarte Browser automatisch geöffnet wird, die Contoso University-Startseite in IIS auf dem lokalen Computer ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="422b3-310">If you entered the URL in the **Destination URL** box on the publish profile **Connection** tab, the browser automatically opens to the Contoso University Home page running in IIS on the local computer.</span></span>

## <a name="test-in-the-test-environment"></a><span data-ttu-id="422b3-311">In der testumgebung zu testen</span><span class="sxs-lookup"><span data-stu-id="422b3-311">Test in the test environment</span></span>

<span data-ttu-id="422b3-312">Beachten Sie, dass der Indikator für die Umgebung "(Test)" zeigt anstelle von "(Dev)", die zeigt, dass die *"Web.config"* Transformation für den Indikator für die Umgebung erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="422b3-312">Notice that the environment indicator shows "(Test)" instead of "(Dev)", which shows that the *Web.config* transformation for the environment indicator was successful.</span></span>

<span data-ttu-id="422b3-313">Führen Sie die **Lehrkräfte** Seite, um sicherzustellen, dass Code First der Datenbank mit Instructor-Daten mit Anfangsdaten gefüllt.</span><span class="sxs-lookup"><span data-stu-id="422b3-313">Run the **Instructors** page to verify that Code First seeded the database with instructor data.</span></span> <span data-ttu-id="422b3-314">Wenn Sie diese Seite auswählen, dauert möglicherweise einige Minuten, bis die geladen werden, da der Code First erstellt die Datenbank und führt dann die `Seed` Methode.</span><span class="sxs-lookup"><span data-stu-id="422b3-314">When you select this page, it may take a few minutes to load because Code First creates the database and then runs the `Seed` method.</span></span> <span data-ttu-id="422b3-315">(sie haben nicht, die ausgeführt werden, wenn Sie auf der Startseite waren, weil die Anwendung versucht hat nicht, Zugriff auf die Datenbank noch.)</span><span class="sxs-lookup"><span data-stu-id="422b3-315">(It didn't do that when you were on the home page because the application didn't try to access the database yet.)</span></span>

<span data-ttu-id="422b3-316">Klicken Sie auf die **Studenten** Registerkarte ", um sicherzustellen, dass die bereitgestellte Datenbank kein Studenten hat.</span><span class="sxs-lookup"><span data-stu-id="422b3-316">Click the **Students** tab to verify that the deployed database has no students.</span></span>

<span data-ttu-id="422b3-317">Wählen Sie **Studenten hinzufügen** aus der **Studenten** Menü eine Student hinzufügen, und zeigen Sie die neue Studenten in die **Studenten** Seite, um sicherzustellen, dass Sie erfolgreich in die Datenbank geschrieben werden können .</span><span class="sxs-lookup"><span data-stu-id="422b3-317">Select **Add Students** from the **Students** menu, add a student, and then view the new student in the **Students** page to verify that you can successfully write to the database.</span></span>

<span data-ttu-id="422b3-318">Aus der **Kurse** klicken Sie im Menü **Update Gutschriften**.</span><span class="sxs-lookup"><span data-stu-id="422b3-318">From the **Courses** menu, select **Update Credits**.</span></span> <span data-ttu-id="422b3-319">Die **Update Gutschriften** Seite erfordert Administratorberechtigungen vorhanden sind, sodass der **anmelden** angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="422b3-319">The **Update Credits** page requires administrator permissions, so the **Log In** page is displayed.</span></span> <span data-ttu-id="422b3-320">Geben Sie die Anmeldeinformationen des Administratorkontos, die Sie früher ("Admin" und "Devpwd") erstellt.</span><span class="sxs-lookup"><span data-stu-id="422b3-320">Enter the administrator account credentials that you created earlier ("admin" and "devpwd").</span></span> <span data-ttu-id="422b3-321">Die **Update Gutschriften** Seite wird angezeigt, die überprüft, ob das Administratorkonto, das Sie im vorherigen Lernprogramm erstellt ordnungsgemäß in der testumgebung bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="422b3-321">The **Update Credits** page is displayed, which verifies that the administrator account that you created in the previous tutorial was correctly deployed to the test environment.</span></span>

<span data-ttu-id="422b3-322">Überprüfen Sie, ob ein *Elmah* Ordner vorhanden ist, der *c:\inetpub\wwwroot\ContosoUniversity* mit nur die Platzhalterdatei in diesem Ordner.</span><span class="sxs-lookup"><span data-stu-id="422b3-322">Verify that an *Elmah* folder exists in the *c:\inetpub\wwwroot\ContosoUniversity* folder with only the placeholder file in it.</span></span>

<a id="reviewingmigrations"></a>

## <a name="review-the-automatic-webconfig-changes-for-code-first-migrations"></a><span data-ttu-id="422b3-323">Überprüfen Sie die automatischen Änderungen von "Web.config" für die Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="422b3-323">Review the automatic Web.config changes for Code First Migrations</span></span>

<span data-ttu-id="422b3-324">Öffnen der *"Web.config"* -Datei in der bereitgestellten Anwendung auf *C:\inetpub\wwwroot\ContosoUniversity* sehen Sie, auf dem der Bereitstellungsprozess Code First-Migrationen zu automatisch konfiguriert Aktualisieren Sie die Datenbank, auf die neueste Version.</span><span class="sxs-lookup"><span data-stu-id="422b3-324">Open the *Web.config* file in the deployed application at *C:\inetpub\wwwroot\ContosoUniversity* and you can see where the deployment process configured Code First Migrations to automatically update the database to the latest version.</span></span>

![](deploying-to-iis/_static/image21.png)

<span data-ttu-id="422b3-325">Der Bereitstellungsprozess erstellt auch eine neue Verbindungszeichenfolge für die Code First-Migrationen verwenden ausschließlich für das Datenbankschema zu aktualisieren:</span><span class="sxs-lookup"><span data-stu-id="422b3-325">The deployment process also created a new connection string for Code First Migrations to use exclusively for updating the database schema:</span></span>

![Database_Publish-Verbindungszeichenfolge](deploying-to-iis/_static/image22.png)

<span data-ttu-id="422b3-327">Diese zusätzliche Verbindungszeichenfolge können Sie ein Benutzerkonto für Datenbank-Schema-Updates und ein anderes Benutzerkonto für den Datenzugriff für die Anwendung angeben.</span><span class="sxs-lookup"><span data-stu-id="422b3-327">This additional connection string enables you to specify one user account for database schema updates, and a different user account for application data access.</span></span> <span data-ttu-id="422b3-328">Sie könnten z. B. Zuweisen der **Db\_Besitzer** Rolle Code First-Migrationen und **Db\_Datareader** und **Db\_Datawriter**Rollen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="422b3-328">For example, you could assign the **db\_owner** role to Code First Migrations, and **db\_datareader** and **db\_datawriter** roles to the application.</span></span> <span data-ttu-id="422b3-329">Dies ist ein allgemeines Verteidigung Muster, das verhindert, potenziell bösartigen Code in der Anwendung dass über das Datenbankschema zu ändern.</span><span class="sxs-lookup"><span data-stu-id="422b3-329">This is a common defense-in-depth pattern that prevents potentially malicious code in the application from changing the database schema.</span></span> <span data-ttu-id="422b3-330">(Beispielsweise kann dies auf einen erfolgreichen SQL Injection-Angriff vorkommen.) Dieses Muster wird nicht von diesen Lernprogrammen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="422b3-330">(For example, this might happen in a successful SQL injection attack.) This pattern is not used by these tutorials.</span></span> <span data-ttu-id="422b3-331">Wenn Sie dieses Muster in Ihrem Szenario implementieren möchten, können Sie dies tun, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="422b3-331">If you want to implement this pattern in your scenario, you can do it by performing the following steps:</span></span>

1. <span data-ttu-id="422b3-332">In der **Einstellungen** auf der Registerkarte die **Web veröffentlichen** -Assistenten geben Sie die Verbindungszeichenfolge, die ein Benutzer mit vollständigen Berechtigungen zum Aktualisieren Schema gibt an, und Deaktivieren der **diese Verbindungszeichenfolge verwenden zur Laufzeit** Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="422b3-332">In the **Settings** tab of the **Publish Web** wizard, enter the connection string that specifies a user with full database schema update permissions, and clear the **Use this connection string at runtime** check box.</span></span> <span data-ttu-id="422b3-333">In der bereitgestellten Datei "Web.config" Dies ist die `DatabasePublish` Verbindungszeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="422b3-333">In the deployed Web.config file, this becomes the `DatabasePublish` connection string.</span></span>
2. <span data-ttu-id="422b3-334">Erstellen Sie eine Web.config-Datei-Transformation für die Verbindungszeichenfolge, die die Anwendung zur Laufzeit verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="422b3-334">Create a Web.config file transformation for the connection string that you want the application to use at run time.</span></span>

## <a name="summary"></a><span data-ttu-id="422b3-335">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="422b3-335">Summary</span></span>

<span data-ttu-id="422b3-336">Sie haben jetzt Ihre Anwendung in IIS auf dem Entwicklungscomputer bereitgestellt und es getestet.</span><span class="sxs-lookup"><span data-stu-id="422b3-336">You have now deployed your application to IIS on your development computer and tested it there.</span></span>

![Startseite im Test](deploying-to-iis/_static/image23.png)

<span data-ttu-id="422b3-338">Dies stellt sicher, dass der Bereitstellungsprozess Inhalt der Anwendung auf den richtigen Speicherort kopiert (mit Ausnahme der Dateien, die Sie nicht bereitstellen möchten), und auch, Web Deploy IIS ordnungsgemäß während der Bereitstellung konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="422b3-338">This verifies that the deployment process copied the application's content to the right location (excluding the files that you did not want to deploy), and also that Web Deploy configured IIS correctly during deployment.</span></span> <span data-ttu-id="422b3-339">In den nächsten Lernprogrammen, führen Sie eine weitere Tests, die eine Bereitstellungsaufgabe findet, die noch nicht durchgeführt: Festlegen von Berechtigungen für Ordner für die *Elmah* Ordner.</span><span class="sxs-lookup"><span data-stu-id="422b3-339">In the next tutorial, you'll run one more test that finds a deployment task that has not yet been done: setting folder permissions on the *Elmah* folder.</span></span>

## <a name="more-information"></a><span data-ttu-id="422b3-340">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="422b3-340">More information</span></span>

<span data-ttu-id="422b3-341">Informationen zum Ausführen von IIS oder IIS Express in Visual Studio finden Sie unter den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="422b3-341">For information about running IIS or IIS Express in Visual Studio, see the following resources:</span></span>

- <span data-ttu-id="422b3-342">[Übersicht über IIS Express](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) auf der Website IIS.net.</span><span class="sxs-lookup"><span data-stu-id="422b3-342">[IIS Express Overview](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) on the IIS.net site.</span></span>
- <span data-ttu-id="422b3-343">[Einführung in IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) Scott Guthries Blog.</span><span class="sxs-lookup"><span data-stu-id="422b3-343">[Introducing IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) on Scott Guthrie's blog.</span></span>
- <span data-ttu-id="422b3-344">[Webserver in Visual Studio für ASP.NET-Webprojekte](https://msdn.microsoft.com/library/58wxa9w5.aspx).</span><span class="sxs-lookup"><span data-stu-id="422b3-344">[Web Servers in Visual Studio for ASP.NET Web Projects](https://msdn.microsoft.com/library/58wxa9w5.aspx).</span></span>
- <span data-ttu-id="422b3-345">[Unterschiede zwischen IIS und ASP.NET Development Server Core](../../older-versions-getting-started/deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) auf der ASP.NET-Website.</span><span class="sxs-lookup"><span data-stu-id="422b3-345">[Core Differences Between IIS and the ASP.NET Development Server](../../older-versions-getting-started/deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) on the ASP.NET site.</span></span>

<span data-ttu-id="422b3-346">Informationen darüber, welche Probleme auftreten kann, wenn Ihre Anwendung in mittlerer Vertrauenswürdigkeit ausgeführt wird, finden Sie unter [Hosten von ASP.NET-Anwendungen im mittlere Vertrauensebene](http://www.4guysfromrolla.com/articles/100307-1.aspx) auf die 4 Guys von Rolla-Website.</span><span class="sxs-lookup"><span data-stu-id="422b3-346">For information about what issues might arise when your application runs in medium trust, see [Hosting ASP.NET Applications in Medium Trust](http://www.4guysfromrolla.com/articles/100307-1.aspx) on the 4 Guys from Rolla site.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="422b3-347">[Zurück](project-properties.md)
> [Weiter](setting-folder-permissions.md)</span><span class="sxs-lookup"><span data-stu-id="422b3-347">[Previous](project-properties.md)
[Next](setting-folder-permissions.md)</span></span>
