---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: "Eine Übersicht über einfügen, aktualisieren und Löschen von Daten (c#) | Microsoft Docs"
author: rick-anderson
description: In diesem Lernprogramm sehen wir, wie ein ObjectDataSource Insert(), Update(), zugeordnet und Delete()-Methoden, um die Methoden der BLL Klassen sowie zur Configu...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: e483c37cc773a7255f18c26bc3609d68f71dff7d
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2018
---
<a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="6f968-103">Eine Übersicht über einfügen, aktualisieren und Löschen von Daten (c#)</span><span class="sxs-lookup"><span data-stu-id="6f968-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>
====================
<span data-ttu-id="6f968-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="6f968-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="6f968-105">[Beispiel-App herunterladen](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) oder [PDF herunterladen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="6f968-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="6f968-106">In diesem Lernprogramm sehen wir ein ObjectDataSource Insert(), Update(), zuordnen und Delete()-Methoden, um die Methoden der BLL-Klassen sowie zum Konfigurieren der GridView, DetailsView und FormView-Steuerelemente zum Bereitstellen von Möglichkeiten zur Datenänderung.</span><span class="sxs-lookup"><span data-stu-id="6f968-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>


## <a name="introduction"></a><span data-ttu-id="6f968-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="6f968-107">Introduction</span></span>

<span data-ttu-id="6f968-108">Über die letzten mehrere Lernprogramme haben wir die Vorgehensweise beim Anzeigen von Daten auf einer ASP.NET-Seite mit den Steuerelementen GridView, DetailsView und FormView untersucht.</span><span class="sxs-lookup"><span data-stu-id="6f968-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="6f968-109">Diese Steuerelemente arbeiten einfach mit Daten, die bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="6f968-110">In der Regel auf diese Steuerelemente Daten durch die Verwendung von ein Datenquellen-Steuerelement, z. B. das ObjectDataSource zugreifen.</span><span class="sxs-lookup"><span data-stu-id="6f968-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="6f968-111">Wir haben gesehen, wie das ObjectDataSource als Proxy zwischen der ASP.NET-Seite und der zugrunde liegende Verfahren werden soll.</span><span class="sxs-lookup"><span data-stu-id="6f968-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="6f968-112">Wenn eine GridView zum Anzeigen von Daten muss, ruft seine ObjectDataSource `Select()` -Methode, die wiederum eine Methode aus unserer Business Logic Layer (BLL) aufruft, der eine Methode aufgerufen wird, in der entsprechenden Data Access Layer (DAL) TableAdapter, die wiederum sendet eine `SELECT` Abfrage mit der Datenbank Northwind.</span><span class="sxs-lookup"><span data-stu-id="6f968-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="6f968-113">Bedenken Sie, dass, wenn wir die TableAdapters in der DAL in erstellt [unseren ersten Lernprogramm](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatisch hinzugefügt, Methoden zum Einfügen, aktualisieren und Löschen von Daten aus der zugrunde liegenden Datenbanktabelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="6f968-114">Darüber hinaus in [erstellen eine Geschäftslogikschicht](../introduction/creating-a-business-logic-layer-cs.md) wir Methoden in der BLL, die aufgerufen wird, nach unten in dieser Änderung DAL Datenmethoden entworfen.</span><span class="sxs-lookup"><span data-stu-id="6f968-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="6f968-115">Zusätzlich zu seiner `Select()` -Methode, die ObjectDataSource verfügt auch über `Insert()`, `Update()`, und `Delete()` Methoden.</span><span class="sxs-lookup"><span data-stu-id="6f968-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="6f968-116">Wie die `Select()` -Methode, diese drei Methoden, die an Methoden in ein zugrunde liegendes Objekt zugeordnet werden können.</span><span class="sxs-lookup"><span data-stu-id="6f968-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="6f968-117">Wenn einfügen, aktualisieren oder Löschen von Daten konfiguriert, wird eine Benutzeroberfläche GridView, DetailsView und FormView zum Ändern der zugrunde liegenden Daten bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6f968-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="6f968-118">Diese Benutzeroberfläche ruft die `Insert()`, `Update()`, und `Delete()` das ObjectDataSource-Methoden, die Sie dann das zugrunde liegende Objekt aufrufen zugeordnete Methoden (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="6f968-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>


<span data-ttu-id="6f968-119">[![Das ObjectDataSource Insert() Update() und Delete() Methoden dienen als Proxy in der BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-119">[![The ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="6f968-120">**Abbildung 1**: das ObjectDataSource `Insert()`, `Update()`, und `Delete()` Methoden dienen als Proxy in der BLL ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>


<span data-ttu-id="6f968-121">In diesem Lernprogramm sehen wir, wie das ObjectDataSource zugeordnet `Insert()`, `Update()`, und `Delete()` -Methoden den Methoden der Klassen in der BLL sowie zum Konfigurieren der GridView, DetailsView und FormView-Steuerelemente zum Bereitstellen der Änderung von Daten Funktionen.</span><span class="sxs-lookup"><span data-stu-id="6f968-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="6f968-122">Schritt 1: Erstellen der INSERT-, Update- und Delete-Lernprogramme Webseiten</span><span class="sxs-lookup"><span data-stu-id="6f968-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="6f968-123">Bevor wir beginnen, wie einfügen, aktualisieren und Löschen von Daten zu untersuchen, zunächst werfen wir einen Moment Zeit, die ASP.NET-Seiten in unserer Websiteprojekt zu erstellen, die wir für dieses Lernprogramm und weiter mehrere diejenigen benötigen.</span><span class="sxs-lookup"><span data-stu-id="6f968-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="6f968-124">Starten, indem Sie einen neuen Ordner namens `EditInsertDelete`.</span><span class="sxs-lookup"><span data-stu-id="6f968-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="6f968-125">Fügen Sie die folgenden ASP.NET-Seiten in diesen Ordner, und dabei sicherstellen, ordnen Sie jede Seite mit den `Site.master` Gestaltungsvorlage:</span><span class="sxs-lookup"><span data-stu-id="6f968-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`


![Fügen Sie die ASP.NET-Seiten für die Änderung bezogenen Daten-Lernprogramme](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="6f968-127">**Abbildung 2**: Fügen Sie die ASP.NET-Seiten für die Änderung bezogenen Daten-Lernprogramme</span><span class="sxs-lookup"><span data-stu-id="6f968-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>


<span data-ttu-id="6f968-128">Wie in den anderen Ordnern `Default.aspx` in den `EditInsertDelete` Ordner werden die Lernprogramme in einem Abschnitt aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="6f968-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="6f968-129">Bedenken Sie, dass die `SectionLevelTutorialListing.ascx` Benutzersteuerelement stellt diese Funktionalität bereit.</span><span class="sxs-lookup"><span data-stu-id="6f968-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="6f968-130">Aus diesem Grund Hinzufügen dieses Benutzersteuerelement zu `Default.aspx` durch Ziehen aus dem Projektmappen-Explorer auf der Seite Entwurfsansicht.</span><span class="sxs-lookup"><span data-stu-id="6f968-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>


<span data-ttu-id="6f968-131">[![Das Benutzersteuerelement SectionLevelTutorialListing.ascx "default.aspx" hinzufügen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-131">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="6f968-132">**Abbildung 3**: Hinzufügen der `SectionLevelTutorialListing.ascx` Benutzersteuerelement `Default.aspx` ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>


<span data-ttu-id="6f968-133">Fügen Sie abschließend die Seiten hinzu, als Einträge an die `Web.sitemap` Datei.</span><span class="sxs-lookup"><span data-stu-id="6f968-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="6f968-134">Fügen Sie das folgende Markup insbesondere nach der Formatierung angepasst `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="6f968-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>


[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="6f968-135">Nach der Aktualisierung `Web.sitemap`, nehmen einen Moment Zeit, um die Lernprogramme-Website über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6f968-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="6f968-136">Klicken Sie im Menü auf der linken Seite enthält nun Elemente für die Bearbeitung, einfügen und Löschen von Lernprogramme.</span><span class="sxs-lookup"><span data-stu-id="6f968-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![Die Siteübersicht enthält nun die Einträge für die Bearbeitung, einfügen und Löschen von Lernprogrammen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="6f968-138">**Abbildung 4**: die Siteübersicht enthält jetzt die Einträge für die Bearbeitung, einfügen und Löschen von Lernprogrammen</span><span class="sxs-lookup"><span data-stu-id="6f968-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>


## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="6f968-139">Schritt 2: Hinzufügen und konfigurieren das ObjectDataSource-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="6f968-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="6f968-140">Seit der GridView, DetailsView und FormView jedes unterscheiden sich in ihre Möglichkeiten zur Datenänderung und das Layout, sehen wir uns jeweils einzeln.</span><span class="sxs-lookup"><span data-stu-id="6f968-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="6f968-141">Anstatt jedes Steuerelement, das über einen eigenen ObjectDataSource nutzen zu können, jedoch nur erstellen wir einen einzelnen ObjectDataSource, die alle drei Beispiele für freigeben können.</span><span class="sxs-lookup"><span data-stu-id="6f968-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="6f968-142">Öffnen der `Basics.aspx` Seite, ein ObjectDataSource aus der Toolbox in den Designer ziehen und klicken Sie auf die Datenquelle konfigurieren-Verknüpfung zwischen der Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6f968-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="6f968-143">Da die `ProductsBLL` ist die einzige BLL-Klasse, die bereitstellt, bearbeiten, einfügen und Löschen von Methoden, konfigurieren das ObjectDataSource zur Verwendung dieser Klasse.</span><span class="sxs-lookup"><span data-stu-id="6f968-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>


<span data-ttu-id="6f968-144">[![Konfigurieren der ObjectDataSource zur Verwendung der ProductsBLL-Klasse](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-144">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="6f968-145">**Abbildung 5**: Konfigurieren der ObjectDataSource verwenden die `ProductsBLL` Klasse ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>


<span data-ttu-id="6f968-146">Im nächsten Bildschirm können wir angeben, welche Methoden der der `ProductsBLL` Klasse zugeordnet sind, um das ObjectDataSource `Select()`, `Insert()`, `Update()`, und `Delete()` durch die entsprechende Registerkarte auswählen und die Methode aus der Dropdown-Liste.</span><span class="sxs-lookup"><span data-stu-id="6f968-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="6f968-147">Abbildung 6: der sollte jetzt vertraut aussehen, ordnet das ObjectDataSource `Select()` Methode, um die `ProductsBLL` Klasse `GetProducts()` Methode.</span><span class="sxs-lookup"><span data-stu-id="6f968-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="6f968-148">Die `Insert()`, `Update()`, und `Delete()` Methoden können konfiguriert werden, indem Sie die entsprechende Registerkarte aus der Liste am oberen Rand auswählen.</span><span class="sxs-lookup"><span data-stu-id="6f968-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>


<span data-ttu-id="6f968-149">[![Haben die ObjectDataSource Zurückgeben aller Produkte](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-149">[![Have the ObjectDataSource Return All of the Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="6f968-150">**Abbildung 6**: das ObjectDataSource Zurückgeben aller Produkte haben ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>


<span data-ttu-id="6f968-151">Abbildung 7, 8 und 9 die ObjectDataSource Update-, INSERT- und DELETE anzeigen Registerkarten.</span><span class="sxs-lookup"><span data-stu-id="6f968-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="6f968-152">Konfigurieren Sie auf diesen Registerkarten, damit die `Insert()`, `Update()`, und `Delete()` Methoden aufrufen, die `ProductsBLL` Klasse `UpdateProduct`, `AddProduct`, und `DeleteProduct` Methoden, bzw.</span><span class="sxs-lookup"><span data-stu-id="6f968-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>


<span data-ttu-id="6f968-153">[![Die ProductBLL Klassenmethode UpdateProduct Zuordnen der ObjectDataSource Update()-Methode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-153">[![Map the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="6f968-154">**Abbildung 7**: Zuordnen der ObjectDataSource `Update()` Methode, um die `ProductBLL` Klasse `UpdateProduct` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>


<span data-ttu-id="6f968-155">[![Die ProductBLL Klassenmethode AddProduct Zuordnen der ObjectDataSource Insert()-Methode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-155">[![Map the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="6f968-156">**Abbildung 8**: Zuordnen der ObjectDataSource `Insert()` Methode, um die `ProductBLL` Klasse hinzufügen `Product` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>


<span data-ttu-id="6f968-157">[![Die ProductBLL Klassenmethode DeleteProduct Zuordnen der ObjectDataSource Delete()-Methode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-157">[![Map the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="6f968-158">**Abbildung 9**: Zuordnen der ObjectDataSource `Delete()` Methode, um die `ProductBLL` Klasse `DeleteProduct` Methode ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>


<span data-ttu-id="6f968-159">Möglicherweise haben Sie bemerkt, dass die Dropdownlisten auf den Registerkarten Update-, INSERT- und DELETE diese Methoden ausgewählt bereits.</span><span class="sxs-lookup"><span data-stu-id="6f968-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="6f968-160">Dies ist aufgrund der Verwendung von der `DataObjectMethodAttribute` , die die Methoden der ergänzt `ProducstBLL`.</span><span class="sxs-lookup"><span data-stu-id="6f968-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProducstBLL`.</span></span> <span data-ttu-id="6f968-161">Die Methode DeleteProduct hat z. B. die folgende Signatur:</span><span class="sxs-lookup"><span data-stu-id="6f968-161">For example, the DeleteProduct method has the following signature:</span></span>


[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="6f968-162">Die `DataObjectMethodAttribute` Attribut überprüfen, ob den Zweck der einzelnen Methoden ist für auswählen, einfügen, aktualisieren oder löschen und davon, ob es der Standardwert ist.</span><span class="sxs-lookup"><span data-stu-id="6f968-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="6f968-163">Wenn Sie diese Attribute ausgelassen, wenn Sie BLL Klassen erstellen, müssen Sie das UPDATE manuell die Methoden aus einfügen, und Registerkarten löschen.</span><span class="sxs-lookup"><span data-stu-id="6f968-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="6f968-164">Nachdem sichergestellt wurde, dass die entsprechenden `ProductsBLL` Methoden werden zugeordnet, das ObjectDataSource `Insert()`, `Update()`, und `Delete()` Methoden, klicken Sie auf ' Fertig stellen ', um den Assistenten abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="6f968-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="6f968-165">Untersuchen das ObjectDataSource-Markup</span><span class="sxs-lookup"><span data-stu-id="6f968-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="6f968-166">Nach dem Konfigurieren der ObjectDataSource über den Assistenten an, wechseln Sie zur Quellansicht der generierten deklarative Markup zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="6f968-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="6f968-167">Die `<asp:ObjectDataSource>` -Tag gibt an, das zugrunde liegende Objekt und die Methoden zum Aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6f968-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="6f968-168">Darüber hinaus stehen `DeleteParameters`, `UpdateParameters`, und `InsertParameters` zuordnen, die die Eingabeparameter für das `ProductsBLL` Klasse `AddProduct`, `UpdateProduct`, und `DeleteProduct` Methoden:</span><span class="sxs-lookup"><span data-stu-id="6f968-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="6f968-169">Das ObjectDataSource enthält einen Parameter für jede der Eingabeparameter für die zugeordneten Methoden, wie eine Liste der `SelectParameter` s ist vorhanden, wenn eine select-Methode aufrufen, die einen Eingabeparameter erwartet das ObjectDataSource konfiguriert ist (z. B. `GetProductsByCategoryID(categoryID)`).</span><span class="sxs-lookup"><span data-stu-id="6f968-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="6f968-170">Eingehendem in Kürze, Werte für diese `DeleteParameters`, `UpdateParameters`, und `InsertParameters` werden automatisch durch die GridView, DetailsView und FormView festgelegt, vor dem Aufrufen der ObjectDataSource `Insert()`, `Update()`, oder `Delete()` Methode.</span><span class="sxs-lookup"><span data-stu-id="6f968-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="6f968-171">Diese Werte können auch bei Bedarf programmgesteuert festgelegt werden, wie in einem späteren Lernprogramm erläutert.</span><span class="sxs-lookup"><span data-stu-id="6f968-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="6f968-172">Der mithilfe des Assistenten zum Konfigurieren von ObjectDataSource Nebeneffekt ist, Visual Studio legt die [OldValuesParameterFormatString Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) auf `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="6f968-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="6f968-173">Dieser Eigenschaftswert wird verwendet, um die ursprünglichen Werte eines bearbeiteten Daten enthalten und ist in zwei Szenarien hilfreich:</span><span class="sxs-lookup"><span data-stu-id="6f968-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="6f968-174">Wenn bei der Bearbeitung eines Datensatzes Benutzer den Primärschlüsselwert ändern können.</span><span class="sxs-lookup"><span data-stu-id="6f968-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="6f968-175">In diesem Fall müssen dem neuen Primärschlüsselwert und den ursprünglichen primären Schlüsselwert angegeben werden, damit der Datensatz mit dem ursprünglichen primären Schlüsselwert gefunden werden und deren Wert entsprechend aktualisiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="6f968-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="6f968-176">Wenn die vollständigen Parallelität verwenden.</span><span class="sxs-lookup"><span data-stu-id="6f968-176">When using optimistic concurrency.</span></span> <span data-ttu-id="6f968-177">Optimistische Parallelität eine Technik, um sicherzustellen, dass zwei ist gleichzeitige Benutzern nicht die jeweiligen Änderungen überschreiben und ist das Thema für einen späteren Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="6f968-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="6f968-178">Die `OldValuesParameterFormatString` Eigenschaft gibt den Namen der Eingabeparameter in das zugrunde liegende Objekt Update und Delete-Methoden für die ursprünglichen Werte.</span><span class="sxs-lookup"><span data-stu-id="6f968-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="6f968-179">Erläutert diese Eigenschaft und ihren Zweck ausführlicher beim untersucht, vollständigen Parallelität.</span><span class="sxs-lookup"><span data-stu-id="6f968-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="6f968-180">Ich schalten Sie ihn sich jetzt jedoch daran, dass unsere BLL Methoden nicht, die ursprünglichen Werten erwarten und daher es wichtig ist, dass wir diese Eigenschaft entfernen.</span><span class="sxs-lookup"><span data-stu-id="6f968-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="6f968-181">Verlassen der `OldValuesParameterFormatString` -Eigenschaft auf einen anderen als den Standardwert festgelegt (`{0}`) verursacht einen Fehler, wenn ein Daten-Websteuerelement versucht das ObjectDataSource aufzurufenden `Update()` oder `Delete()` Methoden, da das ObjectDataSource wird Um beide zu übergeben versuchen die `UpdateParameters` oder `DeleteParameters` sowie den ursprünglichen Werteparameter angegeben.</span><span class="sxs-lookup"><span data-stu-id="6f968-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="6f968-182">Wenn dies in diesem Zusammenhang sehr klare enthalten ist, wird keine Sorge, untersucht, diese Eigenschaft und Nützlichkeit in einem späteren Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="6f968-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="6f968-183">Vorerst nur sichergestellt sein, entfernen diese Eigenschaftendeklaration vollständig von deklarativer Syntax oder legen Sie den Wert auf den Standardwert ({0}).</span><span class="sxs-lookup"><span data-stu-id="6f968-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="6f968-184">Wenn Sie einfach löschen, die `OldValuesParameterFormatString` Eigenschaftswert im Eigenschaftenfenster in der Entwurfsansicht die Eigenschaft in der deklarativen Syntax auch weiterhin vorhanden, jedoch auf eine leere Zeichenfolge festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="6f968-185">Hierzu leider führt weiterhin das gleiche Problem weiter oben erläuterten.</span><span class="sxs-lookup"><span data-stu-id="6f968-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="6f968-186">Daher entfernen Sie entweder die Eigenschaft vollständig vom deklarative Syntax oder über das Eigenschaftenfenster, legen Sie den Wert auf den Standardwert `{0}`.</span><span class="sxs-lookup"><span data-stu-id="6f968-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>


## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="6f968-187">Schritt 3: Hinzufügen eines Daten-Web-Steuerelements und seiner Konfiguration für die Änderung von Daten</span><span class="sxs-lookup"><span data-stu-id="6f968-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="6f968-188">Nachdem das ObjectDataSource zur Seite hinzugefügt und konfiguriert wurde, können wir fügen Sie Daten Websteuerelemente zur Seite, um sowohl die Daten anzuzeigen, und bieten eine Möglichkeit für den Endbenutzer, diese zu ändern.</span><span class="sxs-lookup"><span data-stu-id="6f968-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="6f968-189">Sehen wir uns die GridView, DetailsView und FormView getrennt, wie ihre Möglichkeiten zur Datenänderung und Konfiguration dieser Daten-Websteuerelemente unterschiedlich sind.</span><span class="sxs-lookup"><span data-stu-id="6f968-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="6f968-190">Wir sehen uns im weiteren Verlauf dieses Artikels sehr einfachen bearbeiten, einfügen und löschen die Unterstützung durch die GridView, DetailsView, hinzufügen und Steuerelemente FormView ist wirklich einfach eine Reihe von Kontrollkästchen aktivieren.</span><span class="sxs-lookup"><span data-stu-id="6f968-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="6f968-191">Es gibt viele Besonderheiten und Grenzfälle in der Praxis, die solche Funktionen, die komplizierter als einfach zeigen, und klicken Sie auf bereitstellen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="6f968-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="6f968-192">Dieses Lernprogramm konzentriert sich jedoch ausschließlich auf Nachweis der vereinfachte Möglichkeiten zur Datenänderung.</span><span class="sxs-lookup"><span data-stu-id="6f968-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="6f968-193">Zukünftige Lernprogramme untersucht, die in einer realen zweifellos auftreten, bedenken.</span><span class="sxs-lookup"><span data-stu-id="6f968-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="6f968-194">Löschen von Daten aus der GridView</span><span class="sxs-lookup"><span data-stu-id="6f968-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="6f968-195">Starten Sie, indem Sie eine GridView aus der Toolbox in den Designer ziehen.</span><span class="sxs-lookup"><span data-stu-id="6f968-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="6f968-196">Binden Sie als Nächstes das ObjectDataSource an die GridView durch Auswahl aus der Dropdown-Liste in die GridView Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6f968-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="6f968-197">An diesem Punkt werden die GridView deklarative Markup:</span><span class="sxs-lookup"><span data-stu-id="6f968-197">At this point the GridView's declarative markup will be:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="6f968-198">Binden die GridView an das ObjectDataSource über das Smarttag bietet zwei Vorteile:</span><span class="sxs-lookup"><span data-stu-id="6f968-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="6f968-199">BoundFields und CheckBoxFields werden für jeden der von der ObjectDataSource zurückgegebenen Felder automatisch erstellt.</span><span class="sxs-lookup"><span data-stu-id="6f968-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="6f968-200">Darüber hinaus werden die BoundField- und des CheckBoxField Eigenschaften basierend auf Metadaten des zugrunde liegenden Felds festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6f968-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="6f968-201">Z. B. die `ProductID`, `CategoryName`, und `SupplierName` Felder werden als schreibgeschützt markiert die `ProductsDataTable` und aus diesem Grund darf nicht aktualisiert werden beim Bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="6f968-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="6f968-202">Um diese, diese BoundFields Rechnung zu tragen [ReadOnly-Eigenschaften](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) festgelegt `true`.</span><span class="sxs-lookup"><span data-stu-id="6f968-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="6f968-203">Die [DataKeyNames Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) Primärschlüsselfelder des zugrunde liegenden Objekts zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="6f968-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="6f968-204">Dies ist wichtig, wenn die GridView zum Bearbeiten oder Löschen von Daten verwenden, wie diese Eigenschaft gibt an, das Feld (oder einen Satz von Feldern), eindeutig identifiziert jeden Datensatz.</span><span class="sxs-lookup"><span data-stu-id="6f968-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="6f968-205">Weitere Informationen zu den `DataKeyNames` -Eigenschaft, verweisen zurück auf die [Master/Detail mit auswählbaren Master GridView mit einer Details-DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="6f968-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="6f968-206">Auf diese Weise während auf das ObjectDataSource über das Fenster "Eigenschaften" oder die deklarative Syntax die GridView gebunden werden kann, müssen Sie die entsprechenden BoundField manuell hinzufügen und `DataKeyNames` Markup.</span><span class="sxs-lookup"><span data-stu-id="6f968-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="6f968-207">GridView-Steuerelements bietet integrierte Unterstützung für auf Zeilenebene zu bearbeiten und löschen.</span><span class="sxs-lookup"><span data-stu-id="6f968-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="6f968-208">Konfigurieren einer GridView zur Unterstützung von löschen Fügt eine Spalte von Schaltflächen zum Löschen.</span><span class="sxs-lookup"><span data-stu-id="6f968-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="6f968-209">Klickt der Benutzer die Schaltfläche "löschen" für eine bestimmte Zeile, ein Postback erfolgt und die GridView führt die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="6f968-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="6f968-210">Das ObjectDataSource `DeleteParameters` Werte zugewiesen werden</span><span class="sxs-lookup"><span data-stu-id="6f968-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="6f968-211">Das ObjectDataSource `Delete()` Methode wird aufgerufen, den angegebenen Datensatz löschen</span><span class="sxs-lookup"><span data-stu-id="6f968-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="6f968-212">GridView bindet sich selbst auf die ObjectDataSource durch Aufrufen seiner `Select()` Methode</span><span class="sxs-lookup"><span data-stu-id="6f968-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="6f968-213">Die Werte für die `DeleteParameters` sind die Werte der die `DataKeyNames` Felder für die Zeile, deren Schaltfläche "löschen" geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="6f968-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="6f968-214">Daher ist es wichtig, die einer GridView `DataKeyNames` Eigenschaft ordnungsgemäß festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="6f968-215">Wenn sie nicht vorhanden ist, ist die `DeleteParameters` zugewiesen wird eine `null` Wert in Schritt 1, der nicht wiederum in einem verursacht gelöschten Datensätzen, die in Schritt2.</span><span class="sxs-lookup"><span data-stu-id="6f968-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="6f968-216">Die `DataKeys` Auflistung in die GridView-s-Steuerelementzustand gespeichert ist, d. h. die `DataKeys` Werte werden über Postbacks gespeichert werden, selbst wenn der Ansichtszustand für GridView s deaktiviert wurde.</span><span class="sxs-lookup"><span data-stu-id="6f968-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="6f968-217">Allerdings ist es sehr wichtig, dass der Ansichtszustand für GridViews, die unterstützt werden, bearbeiten oder löschen (das Standardverhalten) aktiviert bleibt.</span><span class="sxs-lookup"><span data-stu-id="6f968-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="6f968-218">Wenn Sie festlegen, dass die GridView s `EnableViewState` Eigenschaft `false`, bearbeiten und Löschen von Verhalten funktioniert gut für einen einzelnen Benutzer, aber wenn gleichzeitige Benutzer löschen von Daten vorhanden sind, besteht die Möglichkeit, dass diese gleichzeitigen Benutzern versehentlich möglicherweise Löschen oder bearbeiten, dass sie-t aufgezeichnet werden soll.</span><span class="sxs-lookup"><span data-stu-id="6f968-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn t intend.</span></span> <span data-ttu-id="6f968-219">Finden Sie unter meinem Blogeintrag [Warnung: Parallelität Problem mit ASP.NET 2.0 GridViews/DetailsView/FormViews, Bearbeitung unterstützen und/oder löschen und, deren Ansichtszustand ist deaktiviert,](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), Weitere Informationen.</span><span class="sxs-lookup"><span data-stu-id="6f968-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>


<span data-ttu-id="6f968-220">Diese gleiche Warnung gilt auch für DetailsViews und FormViews.</span><span class="sxs-lookup"><span data-stu-id="6f968-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="6f968-221">Zum Löschen von Funktionen für eine GridView hinzuzufügen, wechseln Sie zu dessen Smarttag und aktivieren Sie das Kontrollkästchen Löschen aktivieren.</span><span class="sxs-lookup"><span data-stu-id="6f968-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>


![Überprüfen Sie das Löschen von Kontrollkästchen aktivieren](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="6f968-223">**Abbildung 10**: Überprüfen Sie das Löschen von Kontrollkästchen aktivieren</span><span class="sxs-lookup"><span data-stu-id="6f968-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>


<span data-ttu-id="6f968-224">Aktivieren des Kontrollkästchens löschen aktivieren aus dem Smarttag Fügt eine CommandField an die GridView.</span><span class="sxs-lookup"><span data-stu-id="6f968-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="6f968-225">Die CommandField rendert eine Spalte in der GridView mit Schaltflächen für eine oder mehrere der folgenden Aufgaben ausführen: Auswählen eines Datensatzes, einen Datensatz bearbeiten und Löschen eines Datensatzes.</span><span class="sxs-lookup"><span data-stu-id="6f968-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="6f968-226">Zuvor wurde erläutert, die CommandField in Aktion auswählen von Datensätzen in der [Master/Detail mit auswählbaren Master GridView mit einer Details-DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="6f968-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="6f968-227">Die CommandField enthält eine Reihe von `ShowXButton` Eigenschaften, die angeben, welche Reihe von Schaltflächen in der CommandField angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="6f968-228">Durch Aktivieren des Kontrollkästchens löschen aktivieren einer CommandField, deren `ShowDeleteButton` Eigenschaft `true` die GridView Columns-Auflistung hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="6f968-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="6f968-229">An diesem Punkt haben wir glauben es oder nicht mit dem Hinzufügen von Löschen von Unterstützung an die GridView!</span><span class="sxs-lookup"><span data-stu-id="6f968-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="6f968-230">Wie Abbildung 11 zeigt, ist beim Zugriff auf diese Seite über einen Browser eine Spalte mit Schaltflächen zum Löschen vorhanden.</span><span class="sxs-lookup"><span data-stu-id="6f968-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>


<span data-ttu-id="6f968-231">[![Die CommandField Fügt eine Spalte mit den Schaltflächen löschen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-231">[![The CommandField Adds a Column of Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span></span>

<span data-ttu-id="6f968-232">**Abbildung 11**: die CommandField Fügt eine Spalte von löschen Schaltflächen ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>


<span data-ttu-id="6f968-233">Wenn Sie dieses Lernprogramm von a bis z auf Ihre eigenen, erstellen wurden haben beim Testen von dieser Seite klicken wird die Schaltfläche "löschen" eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="6f968-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="6f968-234">Um zu erfahren, warum diese Ausnahmen ausgelöst wurden und wie Sie das Problem beheben, lesen Sie weiter.</span><span class="sxs-lookup"><span data-stu-id="6f968-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="6f968-235">Wenn Sie zusammen mit der zugehörigen dieses Lernprogramms Download befolgen, wurden diese Probleme bereits berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="6f968-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="6f968-236">Allerdings empfehlen wir Ihnen, durch die Identifizierung von Problemen, die auftreten können, und geeignete Abhilfemaßnahmen unten aufgeführten Informationen zu lesen.</span><span class="sxs-lookup"><span data-stu-id="6f968-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>


<span data-ttu-id="6f968-237">Wenn beim Versuch, ein Produkt zu löschen, eine Ausnahme angezeigt, dessen Meldung ähnelt "*ObjectDataSource 'ObjectDataSource1' eine nicht generische Methode"DeleteProduct", die über Parameter verfügt nicht gefunden:" ProductID "ursprünglichen\_ "ProductID"*, "haben Sie wahrscheinlich vergessen, entfernen Sie die `OldValuesParameterFormatString` Eigenschaft aus der ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="6f968-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="6f968-238">Mit der `OldValuesParameterFormatString` Eigenschaft angegeben wird, das ObjectDataSource versucht, für die Übergabe in beiden `productID` und `original_ProductID` Eingabeparametern der `DeleteProduct` Methode.</span><span class="sxs-lookup"><span data-stu-id="6f968-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> <span data-ttu-id="6f968-239">`DeleteProduct`, akzeptiert jedoch nur einen einzelnen Eingabeparameter, daher die Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="6f968-239">`DeleteProduct`, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="6f968-240">Entfernen der `OldValuesParameterFormatString` Eigenschaft (oder bei der Einstellung `{0}`) weist die ObjectDataSource nicht versucht, den ursprünglichen Eingabeparameter übergeben.</span><span class="sxs-lookup"><span data-stu-id="6f968-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>


<span data-ttu-id="6f968-241">[![Stellen Sie sicher, dass die Eigenschaft OldValuesParameterFormatString Out gelöscht wurde](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-241">[![Ensure That the OldValuesParameterFormatString Property Has Been Cleared Out](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="6f968-242">**Abbildung 12**: sicherstellen, dass die `OldValuesParameterFormatString` Eigenschaft hat wurde deaktiviert, ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>


<span data-ttu-id="6f968-243">Auch wenn Sie entfernt haben die `OldValuesParameterFormatString` Eigenschaft weiterhin erhalten Sie eine Ausnahme beim Versuch, ein Produkt mit der Nachricht zu löschen: "*die DELETE-Anweisung steht in Konflikt mit der REFERENCE-Einschränkung ' FK\_Reihenfolge\_Details \_Produkte*. " Die Northwind-Datenbank enthält eine foreign Key-Einschränkung zwischen den `Order Details` und `Products` Tabelle, was bedeutet, dass ein Produkt kann nicht aus dem System gelöscht werden, treten ein oder mehrere Datensätze für sie in der `Order Details` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="6f968-244">Da jedes Produkt in der Northwind-Datenbank mindestens ein Datensatz `Order Details`, alle Produkte aus, bis wir das Produkt zugeordneten Details bestellungsdatensätze zuerst löschen kann nicht gelöscht.</span><span class="sxs-lookup"><span data-stu-id="6f968-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>


<span data-ttu-id="6f968-245">[![Eine Foreign Key-Einschränkung verhindert das Löschen von Produkten](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-245">[![A Foreign Key Constraint Prohibits the Deletion of Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="6f968-246">**Abbildung 13**: eine Foreign Key-Einschränkung verhindert das Löschen von Produkten ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>


<span data-ttu-id="6f968-247">Für unser Tutorial aus, lassen Sie uns einfach Löschen aller Datensätze aus der `Order Details` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="6f968-248">In einer realen Anwendung würde wir entweder benötigen:</span><span class="sxs-lookup"><span data-stu-id="6f968-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="6f968-249">Haben Sie einen anderen Bildschirm, um Detailbestellinformationen verwalten</span><span class="sxs-lookup"><span data-stu-id="6f968-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="6f968-250">Erweitern der `DeleteProduct` Methode, um die Logik zum Löschen von Bestelldetails für das angegebene Produkt einschließen</span><span class="sxs-lookup"><span data-stu-id="6f968-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="6f968-251">Ändern Sie die SQL-Abfrage von TableAdapter verwendet, um das Löschen von Bestelldetails für das angegebene Produkt einschließen</span><span class="sxs-lookup"><span data-stu-id="6f968-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="6f968-252">Nehmen wir einfach Löschen aller Datensätze aus der `Order Details` Tabelle, foreign Key-Einschränkung zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="6f968-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="6f968-253">Navigieren Sie zu dem Server-Explorer in Visual Studio, mit der rechten Maustaste auf die `NORTHWND.MDF` Knoten, und wählen Sie die neue Abfrage.</span><span class="sxs-lookup"><span data-stu-id="6f968-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="6f968-254">Klicken Sie dann in das Abfragefenster ein, führen Sie die folgende SQL-Anweisung an:`DELETE FROM [Order Details]`</span><span class="sxs-lookup"><span data-stu-id="6f968-254">Then, in the query window, run the following SQL statement: `DELETE FROM [Order Details]`</span></span>


<span data-ttu-id="6f968-255">[![Löschen Sie alle Datensätze aus der Order Details-Tabelle](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-255">[![Delete All Records from the Order Details Table](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span></span>

<span data-ttu-id="6f968-256">**Abbildung 14**: Löschen Sie alle Datensätze aus der `Order Details` Tabelle ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>


<span data-ttu-id="6f968-257">Nach dem Entfernen der `Order Details` Tabelle durch Klicken auf die Schaltfläche "löschen" löscht das Produkt ohne Fehler.</span><span class="sxs-lookup"><span data-stu-id="6f968-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="6f968-258">Wenn das Produkt durch Klicken auf die Schaltfläche "löschen" nicht gelöscht werden, zu überprüfen, um sicherzustellen, dass der GridView `DataKeyNames` -Eigenschaft auf das Feld für den Primärschlüssel festgelegt ist (`ProductID`).</span><span class="sxs-lookup"><span data-stu-id="6f968-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="6f968-259">Beim Klicken auf die Schaltfläche "löschen" wird ein Postback erfolgt, und der Datensatz gelöscht.</span><span class="sxs-lookup"><span data-stu-id="6f968-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="6f968-260">Dies kann gefährlich sein, da einfach versehentlich klicken Sie auf die Schaltfläche "löschen" den falschen Zeile auf.</span><span class="sxs-lookup"><span data-stu-id="6f968-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="6f968-261">In einem späteren Lernprogramm sehen wir, wie eine Bestätigung für die clientseitige hinzufügen, wenn Sie einen Datensatz löschen.</span><span class="sxs-lookup"><span data-stu-id="6f968-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>


## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="6f968-262">Bearbeiten von Daten mit GridView</span><span class="sxs-lookup"><span data-stu-id="6f968-262">Editing Data with the GridView</span></span>

<span data-ttu-id="6f968-263">Zusammen mit gelöscht wird, stellt des GridView-Steuerelements auch integrierte Unterstützung für das Bearbeiten auf Zeilenebene bereit.</span><span class="sxs-lookup"><span data-stu-id="6f968-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="6f968-264">Konfigurieren einer GridView zur Unterstützung der Bearbeitung Fügt eine Spalte des bearbeiten-Schaltflächen.</span><span class="sxs-lookup"><span data-stu-id="6f968-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="6f968-265">Wenn Sie hinsichtlich der Endbenutzer auf eine Zeile Bearbeiten Schaltfläche Ursachen Zeile bearbeitet werden, werden die Zellen in Textfelder ein, die vorhandenen Werte enthält, und Ersetzen Sie dabei die Schaltfläche "Bearbeiten", mit dem Update und die Schaltflächen "Abbrechen".</span><span class="sxs-lookup"><span data-stu-id="6f968-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="6f968-266">Nachdem Sie die gewünschten Änderungen vornehmen, können die Endbenutzer die Schaltfläche "Aktualisieren", um die Änderungen zu übernehmen oder die Schaltfläche "Abbrechen", um diese zu verwerfen klicken.</span><span class="sxs-lookup"><span data-stu-id="6f968-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="6f968-267">In beiden Fällen gibt nach dem Klicken auf Update- oder "Abbrechen" GridView Datenbankzustands vorab bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="6f968-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="6f968-268">Unsere hinsichtlich der als der Entwickler der Seite klickt der Benutzer die Schaltfläche "Bearbeiten" für eine bestimmte Zeile, ein Postback erfolgt und die GridView führt die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="6f968-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="6f968-269">Der GridView `EditItemIndex` Eigenschaft zugewiesen ist, auf den Index der Zeile, deren Schaltfläche "Bearbeiten" geklickt wurde,</span><span class="sxs-lookup"><span data-stu-id="6f968-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="6f968-270">GridView bindet sich selbst auf die ObjectDataSource durch Aufrufen seiner `Select()` Methode</span><span class="sxs-lookup"><span data-stu-id="6f968-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="6f968-271">Der Index der Zeile entspricht der `EditItemIndex` wird gerendert, in "Bearbeitungsmodus".</span><span class="sxs-lookup"><span data-stu-id="6f968-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="6f968-272">In diesem Modus wird die Schaltfläche "Bearbeiten" durch die Schaltflächen "Abbrechen" und "Update" und BoundFields ersetzt, deren `ReadOnly` Eigenschaften sind "false" (Standard) werden als Textfeld Web, dessen Steuerelemente gerendert `Text` Eigenschaften die Datenfelder Werte zugewiesen sind.</span><span class="sxs-lookup"><span data-stu-id="6f968-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="6f968-273">Zu diesem Zeitpunkt wird das Markup an den Browser, ermöglicht der Endbenutzer keine Änderungen vornehmen, um Daten aus der Zeile zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6f968-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="6f968-274">Klickt der Benutzer auf die Schaltfläche "Aktualisieren", ein Postback erfolgt und die GridView führt die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="6f968-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="6f968-275">Das ObjectDataSource `UpdateParameters` Werte der in Bearbeitung der GridView-Schnittstelle vom Endbenutzer eingegebenen Werte zugewiesen werden</span><span class="sxs-lookup"><span data-stu-id="6f968-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="6f968-276">Das ObjectDataSource `Update()` Methode wird aufgerufen, den angegebenen Datensatz aktualisieren</span><span class="sxs-lookup"><span data-stu-id="6f968-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="6f968-277">GridView bindet sich selbst auf die ObjectDataSource durch Aufrufen seiner `Select()` Methode</span><span class="sxs-lookup"><span data-stu-id="6f968-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="6f968-278">Die Primärschlüsselwerte zugewiesen der `UpdateParameters` in Schritt 1 stammen aus den Werten im angegebenen die `DataKeyNames` -Eigenschaft, während die Nichtprimär-Schlüsselwerte aus dem Text in das Textfeld Websteuerelementen der bearbeiteten Zeile stammen.</span><span class="sxs-lookup"><span data-stu-id="6f968-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="6f968-279">Wie bei löschen, es wichtiger ist, die einer GridView `DataKeyNames` Eigenschaft ordnungsgemäß festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="6f968-280">Wenn sie nicht vorhanden ist, ist die `UpdateParameters` Primärschlüsselwert zugewiesen ein `null` Wert in Schritt 1, der nicht wiederum in einem verursacht aktualisiert Datensätze in Schritt2.</span><span class="sxs-lookup"><span data-stu-id="6f968-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="6f968-281">Bearbeiten-Funktionalität kann durch Überprüfen einfach das Kontrollkästchen Bearbeiten aktivieren, in die GridView Smarttag aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>


![Überprüfen Sie das Kontrollkästchen Bearbeiten aktivieren](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="6f968-283">**Abbildung 15**: Überprüfen Sie das Kontrollkästchen Bearbeiten aktivieren</span><span class="sxs-lookup"><span data-stu-id="6f968-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>


<span data-ttu-id="6f968-284">Überprüfen das Kontrollkästchen Bearbeiten aktivieren wird eine CommandField hinzufügen (sofern erforderlich), und legen seine `ShowEditButton` Eigenschaft `true`.</span><span class="sxs-lookup"><span data-stu-id="6f968-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="6f968-285">Wie bereits zuvor gesehen, wird die CommandField enthält eine Reihe von `ShowXButton` Eigenschaften, die angeben, welche Reihe von Schaltflächen in der CommandField angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="6f968-286">Überprüfen das Kontrollkästchen Bearbeiten aktivieren fügt die `ShowEditButton` Eigenschaft, um die vorhandenen CommandField:</span><span class="sxs-lookup"><span data-stu-id="6f968-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="6f968-287">Das ist alles vorhanden ist, zum Hinzufügen der Unterstützung für das rudimentäre bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="6f968-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="6f968-288">Wie Figure16 gezeigt, die Bearbeitungsoberfläche stattdessen einfach gehalten wird jede BoundField, deren `ReadOnly` -Eigenschaftensatz auf `false` (Standard) wird als ein Textfeld gerendert.</span><span class="sxs-lookup"><span data-stu-id="6f968-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="6f968-289">Dies beinhaltet Felder wie `CategoryID` und `SupplierID`, die Schlüssel auf andere Tabellen sind.</span><span class="sxs-lookup"><span data-stu-id="6f968-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>


<span data-ttu-id="6f968-290">[![Klicken Sie auf Chai s Schaltfläche "Bearbeiten" zeigt die Zeile im Bearbeitungsmodus](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-290">[![Clicking Chai s Edit Button Displays the Row in Edit Mode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span></span>

<span data-ttu-id="6f968-291">**Abbildung 16**: durch Klicken auf Chai s Schaltfläche "Bearbeiten" zeigt die Zeile im Bearbeitungsmodus ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>


<span data-ttu-id="6f968-292">Zusätzlich zur Aufforderung der Benutzer für eine direkte Bearbeitung Fremdschlüsselwerte, fehlt der Bearbeitung Schnittstelle auf folgende Weise:</span><span class="sxs-lookup"><span data-stu-id="6f968-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="6f968-293">Wenn der Benutzer gibt eine `CategoryID` oder `SupplierID` , die in der Datenbank nicht vorhanden die `UPDATE` wird verletzt eine foreign Key-Einschränkung, dass eine Ausnahme ausgelöst werden soll.</span><span class="sxs-lookup"><span data-stu-id="6f968-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="6f968-294">Die Bearbeitungsoberfläche ist keine Validierung nicht enthalten.</span><span class="sxs-lookup"><span data-stu-id="6f968-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="6f968-295">Wenn Sie nicht, dass einen erforderlichen Wert angeben (z. B. `ProductName`), oder geben Sie einen Zeichenfolgenwert ein, in dem ein numerischer Wert erwartet wird, (wie das Eingeben von "Zu viele!"</span><span class="sxs-lookup"><span data-stu-id="6f968-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="6f968-296">in der `UnitPrice` Textfeld), wird eine Ausnahme ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="6f968-297">Eine zukünftige Lernprogramm untersucht zum Hinzufügen von Steuerelementen für die Validierung zu der Benutzeroberfläche zur Bearbeitung.</span><span class="sxs-lookup"><span data-stu-id="6f968-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="6f968-298">Derzeit *alle* Produkt-Felder, die nicht schreibgeschützt sind in der GridView enthalten sein müssen.</span><span class="sxs-lookup"><span data-stu-id="6f968-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="6f968-299">Angenommen, wäre es ein Feld aus der GridView entfernen, `UnitPrice`, beim Aktualisieren der Daten die GridView nicht festgelegt werden die `UnitPrice` `UpdateParameters` -Wert, der des Datenbankdatensatz geändert würde `UnitPrice` auf eine `NULL` Wert.</span><span class="sxs-lookup"><span data-stu-id="6f968-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="6f968-300">Auf ähnliche Weise, wenn ein erforderliches Feld, z. B. `ProductName`, entfernt aus der GridView-das Update schlägt fehl, mit dem gleichen "*Spaltenname 'ProductName' lässt keine NULL-Werte*" Ausnahme, die oben genannten.</span><span class="sxs-lookup"><span data-stu-id="6f968-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="6f968-301">Die Bearbeitung Schnittstelle Formatierung bewirkt, dass viele wünschenswert sein.</span><span class="sxs-lookup"><span data-stu-id="6f968-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="6f968-302">Die `UnitPrice` wird mit vier Dezimalstellen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6f968-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="6f968-303">Im Idealfall der `CategoryID` und `SupplierID` Werten DropDownLists, die die Kategorien und Lieferanten im System auflisten.</span><span class="sxs-lookup"><span data-stu-id="6f968-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="6f968-304">Hierbei handelt es sich um alle Mängel, die wir mit live, jetzt aber wird in zukünftigen Lernprogrammen adressiert werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="6f968-305">Einfügen, bearbeiten und Löschen von Daten mit DetailsView</span><span class="sxs-lookup"><span data-stu-id="6f968-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="6f968-306">Wie wir Steuerelement zeigt einen Datensatz zu einem Zeitpunkt, und wie die GridView kann zum Bearbeiten und Löschen des aktuell angezeigten Datensatzes in früheren Lernprogrammen, DetailsView gesehen haben.</span><span class="sxs-lookup"><span data-stu-id="6f968-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="6f968-307">Sowohl der Endbenutzer-Erfahrung mit bearbeiten und Löschen von Elementen aus einem DetailsView und der Workflow von der Seite ASP.NET ist identisch mit der GridView.</span><span class="sxs-lookup"><span data-stu-id="6f968-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="6f968-308">Die GridView, DetailsView unterscheidet besteht darin, dass es auch integrierten Einfügen von Unterstützung.</span><span class="sxs-lookup"><span data-stu-id="6f968-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="6f968-309">Zur Veranschaulichung der Möglichkeiten zur Datenänderung der GridView zu starten, indem Sie eine DetailsView zum Hinzufügen der `Basics.aspx` oberhalb der vorhandenen GridView und an den vorhandenen ObjectDataSource über die DetailsView Smarttag gebunden wird.</span><span class="sxs-lookup"><span data-stu-id="6f968-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="6f968-310">Als Nächstes deaktivieren, DetailsView des `Height` und `Width` Eigenschaften, und aktivieren Sie die Option Paging aktivieren aus dem Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6f968-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="6f968-311">Zum Aktivieren der Bearbeitung Kontrollkästchen einfügen und Löschen von Unterstützung, einfach die Bearbeiten aktivieren, aktivieren Sie einfügen und löschen aktivieren im Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6f968-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>


![Konfigurieren von DetailsView an den Support, bearbeiten, einfügen und löschen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="6f968-313">**Abbildung 17**: Konfigurieren von DetailsView an den Support, bearbeiten, einfügen und löschen</span><span class="sxs-lookup"><span data-stu-id="6f968-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>


<span data-ttu-id="6f968-314">Als hinzugefügt mit GridView hinzufügen, bearbeiten, einfügen oder löschen die Unterstützung einer CommandField, DetailsView wie im folgenden deklarative Syntax gezeigt:</span><span class="sxs-lookup"><span data-stu-id="6f968-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="6f968-315">Beachten Sie, dass für DetailsView der CommandField am Ende der Auflistung der Spalten in der Standardeinstellung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6f968-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="6f968-316">Da der DetailsView Felder als Zeilen gerendert werden die CommandField angezeigt wird, als eine Zeile mit Insert, bearbeiten und Löschen von Schaltflächen am unteren Rand der DetailsView.</span><span class="sxs-lookup"><span data-stu-id="6f968-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>


<span data-ttu-id="6f968-317">[![Konfigurieren von DetailsView an den Support, bearbeiten, einfügen und löschen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-317">[![Configure the DetailsView to Support Editing, Inserting, and Deleting](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span></span>

<span data-ttu-id="6f968-318">**Abbildung 18**: Konfigurieren von DetailsView zu bearbeiten, einfügen und Löschen von Unterstützung ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>


<span data-ttu-id="6f968-319">Durch Klicken auf die Schaltfläche "löschen" die gleiche Sequenz von Ereignissen wie bei der GridView beginnt: a Postbacks gefolgt von dessen ObjectDataSource Auffüllen DetailsView `DeleteParameters` basierend auf den `DataKeyNames` Werte und durch Aufrufen seiner ObjectDataSource abgeschlossen `Delete()` -Methode, die das Produkt tatsächlich aus der Datenbank entfernt.</span><span class="sxs-lookup"><span data-stu-id="6f968-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="6f968-320">Bearbeiten in DetailsView funktioniert auch in einer Weise, die identisch mit der GridView.</span><span class="sxs-lookup"><span data-stu-id="6f968-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="6f968-321">Zum Einfügen, erhält der Endbenutzer mit einem neu-Schaltfläche geklickt, DetailsView in "Einfügemodus" rendert</span><span class="sxs-lookup"><span data-stu-id="6f968-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="6f968-322">Mit "Einfügemodus" die Schaltfläche "Neu" durch die Schaltflächen "und" Abbrechen "Insert", und nur diese BoundFields ersetzt wird, dessen `InsertVisible` -Eigenschaftensatz auf `true` (Standardeinstellung) werden angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6f968-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="6f968-323">Identifiziert als automatische Inkrementierung-Felder, wie z. B. Datenfelder `ProductID`, haben ihre [InsertVisible Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) festgelegt `false` beim Binden von DetailsView an die Datenquelle mithilfe des Smarttags.</span><span class="sxs-lookup"><span data-stu-id="6f968-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="6f968-324">Beim Binden einer Datenquelle an einen DetailsView über das Smarttag, legt Visual Studio die `InsertVisible` Eigenschaft `false` nur für automatisch inkrementierte Felder.</span><span class="sxs-lookup"><span data-stu-id="6f968-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="6f968-325">Schreibgeschützte Felder, wie z. B. `CategoryName` und `SupplierName`, wird in der Benutzeroberfläche "Einfügemodus" angezeigt werden, es sei denn, ihre `InsertVisible` -Eigenschaft explizit festgelegt wird, um `false`.</span><span class="sxs-lookup"><span data-stu-id="6f968-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="6f968-326">Können Sie diese beiden Felder festlegen `InsertVisible` Eigenschaften `false`, entweder über die DetailsView deklarative Syntax oder über die Felder bearbeiten im Smarttag verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="6f968-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="6f968-327">Abbildung 19 zeigt die Einstellung der `InsertVisible` Eigenschaften `false` durch Klicken auf die Felder bearbeiten zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="6f968-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>


<span data-ttu-id="6f968-328">[![Northwind Traders bietet jetzt Acme Tee](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-328">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span></span>

<span data-ttu-id="6f968-329">**Abbildung 19**: Northwind Traders jetzt bietet Acme Tee ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>


<span data-ttu-id="6f968-330">Nach dem Festlegen der `InsertVisible` Eigenschaften, die Ansicht der `Basics.aspx` Seite in einem Browser, und klicken Sie auf die Schaltfläche "Neu".</span><span class="sxs-lookup"><span data-stu-id="6f968-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="6f968-331">Abbildung 20 zeigt DetailsView beim Hinzufügen einer neuen Getränke Acme Tee, um unsere Produktlinie.</span><span class="sxs-lookup"><span data-stu-id="6f968-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>


<span data-ttu-id="6f968-332">[![Northwind Traders bietet jetzt Acme Tee](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-332">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span></span>

<span data-ttu-id="6f968-333">**Abbildung 20**: Northwind Traders jetzt bietet Acme Tee ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>


<span data-ttu-id="6f968-334">Nach dem Eingeben der Details für Acme Tee, und klicken Sie auf die Schaltfläche zum Einfügen, erfolgt ein Postback und der neue Datensatz hinzugefügt wird die `Products` Datenbanktabelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="6f968-335">Seit dieser DetailsView der Produkte in der Reihenfolge aufgeführt mit denen sie in der Datenbanktabelle vorhanden sind sind, müssen wir Produkt bis zum letzten Seite, um das neue Produkt finden Sie unter.</span><span class="sxs-lookup"><span data-stu-id="6f968-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>


<span data-ttu-id="6f968-336">[![Details für Acme Tee](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-336">[![Details for Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span></span>

<span data-ttu-id="6f968-337">**Abbildung 21**: Details für Acme Tee ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>


> [!NOTE]
> <span data-ttu-id="6f968-338">Der DetailsView [CurrentMode Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) gibt die Schnittstelle wird angezeigt und kann einen der folgenden Werte: `Edit`, `Insert`, oder `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="6f968-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="6f968-339">Die [DefaultMode-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) gibt der Modus, DetailsView gibt an, nach einer Änderung oder zum Einfügen von, wurde abgeschlossen und eignet sich zum Anzeigen einer DetailsView, die dauerhaft in Bearbeitung ist, oder im Einfügemodus.</span><span class="sxs-lookup"><span data-stu-id="6f968-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>


<span data-ttu-id="6f968-340">Der Zeitpunkt und die auf Einfügen und Bearbeitungsfunktionen von DetailsView beeinträchtigt werden, über die gleichen Einschränkungen wie die GridView: der Benutzer muss die vorhandene eingeben `CategoryID` und `SupplierID` Werte über ein Textfeld, besitzt der Schnittstelle eine Validierungslogik; alle Produkt-Felder, die keine zulassen `NULL` Werte oder keinen Standardwert auf der Datenbankebene angegebene Wert in der einfügen-Schnittstelle usw. enthalten sein muss.</span><span class="sxs-lookup"><span data-stu-id="6f968-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="6f968-341">Die Techniken untersuchen wir zu erweitern, und erweitern die GridView Bearbeitungsoberfläche in zukünftigen Artikeln, DetailsView-Steuerelements bearbeiten und Einfügen von Schnittstellen auch angewendet werden können.</span><span class="sxs-lookup"><span data-stu-id="6f968-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="6f968-342">Die FormView verwenden für eine flexiblere Änderung Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="6f968-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="6f968-343">Die FormView bietet integrierten Unterstützung für das Einfügen, bearbeiten und Löschen von Daten, aber da Vorlagen anstelle von Feldern verwendet wird, besteht keine Möglichkeit, die BoundFields oder die CommandField von GridView und DetailsView-Steuerelementen verwendet werden, um die Daten hinzufügen Änderung-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="6f968-344">Diese Schnittstelle, die die Web-Steuerelemente für das Sammeln von Benutzer Eingabe, wenn Sie ein neues Element hinzufügen oder Bearbeiten einer vorhandenen zusammen mit dem neuen bearbeiten, löschen, einfügen, aktualisieren und Abbrechen (Schaltflächen) muss stattdessen manuell auf den entsprechenden Vorlagen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="6f968-345">Glücklicherweise, erstellt Visual Studio automatisch die erforderliche Schnittstelle, beim Binden von FormView an eine Datenquelle mithilfe der Dropdown-Liste in seinem Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6f968-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="6f968-346">Um diese Verfahren zu veranschaulichen, starten Sie durch hinzufügen einen FormView der `Basics.aspx` Seite und aus der FormView-Smarttag, binden Sie es an das ObjectDataSource bereits erstellt.</span><span class="sxs-lookup"><span data-stu-id="6f968-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="6f968-347">Dadurch wird ein `EditItemTemplate`, `InsertItemTemplate`, und `ItemTemplate` für FormView mit TextBox-Websteuerelemente zum Sammeln von Eingabe- und Websteuerelemente Schaltfläche des Benutzers für das Symbol neu, bearbeiten, löschen, einfügen, aktualisieren und Abbrechen (Schaltflächen).</span><span class="sxs-lookup"><span data-stu-id="6f968-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="6f968-348">Darüber hinaus die FormView `DataKeyNames` -Eigenschaft auf das Feld für den Primärschlüssel festgelegt ist (`ProductID`) des Objekts durch das ObjectDataSource zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6f968-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="6f968-349">Aktivieren Sie schließlich in der FormView-Smarttag Option Paging aktivieren.</span><span class="sxs-lookup"><span data-stu-id="6f968-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="6f968-350">Nachstehend sehen Sie das deklarative Markup für die FormView `ItemTemplate` nach FormView an das ObjectDataSource gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="6f968-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="6f968-351">Standardmäßig jedes Product-Feld nicht boolescher Wert gebunden ist, um die `Text` Eigenschaft eines Steuerelements Bezeichnung Web während jedes Feld boolescher Wert (`Discontinued`) gebunden ist die `Checked` Eigenschaft eines deaktivierten CheckBox Web-Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="6f968-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="6f968-352">In der Reihenfolge für die Schaltflächen New, Edit und Delete bestimmte FormView Verhalten beim Auslösen, es ist unbedingt erforderlich, die ihre `CommandName` Werte festgelegt werden, um `New`, `Edit`, und `Delete`zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="6f968-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="6f968-353">Abbildung 22 zeigt die FormView `ItemTemplate` über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6f968-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="6f968-354">Jedes Feld "Product" wird mit den New, Edit und Delete-Schaltflächen im unteren Bereich aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="6f968-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>


<span data-ttu-id="6f968-355">[![Weisen FormView ItemTemplate Listet jedes Feld "Product" sowie neue, bearbeiten und Löschen von Schaltflächen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-355">[![The Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span></span>

<span data-ttu-id="6f968-356">**Abbildung 22**: die weisen FormView `ItemTemplate` Listet jedes Produkt Feld zusammen mit den Schaltflächen löschen, bearbeiten und neu ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>


<span data-ttu-id="6f968-357">Wie Sie mit dem GridView und DetailsView, klicken Sie auf die Schaltfläche "löschen" oder eine Schaltfläche, LinkButton oder ImageButton, deren `CommandName` Eigenschaft auf Löschen, wird ein Postback festgelegt ist, füllt das ObjectDataSource `DeleteParameters` basierend auf der FormView `DataKeyNames`aus und ruft das ObjectDataSource `Delete()` Methode.</span><span class="sxs-lookup"><span data-stu-id="6f968-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="6f968-358">Beim Klicken auf die Schaltfläche "Bearbeiten" ein Postback erfolgt und die Daten erneut gebunden wird, um die `EditItemTemplate`, die zum Rendern der Bearbeitungsoberfläche verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="6f968-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="6f968-359">Diese Schnittstelle enthält die Web-Steuerelemente für die Bearbeitung von Daten zusammen mit den Schaltflächen Aktualisieren und "Abbrechen".</span><span class="sxs-lookup"><span data-stu-id="6f968-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="6f968-360">Die Standardeinstellung `EditItemTemplate` generiert, die von Visual Studio enthält eine Bezeichnung für alle Felder automatisch inkrementierten (`ProductID`), ein Textfeld für jedes Wertfeld nicht boolescher sowie ein Kontrollkästchen für jedes Feld boolescher Wert.</span><span class="sxs-lookup"><span data-stu-id="6f968-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="6f968-361">Dieses Verhalten ist vergleichbar mit der automatisch generierten BoundFields die GridView und DetailsView-Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="6f968-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="6f968-362">Eine kleine Probleme mit der FormView automatische Generierung von der `EditItemTemplate` ist, dass TextBox Web-Steuerelemente für diese Felder gerendert, die z. B. schreibgeschützt sind `CategoryName` und `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="6f968-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="6f968-363">Wir sehen, wie Sie für dieses Konto in Kürze.</span><span class="sxs-lookup"><span data-stu-id="6f968-363">We'll see how to account for this shortly.</span></span>


<span data-ttu-id="6f968-364">Der TextBox-Steuerelemente der `EditItemTemplate` haben ihre `Text` Eigenschaft gebunden wird, auf den Wert von der entsprechenden Feld using *bidirektionale Datenbindung*.</span><span class="sxs-lookup"><span data-stu-id="6f968-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="6f968-365">Die bidirektionale Datenbindung, gekennzeichnet durch `<%# Bind("dataField") %>`, führt Databinding sowohl beim Binden von Daten an die Vorlage und beim Auffüllen der ObjectDataSource-Parameter zum Einfügen oder Bearbeiten von Datensätzen.</span><span class="sxs-lookup"><span data-stu-id="6f968-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="6f968-366">D. h., wenn der Benutzer die Schaltfläche "Bearbeiten" aus klickt der `ItemTemplate`die `Bind()` Methode gibt den Wert des angegebenen Felds zurück.</span><span class="sxs-lookup"><span data-stu-id="6f968-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="6f968-367">Nachdem der Benutzer mit der ihre Änderungen und Updates klickt, veröffentlicht die Werte zurück, die entsprechen den angegeben wird, mithilfe von Datenfeldern `Bind()` gelten für das ObjectDataSource `UpdateParameters`.</span><span class="sxs-lookup"><span data-stu-id="6f968-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="6f968-368">Alternativ unidirektionale Databinding gekennzeichnet durch `<%# Eval("dataField") %>`nur Datenfeldwerte beim Binden von Daten an die Vorlage abruft und führt *nicht* Postback der vom Benutzer eingegebenen Werten zum Parameter von der Datenquelle zurück.</span><span class="sxs-lookup"><span data-stu-id="6f968-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="6f968-369">Das folgende deklarative Markup zeigt die FormView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="6f968-370">Beachten Sie, dass die `Bind()` Methode wird in der Databinding-Syntax verwendet und die Websteuerelemente Update und "Abbrechen" Schaltfläche denen ihre `CommandName` Eigenschaften entsprechend festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6f968-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="6f968-371">Unsere `EditItemTemplate`, zurzeit zeigen, führt dazu, dass eine Ausnahme ausgelöst werden, wenn Sie versuchen, ihn zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="6f968-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="6f968-372">Das Problem besteht darin, die die `CategoryName` und `SupplierName` Felder werden gerendert, da Textfeld Web gesteuert wird, in der `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="6f968-373">Wir müssen entweder diesen Textfelder in Bezeichnungen ändern oder vollständig zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="6f968-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="6f968-374">Nehmen wir einfach löschen sie vollständig aus der `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="6f968-375">Abbildung 23 zeigt FormView in einem Browser, nachdem die Schaltfläche "Bearbeiten" für Chai auf den geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="6f968-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="6f968-376">Beachten Sie, dass die `SupplierName` und `CategoryName` Felder der `ItemTemplate` nicht mehr vorhanden sind, wie wir gerade entfernt sie aus der `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="6f968-377">Die gleiche Sequenz von Schritten wie GridView und DetailsView durchläuft die FormView, wenn auf die Schaltfläche "Aktualisieren" geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="6f968-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>


<span data-ttu-id="6f968-378">[![Standardmäßig zeigt ItemTemplate jedes bearbeitbaren Produktfeld als Textfeld oder das Kontrollkästchen](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-378">[![By Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span></span>

<span data-ttu-id="6f968-379">**Abbildung 23**: standardmäßig die `EditItemTemplate` zeigt jede bearbeitbare Feld "Product" als Textfeld oder Kontrollkästchen ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>


<span data-ttu-id="6f968-380">Wenn die Schaltfläche "Einfügen" der FormView geklickt wird `ItemTemplate` ein Postback erfolgt.</span><span class="sxs-lookup"><span data-stu-id="6f968-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="6f968-381">Allerdings ist keine Daten an die FormView gebunden, da ein neuer Datensatz hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="6f968-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="6f968-382">Die `InsertItemTemplate` -Schnittstelle enthält die Web-Steuerelemente zum Hinzufügen eines neuen Datensatzes zusammen mit den Schaltflächen einfügen und "Abbrechen".</span><span class="sxs-lookup"><span data-stu-id="6f968-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="6f968-383">Die Standardeinstellung `InsertItemTemplate` generiert, die von Visual Studio enthält ein Textfeld für jedes Wertfeld nicht boolescher und ein Kontrollkästchen für jedes Feld boolescher Wert, die automatisch generierte ähnelt `EditItemTemplate`der Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="6f968-384">TextBox-Steuerelemente haben ihre `Text` Eigenschaft gebunden wird, auf den Wert ihrer entsprechenden Feld "Daten" Verwenden der bidirektionalen Datenbindung.</span><span class="sxs-lookup"><span data-stu-id="6f968-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="6f968-385">Das folgende deklarative Markup zeigt die FormView `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="6f968-386">Beachten Sie, dass die `Bind()` Methode wird in der Databinding-Syntax verwendet und die Websteuerelemente einfügen und Abbrechen Schaltfläche denen ihre `CommandName` Eigenschaften entsprechend festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6f968-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="6f968-387">Es wird eine Besonderheit mit der FormView automatische Generierung von der `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="6f968-388">Insbesondere werden die Textfeld-Websteuerelemente auch für die Felder, die z. B. schreibgeschützt sind erstellt `CategoryName` und `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="6f968-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="6f968-389">Wie Sie mit der `EditItemTemplate`, müssen wir diese Textfelder aus Entfernen der `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6f968-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="6f968-390">Abbildung 24 zeigt FormView in einem Browser, wenn ein neues Produkt, Acme Kaffee hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6f968-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="6f968-391">Beachten Sie, dass die `SupplierName` und `CategoryName` Felder der `ItemTemplate` nicht mehr vorhanden sind, wie wir gerade entfernt.</span><span class="sxs-lookup"><span data-stu-id="6f968-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="6f968-392">Wenn die Schaltfläche "Einfügen" der FormView-fortgesetzt, über die gleiche Sequenz von Schritten wie DetailsView-Steuerelement geklickt wird, Hinzufügen von ein neuer Datensatz der `Products` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="6f968-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="6f968-393">Abbildung 25 zeigt Acme Kaffee Produktdetails in der FormView, nachdem es eingefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="6f968-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>


<span data-ttu-id="6f968-394">[![Die InsertItemTemplate bestimmt die FormView einfügen-Schnittstelle](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-394">[![The InsertItemTemplate Dictates the FormView's Inserting Interface](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span></span>

<span data-ttu-id="6f968-395">**Abbildung 24**: die `InsertItemTemplate` bestimmt die FormView einfügen-Schnittstelle ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>


<span data-ttu-id="6f968-396">[![Die Details für das neue Produkt, Acme Coffee, werden in der FormView angezeigt.](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="6f968-396">[![The Details for New Product, Acme Coffee, are Displayed in the FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span></span>

<span data-ttu-id="6f968-397">**Abbildung 25**: Details für das neue Produkt, Acme Coffee, werden in der FormView angezeigt ([klicken Sie hier, um das Bild in voller Größe angezeigt](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="6f968-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>


<span data-ttu-id="6f968-398">Durch Herausnehmen von der schreibgeschützten, ermöglicht das Bearbeiten und Einfügen von Schnittstellen in drei unterschiedliche Vorlagen, die FormView für eine feinere Kontrolle über diese Schnittstellen als die, DetailsView und GridView.</span><span class="sxs-lookup"><span data-stu-id="6f968-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="6f968-399">Wie DetailsView, FormView des `CurrentMode` Eigenschaft gibt die Schnittstelle, die angezeigt wird und die zugehörige `DefaultMode` Eigenschaft gibt den Modus der FormView gibt, nach einer Änderung oder Insert wurde abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="6f968-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>


## <a name="summary"></a><span data-ttu-id="6f968-400">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="6f968-400">Summary</span></span>

<span data-ttu-id="6f968-401">In diesem Lernprogramm untersucht es die Grundlagen von einfügen, bearbeiten und Löschen von Daten mit GridView, DetailsView und FormView.</span><span class="sxs-lookup"><span data-stu-id="6f968-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="6f968-402">Alle drei dieser Steuerelemente bieten einige integrierte Möglichkeiten zur Datenänderung, die verwendet werden kann, ohne eine einzige Codezeile schreiben, auf der ASP.NET-Seite unser Dank gilt den Websteuerelementen Daten und das ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="6f968-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="6f968-403">Allerdings die einfache zeigen und klicken Sie auf Techniken Render relativ frail und Naïve Änderung Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="6f968-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="6f968-404">Um die Bereitstellung der Validierung programmgesteuerte Werte einfügen, ordnungsgemäß Behandeln von Ausnahmen, Anpassen der Benutzeroberfläche und usw., benötigen wir eine Bevy Techniken vertrauen, die über die nächsten mehrere Lernprogramme erläutert werden.</span><span class="sxs-lookup"><span data-stu-id="6f968-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="6f968-405">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="6f968-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="6f968-406">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="6f968-406">About the Author</span></span>

<span data-ttu-id="6f968-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="6f968-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="6f968-408">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="6f968-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="6f968-409">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="6f968-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="6f968-410">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="6f968-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="6f968-411">Nächste</span><span class="sxs-lookup"><span data-stu-id="6f968-411">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)
