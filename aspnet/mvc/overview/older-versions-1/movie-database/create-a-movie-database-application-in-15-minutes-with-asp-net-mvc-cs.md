---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
title: Erstellen Sie eine Datenbankanwendung Film innerhalb von 15 Minuten mit ASP.NET MVC (c#) | Microsoft Docs
author: StephenWalther
description: "Stephen Walther erstellt eine gesamte Datenbank-driven ASP.NET MVC-Anwendung von Grund auf Fertig stellen. Dieses Lernprogramm ist eine gute Einführung für Personen, die neue t werden..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/27/2009
ms.topic: article
ms.assetid: dd1be137-91c5-47a8-8137-fecf0789c7f5
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
msc.type: authoredcontent
ms.openlocfilehash: 8294b5a8824c6a27e958e1ea78b7909a134447d2
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
<a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-c"></a><span data-ttu-id="9bad4-104">Erstellen Sie eine Datenbankanwendung Film innerhalb von 15 Minuten mit ASP.NET MVC (c#)</span><span class="sxs-lookup"><span data-stu-id="9bad4-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (C#)</span></span>
====================
<span data-ttu-id="9bad4-105">durch [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="9bad4-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="9bad4-106">Herunterladen von Code</span><span class="sxs-lookup"><span data-stu-id="9bad4-106">Download Code</span></span>](http://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_CS.zip)

> <span data-ttu-id="9bad4-107">Stephen Walther erstellt eine gesamte Datenbank-driven ASP.NET MVC-Anwendung von Grund auf Fertig stellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="9bad4-108">Dieses Lernprogramm ist eine gute Einführung für Personen, die mit dem ASP.NET MVC-Framework vertraut sind und wer einen Eindruck von den Prozess der Erstellung einer ASP.NET MVC-Anwendung abgerufen werden soll.</span><span class="sxs-lookup"><span data-stu-id="9bad4-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>


<span data-ttu-id="9bad4-109">In diesem Lernprogramm bieten einen Eindruck von "Was sie z. B. ist" dient zum Erstellen einer ASP.NET MVC-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9bad4-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="9bad4-110">In diesem Lernprogramm dargestellt ich über das Erstellen einer vollständigen ASP.NET MVC-Anwendung von Grund auf Fertig stellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="9bad4-111">Ich zeigen, wie eine einfache Datenbank basierenden Anwendung zu erstellen, die veranschaulicht, wie Sie auflisten, erstellen und Bearbeiten von Datensätzen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="9bad4-112">Um den Prozess der Erstellung der Anwendung zu vereinfachen, müssen wir die Gerüstbau Funktionen von Visual Studio 2008 nutzen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="9bad4-113">Visual Studio, die den anfänglichen Code und den Inhalt für unsere Controller, Modelle und Ansichten generieren informieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="9bad4-114">Wenn Sie mit der Active Server Pages oder ASP.NET gearbeitet haben, sollten dann Sie ASP.NET MVC vertraut gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="9bad4-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="9bad4-115">ASP.NET MVC-Ansichten sind sehr ähnlich wie die Seiten in einer Active Server Pages-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9bad4-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="9bad4-116">Und, wie eine herkömmliche ASP.NET Web Forms-Anwendung, ASP.NET MVC bietet Ihnen vollen Zugriff auf den umfangreichen Satz von Sprachen und Klassen, die von .NET Framework bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="9bad4-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="9bad4-117">Ich hoffe ist, dass dieses Lernprogramm Sie einen Eindruck davon, wie der erhalten Erstellen einer ASP.NET MVC-Anwendung vergleichbar und unterscheidet die Erfahrung der Erstellung einer Active Server Pages oder ASP.NET Web Forms-Anwendung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9bad4-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="9bad4-118">Übersicht über die Film-Datenbankanwendung</span><span class="sxs-lookup"><span data-stu-id="9bad4-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="9bad4-119">Da unser Ziel ist es, die Dinge einfach zu halten, müssen wir eine sehr einfache Datenbank Film-Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="9bad4-120">Unsere einfache Film-datenbankanwendung werden wir drei Aktionen ausgeführt werden können:</span><span class="sxs-lookup"><span data-stu-id="9bad4-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="9bad4-121">Eine Gruppe von Datenbankdatensätzen Film auflisten</span><span class="sxs-lookup"><span data-stu-id="9bad4-121">List a set of movie database records</span></span>
2. <span data-ttu-id="9bad4-122">Erstellen eines neuen Datensatzes des Film-Datenbank</span><span class="sxs-lookup"><span data-stu-id="9bad4-122">Create a new movie database record</span></span>
3. <span data-ttu-id="9bad4-123">Bearbeiten eines vorhandenen Film-Datenbank-Datensatzes</span><span class="sxs-lookup"><span data-stu-id="9bad4-123">Edit an existing movie database record</span></span>

<span data-ttu-id="9bad4-124">Erneut, da wir Dinge einfach zu halten möchten, müssen wir die minimale Anzahl von Funktionen von ASP.NET MVC-Framework zum Erstellen der Anwendung benötigt nutzen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="9bad4-125">Beispielsweise wird nicht wir Vorteil des Test-Driven Development weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="9bad4-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="9bad4-126">Um die Anwendung zu erstellen, müssen wir jeden der folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="9bad4-127">Das ASP.NET MVC-Webanwendungsprojekt erstellen</span><span class="sxs-lookup"><span data-stu-id="9bad4-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="9bad4-128">Erstellen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="9bad4-128">Create the database</span></span>
3. <span data-ttu-id="9bad4-129">Erstellen Sie das Datenbankmodell</span><span class="sxs-lookup"><span data-stu-id="9bad4-129">Create the database model</span></span>
4. <span data-ttu-id="9bad4-130">Erstellen von ASP.NET MVC-Controllers</span><span class="sxs-lookup"><span data-stu-id="9bad4-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="9bad4-131">Erstellen von ASP.NET MVC-Ansichten</span><span class="sxs-lookup"><span data-stu-id="9bad4-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="9bad4-132">Vorbereitende Maßnahmen</span><span class="sxs-lookup"><span data-stu-id="9bad4-132">Preliminaries</span></span>

<span data-ttu-id="9bad4-133">Sie benötigen Visual Studio 2008 oder Visual Web Developer 2008 Express, zum Erstellen einer ASP.NET MVC-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9bad4-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="9bad4-134">Sie müssen auch zum download von ASP.NET MVC-Framework.</span><span class="sxs-lookup"><span data-stu-id="9bad4-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="9bad4-135">Wenn Sie Visual Studio 2008 nicht besitzen, können Sie eine 90-Tage-Testversion von Visual Studio 2008 dieser Website herunterladen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[<span data-ttu-id="9bad4-136">https://msdn.Microsoft.com/en-US/VS2008/Products/cc268305.aspx</span><span class="sxs-lookup"><span data-stu-id="9bad4-136">https://msdn.microsoft.com/en-us/vs2008/products/cc268305.aspx</span></span>](https://msdn.microsoft.com/en-us/vs2008/products/cc268305.aspx)

<span data-ttu-id="9bad4-137">Alternativ können Sie ASP.NET MVC Anwendungen mit Visual Web Developer Express 2008 erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-137">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="9bad4-138">Wenn Sie Visual Web Developer Express verwenden möchten, müssen Sie Service Pack 1 installiert haben.</span><span class="sxs-lookup"><span data-stu-id="9bad4-138">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="9bad4-139">Sie können Visual Web Developer-2008 Express mit Service Pack 1 von dieser Website herunterladen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-139">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="9bad4-140">https://www.Microsoft.com/downloads/details.aspx?FamilyID=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;Displaylang = En</span><span class="sxs-lookup"><span data-stu-id="9bad4-140">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="9bad4-141">Nach der Installation von Visual Studio 2008 oder Visual Web Developer 2008 müssen Sie ASP.NET MVC-Framework zu installieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-141">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="9bad4-142">Sie können das ASP.NET MVC-Framework von folgender Website herunterladen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-142">You can download the ASP.NET MVC framework from the following website:</span></span>

[<span data-ttu-id="9bad4-143">https://www.ASP.NET/MVC/</span><span class="sxs-lookup"><span data-stu-id="9bad4-143">https://www.asp.net/mvc/</span></span>](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="9bad4-144">Anstelle von ASP.NET-Framework und ASP.NET MVC-Framework einzeln herunterladen, können Sie den Webplattform-Installer nutzen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-144">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="9bad4-145">Der Webplattform-Installer ist eine Anwendung, die Ihnen ermöglicht, die die installierten Anwendungen problemlos zu verwalten sind Ihrem Computer:</span><span class="sxs-lookup"><span data-stu-id="9bad4-145">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [<span data-ttu-id="9bad4-146">https://www.Microsoft.com/Web/Gallery/Install.aspx</span><span class="sxs-lookup"><span data-stu-id="9bad4-146">https://www.microsoft.com/web/gallery/Install.aspx</span></span>](https://www.microsoft.com/web/gallery/Install.aspx)


## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="9bad4-147">Erstellen einer ASP.NET MVC-Webanwendungsprojekts</span><span class="sxs-lookup"><span data-stu-id="9bad4-147">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="9bad4-148">Zunächst erstellen ein neues ASP.NET MVC-Webanwendung-Projekt in Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="9bad4-148">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="9bad4-149">Wählen Sie die Menüoption **Datei, neues Projekt** und sehen Sie im Dialogfeld "Neues Projekt" in Abbildung 1.</span><span class="sxs-lookup"><span data-stu-id="9bad4-149">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="9bad4-150">Wählen Sie c# als Programmiersprache aus, und wählen Sie die Projektvorlage für ASP.NET MVC-Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="9bad4-150">Select C# as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="9bad4-151">Geben Sie Ihrem Projekt den Namen MovieApp, und klicken Sie auf die Schaltfläche "OK".</span><span class="sxs-lookup"><span data-stu-id="9bad4-151">Give your project the name MovieApp and click the OK button.</span></span>


<span data-ttu-id="9bad4-152">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-152">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span></span>

<span data-ttu-id="9bad4-153">**Abbildung 01**: das neue Projekt (Dialogfeld) ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-153">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span></span>


<span data-ttu-id="9bad4-154">Stellen Sie sicher, dass Sie .NET Framework 3.5 in der Dropdownliste am oberen Rand mit dem Dialogfeld "Neues Projekt" auswählen oder die Projektvorlage für ASP.NET MVC-Webanwendung wird nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-154">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>


<span data-ttu-id="9bad4-155">Wenn Sie ein neues MVC-Webanwendungsprojekt erstellen, werden Sie von Visual Studio aufgefordert, ein separates Komponententestprojekt erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-155">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="9bad4-156">Das Dialogfeld in Abbildung 2 wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-156">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="9bad4-157">Da wir wird nicht von Tests in diesem Lernprogramm aufgrund von Einschränkungen erstellen werden (und Ja, wir zu diesem etwas schuldig können) Wählen Sie die **keine** aus, und klicken Sie auf die **OK** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="9bad4-157">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="9bad4-158">Testprojekte unterstützt Visual Web Developer nicht.</span><span class="sxs-lookup"><span data-stu-id="9bad4-158">Visual Web Developer does not support test projects.</span></span>


<span data-ttu-id="9bad4-159">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-159">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span></span>

<span data-ttu-id="9bad4-160">**Abbildung 02**: das Komponententestprojekt erstellen Dialogfeld ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-160">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span></span>


<span data-ttu-id="9bad4-161">ASP.NET MVC-Anwendung verfügt über einen standardmäßigen Satz von Ordnern: einen Ordner für Modelle, Ansichten und Controllern.</span><span class="sxs-lookup"><span data-stu-id="9bad4-161">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="9bad4-162">Sie können diese standardmäßigen Satz von Ordnern im Projektmappen-Explorer-Fenster sehen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-162">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="9bad4-163">Wir müssen auf jeden Ordner Modelle, Ansichten und Controllern Dateien hinzufügen, um unsere Film-datenbankanwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-163">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="9bad4-164">Wenn Sie eine neue MVC-Anwendung mit Visual Studio erstellen, erhalten Sie eine beispielanwendung aus.</span><span class="sxs-lookup"><span data-stu-id="9bad4-164">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="9bad4-165">Da wir von Grund auf neu starten möchten, müssen wir den Inhalt für diese Anwendung zu löschen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-165">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="9bad4-166">Sie müssen die folgende Datei und den folgenden Ordner löschen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-166">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="9bad4-167">Controllers\HomeController. cs</span><span class="sxs-lookup"><span data-stu-id="9bad4-167">Controllers\HomeController.cs</span></span>
- <span data-ttu-id="9bad4-168">Views\Home den</span><span class="sxs-lookup"><span data-stu-id="9bad4-168">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="9bad4-169">Erstellen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="9bad4-169">Creating the Database</span></span>

<span data-ttu-id="9bad4-170">Wir müssen eine Datenbank zum Speichern von unseren Film Datenbankdatensätze zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-170">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="9bad4-171">Glücklicherweise gibt es enthält Visual Studio eine kostenlose Datenbank mit dem Namen SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="9bad4-171">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="9bad4-172">Führen Sie diese Schritte aus, um die Datenbank zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-172">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="9bad4-173">Mit der rechten Maustaste in der App\_Datenordner im Projektmappen-Explorer-Fenster, und wählen Sie die Menüoption **hinzufügen, neue Element**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-173">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="9bad4-174">Wählen Sie die **Daten** Kategorie, und wählen die **SQL Server-Datenbank** Vorlage (siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="9bad4-174">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="9bad4-175">Benennen Sie Ihre neue Datenbank *MoviesDB.mdf* , und klicken Sie auf die **hinzufügen** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="9bad4-175">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="9bad4-176">Nachdem Sie Ihre Datenbank erstellt, Sie können eine Verbindung herstellen mit der Datenbank durch Doppelklicken auf die MoviesDB.mdf-Datei befindet sich in der App\_Datenordner.</span><span class="sxs-lookup"><span data-stu-id="9bad4-176">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="9bad4-177">Auf die MoviesDB.mdf-Datei doppelklicken, wird das Server-Explorer-Fenster geöffnet.</span><span class="sxs-lookup"><span data-stu-id="9bad4-177">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="9bad4-178">Das Server-Explorer-Fenster wird das Datenbank-Explorer-Fenster im Fall von Visual Web Developer benannt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-178">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>


<span data-ttu-id="9bad4-179">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-179">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span></span>

<span data-ttu-id="9bad4-180">**Abbildung 03**: Erstellen einer Microsoft SQL Server-Datenbank ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-180">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span></span>


<span data-ttu-id="9bad4-181">Als Nächstes müssen wir eine neue Datenbanktabelle zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-181">Next, we need to create a new database table.</span></span> <span data-ttu-id="9bad4-182">In Server Explorer-Fenster mit der rechten Maustaste in des Tabellen-Ordners, und wählen die Option des Menüs **neue Tabelle hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-182">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="9bad4-183">Auswählen dieser Option wird die Datenbank-Tabellen-Designer geöffnet.</span><span class="sxs-lookup"><span data-stu-id="9bad4-183">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="9bad4-184">Die folgenden Datenbankspalten zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="9bad4-184">Create the following database columns:</span></span>

<a id="0.1_table01"></a>


| <span data-ttu-id="9bad4-185">**Spaltenname**</span><span class="sxs-lookup"><span data-stu-id="9bad4-185">**Column Name**</span></span> | <span data-ttu-id="9bad4-186">**Datentyp**</span><span class="sxs-lookup"><span data-stu-id="9bad4-186">**Data Type**</span></span> | <span data-ttu-id="9bad4-187">**NULL-Werte zulassen**</span><span class="sxs-lookup"><span data-stu-id="9bad4-187">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9bad4-188">Id</span><span class="sxs-lookup"><span data-stu-id="9bad4-188">Id</span></span> | <span data-ttu-id="9bad4-189">Int</span><span class="sxs-lookup"><span data-stu-id="9bad4-189">Int</span></span> | <span data-ttu-id="9bad4-190">False</span><span class="sxs-lookup"><span data-stu-id="9bad4-190">False</span></span> |
| <span data-ttu-id="9bad4-191">Titel</span><span class="sxs-lookup"><span data-stu-id="9bad4-191">Title</span></span> | <span data-ttu-id="9bad4-192">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="9bad4-192">Nvarchar(100)</span></span> | <span data-ttu-id="9bad4-193">False</span><span class="sxs-lookup"><span data-stu-id="9bad4-193">False</span></span> |
| <span data-ttu-id="9bad4-194">Director</span><span class="sxs-lookup"><span data-stu-id="9bad4-194">Director</span></span> | <span data-ttu-id="9bad4-195">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="9bad4-195">Nvarchar(100)</span></span> | <span data-ttu-id="9bad4-196">False</span><span class="sxs-lookup"><span data-stu-id="9bad4-196">False</span></span> |
| <span data-ttu-id="9bad4-197">DateReleased</span><span class="sxs-lookup"><span data-stu-id="9bad4-197">DateReleased</span></span> | <span data-ttu-id="9bad4-198">DateTime</span><span class="sxs-lookup"><span data-stu-id="9bad4-198">DateTime</span></span> | <span data-ttu-id="9bad4-199">False</span><span class="sxs-lookup"><span data-stu-id="9bad4-199">False</span></span> |


<span data-ttu-id="9bad4-200">Die erste Spalte, die Id-Spalte verfügt über zwei besondere Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="9bad4-200">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="9bad4-201">Zunächst müssen Sie die ID-Spalte als Primärschlüsselspalte zu markieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-201">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="9bad4-202">Nachdem Sie die Id-Spalte auswählen, klicken Sie auf die **Primärschlüssel festlegen** Schaltfläche (er befindet sich das Symbol, das einen Schlüssel aussieht).</span><span class="sxs-lookup"><span data-stu-id="9bad4-202">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="9bad4-203">Zweitens müssen Sie die ID-Spalte als eine Identity-Spalte zu markieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-203">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="9bad4-204">Klicken Sie im Fenster Spalteneigenschaften Bildlauf nach unten zur Abschnitt Identitätsspezifikation, und erweitern Sie ihn.</span><span class="sxs-lookup"><span data-stu-id="9bad4-204">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="9bad4-205">Ändern der **ist Identity** -Eigenschaft auf den Wert **Ja**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-205">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="9bad4-206">Wenn Sie fertig sind, sollte die Tabelle wie in Abbildung 4 aussehen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-206">When you are finished, the table should look like Figure 4.</span></span>


<span data-ttu-id="9bad4-207">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-207">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span></span>

<span data-ttu-id="9bad4-208">**Abbildung 04**: die Filme Datenbanktabelle ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-208">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span></span>


<span data-ttu-id="9bad4-209">Der letzte Schritt ist die neue Tabelle zu speichern.</span><span class="sxs-lookup"><span data-stu-id="9bad4-209">The final step is to save the new table.</span></span> <span data-ttu-id="9bad4-210">Klicken Sie auf die Schaltfläche "Speichern" (das Symbol des Diskettenlaufwerk), und geben Sie der neuen Tabelle namens Filme.</span><span class="sxs-lookup"><span data-stu-id="9bad4-210">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="9bad4-211">Nachdem Sie die Tabelle erstellt haben, fügen Sie einige Datensätze Film der Tabelle hinzu.</span><span class="sxs-lookup"><span data-stu-id="9bad4-211">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="9bad4-212">Mit der rechten Maustaste in der Tabelle Filme im Server-Explorer-Fenster, und wählen Sie die Menüoption **Tabellendaten anzeigen**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-212">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="9bad4-213">Geben Sie eine Liste der bevorzugten Filme (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="9bad4-213">Enter a list of your favorite movies (see Figure 5).</span></span>


<span data-ttu-id="9bad4-214">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-214">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span></span>

<span data-ttu-id="9bad4-215">**Abbildung 05**: Film Datensätze eingeben ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-215">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span></span>


## <a name="creating-the-model"></a><span data-ttu-id="9bad4-216">Erstellen des Modells</span><span class="sxs-lookup"><span data-stu-id="9bad4-216">Creating the Model</span></span>

<span data-ttu-id="9bad4-217">Als Nächstes müssen wir eine Reihe von Klassen zum Darstellen der Datenbank zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-217">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="9bad4-218">Wir müssen zum Erstellen eines Datenbankmodells.</span><span class="sxs-lookup"><span data-stu-id="9bad4-218">We need to create a database model.</span></span> <span data-ttu-id="9bad4-219">Wir führen die Vorteile des Microsoft Entity Framework die Klassen für unsere Datenbankmodell automatisch zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-219">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="9bad4-220">ASP.NET MVC-Framework ist nicht an Microsoft Entity Framework gebunden.</span><span class="sxs-lookup"><span data-stu-id="9bad4-220">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="9bad4-221">Sie können Ihre Datenbank Modellklassen erstellen, durch die Nutzung einer Vielzahl von Objekt Relational Mapping (oder / M) einschließlich LINQ to SQL, Subsonic und NHibernate Tools.</span><span class="sxs-lookup"><span data-stu-id="9bad4-221">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>


<span data-ttu-id="9bad4-222">Führen Sie folgende Schritte des Assistenten für Entity Data Model zu starten:</span><span class="sxs-lookup"><span data-stu-id="9bad4-222">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="9bad4-223">Mit der rechten Maustaste im Projektmappen-Explorer, und wählen Sie die Menüoption Ordner Models **hinzufügen, neue Element**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-223">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="9bad4-224">Wählen Sie die **Daten** Kategorie, und wählen die **ADO.NET Entity Data Model** Vorlage.</span><span class="sxs-lookup"><span data-stu-id="9bad4-224">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="9bad4-225">Geben Sie den Namen Ihres Datenmodells *MoviesDBModel.edmx* , und klicken Sie auf die **hinzufügen** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="9bad4-225">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="9bad4-226">Nachdem Sie die Schaltfläche "hinzufügen" klicken, wird der Assistent für Entity Data Model (siehe Abbildung 6) angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-226">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="9bad4-227">Gehen Sie zum Abschließen des Assistenten wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="9bad4-227">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="9bad4-228">In der **Modellinhalte** Schritt wählen Sie die **aus Datenbank generieren** Option.</span><span class="sxs-lookup"><span data-stu-id="9bad4-228">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="9bad4-229">In der **wählen Sie Ihre Datenverbindung** Schritt: Verwenden der *MoviesDB.mdf* Datenverbindung und den Namen *MoviesDBEntities* für die Verbindungseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-229">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="9bad4-230">Klicken Sie auf die **Weiter** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="9bad4-230">Click the **Next** button.</span></span>
3. <span data-ttu-id="9bad4-231">In der **Datenbankobjekte auswählen** Schritt, erweitern Sie den Knoten "Tabellen", wählen Sie die Tabelle für Filme.</span><span class="sxs-lookup"><span data-stu-id="9bad4-231">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="9bad4-232">Geben Sie den Namespace *MovieApp.Models* , und klicken Sie auf die **Fertig stellen** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="9bad4-232">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>


<span data-ttu-id="9bad4-233">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-233">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span></span>

<span data-ttu-id="9bad4-234">**Abbildung 06**: Generieren eines Modells mit dem Assistenten für Entity Data Model ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-234">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span></span>


<span data-ttu-id="9bad4-235">Nach Abschluss des Assistenten für Entity Data Model wird im Entity Data Model-Designer geöffnet.</span><span class="sxs-lookup"><span data-stu-id="9bad4-235">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="9bad4-236">Anzeigen des Designers die Datenbanktabelle Filme (siehe Abbildung 7).</span><span class="sxs-lookup"><span data-stu-id="9bad4-236">The Designer should display the Movies database table (see Figure 7).</span></span>


<span data-ttu-id="9bad4-237">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-237">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span></span>

<span data-ttu-id="9bad4-238">**Abbildung 07**: The Entity Data Model-Designer ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-238">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span></span>


<span data-ttu-id="9bad4-239">Wir müssen eine Änderung vornehmen, bevor der Vorgang fortgesetzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="9bad4-239">We need to make one change before we continue.</span></span> <span data-ttu-id="9bad4-240">Der Assistent für Entity Data generiert eine Modellklasse namens *Filme* , die die Datenbanktabelle Filme darstellt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-240">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="9bad4-241">Da wir die Filme-Klasse verwenden werden, um einen bestimmten Film darzustellen, müssen wir den Namen der Klasse zu ändern *Film* anstelle von *Filme* (singular statt im plural).</span><span class="sxs-lookup"><span data-stu-id="9bad4-241">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="9bad4-242">Doppelklicken Sie auf den Namen der Klasse auf der Designeroberfläche aus, und ändern Sie den Namen der Klasse von Filmen Film.</span><span class="sxs-lookup"><span data-stu-id="9bad4-242">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="9bad4-243">Nachdem Sie diese Änderung vornehmen, klicken Sie auf die **speichern** (das Symbol für die Diskette)-Schaltfläche, um die Film-Klasse zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-243">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="9bad4-244">Erstellen von ASP.NET MVC-Controllers</span><span class="sxs-lookup"><span data-stu-id="9bad4-244">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="9bad4-245">Der nächste Schritt besteht darin die ASP.NET MVC-Controller zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-245">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="9bad4-246">Ein Domänencontroller ist verantwortlich für die steuern, wie ein Benutzer mit einer ASP.NET MVC-Anwendung interagiert.</span><span class="sxs-lookup"><span data-stu-id="9bad4-246">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="9bad4-247">Führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="9bad4-247">Follow these steps:</span></span>

1. <span data-ttu-id="9bad4-248">Klicken Sie im Fenster Projektmappen-Explorer mit der rechten Maustaste in des Ordners Controller, und wählen Sie die Menüoption **hinzufügen, Controller**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-248">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="9bad4-249">Geben Sie den Namen, klicken Sie im Dialogfeld "Controller hinzufügen" *HomeController* und aktivieren Sie das Kontrollkästchen mit der Bezeichnung **Hinzufügen von Aktionsmethoden für erstellen, aktualisieren und Details Szenarien** (siehe Abbildung 8).</span><span class="sxs-lookup"><span data-stu-id="9bad4-249">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="9bad4-250">Klicken Sie auf die **hinzufügen** Schaltfläche, um den neuen Domänencontroller zu Ihrem Projekt hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-250">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="9bad4-251">Nachdem Sie diese Schritte abgeschlossen haben, wird der Controller im Codebeispiel 1 erstellt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-251">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="9bad4-252">Beachten Sie, dass es sich um Methoden, die mit dem Namen Index, Details, erstellen, enthält, und bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="9bad4-252">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="9bad4-253">In den folgenden Abschnitten fügen wir den erforderlichen Code, um diese Methoden funktionieren zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="9bad4-253">In the following sections, we'll add the necessary code to get these methods to work.</span></span>


<span data-ttu-id="9bad4-254">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-254">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span></span>

<span data-ttu-id="9bad4-255">**Abbildung 08**: Hinzufügen einer neuen ASP.NET MVC-Controller ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-255">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span></span>


<span data-ttu-id="9bad4-256">**1 – Controllers\HomeController. cs auflisten**</span><span class="sxs-lookup"><span data-stu-id="9bad4-256">**Listing 1 – Controllers\HomeController.cs**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample1.cs)]

## <a name="listing-database-records"></a><span data-ttu-id="9bad4-257">Auflisten von Datenbankdatensätzen</span><span class="sxs-lookup"><span data-stu-id="9bad4-257">Listing Database Records</span></span>

<span data-ttu-id="9bad4-258">Die Methode Index() des Home-Controllers ist die Standardmethode für eine ASP.NET MVC-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9bad4-258">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="9bad4-259">Wenn Sie eine ASP.NET MVC-Anwendung ausführen, ist die Index()-Methode der erste Controllermethode, die aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="9bad4-259">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="9bad4-260">Wir verwenden die Index()-Methode zum Anzeigen der Liste mit Datensätzen aus der Datenbanktabelle Filme.</span><span class="sxs-lookup"><span data-stu-id="9bad4-260">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="9bad4-261">Wir müssen die Datenbank Modellklassen nutzen, die wir zuvor erstellt haben, um die Datenbankdatensätze Film mit der Methode Index() abzurufen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-261">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="9bad4-262">Ich HomeController-Klasse in der Liste 2 verändert wurde, sodass sie ein neues privates-Feld mit dem Namen enthält \_Db.</span><span class="sxs-lookup"><span data-stu-id="9bad4-262">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="9bad4-263">Die MoviesDBEntities-Klasse stellt unsere Datenbankmodell, und wir verwenden diese Klasse für die Kommunikation mit der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="9bad4-263">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="9bad4-264">Ich haben auch die Index()-Methode im Codebeispiel 2 geändert.</span><span class="sxs-lookup"><span data-stu-id="9bad4-264">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="9bad4-265">Die Index()-Methode verwendet die MoviesDBEntities-Klasse zum Abrufen aller Datensätze Film aus der Datenbanktabelle Filme.</span><span class="sxs-lookup"><span data-stu-id="9bad4-265">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="9bad4-266">Der Ausdruck  *\_Db. MovieSet.ToList()* gibt eine Liste aller Film Datensätze aus der Datenbanktabelle Filme zurück.</span><span class="sxs-lookup"><span data-stu-id="9bad4-266">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="9bad4-267">Die Liste von Filmen wird an die Ansicht übergeben.</span><span class="sxs-lookup"><span data-stu-id="9bad4-267">The list of movies is passed to the view.</span></span> <span data-ttu-id="9bad4-268">Elemente, die an die View()-Methode übergeben werden ruft als Ansichtsdaten an die Ansicht übergeben.</span><span class="sxs-lookup"><span data-stu-id="9bad4-268">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="9bad4-269">**Auflisten von 2 – Controllers/HomeController.cs (geänderte Index-Methode)**</span><span class="sxs-lookup"><span data-stu-id="9bad4-269">**Listing 2 – Controllers/HomeController.cs (modified Index method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample2.cs)]

<span data-ttu-id="9bad4-270">Die Index()-Methode gibt eine Ansicht mit dem Namen Index.</span><span class="sxs-lookup"><span data-stu-id="9bad4-270">The Index() method returns a view named Index.</span></span> <span data-ttu-id="9bad4-271">Wir müssen diese Ansicht zum Anzeigen der Liste von Datenbankdatensätzen Film zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-271">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="9bad4-272">Führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="9bad4-272">Follow these steps:</span></span>


<span data-ttu-id="9bad4-273">Sollten Sie das Projekt erstellen (im Menü die Option **erstellen, Projektmappe**) vor dem Öffnen der **Ansicht hinzufügen** Dialogfeld oder keine Klassen erscheinen der **Datenklasse anzeigen** Dropdown-Liste.</span><span class="sxs-lookup"><span data-stu-id="9bad4-273">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>


1. <span data-ttu-id="9bad4-274">Mit der rechten Maustaste der Index()-Methode im Code-Editor, und wählen Sie die Menüoption **Ansicht hinzufügen** (siehe Abbildung 9).</span><span class="sxs-lookup"><span data-stu-id="9bad4-274">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="9bad4-275">Klicken Sie im Dialogfeld "Ansicht hinzufügen" Stellen Sie sicher, dass das Kontrollkästchen mit der Bezeichnung **eine stark typisierte Ansicht erstellen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="9bad4-275">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="9bad4-276">Aus der **Inhalt anzeigen** Dropdown Liste, wählen Sie den Wert *Liste*.</span><span class="sxs-lookup"><span data-stu-id="9bad4-276">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="9bad4-277">Aus der **Datenklasse anzeigen** Dropdown Liste, wählen Sie den Wert *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="9bad4-277">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="9bad4-278">Klicken Sie auf die Schaltfläche "hinzufügen", um die Erstellung des neuen anzeigen (siehe Abbildung 10).</span><span class="sxs-lookup"><span data-stu-id="9bad4-278">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="9bad4-279">Nachdem Sie diese Schritte abgeschlossen haben, wird eine neue Sicht mit dem Namen Index.aspx Views\Home den Ordner hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-279">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="9bad4-280">Der Inhalt, der die Indexansicht sind in 3 auflisten enthalten.</span><span class="sxs-lookup"><span data-stu-id="9bad4-280">The contents of the Index view are included in Listing 3.</span></span>


<span data-ttu-id="9bad4-281">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-281">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span></span>

<span data-ttu-id="9bad4-282">**Abbildung 09**: Hinzufügen einer Ansicht aus eine Controlleraktion ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-282">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span></span>


<span data-ttu-id="9bad4-283">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-283">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span></span>

<span data-ttu-id="9bad4-284">**Abbildung 10**: eine neue Sicht erstellen und das Dialogfeld "Ansicht hinzufügen" ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-284">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span></span>


<span data-ttu-id="9bad4-285">**3 – Views\Home\Index.aspx auflisten**</span><span class="sxs-lookup"><span data-stu-id="9bad4-285">**Listing 3 – Views\Home\Index.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample3.aspx)]

<span data-ttu-id="9bad4-286">Die Indexansicht zeigt alle Film Datensätze aus der Datenbanktabelle Filmen innerhalb einer HTML-Tabelle.</span><span class="sxs-lookup"><span data-stu-id="9bad4-286">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="9bad4-287">Die Sicht enthält eine foreach-Schleife, die jede Film, dargestellt durch die Eigenschaft ViewData.Model durchläuft.</span><span class="sxs-lookup"><span data-stu-id="9bad4-287">The view contains a foreach loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="9bad4-288">Wenn Sie Ihre Anwendung ausführen, indem Sie die F5-Taste drücken, werden Sie der Webseite in Abbildung 11 angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-288">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>


<span data-ttu-id="9bad4-289">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-289">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span></span>

<span data-ttu-id="9bad4-290">**Abbildung 11**: die Indexansicht ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-290">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span></span>


## <a name="creating-new-database-records"></a><span data-ttu-id="9bad4-291">Erstellen neuer Datenbankdatensätze</span><span class="sxs-lookup"><span data-stu-id="9bad4-291">Creating New Database Records</span></span>

<span data-ttu-id="9bad4-292">Die Indexansicht, die wir im vorherigen Abschnitt erstellt enthält einen Link zum Erstellen neuer Datenbankdatensätze.</span><span class="sxs-lookup"><span data-stu-id="9bad4-292">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="9bad4-293">Fahren Sie den fort und implementieren Sie die Logik und erstellen Sie die Sicht zum Erstellen neuer Datenbankdatensätze für Film.</span><span class="sxs-lookup"><span data-stu-id="9bad4-293">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="9bad4-294">Die Home-Controller enthält zwei Methoden, die mit dem Namen eine Signatures-Auflistung.</span><span class="sxs-lookup"><span data-stu-id="9bad4-294">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="9bad4-295">Die erste Create()--Methode hat keine Parameter.</span><span class="sxs-lookup"><span data-stu-id="9bad4-295">The first Create() method has no parameters.</span></span> <span data-ttu-id="9bad4-296">Diese Überladung der Methode Create()-wird verwendet, um das HTML-Formular für das Erstellen eines neuen Datensatzes des Film-Datenbank anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-296">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="9bad4-297">Die zweite Create()--Methode hat den FormCollection-Parameter.</span><span class="sxs-lookup"><span data-stu-id="9bad4-297">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="9bad4-298">Diese Überladung der Methode Create()-wird aufgerufen, wenn das HTML-Formular für das Erstellen eines neuen Films an den Server zurückgesendet wird.</span><span class="sxs-lookup"><span data-stu-id="9bad4-298">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="9bad4-299">Beachten Sie, dass die zweite Methode Create()-ein AcceptVerbs-Attribut verfügt, die verhindert, dass die Methode aufgerufen wird, es sei denn, ein HTTP POST-Vorgang ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="9bad4-299">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP POST operation is performed.</span></span>

<span data-ttu-id="9bad4-300">Diese zweite Create()--Methode wurde in der aktualisierten HomeController-Klasse in der Liste 4 geändert.</span><span class="sxs-lookup"><span data-stu-id="9bad4-300">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="9bad4-301">Die neue Version der Methode Create()-einen Film-Parameter akzeptiert und enthält die Logik zum Einfügen eines neuen Films in die Datenbanktabelle Filme.</span><span class="sxs-lookup"><span data-stu-id="9bad4-301">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="9bad4-302">Beachten Sie der Bind-Attribut.</span><span class="sxs-lookup"><span data-stu-id="9bad4-302">Notice the Bind attribute.</span></span> <span data-ttu-id="9bad4-303">Da wir nicht die Film-Id-Eigenschaft von HTML-Formular aktualisieren möchten, muss diese Eigenschaft explizit ausschließen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-303">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>


<span data-ttu-id="9bad4-304">**Auflisten von 4 – Controllers\HomeController. cs (geänderte Create-Methode)**</span><span class="sxs-lookup"><span data-stu-id="9bad4-304">**Listing 4 – Controllers\HomeController.cs (modified Create method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample4.cs)]

<span data-ttu-id="9bad4-305">Visual Studio erleichtert das zum Erstellen des Formulars zum Erstellen einer neuen Film-Datenbank erfassen (siehe Abbildung 12).</span><span class="sxs-lookup"><span data-stu-id="9bad4-305">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="9bad4-306">Führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="9bad4-306">Follow these steps:</span></span>

1. <span data-ttu-id="9bad4-307">Mit der rechten Maustaste der Create()--Methode im Code-Editor, und wählen Sie die Menüoption **Ansicht hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-307">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="9bad4-308">Stellen Sie sicher, dass das Kontrollkästchen mit der Bezeichnung **eine stark typisierte Ansicht erstellen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="9bad4-308">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="9bad4-309">Aus der **Inhalt anzeigen** Dropdown Liste, wählen Sie den Wert *erstellen*.</span><span class="sxs-lookup"><span data-stu-id="9bad4-309">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="9bad4-310">Aus der **Datenklasse anzeigen** Dropdown Liste, wählen Sie den Wert *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="9bad4-310">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="9bad4-311">Klicken Sie auf die **hinzufügen** Schaltfläche, um die neue Ansicht erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-311">Click the **Add** button to create the new view.</span></span>


<span data-ttu-id="9bad4-312">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-312">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span></span>

<span data-ttu-id="9bad4-313">**Abbildung 12**: die Erstellungsansicht hinzufügen ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-313">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span></span>


<span data-ttu-id="9bad4-314">Visual Studio generiert automatisch die Ansicht in 5 auflisten.</span><span class="sxs-lookup"><span data-stu-id="9bad4-314">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="9bad4-315">Diese Ansicht enthält ein HTML-Formular, die Felder enthält, die die Eigenschaften der Klasse Film entsprechen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-315">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="9bad4-316">**5 – Views\Home\Create.aspx auflisten**</span><span class="sxs-lookup"><span data-stu-id="9bad4-316">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="9bad4-317">Das HTML-Formular, das generiert wird, indem Sie das Dialogfeld "Ansicht hinzufügen" generiert eine Id Formularfelds.</span><span class="sxs-lookup"><span data-stu-id="9bad4-317">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="9bad4-318">Da die Id-Spalte eine Identitätsspalte ist, dieser Formularfeld nicht erforderlich, und Sie können Sie problemlos entfernen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-318">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>


<span data-ttu-id="9bad4-319">Nachdem Sie die Erstellungsansicht hinzugefügt haben, können Sie neue Film-Datensätze in der Datenbank hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-319">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="9bad4-320">Führen Sie die Anwendung durch Drücken der F5-Taste, und klicken Sie auf den Link, um das Formular in Abbildung 13 finden Sie unter neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-320">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="9bad4-321">Wenn Sie abschließen und das Formular senden, wird ein neuer Datensatz der Film-Datenbank erstellt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-321">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="9bad4-322">Beachten Sie, dass die formularvalidierung automatisch erhalten.</span><span class="sxs-lookup"><span data-stu-id="9bad4-322">Notice that you get form validation automatically.</span></span> <span data-ttu-id="9bad4-323">Wenn kein Veröffentlichungsdatum für einen Film eingeben, oder Sie eine ungültige Veröffentlichungsdatum geben, klicken Sie dann das Formular wird erneut angezeigt, und das Datumsfeld Version wird hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="9bad4-323">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>


<span data-ttu-id="9bad4-324">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-324">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span></span>

<span data-ttu-id="9bad4-325">**Abbildung 13**: Erstellen eines neuen Datensatzes des Film-Datenbank ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-325">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span></span>


## <a name="editing-existing-database-records"></a><span data-ttu-id="9bad4-326">Bearbeiten die vorhandene Datenbankdatensätze</span><span class="sxs-lookup"><span data-stu-id="9bad4-326">Editing Existing Database Records</span></span>

<span data-ttu-id="9bad4-327">In den vorherigen Abschnitten wird erläutert wie können Sie auflisten und Erstellen neuer Datenbankdatensätze.</span><span class="sxs-lookup"><span data-stu-id="9bad4-327">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="9bad4-328">In diesem letzten Abschnitt wird erläutert, wie Sie die vorhandene Datenbankdatensätze bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="9bad4-328">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="9bad4-329">Zunächst müssen wir das Formular bearbeiten zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-329">First, we need to generate the Edit form.</span></span> <span data-ttu-id="9bad4-330">Dieser Schritt ist einfach, da Visual Studio bearbeiten Form automatisch für uns generiert wird.</span><span class="sxs-lookup"><span data-stu-id="9bad4-330">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="9bad4-331">Öffnen Sie die HomeController.cs-Klasse in Visual Studio Code-Editor, und gehen Sie folgendermaßen vor:</span><span class="sxs-lookup"><span data-stu-id="9bad4-331">Open the HomeController.cs class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="9bad4-332">Mit der rechten Maustaste der Edit()-Methode im Code-Editor, und wählen Sie die Menüoption **Ansicht hinzufügen** (siehe Abbildung 14).</span><span class="sxs-lookup"><span data-stu-id="9bad4-332">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="9bad4-333">Aktivieren Sie das Kontrollkästchen mit der Bezeichnung **eine stark typisierte Ansicht erstellen**.</span><span class="sxs-lookup"><span data-stu-id="9bad4-333">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="9bad4-334">Aus der **Inhalt anzeigen** Dropdown Liste, wählen Sie den Wert *bearbeiten*.</span><span class="sxs-lookup"><span data-stu-id="9bad4-334">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="9bad4-335">Aus der **Datenklasse anzeigen** Dropdown Liste, wählen Sie den Wert *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="9bad4-335">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="9bad4-336">Klicken Sie auf die **hinzufügen** Schaltfläche, um die neue Ansicht erstellen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-336">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="9bad4-337">Mit diesen Schritten wird eine neue Ansicht namens Edit.aspx zum Views\Home den Ordner hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-337">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="9bad4-338">Diese Ansicht enthält ein HTML-Formular zum Bearbeiten von eines Film-Datensatzes.</span><span class="sxs-lookup"><span data-stu-id="9bad4-338">This view contains an HTML form for editing a movie record.</span></span>


<span data-ttu-id="9bad4-339">[![Das Dialogfeld "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="9bad4-339">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span></span>

<span data-ttu-id="9bad4-340">**Abbildung 14**: Hinzufügen der Bearbeitungsansicht ([klicken Sie hier, um das Bild in voller Größe angezeigt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="9bad4-340">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span></span>


> [!NOTE] 
> 
> <span data-ttu-id="9bad4-341">Die Bearbeitungsansicht enthält ein HTML-Formularfeld, das die Film-Id-Eigenschaft entspricht.</span><span class="sxs-lookup"><span data-stu-id="9bad4-341">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="9bad4-342">Da Sie nicht, dass die Personen, die den Wert der Id-Eigenschaft bearbeiten möchten, sollten Sie dieses Formularfeld entfernen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-342">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>


<span data-ttu-id="9bad4-343">Schließlich müssen wir den Home-Controller ändern, damit sie die Bearbeitung des Datensatzes in einer Datenbank unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-343">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="9bad4-344">Aktualisierte HomeController-Klasse ist im Codebeispiel 6 enthalten.</span><span class="sxs-lookup"><span data-stu-id="9bad4-344">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="9bad4-345">**Auflisten von 6 – Controllers\HomeController. cs (Bearbeiten-Methoden)**</span><span class="sxs-lookup"><span data-stu-id="9bad4-345">**Listing 6 – Controllers\HomeController.cs (Edit methods)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample6.cs)]

<span data-ttu-id="9bad4-346">Auflisten von 6 habe ich beide Überladungen der Methode Edit() zusätzliche Logik hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9bad4-346">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="9bad4-347">Auf den Id-Parameter an die Methode übergeben, gibt die erste Edit()-Methode der Film-Datenbankeintrag, der entspricht.</span><span class="sxs-lookup"><span data-stu-id="9bad4-347">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="9bad4-348">Die zweite Überladung führt die Updates auf einen Film-Datensatz in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="9bad4-348">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="9bad4-349">Beachten Sie, dass müssen Sie den ursprünglichen Film abrufen und dann ApplyPropertyChanges() rufen, um den vorhandenen Film in der Datenbank zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="9bad4-349">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="9bad4-350">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="9bad4-350">Summary</span></span>

<span data-ttu-id="9bad4-351">Der Zweck dieses Lernprogramms wurde um einen Eindruck von der Umgebung zum Erstellen einer ASP.NET MVC-Anwendung zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="9bad4-351">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="9bad4-352">Ich hoffe, dass Sie ermittelt, dass das Erstellen einer ASP.NET MVC-Webanwendung auf die Benutzeroberfläche zum Erstellen einer Anwendung Active Server Pages oder ASP.NET sehr ähnlich ist.</span><span class="sxs-lookup"><span data-stu-id="9bad4-352">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="9bad4-353">In diesem Lernprogramm untersucht wir nur die grundlegenden Features von ASP.NET MVC-Framework.</span><span class="sxs-lookup"><span data-stu-id="9bad4-353">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="9bad4-354">In zukünftigen Lernprogrammen eingehendere wir in Themen wie z. B. Controller, Controlleraktionen, Ansichten, Anzeigen von Daten und HTML-Hilfsmethoden.</span><span class="sxs-lookup"><span data-stu-id="9bad4-354">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="9bad4-355">Nächste</span><span class="sxs-lookup"><span data-stu-id="9bad4-355">Next</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb.md)
