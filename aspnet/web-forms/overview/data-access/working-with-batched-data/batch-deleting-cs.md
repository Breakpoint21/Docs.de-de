---
uid: web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
title: Batch löschen (c#) | Microsoft Docs
author: rick-anderson
description: Erfahren Sie, wie mehrere Datenbankdatensätze in einem einzigen Vorgang zu löschen. In der Benutzeroberflächenebene bauen es auf eine verbesserte GridView erstellt in einem früheren Zeitpunkt tut...
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/26/2007
ms.topic: article
ms.assetid: ac6916d0-a5ab-4218-9760-7ba9e72d258c
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
msc.type: authoredcontent
ms.openlocfilehash: 59c90dcf373d19aad42250ee6dedba5f09f833b5
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="batch-deleting-c"></a><span data-ttu-id="44b25-104">Batch löschen (c#)</span><span class="sxs-lookup"><span data-stu-id="44b25-104">Batch Deleting (C#)</span></span>
====================
<span data-ttu-id="44b25-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="44b25-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="44b25-106">[Herunterladen von Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) oder [PDF herunterladen](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="44b25-106">[Download Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) or [Download PDF](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span></span>

> <span data-ttu-id="44b25-107">Erfahren Sie, wie mehrere Datenbankdatensätze in einem einzigen Vorgang zu löschen.</span><span class="sxs-lookup"><span data-stu-id="44b25-107">Learn how to delete multiple database records in a single operation.</span></span> <span data-ttu-id="44b25-108">In der Benutzeroberflächenebene bauen es auf eine verbesserte GridView, die in einer früheren Lernprogramm erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="44b25-108">In the User Interface Layer we build upon an enhanced GridView created in an earlier tutorial.</span></span> <span data-ttu-id="44b25-109">In der Datenzugriffsebene umschließen wir mehrere Delete-Operationen innerhalb einer Transaktion, um sicherzustellen, dass alle Löschvorgänge erfolgreich ausgeführt werden, oder alle Löschvorgänge werden zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="44b25-109">In the Data Access Layer we wrap the multiple Delete operations within a transaction to ensure that all deletions succeed or all deletions are rolled back.</span></span>


## <a name="introduction"></a><span data-ttu-id="44b25-110">Einführung</span><span class="sxs-lookup"><span data-stu-id="44b25-110">Introduction</span></span>

<span data-ttu-id="44b25-111">Die [vorherigen Lernprogramm](batch-updating-cs.md) untersucht wie eine Schnittstelle mit vollständig bearbeitbar GridView-Batchverarbeitung erstellt.</span><span class="sxs-lookup"><span data-stu-id="44b25-111">The [preceding tutorial](batch-updating-cs.md) explored how to create a batch editing interface using a fully-editable GridView.</span></span> <span data-ttu-id="44b25-112">In Situationen, in denen Benutzer häufig viele Datensätze gleichzeitig bearbeiten, erfordert eine Schnittstelle für die Batchverarbeitung wesentlich weniger Postbacks und Tastatur, Maus Kontext Switches, und somit die Endbenutzer-s-Effizienz zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="44b25-112">In situations where users are commonly editing many records at once, a batch editing interface will require far fewer postbacks and keyboard-to-mouse context switches, thereby improving the end user s efficiency.</span></span> <span data-ttu-id="44b25-113">Dieses Verfahren eignet sich entsprechend für Seiten, wo es üblich, dass Benutzer zum Löschen von Datensätzen in einer Aktion ist.</span><span class="sxs-lookup"><span data-stu-id="44b25-113">This technique is similarly useful for pages where it is common for users to delete many records in one go.</span></span>

<span data-ttu-id="44b25-114">Jeder, der einen online-e-Mail-Client verwendet hat bereits mit einem der am häufigsten verwendeten Batch löschen Schnittstellen vertraut ist: ein Kontrollkästchen in jeder Zeile in einem Raster mit einer entsprechenden alle markierte Elemente löschen Schaltfläche (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="44b25-114">Anyone who has used an online email client is already familiar with one of the most common batch deleting interfaces: a checkbox in each row in a grid with a corresponding Delete All Checked Items button (see Figure 1).</span></span> <span data-ttu-id="44b25-115">Dieses Lernprogramm ist vielmehr kurz da wir alle die schwierige Aufgabe im vorherigen Lernprogrammen zum Erstellen der Web-basierte Schnittstelle und eine Methode zum Löschen einer Reihe von Datensätzen als einzelner atomarischer Vorgang bereits getan haben.</span><span class="sxs-lookup"><span data-stu-id="44b25-115">This tutorial is rather short because we ve already done all of the hard work in previous tutorials in creating both the web-based interface and a method to delete a series of records as a single atomic operation.</span></span> <span data-ttu-id="44b25-116">In der [Hinzufügen einer GridView-Spalte der Kontrollkästchen](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) Lernprogramm GridView mit einer Spalte der Kontrollkästchen und in erstellten der [Umbruch Datenbankänderungen innerhalb einer Transaktion](wrapping-database-modifications-within-a-transaction-cs.md) wir eine Methode im erstellt Lernprogramm die BLL, die eine Transaktion, zum Löschen verwenden würden einer `List<T>` von `ProductID` Werte.</span><span class="sxs-lookup"><span data-stu-id="44b25-116">In the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial we created a GridView with a column of checkboxes and in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial we created a method in the BLL that would use a transaction to delete a `List<T>` of `ProductID` values.</span></span> <span data-ttu-id="44b25-117">In diesem Lernprogramm wird aufgebaut und merge unserer vorherigen Möglichkeiten für das Erstellen eines funktionierenden Batches Beispiel löschen.</span><span class="sxs-lookup"><span data-stu-id="44b25-117">In this tutorial, we will build upon and merge our previous experiences to create a working batch deleting example.</span></span>


<span data-ttu-id="44b25-118">[![Jede Zeile enthält ein Kontrollkästchen](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="44b25-118">[![Each Row Includes a Checkbox](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span></span>

<span data-ttu-id="44b25-119">**Abbildung 1**: jede Zeile enthält ein Kontrollkästchen ([klicken Sie hier, um das Bild in voller Größe angezeigt](batch-deleting-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="44b25-119">**Figure 1**: Each Row Includes a Checkbox ([Click to view full-size image](batch-deleting-cs/_static/image2.png))</span></span>


## <a name="step-1-creating-the-batch-deleting-interface"></a><span data-ttu-id="44b25-120">Schritt 1: Erstellen des Batches löschen Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="44b25-120">Step 1: Creating the Batch Deleting Interface</span></span>

<span data-ttu-id="44b25-121">Da wir bereits löschen Schnittstelle im Batch erstellt die [Hinzufügen einer GridView-Spalte der Kontrollkästchen](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) Lernprogramm, wir können einfach kopiert `BatchDelete.aspx` anstelle von Grund auf neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="44b25-121">Since we already created the batch deleting interface in the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial, we can simply copy it to `BatchDelete.aspx` rather than creating it from scratch.</span></span> <span data-ttu-id="44b25-122">Öffnen Sie zunächst die `BatchDelete.aspx` auf der Seite der `BatchData` Ordner und die `CheckBoxField.aspx` auf der Seite der `EnhancedGridView` Ordner.</span><span class="sxs-lookup"><span data-stu-id="44b25-122">Start by opening the `BatchDelete.aspx` page in the `BatchData` folder and the `CheckBoxField.aspx` page in the `EnhancedGridView` folder.</span></span> <span data-ttu-id="44b25-123">Aus der `CheckBoxField.aspx` Seite, wechseln Sie zur Quellansicht aus, und kopieren Sie das Markup zwischen den `<asp:Content>` tags wie in Abbildung 2 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="44b25-123">From the `CheckBoxField.aspx` page, go to the Source view and copy the markup between the `<asp:Content>` tags as shown in Figure 2.</span></span>


<span data-ttu-id="44b25-124">[![Kopieren Sie deklarative Markup CheckBoxField.aspx in die Zwischenablage](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="44b25-124">[![Copy the Declarative Markup of CheckBoxField.aspx to the Clipboard](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span></span>

<span data-ttu-id="44b25-125">**Abbildung 2**: Kopieren von deklarativen Markup `CheckBoxField.aspx` in die Zwischenablage ([klicken Sie hier, um das Bild in voller Größe angezeigt](batch-deleting-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="44b25-125">**Figure 2**: Copy the Declarative Markup of `CheckBoxField.aspx` to the Clipboard ([Click to view full-size image](batch-deleting-cs/_static/image4.png))</span></span>


<span data-ttu-id="44b25-126">Als Nächstes wechseln Sie zur Quellansicht in `BatchDelete.aspx` und fügen Sie den Inhalt der Zwischenablage in die `<asp:Content>` Tags.</span><span class="sxs-lookup"><span data-stu-id="44b25-126">Next, go to the Source view in `BatchDelete.aspx` and paste the contents of the clipboard within the `<asp:Content>` tags.</span></span> <span data-ttu-id="44b25-127">Auch kopieren und fügen Sie den Code aus, in der CodeBehind-Klasse in `CheckBoxField.aspx.cs` , innerhalb der Code-Behind-Klasse in `BatchDelete.aspx.cs` (die `DeleteSelectedProducts` Schaltfläche s `Click` Ereignishandler, d. h. die `ToggleCheckState` -Methode, und die `Click` -Ereignishandler für die `CheckAll` und `UncheckAll` Schaltflächen).</span><span class="sxs-lookup"><span data-stu-id="44b25-127">Also copy and paste the code from within the code-behind class in `CheckBoxField.aspx.cs` to within the code-behind class in `BatchDelete.aspx.cs` (the `DeleteSelectedProducts` Button s `Click` event handler, the `ToggleCheckState` method, and the `Click` event handlers for the `CheckAll` and `UncheckAll` Buttons).</span></span> <span data-ttu-id="44b25-128">Nach dem Kopieren über diesen Inhalt der `BatchDelete.aspx` Seite "s" Code-Behind-Klasse sollte den folgenden Code enthalten:</span><span class="sxs-lookup"><span data-stu-id="44b25-128">After copying over this content, the `BatchDelete.aspx` page s code-behind class should contain the following code:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample1.cs)]

<span data-ttu-id="44b25-129">Nehmen Sie nach dem Kopieren über den Quellcode und deklaratives Markup, einen Moment Zeit zum Testen `BatchDelete.aspx` durch ihn über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="44b25-129">After copying over the declarative markup and source code, take a moment to test `BatchDelete.aspx` by viewing it through a browser.</span></span> <span data-ttu-id="44b25-130">Daraufhin sollte eine GridView, die die ersten zehn Produkte in einer GridView mit jeder Zeile Auflisten der Produktname s, Kategorie und Preis zusammen mit einem Kontrollkästchen auflisten.</span><span class="sxs-lookup"><span data-stu-id="44b25-130">You should see a GridView listing the first ten products in a GridView with each row listing the product s name, category, and price along with a checkbox.</span></span> <span data-ttu-id="44b25-131">Es darf drei Schaltflächen: Überprüfen Sie alle, alle deaktivieren und Löschen ausgewählt Produkte.</span><span class="sxs-lookup"><span data-stu-id="44b25-131">There should be three buttons: Check All, Uncheck All, and Delete Selected Products.</span></span> <span data-ttu-id="44b25-132">Klicken auf die Schaltfläche Alle wählt alle Kontrollkästchen, während alle deaktivieren Sie alle Kontrollkästchen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="44b25-132">Clicking the Check All button selects all checkboxes, while Uncheck All clears all checkboxes.</span></span> <span data-ttu-id="44b25-133">Löschen ausgewählter Produkte auf eine Nachricht mit der Liste zeigt die `ProductID` Werte der ausgewählten Produkte, aber nicht tatsächlich die Produkte gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="44b25-133">Clicking Delete Selected Products displays a message that lists the `ProductID` values of the selected products, but does not actually delete the products.</span></span>


<span data-ttu-id="44b25-134">[![Die Schnittstelle aus CheckBoxField.aspx wurden an BatchDeleting.aspx verschoben.](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="44b25-134">[![The Interface from CheckBoxField.aspx has been Moved to BatchDeleting.aspx](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span></span>

<span data-ttu-id="44b25-135">**Abbildung 3**: die Schnittstelle aus `CheckBoxField.aspx` ausgelagert wurden `BatchDeleting.aspx` ([klicken Sie hier, um das Bild in voller Größe angezeigt](batch-deleting-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="44b25-135">**Figure 3**: The Interface from `CheckBoxField.aspx` has been Moved to `BatchDeleting.aspx` ([Click to view full-size image](batch-deleting-cs/_static/image6.png))</span></span>


## <a name="step-2-deleting-the-checked-products-using-transactions"></a><span data-ttu-id="44b25-136">Schritt 2: Löschen die aktivierte Produkte, die Verwendung von Transaktionen</span><span class="sxs-lookup"><span data-stu-id="44b25-136">Step 2: Deleting the Checked Products Using Transactions</span></span>

<span data-ttu-id="44b25-137">Mit dem Batch löschen erfolgreich zu kopiert Schnittstelle `BatchDeleting.aspx`, dass alle sich bleibt so aktualisieren den Code, damit die Schaltfläche mit den ausgewählten Produkten löschen die aktivierte Produkte mit löscht die `DeleteProductsWithTransaction` Methode in der `ProductsBLL` Klasse.</span><span class="sxs-lookup"><span data-stu-id="44b25-137">With the batch deleting interface successfully copied over to `BatchDeleting.aspx`, all that remains is to update the code so that the Delete Selected Products button deletes the checked products using the `DeleteProductsWithTransaction` method in the `ProductsBLL` class.</span></span> <span data-ttu-id="44b25-138">Dieser Methode hinzugefügt, die der [Umbruch Datenbankänderungen innerhalb einer Transaktion](wrapping-database-modifications-within-a-transaction-cs.md) Lernprogramm akzeptiert als Eingabe eine `List<T>` von `ProductID` Werten und löschungen jeweils entsprechenden `ProductID` innerhalb des Bereichs ein die Transaktion.</span><span class="sxs-lookup"><span data-stu-id="44b25-138">This method, added in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial, accepts as its input a `List<T>` of `ProductID` values and deletes each corresponding `ProductID` within the scope of a transaction.</span></span>

<span data-ttu-id="44b25-139">Die `DeleteSelectedProducts` Schaltfläche s `Click` -Ereignishandler verwendet derzeit die folgenden `foreach` Schleife zum Durchlaufen der einzelnen GridView-Zeile:</span><span class="sxs-lookup"><span data-stu-id="44b25-139">The `DeleteSelectedProducts` Button s `Click` event handler currently uses the following `foreach` loop to iterate through each GridView row:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample2.cs)]

<span data-ttu-id="44b25-140">Für jede Zeile der `ProductSelector` CheckBox-Websteuerelement programmgesteuert verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="44b25-140">For each row, the `ProductSelector` CheckBox Web control is programmatically referenced.</span></span> <span data-ttu-id="44b25-141">Wenn diese Option aktiviert ist, die Zeile s `ProductID` entnommen wird die `DataKeys` Auflistung und die `DeleteResults` Bezeichnung s `Text` Eigenschaft so aktualisiert wird, eine Meldung gibt an, dass die Zeile zum Löschen ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="44b25-141">If it is checked, the row s `ProductID` is retrieved from the `DataKeys` collection and the `DeleteResults` Label s `Text` property is updated to include a message indicating that the row was selected for deletion.</span></span>

<span data-ttu-id="44b25-142">Der obige Code tatsächlich löscht keine Datensätze wie der Aufruf der `ProductsBLL` Klasse s `Delete` Methode auskommentiert ist. Wurden diese Delete-Logik angewendet werden, würde der Code die Produkte gelöscht, aber nicht in einer atomaren Operation.</span><span class="sxs-lookup"><span data-stu-id="44b25-142">The above code does not actually delete any records as the call to the `ProductsBLL` class s `Delete` method is commented out. Were this delete logic to be applied, the code would delete the products but not within an atomic operation.</span></span> <span data-ttu-id="44b25-143">D. h. wenn die ersten Paar Löschvorgänge in der Sequenz war erfolgreich, aber eine höhere Version ist (möglicherweise wegen eines foreign Key-Einschränkung fehlgeschlagen), würde eine Ausnahme ausgelöst werden dieser Produkte, die bereits gelöscht würden verbleiben jedoch gelöscht.</span><span class="sxs-lookup"><span data-stu-id="44b25-143">That is, if the first few deletes in the sequence succeeded, but a later one failed (perhaps due to a foreign key constraint violation), an exception would be thrown but those products already deleted would remain deleted.</span></span>

<span data-ttu-id="44b25-144">Um die Unteilbarkeit zu gewährleisten, müssen wir stattdessen die `ProductsBLL` Klasse s `DeleteProductsWithTransaction` Methode.</span><span class="sxs-lookup"><span data-stu-id="44b25-144">In order to assure atomicity, we need to instead use the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="44b25-145">Da diese Methode akzeptiert, die eine Liste der `ProductID` Werte, müssen wir zuerst kompilieren diese Liste, aus dem Raster und klicken Sie dann als Parameter zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="44b25-145">Because this method accepts a list of `ProductID` values, we need to first compile this list from the grid and then pass it as a parameter.</span></span> <span data-ttu-id="44b25-146">Wir zuerst erstellen Sie eine Instanz von einem `List<T>` vom Typ `int`.</span><span class="sxs-lookup"><span data-stu-id="44b25-146">We first create an instance of a `List<T>` of type `int`.</span></span> <span data-ttu-id="44b25-147">Innerhalb der `foreach` Schleife wir fügen die ausgewählten Produkte müssen `ProductID` Werte dieser `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="44b25-147">Within the `foreach` loop we need to add the selected products `ProductID` values to this `List<T>`.</span></span> <span data-ttu-id="44b25-148">Nach der Schleife dies `List<T>` übergeben werden muss, um die `ProductsBLL` Klasse s `DeleteProductsWithTransaction` Methode.</span><span class="sxs-lookup"><span data-stu-id="44b25-148">After the loop this `List<T>` must be passed to the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="44b25-149">Update der `DeleteSelectedProducts` Schaltfläche s `Click` -Ereignishandler durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="44b25-149">Update the `DeleteSelectedProducts` Button s `Click` event handler with the following code:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample3.cs)]

<span data-ttu-id="44b25-150">Der aktualisierte Code erstellt ein `List<T>` des Typs `int` (`productIDsToDelete`) und füllt sie mit der `ProductID` zu löschende Werte.</span><span class="sxs-lookup"><span data-stu-id="44b25-150">The updated code creates a `List<T>` of type `int` (`productIDsToDelete`) and populates it with the `ProductID` values to delete.</span></span> <span data-ttu-id="44b25-151">Nach der `foreach` Schleife, wenn mindestens ein Produkt ausgewählt haben, ist die `ProductsBLL` Klasse s `DeleteProductsWithTransaction` Methode wird aufgerufen, und übergeben Sie dieser Liste.</span><span class="sxs-lookup"><span data-stu-id="44b25-151">After the `foreach` loop, if there is at least one product selected, the `ProductsBLL` class s `DeleteProductsWithTransaction` method is called and passed this list.</span></span> <span data-ttu-id="44b25-152">Die `DeleteResults` Bezeichnung wird auch angezeigt, und die Daten erneut an die GridView gebunden wird (sodass die neu gelöschte Datensätze als Zeilen im Raster nicht mehr angezeigt werden).</span><span class="sxs-lookup"><span data-stu-id="44b25-152">The `DeleteResults` Label is also displayed and the data rebound to the GridView (so that the newly-deleted records no longer appear as rows in the grid).</span></span>

<span data-ttu-id="44b25-153">Abbildung 4 zeigt die GridView, nachdem eine Anzahl von Zeilen zum Löschen ausgewählt wurden.</span><span class="sxs-lookup"><span data-stu-id="44b25-153">Figure 4 shows the GridView after a number of rows have been selected for deletion.</span></span> <span data-ttu-id="44b25-154">Abbildung 5 zeigt den Bildschirm sofort, nachdem Sie die Schaltfläche "Löschen ausgewählten Produkten" geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="44b25-154">Figure 5 shows the screen immediately after the Delete Selected Products button has been clicked.</span></span> <span data-ttu-id="44b25-155">Beachten Sie, dass in Abbildung 5 die `ProductID` der gelöschten Datensätze in die Bezeichnung unter GridView angezeigt werden und diese Zeilen werden nicht mehr in der GridView.</span><span class="sxs-lookup"><span data-stu-id="44b25-155">Note that in Figure 5 the `ProductID` values of the deleted records are displayed in the Label beneath the GridView and those rows are no longer in the GridView.</span></span>


<span data-ttu-id="44b25-156">[![Die ausgewählten Produkte werden gelöscht.](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="44b25-156">[![The Selected Products Will Be Deleted](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span></span>

<span data-ttu-id="44b25-157">**Abbildung 4**: die ausgewählten Produkte gelöscht werden ([klicken Sie hier, um das Bild in voller Größe angezeigt](batch-deleting-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="44b25-157">**Figure 4**: The Selected Products Will Be Deleted ([Click to view full-size image](batch-deleting-cs/_static/image8.png))</span></span>


<span data-ttu-id="44b25-158">[![Gelöschte Werte Produkte "ProductID" unterhalb der GridView aufgeführt](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="44b25-158">[![The Deleted Products ProductID Values are Listed Beneath the GridView](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span></span>

<span data-ttu-id="44b25-159">**Abbildung 5**: der gelöschte Produkte `ProductID` Werte sind unter der GridView aufgeführt ([klicken Sie hier, um das Bild in voller Größe angezeigt](batch-deleting-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="44b25-159">**Figure 5**: The Deleted Products `ProductID` Values are Listed Beneath the GridView ([Click to view full-size image](batch-deleting-cs/_static/image10.png))</span></span>


> [!NOTE]
> <span data-ttu-id="44b25-160">So testen Sie die `DeleteProductsWithTransaction` Methode s Unteilbarkeit, fügen Sie manuell einen Eintrag für ein Produkt in der `Order Details` Tabelle und dann versuchen, das Produkt (zusammen mit anderen) zu löschen.</span><span class="sxs-lookup"><span data-stu-id="44b25-160">To test the `DeleteProductsWithTransaction` method s atomicity, manually add an entry for a product in the `Order Details` table and then attempt to delete that product (along with others).</span></span> <span data-ttu-id="44b25-161">Beim Versuch, das Produkt mit einer zugeordneten Auftrag löschen, aber beachten, wie die Löschung der ausgewählten Produkte anderer Rollback ausgeführt werden, erhalten Sie eine Verletzung der foreign Key-Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="44b25-161">You will receive a foreign key constraint violation when attempting to delete the product with an associated order, but note how the other selected products deletions are rolled back.</span></span>


## <a name="summary"></a><span data-ttu-id="44b25-162">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="44b25-162">Summary</span></span>

<span data-ttu-id="44b25-163">Erstellen einen Batch löschen Schnittstelle umfasst das Hinzufügen einer GridView mit einer Spalte der Kontrollkästchen, und eine Schaltfläche-Websteuerelement, wenn geklickt haben, werden alle ausgewählten Zeilen als einzelner atomarischer Vorgang gelöscht.</span><span class="sxs-lookup"><span data-stu-id="44b25-163">Creating a batch deleting interface involves adding a GridView with a column of checkboxes and a Button Web control that, when clicked, will delete all of the selected rows as a single atomic operation.</span></span> <span data-ttu-id="44b25-164">In diesem Lernprogramm erstellt es eine solche Schnittstelle Zusammenführung überlappender Arbeit, die in beiden vorherigen Lernprogrammen [Hinzufügen einer GridView-Spalte der Kontrollkästchen](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) und [Umbruch Datenbankänderungen innerhalb einer Transaktion](wrapping-database-modifications-within-a-transaction-cs.md).</span><span class="sxs-lookup"><span data-stu-id="44b25-164">In this tutorial we built such an interface by piecing together work done in two previous tutorials, [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) and [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md).</span></span> <span data-ttu-id="44b25-165">Im ersten Lernprogramm erstellt es eine GridView mit einer Spalte mit Kontrollkästchen und im letzten Fall wir eine Methode in der BLL implementiert, die beim Übergeben einer `List<T>` von `ProductID` Werte innerhalb des Bereichs einer Transaktion gelöscht.</span><span class="sxs-lookup"><span data-stu-id="44b25-165">In the first tutorial we created a GridView with a column of checkboxes and in the latter we implemented a method in the BLL that, when passed a `List<T>` of `ProductID` values, deleted them all within the scope of a transaction.</span></span>

<span data-ttu-id="44b25-166">In den nächsten Lernprogrammen erstellen wir eine Schnittstelle für die Batchverarbeitung von Einfügevorgängen ausführen.</span><span class="sxs-lookup"><span data-stu-id="44b25-166">In the next tutorial we'll create an interface for performing batch inserts.</span></span>

<span data-ttu-id="44b25-167">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="44b25-167">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="44b25-168">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="44b25-168">About the Author</span></span>

<span data-ttu-id="44b25-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="44b25-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="44b25-170">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="44b25-170">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="44b25-171">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="44b25-171">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="44b25-172">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="44b25-172">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="44b25-173">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="44b25-173">Special Thanks To</span></span>

<span data-ttu-id="44b25-174">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="44b25-174">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="44b25-175">Lead Prüfer für dieses Lernprogramm wurden Hilton Giesenow und Teresa Murphy.</span><span class="sxs-lookup"><span data-stu-id="44b25-175">Lead reviewers for this tutorial were Hilton Giesenow and Teresa Murphy.</span></span> <span data-ttu-id="44b25-176">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="44b25-176">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="44b25-177">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="44b25-177">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="44b25-178">[Zurück](batch-updating-cs.md)
> [Weiter](batch-inserting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="44b25-178">[Previous](batch-updating-cs.md)
[Next](batch-inserting-cs.md)</span></span>
