---
title: Routing in ASP.NET Core
author: ardalis
description: "Ermitteln Sie, wie ASP.NET Core Routingfunktion für eine eingehende Anforderung an eine Routenhandler Zuordnung zuständig ist."
keywords: ASP.NET Core,
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: bbbcf9e4-3c4c-4f50-b91e-175fe9cae4e2
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/routing
ms.openlocfilehash: 58388f674ed5d353c1c7208a67fb338e49fdb592
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="b29c0-104">Routing in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="b29c0-104">Routing in ASP.NET Core</span></span>

<span data-ttu-id="b29c0-105">Durch [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), und [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="b29c0-105">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="b29c0-106">Routingfunktion ist verantwortlich für die Zuordnung einer eingehenden Anforderungs an eine Routenhandler.</span><span class="sxs-lookup"><span data-stu-id="b29c0-106">Routing functionality is responsible for mapping an incoming request to a route handler.</span></span> <span data-ttu-id="b29c0-107">Routen werden in der ASP.NET app definiert und konfiguriert, wenn die app wird gestartet.</span><span class="sxs-lookup"><span data-stu-id="b29c0-107">Routes are defined in the ASP.NET app and configured when the app starts up.</span></span> <span data-ttu-id="b29c0-108">Eine Route kann optional Extrahieren von Werten aus der URL, die in der Anforderung enthalten sind, und diese Werte können dann für die anforderungsverarbeitung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-108">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="b29c0-109">Mit Routeninformationen zur aus der ASP.NET app ist die Routingfunktion auch zum Generieren von URLs, die Routenhandler zuordnen können.</span><span class="sxs-lookup"><span data-stu-id="b29c0-109">Using route information from the ASP.NET app, the routing functionality is also able to generate URLs that map to route handlers.</span></span> <span data-ttu-id="b29c0-110">Aus diesem Grund kann routing eine Routenhandler basierend auf einer URL oder einen bestimmten Routenhandler basierend auf Routeninformationen-Handler entsprechende URL gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-110">Therefore, routing can find a route handler based on a URL, or the URL corresponding to a given route handler based on route handler information.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="b29c0-111">Dieses Dokument behandelt die low-Level ASP.NET Core routing.</span><span class="sxs-lookup"><span data-stu-id="b29c0-111">This document covers the low level ASP.NET Core routing.</span></span> <span data-ttu-id="b29c0-112">ASP.NET Core MVC-routing, finden Sie unter [Routing an Controlleraktionen](../mvc/controllers/routing.md)</span><span class="sxs-lookup"><span data-stu-id="b29c0-112">For ASP.NET Core MVC routing, see [Routing to Controller Actions](../mvc/controllers/routing.md)</span></span>

<span data-ttu-id="b29c0-113">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/sample) ([Vorgehensweise zum Herunterladen](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="b29c0-113">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="b29c0-114">Routing-Grundlagen</span><span class="sxs-lookup"><span data-stu-id="b29c0-114">Routing basics</span></span>

<span data-ttu-id="b29c0-115">Routing verwendet *Routen* (Implementierungen von [IRouter](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.routing.irouter)) an:</span><span class="sxs-lookup"><span data-stu-id="b29c0-115">Routing uses *routes* (implementations of [IRouter](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.routing.irouter)) to:</span></span>

* <span data-ttu-id="b29c0-116">Zuordnen von eingehenden Anforderungen an *Handler weiterleiten*</span><span class="sxs-lookup"><span data-stu-id="b29c0-116">map incoming requests to *route handlers*</span></span>

* <span data-ttu-id="b29c0-117">Generieren von URLs, die in Antworten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-117">generate URLs used in responses</span></span>

<span data-ttu-id="b29c0-118">Im Allgemeinen gibt es eine app eine einzelne Auflistung von Routen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-118">Generally, an app has a single collection of routes.</span></span> <span data-ttu-id="b29c0-119">Wenn eine Anforderung eingeht, wird die Auflistung von Routen in der Reihenfolge verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="b29c0-119">When a request arrives, the route collection is processed in order.</span></span> <span data-ttu-id="b29c0-120">Die eingehende Anforderung für eine Route, die durch Aufrufen die Anforderungs-URL entspricht sieht die `RouteAsync` -Methode für jedes verfügbare Route in der Auflistung von Routen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-120">The incoming request looks for a route that matches the request URL by calling the `RouteAsync` method on each available route in the route collection.</span></span> <span data-ttu-id="b29c0-121">Eine Antwort kann dagegen routing zum Generieren von URLs (z. B. für Umleitung oder Links) basierend auf Routeninformationen verwenden und somit zu vermeiden hartcodierter URLs, was, Verwaltbarkeit hilft.</span><span class="sxs-lookup"><span data-stu-id="b29c0-121">By contrast, a response can use routing to generate URLs (for example, for redirection or links) based on route information, and thus avoid having to hard-code URLs, which helps maintainability.</span></span>

<span data-ttu-id="b29c0-122">Routing verbunden ist, um die [Middleware](middleware.md) pipeline nach dem `RouterMiddleware` Klasse.</span><span class="sxs-lookup"><span data-stu-id="b29c0-122">Routing is connected to the [middleware](middleware.md) pipeline by the `RouterMiddleware` class.</span></span> <span data-ttu-id="b29c0-123">[ASP.NET MVC](../mvc/overview.md) routing für die middlewarepipeline als Teil der Konfiguration hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-123">[ASP.NET MVC](../mvc/overview.md) adds routing to the middleware pipeline as part of its configuration.</span></span> <span data-ttu-id="b29c0-124">Zur Verwendung als eigenständige Komponente routing finden Sie unter [mithilfe-routing-Middleware](#using-routing-middleware).</span><span class="sxs-lookup"><span data-stu-id="b29c0-124">To learn about using routing as a standalone component, see [using-routing-middleware](#using-routing-middleware).</span></span>

<a name="url-matching-ref"></a>

### <a name="url-matching"></a><span data-ttu-id="b29c0-125">URL-Abgleich</span><span class="sxs-lookup"><span data-stu-id="b29c0-125">URL matching</span></span>

<span data-ttu-id="b29c0-126">Der Prozess, durch welche routing sendet eine eingehende Anforderung zum, Abgleich von URL ist eine *Handler*.</span><span class="sxs-lookup"><span data-stu-id="b29c0-126">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="b29c0-127">Dieser Prozess wird im Allgemeinen basierend auf Daten in der URL-Pfad, aber erweitert werden kann, so, dass alle Daten in der Anforderung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-127">This process is generally based on data in the URL path, but can be extended to consider any data in the request.</span></span> <span data-ttu-id="b29c0-128">Die Fähigkeit, dispatch-Anforderungen an die Handler zu trennen ist entscheidend skalieren die Größe und Komplexität einer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-128">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an application.</span></span>

<span data-ttu-id="b29c0-129">Eingehende Anforderungen Geben Sie die `RouterMiddleware`, welche Aufrufe die `RouteAsync` -Methode für jede Route in der Sequenz.</span><span class="sxs-lookup"><span data-stu-id="b29c0-129">Incoming requests enter the `RouterMiddleware`, which calls the `RouteAsync` method on each route in sequence.</span></span> <span data-ttu-id="b29c0-130">Die `IRouter` Instanz auswählt, ob *behandeln* der Anforderung durch Festlegen der `RouteContext.Handler` zu einer nicht-Null `RequestDelegate`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-130">The `IRouter` instance chooses whether to *handle* the request by setting the `RouteContext.Handler` to a non-null `RequestDelegate`.</span></span> <span data-ttu-id="b29c0-131">Wenn eine Route einen Handler für die Anforderung festlegt, wird Route, die Verarbeitung beendet und den Ereignishandler zur Verarbeitung der Anforderung aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-131">If a route sets a handler for the request, route processing stops and the handler will be invoked to process the request.</span></span> <span data-ttu-id="b29c0-132">Wenn alle Routen versucht werden soll, und kein Handler, für die Anforderung gefunden wird, die Middleware ruft *Weiter* und die nächste Middleware in der Anforderungspipeline aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-132">If all routes are tried and no handler is found for the request, the middleware calls *next* and the next middleware in the request pipeline is invoked.</span></span>

<span data-ttu-id="b29c0-133">Die primäre Eingabe `RouteAsync` ist die `RouteContext.HttpContext` mit der aktuellen Anforderung verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="b29c0-133">The primary input to `RouteAsync` is the `RouteContext.HttpContext` associated with the current request.</span></span> <span data-ttu-id="b29c0-134">Die `RouteContext.Handler` und `RouteContext.RouteData` sind Ausgaben, die nach einer Route entspricht festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-134">The `RouteContext.Handler` and `RouteContext.RouteData` are outputs that will be set after a route matches.</span></span>

<span data-ttu-id="b29c0-135">Eine Übereinstimmung bei `RouteAsync` wird außerdem die Eigenschaften der Festlegen der `RouteContext.RouteData` auf die entsprechenden Werte basierend auf der Verarbeitung der Anforderung bisher.</span><span class="sxs-lookup"><span data-stu-id="b29c0-135">A match during `RouteAsync` will also set the properties of the `RouteContext.RouteData` to appropriate values based on the request processing done so far.</span></span> <span data-ttu-id="b29c0-136">Wenn eine Route einer Anforderung entspricht dem `RouteContext.RouteData` enthält wichtige Informationen zu den *Ergebnis*.</span><span class="sxs-lookup"><span data-stu-id="b29c0-136">If a route matches a request, the `RouteContext.RouteData` will contain important state information about the *result*.</span></span>

<span data-ttu-id="b29c0-137">`RouteData.Values`ist ein Wörterbuch von *Routenwerte* nutzen, die aus der Route.</span><span class="sxs-lookup"><span data-stu-id="b29c0-137">`RouteData.Values` is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="b29c0-138">Diese Werte werden in der Regel durch versehen die URL bestimmt und können verwendet werden, um Benutzereingaben akzeptieren oder für weiter verteilen Entscheidungen in der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-138">These values are usually determined by tokenizing the URL, and can be used to accept user input, or to make further dispatching decisions inside the application.</span></span>

<span data-ttu-id="b29c0-139">`RouteData.DataTokens`wird ein Eigenschaftenbehälter, der zusätzliche Daten, die im Zusammenhang mit der übereinstimmenden Route an.</span><span class="sxs-lookup"><span data-stu-id="b29c0-139">`RouteData.DataTokens`  is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="b29c0-140">`DataTokens`Dient zur Zuordnung von Status zu unterstützen, die Daten mit jede Route, damit die Anwendung später basierend Entscheidungen kann auf der route verglichen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-140">`DataTokens` are provided to support associating state data with each route so the application can make decisions later based on which route matched.</span></span> <span data-ttu-id="b29c0-141">Diese Werte sind Entwickler definiert, und führen Sie **nicht** beeinflussen das Verhalten des Routings in keiner Weise.</span><span class="sxs-lookup"><span data-stu-id="b29c0-141">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="b29c0-142">Darüber hinaus können in Datentoken Boyer Werte eines beliebigen Typs, im Gegensatz zu Routenwerte, sein, die problemlos konvertiert in und aus Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-142">Additionally, values stashed in data tokens can be of any type, in contrast to route values, which must be easily convertible to and from strings.</span></span>

<span data-ttu-id="b29c0-143">`RouteData.Routers`ist eine Liste der Routen, die in den Abgleich erfolgreich der Anforderungs Layoutdurchlauf.</span><span class="sxs-lookup"><span data-stu-id="b29c0-143">`RouteData.Routers` is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="b29c0-144">Routen können in einer anderen geschachtelt sein und die `Routers` -Eigenschaft entspricht den Pfad in der logischen Struktur des Routen, die in einer Übereinstimmung geführt haben.</span><span class="sxs-lookup"><span data-stu-id="b29c0-144">Routes can be nested inside one another, and the `Routers` property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="b29c0-145">Im Allgemeinen das erste Element im `Routers` wird die Auflistung von Routen sowie für URL-Generierung verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="b29c0-145">Generally the first item in `Routers` is the route collection, and should be used for URL generation.</span></span> <span data-ttu-id="b29c0-146">Das letzte Element im `Routers` der Routenhandler, die abgeglichen wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-146">The last item in `Routers` is the route handler that matched.</span></span>

### <a name="url-generation"></a><span data-ttu-id="b29c0-147">URL-Generierung</span><span class="sxs-lookup"><span data-stu-id="b29c0-147">URL generation</span></span>

<span data-ttu-id="b29c0-148">URL-Generierung ist der Prozess, durch welche routing einen URL-Pfad basierend auf einem Satz von Routenwerten erstellen können.</span><span class="sxs-lookup"><span data-stu-id="b29c0-148">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="b29c0-149">Dies ermöglicht eine logische Trennung zwischen Ihrer Handler und die URLs, die darauf zugreifen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-149">This allows for a logical separation between your handlers and the URLs that access them.</span></span>

<span data-ttu-id="b29c0-150">URL-Generierung folgt einen ähnlichen iterativen Prozess, startet aber durch Benutzer oder Framework-Code Aufrufe in die `GetVirtualPath` -Methode der routenauflistung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-150">URL generation follows a similar iterative process, but starts with user or framework code calling into the `GetVirtualPath` method of the route collection.</span></span> <span data-ttu-id="b29c0-151">Jede *Route* dann seine `GetVirtualPath` nacheinander aufgerufen, bis ein Wert ungleich Null `VirtualPathData` zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-151">Each *route* will then have its `GetVirtualPath` method called in sequence until a non-null `VirtualPathData` is returned.</span></span>

<span data-ttu-id="b29c0-152">Die primäre Eingaben `GetVirtualPath` sind:</span><span class="sxs-lookup"><span data-stu-id="b29c0-152">The primary inputs to `GetVirtualPath` are:</span></span>

* `VirtualPathContext.HttpContext`

* `VirtualPathContext.Values`

* `VirtualPathContext.AmbientValues`

<span data-ttu-id="b29c0-153">Routen werden in erster Linie die Routenwerte gebotenen verwenden die `Values` und `AmbientValues` entscheiden, wo es möglich, eine URL zu generieren ist und welche Werte enthalten.</span><span class="sxs-lookup"><span data-stu-id="b29c0-153">Routes primarily use the route values provided by the `Values` and `AmbientValues` to decide where it is possible to generate a URL and what values to include.</span></span> <span data-ttu-id="b29c0-154">Die `AmbientValues` sind der Satz von Routenwerte, die von einem Abgleich die aktuelle Anforderung mit dem routing System erzeugt wurden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-154">The `AmbientValues` are the set of route values that were produced from matching the current request with the routing system.</span></span> <span data-ttu-id="b29c0-155">Im Gegensatz dazu `Values` die Routenwerte, die angeben, wie die gewünschte URL für den aktuellen Vorgang generiert werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-155">In contrast, `Values` are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="b29c0-156">Die `HttpContext` wird bereitgestellt, für den Fall, dass eine Route, Dienste oder zusätzliche Daten, die mit dem aktuellen Kontext verknüpft sind abrufen muss.</span><span class="sxs-lookup"><span data-stu-id="b29c0-156">The `HttpContext` is provided in case a route needs to get services or additional data associated with the current context.</span></span>

<span data-ttu-id="b29c0-157">Tipp: Stellen Sie sich `Values` als eine Reihe von Außerkraftsetzungen für die `AmbientValues`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-157">Tip: Think of `Values` as being a set of overrides for the `AmbientValues`.</span></span> <span data-ttu-id="b29c0-158">URL-Generierung versucht, die Routenwerte aus der aktuellen Anforderung, die zum Generieren von URLs für Links, die mit dem gleichen Route oder Routenwerte erleichtern wiederverwenden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-158">URL generation tries to reuse route values from the current request to make it easy to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="b29c0-159">Die Ausgabe des `GetVirtualPath` ist eine `VirtualPathData`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-159">The output of `GetVirtualPath` is a `VirtualPathData`.</span></span> <span data-ttu-id="b29c0-160">`VirtualPathData`ist eine parallele Ausführung von `RouteData`; er enthält die `VirtualPath` für die Ausgabe-URL als auch die einige zusätzlichen Eigenschaften, die von der Route festgelegt werden soll.</span><span class="sxs-lookup"><span data-stu-id="b29c0-160">`VirtualPathData` is a parallel of `RouteData`; it contains the `VirtualPath` for the output URL as well as the some additional properties that should be set by the route.</span></span>

<span data-ttu-id="b29c0-161">Die `VirtualPathData.VirtualPath` Eigenschaft enthält die *virtuellen Pfad* erzeugt, die von der Route.</span><span class="sxs-lookup"><span data-stu-id="b29c0-161">The `VirtualPathData.VirtualPath` property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="b29c0-162">Je nach Ihren Anforderungen müssen Sie möglicherweise den Pfad weiter zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="b29c0-162">Depending on your needs you may need to process the path further.</span></span> <span data-ttu-id="b29c0-163">Wenn die generierte URL in HTML gerendert werden sollen müssen Sie z. B. den Basispfad der Anwendung voranstellen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-163">For instance, if you want to render the generated URL in HTML you need to prepend the base path of the application.</span></span>

<span data-ttu-id="b29c0-164">Die `VirtualPathData.Router` ist ein Verweis auf die Route, die die URL wurde erfolgreich generiert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-164">The `VirtualPathData.Router` is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="b29c0-165">Die `VirtualPathData.DataTokens` Eigenschaften ist ein Wörterbuch von zusätzlichen Daten, die im Zusammenhang mit der Route, die die URL generiert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-165">The `VirtualPathData.DataTokens` properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="b29c0-166">Dies ist die parallele Ausführung von `RouteData.DataTokens`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-166">This is the parallel of `RouteData.DataTokens`.</span></span>

### <a name="creating-routes"></a><span data-ttu-id="b29c0-167">Erstellen von Routen</span><span class="sxs-lookup"><span data-stu-id="b29c0-167">Creating routes</span></span>

<span data-ttu-id="b29c0-168">Das Routing bietet die `Route` Klasse als die standardmäßige Implementierung des `IRouter`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-168">Routing provides the `Route` class as the standard implementation of `IRouter`.</span></span> <span data-ttu-id="b29c0-169">`Route`verwendet die *routenvorlage* Syntax, um Muster zu definieren, die für den URL-Pfad entsprechen Wenn `RouteAsync` aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-169">`Route` uses the *route template* syntax to define patterns that will match against the URL path when `RouteAsync` is called.</span></span> <span data-ttu-id="b29c0-170">`Route`die gleichen routenvorlage zum Generieren einer URL verwendet. wenn `GetVirtualPath` aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-170">`Route` will use the same route template to generate a URL when `GetVirtualPath` is called.</span></span>

<span data-ttu-id="b29c0-171">Die meisten Anwendungen werden durch Aufrufen von Routen erstellen `MapRoute` oder eines der ähnlicher Erweiterungsmethoden, die auf definierten `IRouteBuilder`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-171">Most applications will create routes by calling `MapRoute` or one of the similar extension methods defined on `IRouteBuilder`.</span></span> <span data-ttu-id="b29c0-172">Alle diese Methoden erstellt eine Instanz des `Route` und die routenauflistung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-172">All of these methods will create an instance of `Route` and add it to the route collection.</span></span>

<span data-ttu-id="b29c0-173">Hinweis: `MapRoute` einen Routenparameter Handler - benötigt er fügt nur die Routen, die von verarbeitet werden die `DefaultHandler`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-173">Note: `MapRoute` doesn't take a route handler parameter - it only adds routes that will be handled by the `DefaultHandler`.</span></span> <span data-ttu-id="b29c0-174">Da der Standardhandler ist ein `IRouter`, er kann entscheiden, nicht zur Verarbeitung der Anforderung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-174">Since the default handler is an `IRouter`, it may decide not to handle the request.</span></span> <span data-ttu-id="b29c0-175">ASP.NET MVC ist beispielsweise in der Regel so konfiguriert, wie ein Standardhandler, der nur verarbeitet, bei denen ein verfügbaren Controller und Aktion anfordert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-175">For example, ASP.NET MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="b29c0-176">Weitere Informationen zu MVC-routing finden Sie unter [Routing an Controlleraktionen](../mvc/controllers/routing.md).</span><span class="sxs-lookup"><span data-stu-id="b29c0-176">To learn more about routing to MVC, see [Routing to Controller Actions](../mvc/controllers/routing.md).</span></span>

<span data-ttu-id="b29c0-177">Dies ist ein Beispiel für eine `MapRoute` Aufruf verwendet wird, von einem typischen ASP.NET MVC-Route-Definition:</span><span class="sxs-lookup"><span data-stu-id="b29c0-177">This is an example of a `MapRoute` call used by a typical ASP.NET MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="b29c0-178">Diese Vorlage wird einen URL-Pfad, z. B. entsprechen `/Products/Details/17` und extrahieren Sie die Routenwerte `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-178">This template will match a URL path like `/Products/Details/17` and extract the route values `{ controller = Products, action = Details, id = 17 }`.</span></span> <span data-ttu-id="b29c0-179">Die Routenwerte hängen von der URL-Pfad in Segmente aufteilen und zum Abgleich jedes Segment mit dem *Routenparameter* Name in der routenvorlage.</span><span class="sxs-lookup"><span data-stu-id="b29c0-179">The route values are determined by splitting the URL path into segments, and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="b29c0-180">Routenparameter heißen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-180">Route parameters are named.</span></span> <span data-ttu-id="b29c0-181">Sie definiert sind, durch Schließen den Namen des Parameters in geschweifte Klammern `{ }`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-181">They are defined by enclosing the parameter name in braces `{ }`.</span></span>

<span data-ttu-id="b29c0-182">Die Vorlage, die oben genannten übereinstimmen könnten auch die URL-Pfad `/` und es wird die Werte `{ controller = Home, action = Index }`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-182">The template above could also match the URL path `/` and would produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="b29c0-183">Dies liegt daran, dass die `{controller}` und `{action}` Routenparameter weisen Standardwerte, und die `id` Routenparameter ist optional.</span><span class="sxs-lookup"><span data-stu-id="b29c0-183">This happens because the `{controller}` and `{action}` route parameters have default values, and the `id` route parameter is optional.</span></span> <span data-ttu-id="b29c0-184">Ein Gleichheitszeichen `=` Zeichen gefolgt von einem Wert, nachdem die Namen der Route-Parameter einen Standardwert für den Parameter definiert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-184">An equals `=` sign followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="b29c0-185">Ein Fragezeichen `?` nach der Namen der Route-Parameter den Parameter als optional definiert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-185">A question mark `?` after the route parameter name defines the parameter as optional.</span></span> <span data-ttu-id="b29c0-186">Weiterleiten von Parametern mit einem Standardwert *immer* ein routenwert erzeugen, wenn die Route übereinstimmt: optionale Parameter ein routenwert erzeugt werden, wenn es keine entsprechende URL-OData-Pfadsegment wurde.</span><span class="sxs-lookup"><span data-stu-id="b29c0-186">Route parameters with a default value *always* produce a route value when the route matches - optional parameters will not produce a route value if there was no corresponding URL path segment.</span></span>

<span data-ttu-id="b29c0-187">Finden Sie unter [Route-vorlagenreferenz](#route-template-reference) für eine ausführliche Beschreibung der Route Vorlagenfeatures und Syntax.</span><span class="sxs-lookup"><span data-stu-id="b29c0-187">See [route-template-reference](#route-template-reference) for a thorough description of route template features and syntax.</span></span>

<span data-ttu-id="b29c0-188">Dieses Beispiel umfasst ein *weiterleiten Einschränkung*:</span><span class="sxs-lookup"><span data-stu-id="b29c0-188">This example includes a *route constraint*:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="b29c0-189">Diese Vorlage wird einen URL-Pfad, z. B. entsprechen `/Products/Details/17`, aber nicht `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-189">This template will match a URL path like `/Products/Details/17`, but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="b29c0-190">Die Route Parameterdefinition `{id:int}` definiert eine *weiterleiten Einschränkung* für die `id` Routenparameter.</span><span class="sxs-lookup"><span data-stu-id="b29c0-190">The route parameter definition `{id:int}` defines a *route constraint* for the `id` route parameter.</span></span> <span data-ttu-id="b29c0-191">Implementieren Sie die routeneinschränkungen `IRouteConstraint` , und überprüfen Sie die Routenwerte, um sie zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-191">Route constraints implement `IRouteConstraint` and inspect route values to verify them.</span></span> <span data-ttu-id="b29c0-192">In diesem Beispiel wird der routenwert `id` müssen in eine ganze Zahl konvertiert werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-192">In this example the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="b29c0-193">Finden Sie unter [Route-Einschränkung-Reference](#route-constraint-reference) für eine ausführlichere Erläuterung der routeneinschränkungen, die vom Framework bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-193">See [route-constraint-reference](#route-constraint-reference) for a more detailed explanation of route constraints that are provided by the framework.</span></span>

<span data-ttu-id="b29c0-194">Zusätzliche Überladungen der `MapRoute` akzeptieren Sie die Werte für `constraints`, `dataTokens`, und `defaults`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-194">Additional overloads of `MapRoute` accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="b29c0-195">Von diesen zusätzlichen Parametern `MapRoute` werden als Datentyp definierte `object`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-195">These additional parameters of `MapRoute` are defined as type `object`.</span></span> <span data-ttu-id="b29c0-196">Die typische Nutzung dieser Parameter ist ein anonym typisiertes Objekt übergeben, in dem die Eigenschaftsnamen des anonymen Typs Übereinstimmung Parameternamen weiterzuleiten.</span><span class="sxs-lookup"><span data-stu-id="b29c0-196">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="b29c0-197">Die beiden folgenden Beispiele erstellen Sie entsprechende Routen:</span><span class="sxs-lookup"><span data-stu-id="b29c0-197">The following two examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="b29c0-198">Tipp: Die Inline-Syntax zum Definieren von Einschränkungen und Standardwerte kann für einfache Routen bequemer sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-198">Tip: The inline syntax for defining constraints and defaults can be more convenient for simple routes.</span></span> <span data-ttu-id="b29c0-199">Es gibt jedoch Funktionen, z. B. Datentoken, die nicht von Inline-Syntax unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-199">However, there are features such as data tokens which are not supported by inline syntax.</span></span>

<span data-ttu-id="b29c0-200">In diesem Beispiel wird veranschaulicht, ein paar weitere Funktionen:</span><span class="sxs-lookup"><span data-stu-id="b29c0-200">This example demonstrates a few more features:</span></span>

```csharp
routes.MapRoute(
  name: "blog",
  template: "Blog/{*article}",
  defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="b29c0-201">Diese Vorlage wird einen URL-Pfad, z. B. entsprechen `/Blog/All-About-Routing/Introduction` und extrahiert die Werte `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-201">This template will match a URL path like `/Blog/All-About-Routing/Introduction` and will extract the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="b29c0-202">Die Standardroute Werte für `controller` und `action` werden von der Route erstellt, obwohl keine entsprechende Routenparameter in der Vorlage vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="b29c0-202">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="b29c0-203">Standardwerte können in der routenvorlage angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-203">Default values can be specified in the route template.</span></span> <span data-ttu-id="b29c0-204">Die `article` Routenparameter ist definiert als eine *sammelfehlermeldung* durch die Darstellung der ein Sternchen `*` vor dem Namen der Route-Parameter.</span><span class="sxs-lookup"><span data-stu-id="b29c0-204">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk `*` before the route parameter name.</span></span> <span data-ttu-id="b29c0-205">Catchall-Routenparameter erfassen den Rest des URL-Pfads, und können auch die leere Zeichenfolge übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-205">Catch-all route parameters capture the remainder of the URL path, and can also match the empty string.</span></span>

<span data-ttu-id="b29c0-206">In diesem Beispiel wird die Route Einschränkungen und Data-Token:</span><span class="sxs-lookup"><span data-stu-id="b29c0-206">This example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="b29c0-207">Diese Vorlage wird einen URL-Pfad, z. B. entsprechen `/Products/5` und extrahiert die Werte `{ controller = Products, action = Details, id = 5 }` und die Datentoken `{ locale = en-US }`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-207">This template will match a URL path like `/Products/5` and will extract the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Windows-Token "lokal"](routing/_static/tokens.png)

<a name="id1"></a>

### <a name="url-generation"></a><span data-ttu-id="b29c0-209">URL-Generierung</span><span class="sxs-lookup"><span data-stu-id="b29c0-209">URL generation</span></span>

<span data-ttu-id="b29c0-210">Die `Route` Klasse kann auch die URL-Generierung durchführen, indem Sie einen Satz von Routenwerten mit seiner routenvorlage kombinieren.</span><span class="sxs-lookup"><span data-stu-id="b29c0-210">The `Route` class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="b29c0-211">Dies ist logisch der umgekehrte Vorgang des URL-Pfad entsprechen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-211">This is logically the reverse process of matching the URL path.</span></span>

<span data-ttu-id="b29c0-212">Tipp: Angenommen Sie, um die URL-Generierung besser zu verstehen, welche URL zu generieren und dann überlegen, wie eine routenvorlage für die diese URL übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-212">Tip: To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="b29c0-213">Welche Werte würde erstellt werden?</span><span class="sxs-lookup"><span data-stu-id="b29c0-213">What values would be produced?</span></span> <span data-ttu-id="b29c0-214">Dies entspricht dem grobe Funktionsweise der URL-Generierung von der `Route` Klasse.</span><span class="sxs-lookup"><span data-stu-id="b29c0-214">This is the rough equivalent of how URL generation works in the `Route` class.</span></span>

<span data-ttu-id="b29c0-215">In diesem Beispiel wird eine grundlegende ASP.NET MVC-Stil Route verwendet:</span><span class="sxs-lookup"><span data-stu-id="b29c0-215">This example uses a basic ASP.NET MVC style route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="b29c0-216">Mit den Routenwerten `{ controller = Products, action = List }`, diese Route wird die URL generiert `/Products/List`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-216">With the route values `{ controller = Products, action = List }`, this route will generate the URL `/Products/List`.</span></span> <span data-ttu-id="b29c0-217">Die Routenwerte werden durch die entsprechenden Routenparameter zu einem URL-Pfad kombiniert ersetzt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-217">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="b29c0-218">Da `id` ist eine optionale Parameter weiterleiten, ist es kein Problem, dass sie nicht über einen Wert verfügt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-218">Since `id` is an optional route parameter, it's no problem that it doesn't have a value.</span></span>

<span data-ttu-id="b29c0-219">Mit den Routenwerten `{ controller = Home, action = Index }`, diese Route wird die URL generiert `/`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-219">With the route values `{ controller = Home, action = Index }`, this route will generate the URL `/`.</span></span> <span data-ttu-id="b29c0-220">Die Routenwerte, die bereitgestellt wurden entsprechen die Standardwerte, damit die Segmente, die für diese Werte problemlos ausgelassen werden können.</span><span class="sxs-lookup"><span data-stu-id="b29c0-220">The route values that were provided match the default values so the segments corresponding to those values can be safely omitted.</span></span> <span data-ttu-id="b29c0-221">Beachten Sie, dass beide URLs generiert Round-Trip mit dieser Route-Definition würden und erzeugen die gleichen Routenwerte, die zum Generieren der URL verwendet wurden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-221">Note that both URLs generated would round-trip with this route definition and produce the same route values that were used to generate the URL.</span></span>

<span data-ttu-id="b29c0-222">Tipp: Die app mithilfe von ASP.NET MVC sollten verwenden `UrlHelper` zum Generieren von URLs statt direkt routing aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-222">Tip: An app using ASP.NET MVC should use `UrlHelper` to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="b29c0-223">Weitere Informationen zu der URL-Generierungsprozess, finden Sie unter [Url-Generierung-Reference](#url-generation-reference).</span><span class="sxs-lookup"><span data-stu-id="b29c0-223">For more details about the URL generation process, see [url-generation-reference](#url-generation-reference).</span></span>

## <a name="using-routing-middleware"></a><span data-ttu-id="b29c0-224">Verwenden von Routing Middleware</span><span class="sxs-lookup"><span data-stu-id="b29c0-224">Using Routing Middleware</span></span>

<span data-ttu-id="b29c0-225">Fügen Sie das NuGet-Paket "Microsoft.AspNetCore.Routing" hinzu.</span><span class="sxs-lookup"><span data-stu-id="b29c0-225">Add the NuGet package "Microsoft.AspNetCore.Routing".</span></span>

<span data-ttu-id="b29c0-226">Fügen Sie dem Dienstcontainer in routing *Startup.cs*:</span><span class="sxs-lookup"><span data-stu-id="b29c0-226">Add routing to the service container in *Startup.cs*:</span></span>

[!code-csharp[Main](../fundamentals/routing/sample/RoutingSample/Startup.cs?highlight=3&start=11&end=14)]

<span data-ttu-id="b29c0-227">Routen müssen konfiguriert werden, der `Configure` Methode in der `Startup` Klasse.</span><span class="sxs-lookup"><span data-stu-id="b29c0-227">Routes must be configured in the `Configure` method in the `Startup` class.</span></span> <span data-ttu-id="b29c0-228">Im Beispiel unten verwendet diese APIs:</span><span class="sxs-lookup"><span data-stu-id="b29c0-228">The sample below uses these APIs:</span></span>

* `RouteBuilder`
* `Build`
* <span data-ttu-id="b29c0-229">`MapGet`Nur HTTP GET-Anforderungen erfüllt</span><span class="sxs-lookup"><span data-stu-id="b29c0-229">`MapGet`  Matches only HTTP GET requests</span></span>
* `UseRouter`

```csharp
public void Configure(IApplicationBuilder app, ILoggerFactory loggerFactory)
{
    var trackPackageRouteHandler = new RouteHandler(context =>
    {
        var routeValues = context.GetRouteData().Values;
        return context.Response.WriteAsync(
            $"Hello! Route values: {string.Join(", ", routeValues)}");
    });

    var routeBuilder = new RouteBuilder(app, trackPackageRouteHandler);

    routeBuilder.MapRoute(
        "Track Package Route",
        "package/{operation:regex(^(track|create|detonate)$)}/{id:int}");

    routeBuilder.MapGet("hello/{name}", context =>
    {
        var name = context.GetRouteValue("name");
        // This is the route handler when HTTP GET "hello/<anything>"  matches
        // To match HTTP GET "hello/<anything>/<anything>,
        // use routeBuilder.MapGet("hello/{*name}"
        return context.Response.WriteAsync($"Hi, {name}!");
    });

    var routes = routeBuilder.Build();
    app.UseRouter(routes);
}
```

<span data-ttu-id="b29c0-230">Die folgende Tabelle zeigt die Antworten mit den angegebenen URIs.</span><span class="sxs-lookup"><span data-stu-id="b29c0-230">The table below shows the responses with the given URIs.</span></span>

| <span data-ttu-id="b29c0-231">URI</span><span class="sxs-lookup"><span data-stu-id="b29c0-231">URI</span></span> | <span data-ttu-id="b29c0-232">Antwort</span><span class="sxs-lookup"><span data-stu-id="b29c0-232">Response</span></span>  |
| ------- | -------- |
| <span data-ttu-id="b29c0-233">/Package/Create/3</span><span class="sxs-lookup"><span data-stu-id="b29c0-233">/package/create/3</span></span>  | <span data-ttu-id="b29c0-234">Hallo!</span><span class="sxs-lookup"><span data-stu-id="b29c0-234">Hello!</span></span> <span data-ttu-id="b29c0-235">Routenwerte: [Vorgang erstellen], [ID: 3]</span><span class="sxs-lookup"><span data-stu-id="b29c0-235">Route values: [operation, create], [id, 3]</span></span> |
| <span data-ttu-id="b29c0-236">/ / 3 Paket/nachverfolgen</span><span class="sxs-lookup"><span data-stu-id="b29c0-236">/package/track/-3</span></span>  | <span data-ttu-id="b29c0-237">Hallo!</span><span class="sxs-lookup"><span data-stu-id="b29c0-237">Hello!</span></span> <span data-ttu-id="b29c0-238">Routenwerte: [Vorgang, Nachverfolgen] [-Id,-3]</span><span class="sxs-lookup"><span data-stu-id="b29c0-238">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="b29c0-239">/ Packen/Überwachen/3 /</span><span class="sxs-lookup"><span data-stu-id="b29c0-239">/package/track/-3/</span></span> | <span data-ttu-id="b29c0-240">Hallo!</span><span class="sxs-lookup"><span data-stu-id="b29c0-240">Hello!</span></span> <span data-ttu-id="b29c0-241">Routenwerte: [Vorgang, Nachverfolgen] [-Id,-3]</span><span class="sxs-lookup"><span data-stu-id="b29c0-241">Route values: [operation, track], [id, -3]</span></span>  |
| <span data-ttu-id="b29c0-242">Normalerweise/nachverfolgen /</span><span class="sxs-lookup"><span data-stu-id="b29c0-242">/package/track/</span></span> | <span data-ttu-id="b29c0-243">\<Über diesen Bericht keine Übereinstimmung fallen ></span><span class="sxs-lookup"><span data-stu-id="b29c0-243">\<Fall through, no match></span></span> |
| <span data-ttu-id="b29c0-244">/Hello/Joe abrufen</span><span class="sxs-lookup"><span data-stu-id="b29c0-244">GET /hello/Joe</span></span> | <span data-ttu-id="b29c0-245">Hallo, Joe!</span><span class="sxs-lookup"><span data-stu-id="b29c0-245">Hi, Joe!</span></span> |
| <span data-ttu-id="b29c0-246">POST /hello/Joe</span><span class="sxs-lookup"><span data-stu-id="b29c0-246">POST /hello/Joe</span></span> | <span data-ttu-id="b29c0-247">\<Fortfahren, nur HTTP GET entspricht ></span><span class="sxs-lookup"><span data-stu-id="b29c0-247">\<Fall through, matches HTTP GET only></span></span> |
| <span data-ttu-id="b29c0-248">/Hello/Joe/Smith abrufen</span><span class="sxs-lookup"><span data-stu-id="b29c0-248">GET /hello/Joe/Smith</span></span> | <span data-ttu-id="b29c0-249">\<Über diesen Bericht keine Übereinstimmung fallen ></span><span class="sxs-lookup"><span data-stu-id="b29c0-249">\<Fall through, no match></span></span> |

<span data-ttu-id="b29c0-250">Wenn Sie eine einzelne Route konfigurieren, rufen Sie `app.UseRouter` übergibt eine `IRouter` Instanz.</span><span class="sxs-lookup"><span data-stu-id="b29c0-250">If you are configuring a single route, call `app.UseRouter` passing in an `IRouter` instance.</span></span> <span data-ttu-id="b29c0-251">Sie müssen keine Aufrufen `RouteBuilder`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-251">You won't need to call `RouteBuilder`.</span></span>

<span data-ttu-id="b29c0-252">Das Framework bietet einen Satz von Erweiterungsmethoden für z. B. Erstellen von Routen:</span><span class="sxs-lookup"><span data-stu-id="b29c0-252">The framework provides a set of extension methods for creating routes such as:</span></span>

* `MapRoute`
* `MapGet`
* `MapPost`
* `MapPut`
* `MapDelete`
* `MapVerb`

<span data-ttu-id="b29c0-253">Einige dieser Methoden wie z. B. `MapGet` erfordern eine `RequestDelegate` bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-253">Some of these methods such as `MapGet` require a `RequestDelegate` to be provided.</span></span> <span data-ttu-id="b29c0-254">Die `RequestDelegate` verwendet werden, als die *Routenhandler* Wenn die Route entspricht.</span><span class="sxs-lookup"><span data-stu-id="b29c0-254">The `RequestDelegate` will be used as the *route handler* when the route matches.</span></span> <span data-ttu-id="b29c0-255">Andere Methoden in dieser Familie können konfiguriert werden, eine middlewarepipeline, die als den Routenhandler verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="b29c0-255">Other methods in this family allow configuring a middleware pipeline which will be used as the route handler.</span></span> <span data-ttu-id="b29c0-256">Wenn die *Zuordnung* Methode einen Handler, wie z. B. akzeptiert keine `MapRoute`, verwendet er die `DefaultHandler`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-256">If the *Map* method doesn't accept a handler, such as `MapRoute`, then it will use the `DefaultHandler`.</span></span>

<span data-ttu-id="b29c0-257">Die `Map[Verb]` Methoden Einschränkungen verwenden, um die Route, die dem HTTP-Verb im Methodennamen zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="b29c0-257">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="b29c0-258">Beispielsweise finden Sie unter [MapGet](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L85-L88) und [MapVerb](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L156-L180).</span><span class="sxs-lookup"><span data-stu-id="b29c0-258">For example, see [MapGet](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L85-L88) and [MapVerb](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L156-L180).</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="b29c0-259">Route-Vorlagenreferenz</span><span class="sxs-lookup"><span data-stu-id="b29c0-259">Route Template Reference</span></span>

<span data-ttu-id="b29c0-260">Token in der geschweiften Klammern (`{ }`) definieren *Parameter weiterleiten* gebunden werden wird, wenn die Route verglichen wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-260">Tokens within curly braces (`{ }`) define *route parameters* which will be bound if the route is matched.</span></span> <span data-ttu-id="b29c0-261">Sie können mehr als ein Routenparameter in einem Segment Route definieren, aber sie müssen durch einen Literalwert getrennt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-261">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="b29c0-262">Z. B. `{controller=Home}{action=Index}` wäre keine gültige Route aus, da es kein Literalwert zwischen ist `{controller}` und `{action}`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-262">For example `{controller=Home}{action=Index}` would not be a valid route, since there is no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="b29c0-263">Diese Routenparameter müssen einen Namen aufweisen, und haben möglicherweise zusätzliche Attribute angegeben.</span><span class="sxs-lookup"><span data-stu-id="b29c0-263">These route parameters must have a name, and may have additional attributes specified.</span></span>

<span data-ttu-id="b29c0-264">Literaltext als Routenparameter (z. B. `{id}`) und die Pfadtrennzeichen `/` muss den Text in der URL übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-264">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="b29c0-265">Text Abgleich wird die Groß-/Kleinschreibung und basiert auf die decodierte Darstellung des Pfads URLs.</span><span class="sxs-lookup"><span data-stu-id="b29c0-265">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="b29c0-266">Das literal Route Parameter Trennzeichen entsprechend `{` oder `}`, es durch die Wiederholung des Zeichens mit Escapezeichen versehen (`{{` oder `}}`).</span><span class="sxs-lookup"><span data-stu-id="b29c0-266">To match the literal route parameter delimiter `{` or  `}`, escape it by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="b29c0-267">URL-Muster, die versucht, einen Dateinamen mit der Erweiterung optional aufzuzeichnen haben weitere Aspekte zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-267">URL patterns that attempt to capture a filename with an optional file extension have additional considerations.</span></span> <span data-ttu-id="b29c0-268">Beispiel für die Verwendung der Vorlage `files/{filename}.{ext?}` – im Falle beide `filename` und `ext` vorhanden ist, werden beide Werte aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-268">For example, using the template `files/{filename}.{ext?}` - When both `filename` and `ext` exist, both values will be populated.</span></span> <span data-ttu-id="b29c0-269">Wenn nur `filename` in der URL entspricht der Route vorhanden ist, weil der Punkt `.` ist optional.</span><span class="sxs-lookup"><span data-stu-id="b29c0-269">If only `filename` exists in the URL, the route matches because the trailing period `.` is  optional.</span></span> <span data-ttu-id="b29c0-270">Die folgenden URLs würden diese Route übereinstimmen:</span><span class="sxs-lookup"><span data-stu-id="b29c0-270">The following URLs would match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile.`
* `/files/myFile`

<span data-ttu-id="b29c0-271">Können Sie die `*` -Zeichen als Präfix auf einen Routenparameter zum Binden an den Rest des URI - heißt dies eine *Catchall-* Parameter.</span><span class="sxs-lookup"><span data-stu-id="b29c0-271">You can use the `*` character as a prefix to a route parameter to bind to the rest of the URI - this is called a *catch-all* parameter.</span></span> <span data-ttu-id="b29c0-272">Z. B. `blog/{*slug}` entsprechen einen beliebigen URI, die mit gestartet `/blog` ausnahmslos darauf folgende Waren (die zugewiesen werden die `slug` weiterleiten Wert).</span><span class="sxs-lookup"><span data-stu-id="b29c0-272">For example, `blog/{*slug}` would match any URI that started with `/blog` and had any value following it (which would be assigned to the `slug` route value).</span></span> <span data-ttu-id="b29c0-273">Catch-All-Parameter können auch mit der leeren Zeichenfolge entsprechen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-273">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="b29c0-274">Routenparameter möglicherweise *Standardwerte*, festgelegten durch Angeben der standardmäßigen nach dem Parameternamen, getrennt durch ein `=`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-274">Route parameters may have *default values*, designated by specifying the default after the parameter name, separated by an `=`.</span></span> <span data-ttu-id="b29c0-275">Beispielsweise `{controller=Home}` würden definieren `Home` als Standardwert für `controller`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-275">For example, `{controller=Home}` would define `Home` as the default value for `controller`.</span></span> <span data-ttu-id="b29c0-276">Der Standardwert wird verwendet, wenn kein Wert für den Parameter in der URL enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="b29c0-276">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="b29c0-277">Zusätzlich zu den Standardwerten, Routenparameter ausgelassen werden können (angegeben durch Anfügen einer `?` bis zum Ende des Parameternamens als in `id?`).</span><span class="sxs-lookup"><span data-stu-id="b29c0-277">In addition to default values, route parameters may be optional (specified by appending a `?` to the end of the parameter name, as in `id?`).</span></span> <span data-ttu-id="b29c0-278">Der Unterschied zwischen optional und "verfügt über default" ist, dass ein Routenparameter hat den Standardwert immer einen Wert erzeugt; Ein optionaler Parameter hat einen Wert nur, wenn eine bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="b29c0-278">The difference between optional and "has default" is that a route parameter with a default value always produces a value; an optional parameter has a value only when one is provided.</span></span>

<span data-ttu-id="b29c0-279">Routenparameter möglicherweise auch Einschränkungen, die den routenwert gebunden wird, von der URL übereinstimmen muss.</span><span class="sxs-lookup"><span data-stu-id="b29c0-279">Route parameters may also have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="b29c0-280">Hinzufügen eines Doppelpunkts `:` und nach der Namen der Route-Parameter gibt an, auf den Namen der Einschränkung einer *Inlineeinschränkung* auf einen Routenparameter.</span><span class="sxs-lookup"><span data-stu-id="b29c0-280">Adding a colon `:` and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="b29c0-281">Wenn die Einschränkung Argumente die bereitgestellt erfordert werden, in Klammern eingeschlossen `( )` nach den Namen der Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-281">If the constraint requires arguments those are provided enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="b29c0-282">Mehrere inlineeinschränkungen können angegeben werden, durch Anfügen einer anderen Doppelpunkt `:` und Name der Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="b29c0-282">Multiple inline constraints can be specified by appending another colon `:` and constraint name.</span></span> <span data-ttu-id="b29c0-283">Der Einschränkungsname wird zum Übergeben der `IInlineConstraintResolver` Dienst zum Erstellen einer Instanz von `IRouteConstraint` in URL-Verarbeitung verwendet.</span><span class="sxs-lookup"><span data-stu-id="b29c0-283">The constraint name is passed to the `IInlineConstraintResolver` service to create an instance of `IRouteConstraint` to use in URL processing.</span></span> <span data-ttu-id="b29c0-284">Z. B. die routenvorlage `blog/{article:minlength(10)}` gibt an, die `minlength` Einschränkung mit dem Argument `10`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-284">For example, the route template `blog/{article:minlength(10)}` specifies the `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="b29c0-285">Weitere Beschreibung routeneinschränkungen, sowie eine Liste der Einschränkungen von Framework bereitgestellt werden, finden Sie unter [Route-Einschränkung-Reference](#route-constraint-reference).</span><span class="sxs-lookup"><span data-stu-id="b29c0-285">For more description route constraints, and a listing of the constraints provided by the framework, see [route-constraint-reference](#route-constraint-reference).</span></span>

<span data-ttu-id="b29c0-286">Die folgende Tabelle enthält einige routenvorlagen und deren Verhalten.</span><span class="sxs-lookup"><span data-stu-id="b29c0-286">The following table demonstrates some route templates and their behavior.</span></span>

| <span data-ttu-id="b29c0-287">Routenvorlage</span><span class="sxs-lookup"><span data-stu-id="b29c0-287">Route Template</span></span> | <span data-ttu-id="b29c0-288">Übereinstimmende Beispiel-URL</span><span class="sxs-lookup"><span data-stu-id="b29c0-288">Example Matching URL</span></span> | <span data-ttu-id="b29c0-289">Hinweise</span><span class="sxs-lookup"><span data-stu-id="b29c0-289">Notes</span></span> |
| -------- | -------- | ------- |
| <span data-ttu-id="b29c0-290">hello</span><span class="sxs-lookup"><span data-stu-id="b29c0-290">hello</span></span>  | <span data-ttu-id="b29c0-291">beispielsweise</span><span class="sxs-lookup"><span data-stu-id="b29c0-291">/hello</span></span>  | <span data-ttu-id="b29c0-292">Nur entspricht der einzelnen Pfad`/hello`</span><span class="sxs-lookup"><span data-stu-id="b29c0-292">Only matches the single path `/hello`</span></span> |
| <span data-ttu-id="b29c0-293">{Seite = Home}</span><span class="sxs-lookup"><span data-stu-id="b29c0-293">{Page=Home}</span></span> | / | <span data-ttu-id="b29c0-294">Entspricht, und legt `Page` an`Home`</span><span class="sxs-lookup"><span data-stu-id="b29c0-294">Matches and sets `Page` to `Home`</span></span> |
| <span data-ttu-id="b29c0-295">{Seite = Home}</span><span class="sxs-lookup"><span data-stu-id="b29c0-295">{Page=Home}</span></span>  | <span data-ttu-id="b29c0-296">/ Kontakte</span><span class="sxs-lookup"><span data-stu-id="b29c0-296">/Contact</span></span>  | <span data-ttu-id="b29c0-297">Entspricht, und legt `Page` an`Contact`</span><span class="sxs-lookup"><span data-stu-id="b29c0-297">Matches and sets `Page` to `Contact`</span></span> |
| <span data-ttu-id="b29c0-298">{Controller} / {Aktion} / {Id}?</span><span class="sxs-lookup"><span data-stu-id="b29c0-298">{controller}/{action}/{id?}</span></span> | <span data-ttu-id="b29c0-299">/ Produkte/List</span><span class="sxs-lookup"><span data-stu-id="b29c0-299">/Products/List</span></span> | <span data-ttu-id="b29c0-300">Ordnet `Products` Controller und `List` Aktion</span><span class="sxs-lookup"><span data-stu-id="b29c0-300">Maps to `Products` controller and `List`  action</span></span> |
| <span data-ttu-id="b29c0-301">{Controller} / {Aktion} / {Id}?</span><span class="sxs-lookup"><span data-stu-id="b29c0-301">{controller}/{action}/{id?}</span></span> | <span data-ttu-id="b29c0-302">/ Produkte/Informationen/123</span><span class="sxs-lookup"><span data-stu-id="b29c0-302">/Products/Details/123</span></span>  |  <span data-ttu-id="b29c0-303">Ordnet `Products` Controller und `Details` Aktion.</span><span class="sxs-lookup"><span data-stu-id="b29c0-303">Maps to `Products` controller and  `Details` action.</span></span>  <span data-ttu-id="b29c0-304">`id`Legen Sie auf 123</span><span class="sxs-lookup"><span data-stu-id="b29c0-304">`id` set to 123</span></span> |
| <span data-ttu-id="b29c0-305">{Controller = Home} / {Aktion = Index} / {Id}?</span><span class="sxs-lookup"><span data-stu-id="b29c0-305">{controller=Home}/{action=Index}/{id?}</span></span> | /  |  <span data-ttu-id="b29c0-306">Ordnet `Home` Controller und `Index` -Methode. `id` wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-306">Maps to `Home` controller and `Index`  method; `id` is ignored.</span></span> |

<span data-ttu-id="b29c0-307">Mithilfe einer Vorlage wird im Allgemeinen die einfachste Vorgehensweise zum routing.</span><span class="sxs-lookup"><span data-stu-id="b29c0-307">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="b29c0-308">Einschränkungen und Standardwerte können auch außerhalb der routenvorlage angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-308">Constraints and defaults can also be specified outside the route template.</span></span>

<span data-ttu-id="b29c0-309">Tip: Aktivierung der [Protokollierung](xref:fundamentals/logging/index) angezeigt wie die, wie z. B. in routing Implementierungen `Route`, Anforderungen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-309">Tip: Enable [Logging](xref:fundamentals/logging/index) to see how the built in routing implementations, such as `Route`, match requests.</span></span>

## <a name="route-constraint-reference"></a><span data-ttu-id="b29c0-310">Route-Einschränkung Verweis</span><span class="sxs-lookup"><span data-stu-id="b29c0-310">Route Constraint Reference</span></span>

<span data-ttu-id="b29c0-311">Routeneinschränkungen ausgeführt, wenn eine `Route` verfügt über die Syntax der eingehenden URL abgeglichen und den URL-Pfad in Routenwerte in Token übersetzt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-311">Route constraints execute when a `Route` has matched the syntax of the incoming URL and tokenized the URL path into route values.</span></span> <span data-ttu-id="b29c0-312">Routeneinschränkungen ist im Allgemeinen die routenwert verknüpft sind, über die routenvorlage untersuchen, und stellen eine einfache Ja/Nein Entscheidung zu, und zwar unabhängig davon, ob der Wert zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="b29c0-312">Route constraints generally inspect the route value associated via the route template and make a simple yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="b29c0-313">Einige routeneinschränkungen verwendet Daten außerhalb der routenwert überlegen, ob die Anforderung weitergeleitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="b29c0-313">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="b29c0-314">Z. B. die `HttpMethodRouteConstraint` annehmen oder Ablehnen einer Anforderung basierend auf der HTTP-Verb können.</span><span class="sxs-lookup"><span data-stu-id="b29c0-314">For example, the `HttpMethodRouteConstraint` can accept or reject a request based on its HTTP verb.</span></span>

>[!WARNING]
> <span data-ttu-id="b29c0-315">Vermeiden Sie die Verwendung von Einschränkungen für **input Validation**, da dies bedeutet, ungültige Eingabe 404 (Nichtgefunden) anstatt mit einer entsprechenden Fehlermeldung 400 Bad Request führt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-315">Avoid using constraints for **input validation**, because doing so means that invalid input will result in a 404 (Not Found) instead of a 400 with an appropriate error message.</span></span> <span data-ttu-id="b29c0-316">Routeneinschränkungen muss zur **eindeutig** zwischen ähnlichen Routen, nicht um die Eingaben für eine bestimmte Route zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-316">Route constraints should be used to **disambiguate** between similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="b29c0-317">Die folgende Tabelle enthält einige routeneinschränkungen und des erwarteten Verhaltens.</span><span class="sxs-lookup"><span data-stu-id="b29c0-317">The following table demonstrates some route constraints and their expected behavior.</span></span>

| <span data-ttu-id="b29c0-318">Einschränkung</span><span class="sxs-lookup"><span data-stu-id="b29c0-318">constraint</span></span> | <span data-ttu-id="b29c0-319">Beispiel</span><span class="sxs-lookup"><span data-stu-id="b29c0-319">Example</span></span> | <span data-ttu-id="b29c0-320">Beispiel für Übereinstimmungen</span><span class="sxs-lookup"><span data-stu-id="b29c0-320">Example Matches</span></span> | <span data-ttu-id="b29c0-321">Hinweise</span><span class="sxs-lookup"><span data-stu-id="b29c0-321">Notes</span></span> |
| --------   | ------- | ------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="b29c0-322">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="b29c0-322">`123456789`, `-123456789`</span></span>  | <span data-ttu-id="b29c0-323">Eine beliebige ganze Zahl entspricht</span><span class="sxs-lookup"><span data-stu-id="b29c0-323">Matches any integer</span></span> |
| `bool`  | `{active:bool}` | <span data-ttu-id="b29c0-324">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="b29c0-324">`true`, `FALSE`</span></span> | <span data-ttu-id="b29c0-325">Übereinstimmungen `true` oder `false` (Groß-/Kleinschreibung)</span><span class="sxs-lookup"><span data-stu-id="b29c0-325">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="b29c0-326">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="b29c0-326">`2016-12-31`, `2016-12-31 7:32pm`</span></span>  | <span data-ttu-id="b29c0-327">Ein gültiger entspricht `DateTime` Wert (in der invarianten Kultur - Warnung angezeigt)</span><span class="sxs-lookup"><span data-stu-id="b29c0-327">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="b29c0-328">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="b29c0-328">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="b29c0-329">Ein gültiger entspricht `decimal` Wert (in der invarianten Kultur - Warnung angezeigt)</span><span class="sxs-lookup"><span data-stu-id="b29c0-329">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double`  | `{weight:double}` | <span data-ttu-id="b29c0-330">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="b29c0-330">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="b29c0-331">Ein gültiger entspricht `double` Wert (in der invarianten Kultur - Warnung angezeigt)</span><span class="sxs-lookup"><span data-stu-id="b29c0-331">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float`  | `{weight:float}` | <span data-ttu-id="b29c0-332">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="b29c0-332">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="b29c0-333">Ein gültiger entspricht `float` Wert (in der invarianten Kultur - Warnung angezeigt)</span><span class="sxs-lookup"><span data-stu-id="b29c0-333">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid`  | `{id:guid}` | <span data-ttu-id="b29c0-334">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="b29c0-334">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="b29c0-335">Ein gültiger entspricht `Guid` Wert</span><span class="sxs-lookup"><span data-stu-id="b29c0-335">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="b29c0-336">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="b29c0-336">`123456789`, `-123456789`</span></span> | <span data-ttu-id="b29c0-337">Ein gültiger entspricht `long` Wert</span><span class="sxs-lookup"><span data-stu-id="b29c0-337">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="b29c0-338">Zeichenfolge muss mindestens 4 Zeichen umfassen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-338">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="b29c0-339">Zeichenfolge muss nicht mehr als 8 Zeichen lang sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-339">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="b29c0-340">Zeichenfolge muss genau 12 Zeichen lang sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-340">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="b29c0-341">Zeichenfolge muss mindestens 8 bis maximal 16 Zeichen lang sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-341">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="b29c0-342">Integer-Wert muss mindestens 18 sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-342">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` |  `91` | <span data-ttu-id="b29c0-343">Integer-Wert muss nicht mehr als 120 sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-343">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="b29c0-344">Integer-Wert muss mindestens 18, aber nicht mehr als 120 sein.</span><span class="sxs-lookup"><span data-stu-id="b29c0-344">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="b29c0-345">Zeichenfolge muss mindestens eine alphabetische Zeichen bestehen (`a`-`z`, Groß-/Kleinschreibung)</span><span class="sxs-lookup"><span data-stu-id="b29c0-345">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="b29c0-346">Zeichenfolge muss den regulären Ausdruck entsprechen (Siehe Tipps zum Definieren eines regulären Ausdrucks)</span><span class="sxs-lookup"><span data-stu-id="b29c0-346">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required`  | `{name:required}` | `Rick` |  <span data-ttu-id="b29c0-347">Zum durchsetzen, dass ein Parameterwert während der URL-Generierung vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="b29c0-347">Used to enforce that a non-parameter value is present during URL generation</span></span> |

>[!WARNING]
> <span data-ttu-id="b29c0-348">Routeneinschränkungen, die die URL überprüfen Sie auf einen CLR-Typ konvertiert werden können (z. B. `int` oder `DateTime`) immer die invariante Kultur verwenden – wird davon ausgegangen, die URL ist nicht lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-348">Route constraints that verify the URL can be converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture - they assume the URL is non-localizable.</span></span> <span data-ttu-id="b29c0-349">Die routeneinschränkungen Framework bereitgestellten ändern nicht in Routenwerte gespeicherten Werte.</span><span class="sxs-lookup"><span data-stu-id="b29c0-349">The framework-provided route constraints do not modify the values stored in route values.</span></span> <span data-ttu-id="b29c0-350">Alle Routenwerte analysiert, die von der URL werden als Zeichenfolgen gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-350">All route values parsed from the URL will be stored as strings.</span></span> <span data-ttu-id="b29c0-351">Z. B. die ["float" routeneinschränkung](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/Constraints/FloatRouteConstraint.cs#L44-L60) wird versucht, den routenwert in einen float-Wert konvertiert, aber der konvertierte Wert dient nur zu überprüfen, ob sie die in einen float-Wert konvertiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="b29c0-351">For example, the [Float route constraint](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/Constraints/FloatRouteConstraint.cs#L44-L60) will attempt to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="b29c0-352">Reguläre Ausdrücke</span><span class="sxs-lookup"><span data-stu-id="b29c0-352">Regular expressions</span></span> 

<span data-ttu-id="b29c0-353">Fügt das Framework ASP.NET Core `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` an den Konstruktor für reguläre Ausdrücke.</span><span class="sxs-lookup"><span data-stu-id="b29c0-353">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="b29c0-354">Finden Sie unter [RegexOptions-Enumeration](https://docs.microsoft.com/dotnet/api/system.text.regularexpressions.regexoptions) eine Beschreibung dieser Member.</span><span class="sxs-lookup"><span data-stu-id="b29c0-354">See [RegexOptions Enumeration](https://docs.microsoft.com/dotnet/api/system.text.regularexpressions.regexoptions) for a description of these members.</span></span>

<span data-ttu-id="b29c0-355">Verwendung von regulären Ausdrücken, Trennzeichen und Token von Routing und die Programmiersprache c# ähnelt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-355">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="b29c0-356">Reguläre Ausdrücke Token müssen mit Escapezeichen versehen werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-356">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="b29c0-357">Beispielsweise, um den regulären Ausdruck verwenden `^\d{3}-\d{2}-\d{4}$` im Routing, es erfordert das `\` Zeichen eingegeben als `\\` in der C#-Quelldatei als Escapesequenz für die `\` string Escape-Zeichen (außer bei [wörtliche Zeichenfolgenliterale](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/string).</span><span class="sxs-lookup"><span data-stu-id="b29c0-357">For example, to use the regular expression `^\d{3}-\d{2}-\d{4}$` in Routing, it needs to have the `\` characters typed in as `\\` in the C# source file to escape the `\` string escape character (unless using [verbatim string literals](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/string).</span></span> <span data-ttu-id="b29c0-358">Die `{` , `}` , ' [' und ']' Zeichen mit Escapezeichen versehen werden, indem verdoppelt, um die Begrenzungszeichen der Routing-Parameter mit Escapezeichen versehen werden müssen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-358">The `{` , `}` , '[' and ']' characters need to be escaped by doubling them to escape the Routing parameter delimiter characters.</span></span>  <span data-ttu-id="b29c0-359">Die folgende Tabelle zeigt einen regulären Ausdruck und die mit Escapezeichen versehene Version.</span><span class="sxs-lookup"><span data-stu-id="b29c0-359">The table below shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="b29c0-360">Ausdruck</span><span class="sxs-lookup"><span data-stu-id="b29c0-360">Expression</span></span>               | <span data-ttu-id="b29c0-361">Hinweis</span><span class="sxs-lookup"><span data-stu-id="b29c0-361">Note</span></span> |
| ----------------- | ------------ | 
| `^\d{3}-\d{2}-\d{4}$` | <span data-ttu-id="b29c0-362">Regulärer Ausdruck</span><span class="sxs-lookup"><span data-stu-id="b29c0-362">Regular expression</span></span> |
| `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` | <span data-ttu-id="b29c0-363">Escapezeichen</span><span class="sxs-lookup"><span data-stu-id="b29c0-363">Escaped</span></span>  |
| `^[a-z]{2}$` | <span data-ttu-id="b29c0-364">Regulärer Ausdruck</span><span class="sxs-lookup"><span data-stu-id="b29c0-364">Regular expression</span></span> |
| `^[[a-z]]{{2}}$` | <span data-ttu-id="b29c0-365">Escapezeichen</span><span class="sxs-lookup"><span data-stu-id="b29c0-365">Escaped</span></span>  |

<span data-ttu-id="b29c0-366">Reguläre Ausdrücke, die beim routing verwendet häufig beginnt mit der `^` Zeichen (Übereinstimmung, die Anfangsposition der Zeichenfolge) und enden mit der `$` Zeichen (Übereinstimmung Endposition der Zeichenfolge).</span><span class="sxs-lookup"><span data-stu-id="b29c0-366">Regular expressions used in routing will often start with the `^` character (match starting position of the string) and end with the `$` character (match ending position of the string).</span></span> <span data-ttu-id="b29c0-367">Die `^` und `$` Zeichen sicher, dass die Übereinstimmung des regulären Ausdrucks den gesamten Übertragungsweg Parameterwert.</span><span class="sxs-lookup"><span data-stu-id="b29c0-367">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="b29c0-368">Ohne die `^` und `$` Zeichen in der reguläre Ausdruck entspricht jeder Teilzeichenfolge innerhalb der Zeichenfolge, die häufig nicht gewünscht ist.</span><span class="sxs-lookup"><span data-stu-id="b29c0-368">Without the `^` and `$` characters the regular expression will match any sub-string within the string, which is often not what you want.</span></span> <span data-ttu-id="b29c0-369">In der folgenden Tabelle sind einige Beispiele für und erläutert, warum sie übereinstimmen oder nicht übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-369">The table below shows some examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="b29c0-370">Ausdruck</span><span class="sxs-lookup"><span data-stu-id="b29c0-370">Expression</span></span>               | <span data-ttu-id="b29c0-371">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b29c0-371">String</span></span> | <span data-ttu-id="b29c0-372">Match</span><span class="sxs-lookup"><span data-stu-id="b29c0-372">Match</span></span> | <span data-ttu-id="b29c0-373">Kommentar</span><span class="sxs-lookup"><span data-stu-id="b29c0-373">Comment</span></span> |
| ----------------- | ------------ |  ------------ |  ------------ | 
| `[a-z]{2}` | <span data-ttu-id="b29c0-374">hello</span><span class="sxs-lookup"><span data-stu-id="b29c0-374">hello</span></span> | <span data-ttu-id="b29c0-375">ja</span><span class="sxs-lookup"><span data-stu-id="b29c0-375">yes</span></span> | <span data-ttu-id="b29c0-376">Teilzeichenfolge Übereinstimmungen</span><span class="sxs-lookup"><span data-stu-id="b29c0-376">substring matches</span></span> |
| `[a-z]{2}` | <span data-ttu-id="b29c0-377">123abc456</span><span class="sxs-lookup"><span data-stu-id="b29c0-377">123abc456</span></span> | <span data-ttu-id="b29c0-378">ja</span><span class="sxs-lookup"><span data-stu-id="b29c0-378">yes</span></span> | <span data-ttu-id="b29c0-379">Teilzeichenfolge Übereinstimmungen</span><span class="sxs-lookup"><span data-stu-id="b29c0-379">substring matches</span></span> |
| `[a-z]{2}` | <span data-ttu-id="b29c0-380">MZ</span><span class="sxs-lookup"><span data-stu-id="b29c0-380">mz</span></span> | <span data-ttu-id="b29c0-381">ja</span><span class="sxs-lookup"><span data-stu-id="b29c0-381">yes</span></span> | <span data-ttu-id="b29c0-382">entspricht dem Ausdruck</span><span class="sxs-lookup"><span data-stu-id="b29c0-382">matches expression</span></span> |
| `[a-z]{2}` | <span data-ttu-id="b29c0-383">MZ</span><span class="sxs-lookup"><span data-stu-id="b29c0-383">MZ</span></span> | <span data-ttu-id="b29c0-384">ja</span><span class="sxs-lookup"><span data-stu-id="b29c0-384">yes</span></span> | <span data-ttu-id="b29c0-385">keine Groß-/Kleinschreibung unterschieden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-385">not case sensitive</span></span> |
| `^[a-z]{2}$` |  <span data-ttu-id="b29c0-386">hello</span><span class="sxs-lookup"><span data-stu-id="b29c0-386">hello</span></span> | <span data-ttu-id="b29c0-387">Nein</span><span class="sxs-lookup"><span data-stu-id="b29c0-387">no</span></span> | <span data-ttu-id="b29c0-388">finden Sie unter `^` und `$` oben</span><span class="sxs-lookup"><span data-stu-id="b29c0-388">see `^` and `$` above</span></span> |
| `^[a-z]{2}$` |  <span data-ttu-id="b29c0-389">123abc456</span><span class="sxs-lookup"><span data-stu-id="b29c0-389">123abc456</span></span> | <span data-ttu-id="b29c0-390">Nein</span><span class="sxs-lookup"><span data-stu-id="b29c0-390">no</span></span> | <span data-ttu-id="b29c0-391">finden Sie unter `^` und `$` oben</span><span class="sxs-lookup"><span data-stu-id="b29c0-391">see `^` and `$` above</span></span> |

<span data-ttu-id="b29c0-392">Verweisen auf [reguläre Ausdrücke von .NET Framework](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference) für Weitere Informationen zu Syntax regulärer Ausdrücke.</span><span class="sxs-lookup"><span data-stu-id="b29c0-392">Refer to [.NET Framework Regular Expressions](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference) for more information on regular expression syntax.</span></span>

<span data-ttu-id="b29c0-393">Verwenden Sie einen regulären Ausdruck, um einen Parameter mit einem bekannten Satz möglicher Werte zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="b29c0-393">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="b29c0-394">Z. B. `{action:regex(^(list|get|create)$)}` nur entspricht der `action` weiterleiten Wert `list`, `get`, oder `create`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-394">For example `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="b29c0-395">Wenn übergebene Einschränkungen Wörterbuch vorhanden ist, die Zeichenfolge "^ (Liste | Get | erstellen) $" entspräche.</span><span class="sxs-lookup"><span data-stu-id="b29c0-395">If passed into the constraints dictionary, the string "^(list|get|create)$" would be equivalent.</span></span> <span data-ttu-id="b29c0-396">Einschränkungen, die im Wörterbuch Einschränkungen (nicht Inline in einer Vorlage) übergeben werden, die eine der bekannten Einschränkungen nicht übereinstimmen, werden ebenfalls als reguläre Ausdrücke behandelt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-396">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="url-generation-reference"></a><span data-ttu-id="b29c0-397">URL-Generierung-Verweis</span><span class="sxs-lookup"><span data-stu-id="b29c0-397">URL Generation Reference</span></span>

<span data-ttu-id="b29c0-398">Im folgenden Beispiel wird gezeigt, wie auf einen Link zu einer Route, die ein Wörterbuch mit Routenwerten für die angegebene generieren und ein `RouteCollection`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-398">The example below shows how to generate a link to a route given a dictionary of route values and a `RouteCollection`.</span></span>

[!code-csharp[Main](../fundamentals/routing/sample/RoutingSample/Startup.cs?range=45-59)]

<span data-ttu-id="b29c0-399">Die `VirtualPath` wird am Ende des oben genannten Beispiels generiert `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-399">The `VirtualPath` generated at the end of the sample above is `/package/create/123`.</span></span>

<span data-ttu-id="b29c0-400">Der zweite Parameter für die `VirtualPathContext` Konstruktor ist eine Auflistung von *ambient Werte*.</span><span class="sxs-lookup"><span data-stu-id="b29c0-400">The second parameter to the `VirtualPathContext` constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="b29c0-401">Ambient Werte bereitstellen halber Einschränken der Anzahl der Werte, die ein Entwickler in einem bestimmten Anforderungskontext angeben muss.</span><span class="sxs-lookup"><span data-stu-id="b29c0-401">Ambient values provide convenience by limiting the number of values a developer must specify within a certain request context.</span></span> <span data-ttu-id="b29c0-402">Die aktuelle Routenwerte der aktuellen Anforderung gelten linkgenerierung ambient-Werte.</span><span class="sxs-lookup"><span data-stu-id="b29c0-402">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="b29c0-403">Z. B. in einer ASP.NET MVC-app, wenn Sie sich auf die `About` Aktion der `HomeController`, müssen Sie nicht zum Angeben des Werts des Controller-Route mit Verknüpfen der `Index` Aktion (die ambient-Wert des `Home` verwendet werden).</span><span class="sxs-lookup"><span data-stu-id="b29c0-403">For example, in an ASP.NET MVC app if you are in the `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action (the ambient value of `Home` will be used).</span></span>

<span data-ttu-id="b29c0-404">Ambient Werte, die einen Parameter nicht übereinstimmen, werden ignoriert und die ambient-Werte werden auch ignoriert, wenn ein Wert explizit bereitgestellte, überschreibt den Wechsel von links nach rechts in der URL.</span><span class="sxs-lookup"><span data-stu-id="b29c0-404">Ambient values that don't match a parameter are ignored, and ambient values are also ignored when an explicitly-provided value overrides it, going from left to right in the URL.</span></span>

<span data-ttu-id="b29c0-405">Die Abfragezeichenfolge werden Werte, die explizit bereitgestellt werden, aber die stimmen nicht überein. nichts, hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="b29c0-405">Values that are explicitly provided but which don't match anything are added to the query string.</span></span> <span data-ttu-id="b29c0-406">Die folgende Tabelle zeigt das Ergebnis aus, wenn die routenvorlage mit `{controller}/{action}/{id?}`.</span><span class="sxs-lookup"><span data-stu-id="b29c0-406">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="b29c0-407">Ambient-Werte</span><span class="sxs-lookup"><span data-stu-id="b29c0-407">Ambient Values</span></span> | <span data-ttu-id="b29c0-408">Explizite Werte</span><span class="sxs-lookup"><span data-stu-id="b29c0-408">Explicit Values</span></span> | <span data-ttu-id="b29c0-409">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="b29c0-409">Result</span></span> |
| -------------   | -------------- | ------ |
| <span data-ttu-id="b29c0-410">Controller = "Start"</span><span class="sxs-lookup"><span data-stu-id="b29c0-410">controller="Home"</span></span> | <span data-ttu-id="b29c0-411">Aktion = "Info"</span><span class="sxs-lookup"><span data-stu-id="b29c0-411">action="About"</span></span> | `/Home/About` |
| <span data-ttu-id="b29c0-412">Controller = "Start"</span><span class="sxs-lookup"><span data-stu-id="b29c0-412">controller="Home"</span></span> | <span data-ttu-id="b29c0-413">Controller = "Order", Aktion = "Info"</span><span class="sxs-lookup"><span data-stu-id="b29c0-413">controller="Order",action="About"</span></span> | `/Order/About` |
| <span data-ttu-id="b29c0-414">Controller = "Home", Color = "Red"</span><span class="sxs-lookup"><span data-stu-id="b29c0-414">controller="Home",color="Red"</span></span> | <span data-ttu-id="b29c0-415">Aktion = "Info"</span><span class="sxs-lookup"><span data-stu-id="b29c0-415">action="About"</span></span> | `/Home/About` |
| <span data-ttu-id="b29c0-416">Controller = "Start"</span><span class="sxs-lookup"><span data-stu-id="b29c0-416">controller="Home"</span></span> | <span data-ttu-id="b29c0-417">Aktion = "About" color = "Red"</span><span class="sxs-lookup"><span data-stu-id="b29c0-417">action="About",color="Red"</span></span> | `/Home/About?color=Red`

<span data-ttu-id="b29c0-418">Wenn eine Route hat den Standardwert, der einen Parameter entsprechen nicht der Wert explizit angegeben, muss er den Standardwert übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="b29c0-418">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value.</span></span> <span data-ttu-id="b29c0-419">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="b29c0-419">For example:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
  defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="b29c0-420">Linkgenerierung würde nur einen Link für diese Route generiert, wenn die entsprechenden Werte für Controller und Aktion bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="b29c0-420">Link generation would only generate a link for this route when the matching values for controller and action are provided.</span></span>
