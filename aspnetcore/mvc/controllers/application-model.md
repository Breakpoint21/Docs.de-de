---
title: Arbeiten mit dem Anwendungsmodell
author: ardalis
description: 
keywords: Core,ASP.NET Core ASP.NET-MVC Anwendungsmodell
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: 4eb7e52f-5665-41a4-a3e3-e348d07337f2
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/controllers/application-model
ms.openlocfilehash: 3c35184921dbe26cde100fd3d5124e38ea0d06cf
ms.sourcegitcommit: 78d28178345a0eea91556e4cd1adad98b1446db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/22/2017
---
# <a name="working-with-the-application-model"></a><span data-ttu-id="2794f-103">Arbeiten mit dem Anwendungsmodell</span><span class="sxs-lookup"><span data-stu-id="2794f-103">Working with the Application Model</span></span>

<span data-ttu-id="2794f-104">Durch [Steve Smith](https://ardalis.com/)</span><span class="sxs-lookup"><span data-stu-id="2794f-104">By [Steve Smith](https://ardalis.com/)</span></span>

<span data-ttu-id="2794f-105">Core ASP.NET-MVC definiert ein *Anwendungsmodell* , die die Bestandteile einer MVC-app darstellt.</span><span class="sxs-lookup"><span data-stu-id="2794f-105">ASP.NET Core MVC defines an *application model* representing the components of an MVC app.</span></span> <span data-ttu-id="2794f-106">Sie können lesen und Bearbeiten dieses Modell, um das Verhalten des MVC-Elemente zu ändern.</span><span class="sxs-lookup"><span data-stu-id="2794f-106">You can read and manipulate this model to modify how MVC elements behave.</span></span> <span data-ttu-id="2794f-107">MVC befolgt standardmäßig bestimmte Konventionen, um zu bestimmen, welche Klassen als Controller werden, welche Methoden für diese Klassen Aktionen ausgeführt werden und wie Parameter und routing Verhalten.</span><span class="sxs-lookup"><span data-stu-id="2794f-107">By default, MVC follows certain conventions to determine which classes are considered to be controllers, which methods on those classes are actions, and how parameters and routing behave.</span></span> <span data-ttu-id="2794f-108">Sie können dieses Verhalten, um die Bedürfnisse Ihrer app von Ihren eigenen Konventionen erstellen und sie global oder als Attribute angewendet anpassen.</span><span class="sxs-lookup"><span data-stu-id="2794f-108">You can customize this behavior to suit your app's needs by creating your own conventions and applying them globally or as attributes.</span></span>

## <a name="models-and-providers"></a><span data-ttu-id="2794f-109">Modelle und Anbietern</span><span class="sxs-lookup"><span data-stu-id="2794f-109">Models and Providers</span></span>

<span data-ttu-id="2794f-110">Das Anwendungsmodell Core ASP.NET-MVC enthalten Schnittstellen abstrakte und konkrete Implementierung-Klassen, die eine MVC-Anwendung beschreiben.</span><span class="sxs-lookup"><span data-stu-id="2794f-110">The ASP.NET Core MVC application model include both abstract interfaces and concrete implementation classes that describe an MVC application.</span></span> <span data-ttu-id="2794f-111">Dieses Modell ist das Ergebnis von MVC, Ermitteln der app Controller, Aktionen, Aktionsparameter, Routen und Filter gemäß Standardkonventionen.</span><span class="sxs-lookup"><span data-stu-id="2794f-111">This model is the result of MVC discovering the app's controllers, actions, action parameters, routes, and filters according to default conventions.</span></span> <span data-ttu-id="2794f-112">Mit dem Anwendungsmodell arbeiten, können Sie Ihre app aus, um das Standardverhalten für MVC unterschiedliche Konventionen ändern.</span><span class="sxs-lookup"><span data-stu-id="2794f-112">By working with the application model, you can modify your app to follow different conventions from the default MVC behavior.</span></span> <span data-ttu-id="2794f-113">Die Parameter, die Namen, die Routen und die Filter werden alle als Konfigurationsdaten für Aktionen und Controller verwendet.</span><span class="sxs-lookup"><span data-stu-id="2794f-113">The parameters, names, routes, and filters are all used as configuration data for actions and controllers.</span></span>

<span data-ttu-id="2794f-114">Das Anwendungsmodell für ASP.NET Core MVC weist die folgende Struktur:</span><span class="sxs-lookup"><span data-stu-id="2794f-114">The ASP.NET Core MVC Application Model has the following structure:</span></span>

* <span data-ttu-id="2794f-115">ApplicationModel</span><span class="sxs-lookup"><span data-stu-id="2794f-115">ApplicationModel</span></span>
    * <span data-ttu-id="2794f-116">Domänencontroller (ControllerModel)</span><span class="sxs-lookup"><span data-stu-id="2794f-116">Controllers (ControllerModel)</span></span>
        * <span data-ttu-id="2794f-117">Aktionen (ActionModel)</span><span class="sxs-lookup"><span data-stu-id="2794f-117">Actions (ActionModel)</span></span>
            * <span data-ttu-id="2794f-118">Parameter (ParameterModel)</span><span class="sxs-lookup"><span data-stu-id="2794f-118">Parameters (ParameterModel)</span></span>

<span data-ttu-id="2794f-119">Jede Ebene des Modells hat Zugriff auf eine gemeinsame `Properties` Auflistung und die niedrigeren Ebenen zugreifen und überschreiben Eigenschaftswerte, die von höheren Ebenen in der Hierarchie festlegen können.</span><span class="sxs-lookup"><span data-stu-id="2794f-119">Each level of the model has access to a common `Properties` collection, and lower levels can access and overwrite property values set by higher levels in the hierarchy.</span></span> <span data-ttu-id="2794f-120">Die Eigenschaften werden beibehalten, um die `ActionDescriptor.Properties` wenn Aktionen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="2794f-120">The properties are persisted to the `ActionDescriptor.Properties` when the actions are created.</span></span> <span data-ttu-id="2794f-121">Klicken Sie dann, wenn eine Anforderung behandelt wird, alle Eigenschaften eine Konvention hinzugefügt oder geändert durch zugegriffen werden kann `ActionContext.ActionDescriptor.Properties`.</span><span class="sxs-lookup"><span data-stu-id="2794f-121">Then when a request is being handled, any properties a convention added or modified can be accessed through `ActionContext.ActionDescriptor.Properties`.</span></span> <span data-ttu-id="2794f-122">Verwenden von Eigenschaften ist eine hervorragende Möglichkeit, Filter, Modellbinder usw. für pro-Aktion zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="2794f-122">Using properties is a great way to configure your filters, model binders, etc. on a per-action basis.</span></span>

> [!NOTE]
> <span data-ttu-id="2794f-123">Die `ActionDescriptor.Properties` Auflistung ist nicht threadsicher (für Schreibvorgänge), sobald die app-Starts abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="2794f-123">The `ActionDescriptor.Properties` collection is not thread safe (for writes) once app startup has finished.</span></span> <span data-ttu-id="2794f-124">Konventionen sind die beste Möglichkeit, Daten, die dieser Sammlung hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="2794f-124">Conventions are the best way to safely add data to this collection.</span></span>

### <a name="iapplicationmodelprovider"></a><span data-ttu-id="2794f-125">IApplicationModelProvider</span><span class="sxs-lookup"><span data-stu-id="2794f-125">IApplicationModelProvider</span></span>

<span data-ttu-id="2794f-126">ASP.NET Core MVC lädt das Anwendungsmodell unter Verwendung eines Anbieters-Musters, definiert durch die [IApplicationModelProvider](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.iapplicationmodelprovider) Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="2794f-126">ASP.NET Core MVC loads the application model using a provider pattern, defined by the [IApplicationModelProvider](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.iapplicationmodelprovider) interface.</span></span> <span data-ttu-id="2794f-127">Dieser Abschnitt enthält einige Details dazu, wie interne Implementierung dieser Anbieterfunktionen.</span><span class="sxs-lookup"><span data-stu-id="2794f-127">This section covers some of the internal implementation details of how this provider functions.</span></span> <span data-ttu-id="2794f-128">Dies ist ein-Thema für fortgeschrittene – die meisten apps, die das Anwendungsmodell nutzen sollten mithilfe von Konventionen dies tun.</span><span class="sxs-lookup"><span data-stu-id="2794f-128">This is an advanced topic - most apps that leverage the application model should do so by working with conventions.</span></span>

<span data-ttu-id="2794f-129">Implementierungen von der `IApplicationModelProvider` "umschließen Schnittstelle" miteinander, mit jeder Implementierung aufrufen `OnProvidersExecuting` in aufsteigender Reihenfolge auf Grundlage seiner `Order` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="2794f-129">Implementations of the `IApplicationModelProvider` interface "wrap" one another, with each implementation calling `OnProvidersExecuting` in ascending order based on its `Order` property.</span></span> <span data-ttu-id="2794f-130">Die `OnProvidersExecuted` Methode wird anschließend in umgekehrter Reihenfolge aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="2794f-130">The `OnProvidersExecuted` method is then called in reverse order.</span></span> <span data-ttu-id="2794f-131">Das Framework definiert die verschiedenen Anbietern:</span><span class="sxs-lookup"><span data-stu-id="2794f-131">The framework defines several providers:</span></span>

<span data-ttu-id="2794f-132">Erste (`Order=-1000`):</span><span class="sxs-lookup"><span data-stu-id="2794f-132">First (`Order=-1000`):</span></span>

* [`DefaultApplicationModelProvider`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.internal.defaultapplicationmodelprovider)

<span data-ttu-id="2794f-133">Klicken Sie dann (`Order=-990`):</span><span class="sxs-lookup"><span data-stu-id="2794f-133">Then (`Order=-990`):</span></span>

* [`AuthorizationApplicationModelProvider`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.internal.authorizationapplicationmodelprovider)
* [`CorsApplicationModelProvider`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.cors.internal.corsapplicationmodelprovider)

> [!NOTE]
> <span data-ttu-id="2794f-134">Die Reihenfolge, in welche zwei Anbieter mit dem gleichen Wert für `Order` heißen ist nicht definiert, und daher nicht werden Sicherheitsmerkmal.</span><span class="sxs-lookup"><span data-stu-id="2794f-134">The order in which two providers with the same value for `Order` are called is undefined, and therefore should not be relied upon.</span></span>

> [!NOTE]
> <span data-ttu-id="2794f-135">`IApplicationModelProvider`ist ein erweiterter Ansatz für Frameworkautoren von erweitern.</span><span class="sxs-lookup"><span data-stu-id="2794f-135">`IApplicationModelProvider` is an advanced concept for framework authors to extend.</span></span> <span data-ttu-id="2794f-136">Im Allgemeinen apps sollten Konventionen verwenden und Frameworks sollten Anbieter verwenden.</span><span class="sxs-lookup"><span data-stu-id="2794f-136">In general, apps should use conventions and frameworks should use providers.</span></span> <span data-ttu-id="2794f-137">Der Hauptunterschied besteht darin, dass der Anbieter immer vor dem Konventionen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="2794f-137">The key distinction is that providers always run before conventions.</span></span>

<span data-ttu-id="2794f-138">Die `DefaultApplicationModelProvider` viele das Standardverhalten von Core ASP.NET-MVC verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="2794f-138">The `DefaultApplicationModelProvider` establishes many of the default behaviors used by ASP.NET Core MVC.</span></span> <span data-ttu-id="2794f-139">Die folgende Verantwortungsbereiche:</span><span class="sxs-lookup"><span data-stu-id="2794f-139">Its responsibilities include:</span></span>

* <span data-ttu-id="2794f-140">Hinzufügen von globalen Filter an den Kontext</span><span class="sxs-lookup"><span data-stu-id="2794f-140">Adding global filters to the context</span></span>
* <span data-ttu-id="2794f-141">Hinzufügen von Domänencontrollern an den Kontext</span><span class="sxs-lookup"><span data-stu-id="2794f-141">Adding controllers to the context</span></span>
* <span data-ttu-id="2794f-142">Hinzufügen von öffentlichen Controllermethoden als Aktionen</span><span class="sxs-lookup"><span data-stu-id="2794f-142">Adding public controller methods as actions</span></span>
* <span data-ttu-id="2794f-143">Hinzufügen von Aktionsmethodenparameter an den Kontext</span><span class="sxs-lookup"><span data-stu-id="2794f-143">Adding action method parameters to the context</span></span>
* <span data-ttu-id="2794f-144">Anwenden von Route und andere Attribute</span><span class="sxs-lookup"><span data-stu-id="2794f-144">Applying route and other attributes</span></span>

<span data-ttu-id="2794f-145">Einige integrierte Verhaltensweisen, die von implementiert die `DefaultApplicationModelProvider`.</span><span class="sxs-lookup"><span data-stu-id="2794f-145">Some built-in behaviors are implemented by the `DefaultApplicationModelProvider`.</span></span> <span data-ttu-id="2794f-146">Dieser Anbieter ist verantwortlich für die Erstellung der [ `ControllerModel` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.controllermodel), das wiederum auf verweist [ `ActionModel` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.actionmodel#Microsoft_AspNetCore_Mvc_ApplicationModels_ActionModel), [ `PropertyModel` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.propertymodel), und [ `ParameterModel` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.parametermodel#Microsoft_AspNetCore_Mvc_ApplicationModels_ParameterModel) Instanzen.</span><span class="sxs-lookup"><span data-stu-id="2794f-146">This provider is responsible for constructing the [`ControllerModel`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.controllermodel), which in turn references [`ActionModel`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.actionmodel#Microsoft_AspNetCore_Mvc_ApplicationModels_ActionModel), [`PropertyModel`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.propertymodel), and [`ParameterModel`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.parametermodel#Microsoft_AspNetCore_Mvc_ApplicationModels_ParameterModel) instances.</span></span> <span data-ttu-id="2794f-147">Die `DefaultApplicationModelProvider` Klasse wird vom internen Framework Implementierungsdetail beibehalten, die und wird in der Zukunft ändern können.</span><span class="sxs-lookup"><span data-stu-id="2794f-147">The `DefaultApplicationModelProvider` class is an internal framework implementation detail that can and will change in the future.</span></span> 

<span data-ttu-id="2794f-148">Die `AuthorizationApplicationModelProvider` ist verantwortlich für das Verhalten beim Anwenden der `AuthorizeFilter` und `AllowAnonymousFilter` Attribute.</span><span class="sxs-lookup"><span data-stu-id="2794f-148">The `AuthorizationApplicationModelProvider` is responsible for applying the behavior associated with the `AuthorizeFilter` and `AllowAnonymousFilter` attributes.</span></span> <span data-ttu-id="2794f-149">[Erfahren Sie mehr über diese Attribute](xref:security/authorization/simple).</span><span class="sxs-lookup"><span data-stu-id="2794f-149">[Learn more about these attributes](xref:security/authorization/simple).</span></span>

<span data-ttu-id="2794f-150">Die `CorsApplicationModelProvider` zugeordnete Verhalten implementiert die `IEnableCorsAttribute` und `IDisableCorsAttribute`, und die `DisableCorsAuthorizationFilter`.</span><span class="sxs-lookup"><span data-stu-id="2794f-150">The `CorsApplicationModelProvider` implements behavior associated with the `IEnableCorsAttribute` and `IDisableCorsAttribute`, and the `DisableCorsAuthorizationFilter`.</span></span> <span data-ttu-id="2794f-151">[Weitere Informationen zu CORS](xref:security/cors).</span><span class="sxs-lookup"><span data-stu-id="2794f-151">[Learn more about CORS](xref:security/cors).</span></span>

## <a name="conventions"></a><span data-ttu-id="2794f-152">Konventionen</span><span class="sxs-lookup"><span data-stu-id="2794f-152">Conventions</span></span>

<span data-ttu-id="2794f-153">Das Anwendungsmodell definiert Konvention Abstraktionen, die eine einfachere Möglichkeit zum Anpassen des Verhaltens der Modelle als überschreiben das gesamte Modell oder Anbieter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="2794f-153">The application model defines convention abstractions that provide a simpler way to customize the behavior of the models than overriding the entire model or provider.</span></span> <span data-ttu-id="2794f-154">Diese Abstraktionen sind die empfohlene Methode, um das Verhalten Ihrer app zu ändern.</span><span class="sxs-lookup"><span data-stu-id="2794f-154">These abstractions are the recommended way to modify your app's behavior.</span></span> <span data-ttu-id="2794f-155">Konventionen bieten eine Möglichkeit, Code zu schreiben, die dynamisch Anpassungen angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="2794f-155">Conventions provide a way for you to write code that will dynamically apply customizations.</span></span> <span data-ttu-id="2794f-156">Während [Filter](xref:mvc/controllers/filters) bieten eine Möglichkeit zum Ändern der Framework-Verhalten, Anpassungen können Sie steuern, wie die gesamte app miteinander verkabelt ist.</span><span class="sxs-lookup"><span data-stu-id="2794f-156">While [filters](xref:mvc/controllers/filters) provide a means of modifying the framework's behavior, customizations let you control how the whole app is wired together.</span></span>

<span data-ttu-id="2794f-157">Die folgenden Konventionen sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="2794f-157">The following conventions are available:</span></span>

* [`IApplicationModelConvention`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.iapplicationmodelconvention)
* [`IControllerModelConvention`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.icontrollermodelconvention)
* [`IActionModelConvention`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.iactionmodelconvention)
* [`IParameterModelConvention`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.iparametermodelconvention)

<span data-ttu-id="2794f-158">Konventionen werden angewendet, indem sie "Optionen" MVC hinzugefügt werden oder durch Implementierung `Attribute`s und Anwendung auf Domänencontrollern, Aktionen oder Aktionsparameter (ähnlich wie [ `Filters` ](xref:mvc/controllers/filters)).</span><span class="sxs-lookup"><span data-stu-id="2794f-158">Conventions are applied by adding them to MVC options or by implementing `Attribute`s and applying them to controllers, actions, or action parameters (similar to [`Filters`](xref:mvc/controllers/filters)).</span></span> <span data-ttu-id="2794f-159">Im Unterschied zu Filtern werden die Konventionen nur ausgeführt, wenn die app, nicht als Teil jeder Anforderung gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="2794f-159">Unlike filters, conventions are only executed when the app is starting, not as part of each request.</span></span>

### <a name="sample-modifying-the-applicationmodel"></a><span data-ttu-id="2794f-160">Beispiel: Ändern der ApplicationModel</span><span class="sxs-lookup"><span data-stu-id="2794f-160">Sample: Modifying the ApplicationModel</span></span>

<span data-ttu-id="2794f-161">Die folgende Konvention wird verwendet, um eine Eigenschaft des Anwendungsmodells hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="2794f-161">The following convention is used to add a property to the application model.</span></span> 

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/ApplicationDescription.cs)]

<span data-ttu-id="2794f-162">Anwendung Modell Konventionen gelten als Optionen, wenn es sich bei MVC hinzugefügt wird `ConfigureServices` in `Startup`.</span><span class="sxs-lookup"><span data-stu-id="2794f-162">Application model conventions are applied as options when MVC is added in `ConfigureServices` in `Startup`.</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Startup.cs?name=ConfigureServices&highlight=5)]

<span data-ttu-id="2794f-163">Eigenschaften sind über die `ActionDescriptor` Properties-Auflistung in Controlleraktionen:</span><span class="sxs-lookup"><span data-stu-id="2794f-163">Properties are accessible from the `ActionDescriptor` properties collection within controller actions:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Controllers/AppModelController.cs?name=AppModelController)]

### <a name="sample-modifying-the-controllermodel-description"></a><span data-ttu-id="2794f-164">Beispiel: Ändern Sie die ControllerModel-Beschreibung</span><span class="sxs-lookup"><span data-stu-id="2794f-164">Sample: Modifying the ControllerModel Description</span></span>

<span data-ttu-id="2794f-165">Wie im vorherigen Beispiel kann die Controllermodell auch geändert werden, um benutzerdefinierte Eigenschaften enthalten.</span><span class="sxs-lookup"><span data-stu-id="2794f-165">As in the previous example, the controller model can also be modified to include custom properties.</span></span> <span data-ttu-id="2794f-166">Diese werden mit dem gleichen Namen in das Anwendungsmodell angegebene vorhandene Eigenschaften überschrieben.</span><span class="sxs-lookup"><span data-stu-id="2794f-166">These will override existing properties with the same name specified in the application model.</span></span> <span data-ttu-id="2794f-167">Die folgende Konvention Attribut fügt eine Beschreibung auf Controllerebene hinzu:</span><span class="sxs-lookup"><span data-stu-id="2794f-167">The following convention attribute adds a description at the controller level:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/ControllerDescriptionAttribute.cs)]

<span data-ttu-id="2794f-168">Diese Konvention wird als Attribut für einen Controller angewendet.</span><span class="sxs-lookup"><span data-stu-id="2794f-168">This convention is applied as an attribute on a controller.</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Controllers/DescriptionAttributesController.cs?name=ControllerDescription&highlight=1)]

<span data-ttu-id="2794f-169">Die Eigenschaft "Beschreibung" wird auf die gleiche Weise wie in vorherigen Beispielen zugegriffen.</span><span class="sxs-lookup"><span data-stu-id="2794f-169">The "description" property is accessed in the same manner as in previous examples.</span></span>

### <a name="sample-modifying-the-actionmodel-description"></a><span data-ttu-id="2794f-170">Beispiel: Ändern Sie die ActionModel-Beschreibung</span><span class="sxs-lookup"><span data-stu-id="2794f-170">Sample: Modifying the ActionModel Description</span></span>

<span data-ttu-id="2794f-171">Eine separates Attribut Konvention kann auf einzelne Aktionen, Überschreiben von Verhalten, die bereits angewendet, auf die Anwendung oder Controllerebene angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="2794f-171">A separate attribute convention can be applied to individual actions, overriding behavior already applied at the application or controller level.</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/ActionDescriptionAttribute.cs)]

<span data-ttu-id="2794f-172">Dies auf eine Aktion innerhalb der im vorherigen Beispiel Controller angewendet wird veranschaulicht, wie sie die Konvention Controllerebene überschreibt:</span><span class="sxs-lookup"><span data-stu-id="2794f-172">Applying this to an action within the previous example's controller demonstrates how it overrides the controller-level convention:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Controllers/DescriptionAttributesController.cs?name=DescriptionAttributesController&highlight=9)]

### <a name="sample-modifying-the-parametermodel"></a><span data-ttu-id="2794f-173">Beispiel: Ändern der ParameterModel</span><span class="sxs-lookup"><span data-stu-id="2794f-173">Sample: Modifying the ParameterModel</span></span>

<span data-ttu-id="2794f-174">Die folgende Konvention auf, die zu ändernden Aktionsparameter angewendet werden kann ihre `BindingInfo`.</span><span class="sxs-lookup"><span data-stu-id="2794f-174">The following convention can be applied to action parameters to modify their `BindingInfo`.</span></span> <span data-ttu-id="2794f-175">Die folgende Konvention erfordert, dass der Parameter einen Routenparameter sein. andere mögliche Bindungsquellen (z. B. Abfragezeichenfolgen-Werte) werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="2794f-175">The following convention requires that the parameter be a route parameter; other potential binding sources (such as query string values) are ignored.</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/MustBeInRouteParameterModelConvention.cs)]

<span data-ttu-id="2794f-176">Das Attribut kann auf alle Aktionsparameter angewendet werden:</span><span class="sxs-lookup"><span data-stu-id="2794f-176">The attribute may be applied to any action parameter:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Controllers/ParameterModelController.cs?name=ParameterModelController&highlight=5)]

### <a name="sample-modifying-the-actionmodel-name"></a><span data-ttu-id="2794f-177">Beispiel: Ändern der ActionModel-Name</span><span class="sxs-lookup"><span data-stu-id="2794f-177">Sample: Modifying the ActionModel Name</span></span>

<span data-ttu-id="2794f-178">Die folgende Konvention ändert der `ActionModel` zum Aktualisieren der *Name* der Aktion, die auf das es angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="2794f-178">The following convention modifies the `ActionModel` to update the *name* of the action to which it is applied.</span></span> <span data-ttu-id="2794f-179">Der neue Name wird als Parameter für das Attribut bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="2794f-179">The new name is provided as a parameter to the attribute.</span></span> <span data-ttu-id="2794f-180">Dieser neue Name wird vom routing verwendet, damit dies beeinflusst die Route, die zum Erreichen dieser Aktionsmethode verwendet.</span><span class="sxs-lookup"><span data-stu-id="2794f-180">This new name is used by routing, so it will affect the route used to reach this action method.</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/CustomActionNameAttribute.cs)]

<span data-ttu-id="2794f-181">Dieses Attribut wird angegeben, zu einer Aktionsmethode in der `HomeController`:</span><span class="sxs-lookup"><span data-stu-id="2794f-181">This attribute is applied to an action method in the `HomeController`:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Controllers/HomeController.cs?name=ActionModelConvention&highlight=2)]

<span data-ttu-id="2794f-182">Obwohl der Methodenname ist `SomeName`, das Attribut überschreibt die MVC-Konvention für die Verwendung der Methodenname und ersetzt den Aktionsnamen mit `MyCoolAction`.</span><span class="sxs-lookup"><span data-stu-id="2794f-182">Even though the method name is `SomeName`, the attribute overrides the MVC convention of using the method name and replaces the action name with `MyCoolAction`.</span></span> <span data-ttu-id="2794f-183">Daher die Route verwendet, um diese Aktion zu erreichen ist `/Home/MyCoolAction`.</span><span class="sxs-lookup"><span data-stu-id="2794f-183">Thus, the route used to reach this action is `/Home/MyCoolAction`.</span></span>

> [!NOTE]
> <span data-ttu-id="2794f-184">In diesem Beispiel entspricht im wesentlichen unter Verwendung der integrierten [ActionName](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.actionnameattribute) Attribut.</span><span class="sxs-lookup"><span data-stu-id="2794f-184">This example is essentially the same as using the built-in [ActionName](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.actionnameattribute) attribute.</span></span>

### <a name="sample-custom-routing-convention"></a><span data-ttu-id="2794f-185">Beispiel: Benutzerdefinierte Routing-Konvention</span><span class="sxs-lookup"><span data-stu-id="2794f-185">Sample: Custom Routing Convention</span></span>

<span data-ttu-id="2794f-186">Sie können eine `IApplicationModelConvention` Funktionsweise des Routings anpassen.</span><span class="sxs-lookup"><span data-stu-id="2794f-186">You can use an `IApplicationModelConvention` to customize how routing works.</span></span> <span data-ttu-id="2794f-187">Z. B. die folgende Konvention wird Controller-Namespaces in ihre Routen, und Ersetzen Sie dabei integrieren `.` im Namespace mit `/` in der Route:</span><span class="sxs-lookup"><span data-stu-id="2794f-187">For example, the following convention will incorporate Controllers' namespaces into their routes, replacing `.` in the namespace with `/` in the route:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/NamespaceRoutingConvention.cs)]

<span data-ttu-id="2794f-188">Die Konvention wird als Option in den Starttasks hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="2794f-188">The convention is added as an option in Startup.</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Startup.cs?name=ConfigureServices&highlight=6)]

> [!TIP]
> <span data-ttu-id="2794f-189">Sie können die Konventionen zum Hinzufügen Ihrer [Middleware](xref:fundamentals/middleware) durch den Zugriff auf `MvcOptions` verwenden`services.Configure<MvcOptions>(c => c.Conventions.Add(YOURCONVENTION));`</span><span class="sxs-lookup"><span data-stu-id="2794f-189">You can add conventions to your [middleware](xref:fundamentals/middleware) by accessing `MvcOptions` using `services.Configure<MvcOptions>(c => c.Conventions.Add(YOURCONVENTION));`</span></span>

<span data-ttu-id="2794f-190">In diesem Beispiel gilt diese Konvention für Routen, die nicht routing-Attribut verwenden, auf dem der Controller "Namespace" im Namen aufweist.</span><span class="sxs-lookup"><span data-stu-id="2794f-190">This sample applies this convention to routes that are not using attribute routing where the controller has  "Namespace" in its name.</span></span> <span data-ttu-id="2794f-191">Die folgenden Controller veranschaulicht diese Konvention:</span><span class="sxs-lookup"><span data-stu-id="2794f-191">The following controller demonstrates this convention:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Controllers/NamespaceRoutingController.cs?highlight=7-8)]

## <a name="application-model-usage-in-webapicompatshim"></a><span data-ttu-id="2794f-192">Modell der Anwendungsnutzung in WebApiCompatShim</span><span class="sxs-lookup"><span data-stu-id="2794f-192">Application Model Usage in WebApiCompatShim</span></span>

<span data-ttu-id="2794f-193">ASP.NET Core MVC verwendet einen anderen Satz von Konventionen von ASP.NET Web API 2 an.</span><span class="sxs-lookup"><span data-stu-id="2794f-193">ASP.NET Core MVC uses a different set of conventions from ASP.NET Web API 2.</span></span> <span data-ttu-id="2794f-194">Mithilfe von benutzerdefinierten Konventionen, können Sie eine ASP.NET Core MVC-app-Verhalten konsistent mit der eine Web-API-app ändern.</span><span class="sxs-lookup"><span data-stu-id="2794f-194">Using custom conventions, you can modify an ASP.NET Core MVC app's behavior to be consistent with that of a Web API app.</span></span> <span data-ttu-id="2794f-195">Microsoft umfasst die [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim/) speziell für diesen Zweck.</span><span class="sxs-lookup"><span data-stu-id="2794f-195">Microsoft ships the [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim/) specifically for this purpose.</span></span>

> [!NOTE]
> <span data-ttu-id="2794f-196">Erfahren Sie mehr über [Migrieren von ASP.NET Web API](xref:migration/webapi).</span><span class="sxs-lookup"><span data-stu-id="2794f-196">Learn more about [migrating from ASP.NET Web API](xref:migration/webapi).</span></span>

<span data-ttu-id="2794f-197">Um der Web-API-Kompatibilität Shim verwenden zu können, müssen Sie das Projekt das Paket hinzu, und fügen Sie dann die Konventionen für MVC durch Aufrufen `AddWebApiConventions` in `Startup`:</span><span class="sxs-lookup"><span data-stu-id="2794f-197">To use the Web API Compatibility Shim, you need to add the package to your project and then add the conventions to MVC by calling `AddWebApiConventions` in `Startup`:</span></span>

```c#
services.AddMvc().AddWebApiConventions();
```

<span data-ttu-id="2794f-198">Die Konventionen der Shim gebotenen werden nur auf Teile der app angewendet, die hatten, bestimmte Attribute angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="2794f-198">The conventions provided by the shim are only applied to parts of the app that have had certain attributes applied to them.</span></span> <span data-ttu-id="2794f-199">Die folgenden vier Attribute werden zum Steuerelement verwendet, die Controller ihre Konventionen, die durch den Shim-Konventionen geändert haben, sollten:</span><span class="sxs-lookup"><span data-stu-id="2794f-199">The following four attributes are used to control which controllers should have their conventions modified by the shim's conventions:</span></span>

* [<span data-ttu-id="2794f-200">UseWebApiActionConventionsAttribute</span><span class="sxs-lookup"><span data-stu-id="2794f-200">UseWebApiActionConventionsAttribute</span></span>](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.webapicompatshim.usewebapiactionconventionsattribute)
* [<span data-ttu-id="2794f-201">UseWebApiOverloadingAttribute</span><span class="sxs-lookup"><span data-stu-id="2794f-201">UseWebApiOverloadingAttribute</span></span>](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.webapicompatshim.usewebapioverloadingattribute)
* [<span data-ttu-id="2794f-202">UseWebApiParameterConventionsAttribute</span><span class="sxs-lookup"><span data-stu-id="2794f-202">UseWebApiParameterConventionsAttribute</span></span>](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.webapicompatshim.usewebapiparameterconventionsattribute)
* [<span data-ttu-id="2794f-203">UseWebApiRoutesAttribute</span><span class="sxs-lookup"><span data-stu-id="2794f-203">UseWebApiRoutesAttribute</span></span>](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.webapicompatshim.usewebapiroutesattribute)

### <a name="action-conventions"></a><span data-ttu-id="2794f-204">Aktion-Konventionen</span><span class="sxs-lookup"><span data-stu-id="2794f-204">Action Conventions</span></span>

<span data-ttu-id="2794f-205">Die `UseWebApiActionConventionsAttribute` wird verwendet, um die HTTP-Methode Aktionen basierend auf deren Namen zugeordnet (z. B. `Get` zuordnen würden `HttpGet`).</span><span class="sxs-lookup"><span data-stu-id="2794f-205">The `UseWebApiActionConventionsAttribute` is used to map the HTTP method to actions based on their name (for instance, `Get` would map to `HttpGet`).</span></span> <span data-ttu-id="2794f-206">Dies gilt nur für Aktionen, die keine routing-Attribut verwenden.</span><span class="sxs-lookup"><span data-stu-id="2794f-206">It only applies to actions that do not use attribute routing.</span></span>

### <a name="overloading"></a><span data-ttu-id="2794f-207">Überladen</span><span class="sxs-lookup"><span data-stu-id="2794f-207">Overloading</span></span>

<span data-ttu-id="2794f-208">Die `UseWebApiOverloadingAttribute` dient zum Anwenden der `WebApiOverloadingApplicationModelConvention` Konvention.</span><span class="sxs-lookup"><span data-stu-id="2794f-208">The `UseWebApiOverloadingAttribute` is used to apply the `WebApiOverloadingApplicationModelConvention` convention.</span></span> <span data-ttu-id="2794f-209">Diese Konvention Fügt eine `OverloadActionConstraint` auf die Aktion Auswahlprozesses verwendet werden, beschränkt die möglichen Aktionen, die für die die Anforderung alle nicht optionalen Parameter erfüllt.</span><span class="sxs-lookup"><span data-stu-id="2794f-209">This convention adds an `OverloadActionConstraint` to the action selection process, which limits candidate actions to those for which the request satisfies all non-optional parameters.</span></span>

### <a name="parameter-conventions"></a><span data-ttu-id="2794f-210">Parameterkonventionen</span><span class="sxs-lookup"><span data-stu-id="2794f-210">Parameter Conventions</span></span>

<span data-ttu-id="2794f-211">Die `UseWebApiParameterConventionsAttribute` dient zum Anwenden der `WebApiParameterConventionsApplicationModelConvention` Aktion Konvention.</span><span class="sxs-lookup"><span data-stu-id="2794f-211">The `UseWebApiParameterConventionsAttribute` is used to apply the `WebApiParameterConventionsApplicationModelConvention` action convention.</span></span> <span data-ttu-id="2794f-212">Diese Konvention gibt an, dass einfache Typen, die als Aktionsparameter verwendet gebunden sind aus dem URI standardmäßig während der komplexe Typen aus dem Anforderungstext gebunden sind.</span><span class="sxs-lookup"><span data-stu-id="2794f-212">This convention specifies that simple types used as action parameters are bound from the URI by default, while complex types are bound from the request body.</span></span>

### <a name="routes"></a><span data-ttu-id="2794f-213">Routen</span><span class="sxs-lookup"><span data-stu-id="2794f-213">Routes</span></span>

<span data-ttu-id="2794f-214">Die `UseWebApiRoutesAttribute` steuert, ob die `WebApiApplicationModelConvention` Controller Konvention wird angewendet.</span><span class="sxs-lookup"><span data-stu-id="2794f-214">The `UseWebApiRoutesAttribute` controls whether the `WebApiApplicationModelConvention` controller convention is applied.</span></span> <span data-ttu-id="2794f-215">Wenn aktiviert, wird dieser Konvention verwendet, zum Hinzufügen der Unterstützung für [Bereiche](xref:mvc/controllers/areas) der Route.</span><span class="sxs-lookup"><span data-stu-id="2794f-215">When enabled, this convention is used to add support for [areas](xref:mvc/controllers/areas) to the route.</span></span>

<span data-ttu-id="2794f-216">Zusätzlich zu einem Satz von Konventionen, die Kompatibilität-Paket enthält eine `System.Web.Http.ApiController` Basisklasse, die dem Bedingungsoperator für die Web-API ersetzt.</span><span class="sxs-lookup"><span data-stu-id="2794f-216">In addition to a set of conventions, the compatibility package includes a `System.Web.Http.ApiController` base class that replaces the one provided by Web API.</span></span> <span data-ttu-id="2794f-217">Dadurch können Ihre Controller für Web-API und erben geschrieben aus seiner `ApiController` , wie sie beim Ausführen von auf ASP.NET Core MVC entwickelt wurden, funktionieren.</span><span class="sxs-lookup"><span data-stu-id="2794f-217">This allows your controllers written for Web API and inheriting from its `ApiController` to work as they were designed, while running on ASP.NET Core MVC.</span></span> <span data-ttu-id="2794f-218">Diese Klasse Basiscontroller ebenfalls mit allen ergänzt wird die `UseWebApi*` oben aufgeführten Attribute.</span><span class="sxs-lookup"><span data-stu-id="2794f-218">This base controller class is decorated with all of the `UseWebApi*` attributes listed above.</span></span> <span data-ttu-id="2794f-219">Die `ApiController` verfügbar macht, Eigenschaften, Methoden und Typen, die mit denen im Web-API kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="2794f-219">The `ApiController` exposes properties, methods, and result types that are compatible with those found in Web API.</span></span>

## <a name="using-apiexplorer-to-document-your-app"></a><span data-ttu-id="2794f-220">Dokumentieren Sie Ihre App mithilfe von ApiExplorer</span><span class="sxs-lookup"><span data-stu-id="2794f-220">Using ApiExplorer to Document Your App</span></span>

<span data-ttu-id="2794f-221">Das Anwendungsmodell macht eine [ `ApiExplorer` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.apiexplorermodel) Eigenschaft auf jeder Ebene, der zum Durchlaufen der app-Struktur verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="2794f-221">The application model exposes an [`ApiExplorer`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.applicationmodels.apiexplorermodel) property at each level that can be used to traverse the app's structure.</span></span> <span data-ttu-id="2794f-222">Dies kann zur [Hilfeseiten für Ihre Web-APIs, die mithilfe von Tools wie Swagger generieren](https://docs.microsoft.com/aspnet/core/tutorials/web-api-help-pages-using-swagger).</span><span class="sxs-lookup"><span data-stu-id="2794f-222">This can be used to [generate help pages for your Web APIs using tools like Swagger](https://docs.microsoft.com/aspnet/core/tutorials/web-api-help-pages-using-swagger).</span></span> <span data-ttu-id="2794f-223">Die `ApiExplorer` Eigenschaft macht eine `IsVisible` -Eigenschaft, die festgelegt werden kann, um anzugeben, welche Teile des Modells für Ihre app verfügbar gemacht werden sollen.</span><span class="sxs-lookup"><span data-stu-id="2794f-223">The `ApiExplorer` property exposes an `IsVisible` property that can be set to specify which parts of your app's model should be exposed.</span></span> <span data-ttu-id="2794f-224">Sie können diese Einstellung, die mithilfe einer Konvention konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="2794f-224">You can configure this setting using a convention:</span></span>

[!code-csharp[Main](./application-model/sample/src/AppModelSample/Conventions/EnableApiExplorerApplicationConvention.cs)]

<span data-ttu-id="2794f-225">Mit diesem Ansatz (und zusätzliche Konventionen, falls erforderlich), können Sie aktivieren oder Deaktivieren von API-Sichtbarkeit auf jeder Ebene innerhalb Ihrer app.</span><span class="sxs-lookup"><span data-stu-id="2794f-225">Using this approach (and additional conventions if required), you can enable or disable API visibility at any level within your app.</span></span> 
