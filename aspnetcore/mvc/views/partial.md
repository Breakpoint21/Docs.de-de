---
title: Verwenden von Teilansichten in ASP.NET Core
author: ardalis
description: Erfahren Sie, wie eine Teilansicht zu einer Ansicht werden kann, die innerhalb einer anderen Ansicht gerendert wird, und wann diese in ASP.NET Core-Apps verwendet werden sollten.
manager: wpickett
ms.author: riande
ms.date: 03/14/2018
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: mvc/views/partial
ms.openlocfilehash: 3deaaeb666e5443d0784f2ac6977e58e1b25d711
ms.sourcegitcommit: 71b93b42cbce8a9b1a12c4d88391e75a4dfb6162
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/20/2018
ms.locfileid: "30000901"
---
# <a name="partial-views-in-aspnet-core"></a><span data-ttu-id="493a2-103">Verwenden von Teilansichten in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="493a2-103">Partial Views in ASP.NET Core</span></span>

<span data-ttu-id="493a2-104">Von [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT) und [Scott Sauber](https://twitter.com/scottsauber)</span><span class="sxs-lookup"><span data-stu-id="493a2-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Scott Sauber](https://twitter.com/scottsauber)</span></span>

<span data-ttu-id="493a2-105">ASP.NET Core MVC unterstützt Teilansichten. Diese sind nützlich, wenn Sie über wiederverwendbare Teile von Webseiten verfügen, die Sie für verschiedene Ansichten freigeben möchten.</span><span class="sxs-lookup"><span data-stu-id="493a2-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="493a2-106">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([Vorgehensweise zum Herunterladen](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="493a2-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="493a2-107">Informationen zu Teilansichten</span><span class="sxs-lookup"><span data-stu-id="493a2-107">What are Partial Views?</span></span>

<span data-ttu-id="493a2-108">Bei einer Teilansicht handelt es sich um eine Ansicht die innerhalb einer anderen Ansicht gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="493a2-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="493a2-109">Die HTML-Ausgabe, die durch das Ausführen der Teilansicht generiert wird, wird in die aufrufende bzw. die übergeordnete Ansicht gerendert.</span><span class="sxs-lookup"><span data-stu-id="493a2-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="493a2-110">Wie Ansichten verwenden auch Teilansichten die Erweiterung *.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="493a2-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="493a2-111">Verwendung von Teilansichten</span><span class="sxs-lookup"><span data-stu-id="493a2-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="493a2-112">Teilansichten stellen eine effektive Möglichkeit dar, große Ansichten in kleinere Komponenten zu unterteilen.</span><span class="sxs-lookup"><span data-stu-id="493a2-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="493a2-113">Dadurch können Duplizierungen von Ansichtsinhalt reduziert und Ansichtselemente wiederverwendet werden.</span><span class="sxs-lookup"><span data-stu-id="493a2-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="493a2-114">Häufig verwendete Layoutelemente müssen in [_Layout.cshtml](layout.md) angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="493a2-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="493a2-115">Wiederverwendbarer Inhalt, der nicht zum Layout gehört, kann in Teilansichten gekapselt werden.</span><span class="sxs-lookup"><span data-stu-id="493a2-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="493a2-116">Wenn Sie über eine komplexe Seite verfügen, die aus mehreren logischen Bestandteilen besteht, ist es hilfreich, wenn Sie mit jedem Bestandteil als einzelne Teilansichten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="493a2-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="493a2-117">Jeder Bestandteil der Seite kann unabhängig vom Rest der Seite angezeigt werden, wodurch die Ansicht der Seite viel einfacher wird, da sie nur die Gesamtseitenstruktur und Aufrufe enthält, über die die Teilansichten gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="493a2-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="493a2-118">Tipp: Halten Sie sich in Ihren Ansichten an das [Don’t Repeat Yourself-Prinzip](http://deviq.com/don-t-repeat-yourself/).</span><span class="sxs-lookup"><span data-stu-id="493a2-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="493a2-119">Deklarieren von Teilansichten</span><span class="sxs-lookup"><span data-stu-id="493a2-119">Declaring Partial Views</span></span>

<span data-ttu-id="493a2-120">Teilansichten werden auf dieselbe Weise wie andere Ansichten erstellt: Erstellen Sie eine *CSHTML*-Datei im Ordner *Ansichten*.</span><span class="sxs-lookup"><span data-stu-id="493a2-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="493a2-121">Es gibt keinen Unterschied in der Semantik zwischen Teilansichten und normalen Ansichten. Sie werden nur unterschiedlich gerendert.</span><span class="sxs-lookup"><span data-stu-id="493a2-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="493a2-122">Sie können über eine Ansicht verfügen, die direkt über das `ViewResult` eines Controllers zurückgegeben wird. Dieselbe Ansicht kann dann auch als Teilansicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="493a2-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="493a2-123">Der Hauptunterschied beim Rendern von Teilansichten und Ansichten liegt darin, dass Teilansichten nicht die Datei *_ViewStart.cshtml* ausführen, Ansichten hingegen schon (weitere Informationen dazu erhalten Sie unter *_ViewStart.cshtml* unter [Layout](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="493a2-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="493a2-124">Verweisen auf eine Teilansicht</span><span class="sxs-lookup"><span data-stu-id="493a2-124">Referencing a Partial View</span></span>

<span data-ttu-id="493a2-125">Es gibt mehrere Möglichkeiten, Teilansichten auf Ansichtsseiten zu rendern.</span><span class="sxs-lookup"><span data-stu-id="493a2-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="493a2-126">Am Besten ist es, `Html.PartialAsync` zu verwenden, wodurch eine `IHtmlString` zurückgegeben wird, auf die verwiesen werden kann, indem dem Aufruf `@` vorangestellt wird:</span><span class="sxs-lookup"><span data-stu-id="493a2-126">The best practice is to use `Html.PartialAsync`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="493a2-127">Sie können Teilansichten mithilfe von `RenderPartialAsync` rendern.</span><span class="sxs-lookup"><span data-stu-id="493a2-127">You can render a partial view with `RenderPartialAsync`.</span></span> <span data-ttu-id="493a2-128">Diese Methode gibt kein Ergebnis zurück, sondern streamt die gerenderte Ausgabe direkt an die Antwort.</span><span class="sxs-lookup"><span data-stu-id="493a2-128">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="493a2-129">Da sie kein Ergebnis zurückgibt, muss sie in einem Razor-Codeblock aufgerufen werden:</span><span class="sxs-lookup"><span data-stu-id="493a2-129">Because it doesn't return a result, it must be called within a Razor code block:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=11-13)]

<span data-ttu-id="493a2-130">Da die Methode das Ergebnis direkt streamt, ist die Leistung von `RenderPartialAsync` in einigen Szenarios besser.</span><span class="sxs-lookup"><span data-stu-id="493a2-130">Because it streams the result directly, `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="493a2-131">Es wird jedoch empfohlen, `PartialAsync` zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="493a2-131">However, it's recommended you use `PartialAsync`.</span></span>

<span data-ttu-id="493a2-132">Obwohl es synchrone Entsprechungen von `Html.PartialAsync` (`Html.Partial`) und `Html.RenderPartialAsync` (`Html.RenderPartial`) gibt, sollten Sie diese synchronen Entsprechungen nicht verwenden, da in manchen Szenarios ein Deadlock auftreten könnte.</span><span class="sxs-lookup"><span data-stu-id="493a2-132">While there are synchronous equivalents of `Html.PartialAsync` (`Html.Partial`) and `Html.RenderPartialAsync` (`Html.RenderPartial`), use of the synchronous equivalents isn't recommended because there are scenarios where they deadlock.</span></span> <span data-ttu-id="493a2-133">Synchrone Methoden werden in zukünftigen Versionen nicht mehr verfügbar sein.</span><span class="sxs-lookup"><span data-stu-id="493a2-133">The synchronous methods will be unavailable in future versions.</span></span>

> [!NOTE]
> <span data-ttu-id="493a2-134">Wenn Ihre Ansichten Code ausführen müssen, wird empfohlen, dass Sie anstelle von Teilansichten [Ansichtskomponenten](view-components.md) verwenden.</span><span class="sxs-lookup"><span data-stu-id="493a2-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="493a2-135">Ermittlung von Teilansichten</span><span class="sxs-lookup"><span data-stu-id="493a2-135">Partial View Discovery</span></span>

<span data-ttu-id="493a2-136">Es gibt verschiedene Möglichkeiten, um auf den Speicherort einer Teilansicht zu verweisen:</span><span class="sxs-lookup"><span data-stu-id="493a2-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```cshtml
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@await Html.PartialAsync("ViewName")

// A view with this name must be in the same folder
@await Html.PartialAsync("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@await Html.PartialAsync("~/Views/Folder/ViewName.cshtml")
@await Html.PartialAsync("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@await Html.PartialAsync("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="493a2-137">Sie können verschiedene Teilansichten mit demselben Namen in unterschiedlichen Ordnern verwenden.</span><span class="sxs-lookup"><span data-stu-id="493a2-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="493a2-138">Wenn Sie auf die Namen der Ansichten (ohne Erweiterung) verweisen, verwenden die Ansichten in jedem Ordner die Teilansichten, die sich im selben Ordner befinden.</span><span class="sxs-lookup"><span data-stu-id="493a2-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="493a2-139">Sie können auch eine Standardteilansicht festlegen, die verwendet werden soll, und sie im Ordner *Freigegeben* ablegen.</span><span class="sxs-lookup"><span data-stu-id="493a2-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="493a2-140">Die freigegebene Teilansicht wird dann in allen Ansichten verwendet, die über keine eigene Version der Teilansicht verfügen.</span><span class="sxs-lookup"><span data-stu-id="493a2-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="493a2-141">Sie können über eine Standardteilansicht verfügen (im Ordner *Freigegeben*), die von einer Teilansicht überschrieben wird, die denselben Namen wie die übergeordnete Ansicht hat und sich im selben Ordner wie diese befindet.</span><span class="sxs-lookup"><span data-stu-id="493a2-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="493a2-142">Teilansichten können miteinander *verkettet* werden.</span><span class="sxs-lookup"><span data-stu-id="493a2-142">Partial views can be *chained*.</span></span> <span data-ttu-id="493a2-143">D.h., eine Teilansicht kann eine andere Teilansicht aufrufen – allerdings nur, wenn Sie keine Schleife erstellen.</span><span class="sxs-lookup"><span data-stu-id="493a2-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="493a2-144">In jeder Ansicht oder Teilansicht beziehen sich relative Pfade ausschließlich auf die jeweilige Ansicht und nicht auf die Stammansicht oder die übergeordnete Ansicht.</span><span class="sxs-lookup"><span data-stu-id="493a2-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="493a2-145">Wenn Sie einen [Razor](razor.md)-`section` in einer Teilansicht deklarieren, wird dieser Bereich den übergeordneten Ansichten nicht angezeigt, sondern ist nur auf die Teilansicht beschränkt.</span><span class="sxs-lookup"><span data-stu-id="493a2-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="493a2-146">Zugreifen auf Daten aus Teilansichten</span><span class="sxs-lookup"><span data-stu-id="493a2-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="493a2-147">Wenn eine Teilansicht instanziiert wird, erhält sie eine Kopie des `ViewData`-Wörterbuchs der übergeordneten Ansicht.</span><span class="sxs-lookup"><span data-stu-id="493a2-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="493a2-148">An den Daten vorgenommene Änderungen in der Teilansicht werden in der übergeordneten Ansicht nicht beibehalten.</span><span class="sxs-lookup"><span data-stu-id="493a2-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="493a2-149">Ein `ViewData`-Wörterbuch, das in einer Teilansicht verändert wird, geht verloren, wenn die Teilansicht eine Rückgabe ausgibt.</span><span class="sxs-lookup"><span data-stu-id="493a2-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="493a2-150">Sie können eine Instanz von `ViewDataDictionary` an die Teilansicht übergeben:</span><span class="sxs-lookup"><span data-stu-id="493a2-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", customViewData)
```

<span data-ttu-id="493a2-151">Außerdem können Sie ein Modell an eine Teilansicht übergeben.</span><span class="sxs-lookup"><span data-stu-id="493a2-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="493a2-152">Dabei kann es sich um das Ansichtsmodell einer Seite oder ein benutzerdefiniertes Objekt handeln.</span><span class="sxs-lookup"><span data-stu-id="493a2-152">This can be the page's view model or a custom object.</span></span> <span data-ttu-id="493a2-153">Sie können ein Modell an `PartialAsync` oder `RenderPartialAsync` übergeben:</span><span class="sxs-lookup"><span data-stu-id="493a2-153">You can pass a model to `PartialAsync` or `RenderPartialAsync`:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", viewModel)
```

<span data-ttu-id="493a2-154">Sie können eine Instanz von `ViewDataDictionary` und ein Ansichtsmodell an eine Teilansicht übergeben:</span><span class="sxs-lookup"><span data-stu-id="493a2-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="493a2-155">Das nachfolgende Markup stellt die *Views/Articles/Read.cshtml*-Ansicht dar, die zwei Teilansichten enthält.</span><span class="sxs-lookup"><span data-stu-id="493a2-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="493a2-156">Die zweite Teilansicht übergibt ein Modell und `ViewData` an die Teilansicht.</span><span class="sxs-lookup"><span data-stu-id="493a2-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="493a2-157">Sie können ein neues `ViewData`-Wörterbuch übergeben und gleichzeitig das vorhandene `ViewData` behalten, wenn Sie die Konstruktorüberladung des nachfolgend markierten `ViewDataDictionary` verwenden:</span><span class="sxs-lookup"><span data-stu-id="493a2-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="493a2-158">*Views/Shared/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="493a2-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="493a2-159">Die *ArticleSection*-Teilausführung:</span><span class="sxs-lookup"><span data-stu-id="493a2-159">The *ArticleSection* partial:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="493a2-160">Die Teilausführungen werden zur Laufzeit in der übergeordneten Ansicht gerendert, die wiederum in *_Layout.cshtml* freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="493a2-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![Ausgabe der Teilansicht](partial/_static/output.png)
