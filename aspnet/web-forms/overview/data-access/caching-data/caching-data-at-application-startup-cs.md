---
uid: web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
title: Zwischenspeichern von Daten beim Start der Anwendung (c#) | Microsoft Docs
author: rick-anderson
description: "In einer beliebigen Webanwendung einige Daten häufig verwendet werden, und einige Daten nur selten verwendet werden. Wir können unsere ASP.NET Anwendung b leistungsverbesserung..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/30/2007
ms.topic: article
ms.assetid: 22ca8efa-7cd1-45a7-b9ce-ce6eb3b3ff95
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
msc.type: authoredcontent
ms.openlocfilehash: ccf22f9e72777242ca0239aee69045ab03d56960
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/10/2017
---
<a name="caching-data-at-application-startup-c"></a><span data-ttu-id="1e62d-104">Zwischenspeichern von Daten beim Start der Anwendung (c#)</span><span class="sxs-lookup"><span data-stu-id="1e62d-104">Caching Data at Application Startup (C#)</span></span>
====================
<span data-ttu-id="1e62d-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1e62d-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="1e62d-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="1e62d-106">Download PDF</span></span>](caching-data-at-application-startup-cs/_static/datatutorial60cs1.pdf)

> <span data-ttu-id="1e62d-107">In einer beliebigen Webanwendung einige Daten häufig verwendet werden, und einige Daten nur selten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-107">In any Web application some data will be frequently used and some data will be infrequently used.</span></span> <span data-ttu-id="1e62d-108">Wir können unsere ASP.NET-Anwendung die Leistung verbessern, indem laden im Voraus häufig verwendete Daten, eine Technik, die als bekannt.</span><span class="sxs-lookup"><span data-stu-id="1e62d-108">We can improve the performance of our ASP.NET application by loading in advance the frequently-used data, a technique known as.</span></span> <span data-ttu-id="1e62d-109">Dieses Lernprogramm veranschaulicht eine Möglichkeit, proaktives laden, die zum Laden von Daten in den Cache beim Start der Anwendung ist.</span><span class="sxs-lookup"><span data-stu-id="1e62d-109">This tutorial demonstrates one approach to proactive loading, which is to load data into the cache at application startup.</span></span>


## <a name="introduction"></a><span data-ttu-id="1e62d-110">Einführung</span><span class="sxs-lookup"><span data-stu-id="1e62d-110">Introduction</span></span>

<span data-ttu-id="1e62d-111">Zwischenspeichern von Daten in der Präsentations- und Zwischenspeichern von Ebenen in den beiden vorherigen Lernprogrammen betrachtet.</span><span class="sxs-lookup"><span data-stu-id="1e62d-111">The two previous tutorials looked at caching data in the Presentation and Caching Layers.</span></span> <span data-ttu-id="1e62d-112">In [Zwischenspeichern von Daten mit der ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), mit der caching-Funktionen zum Zwischenspeichern von Daten in der Darstellungsschicht ObjectDataSource s erläutert.</span><span class="sxs-lookup"><span data-stu-id="1e62d-112">In [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), we looked at using the ObjectDataSource s caching features to cache data in the Presentation Layer.</span></span> <span data-ttu-id="1e62d-113">[Zwischenspeichern von Daten in der Architektur](caching-data-in-the-architecture-cs.md) Zwischenspeichern in eine neue, separate Zwischenspeichern Ebene untersucht.</span><span class="sxs-lookup"><span data-stu-id="1e62d-113">[Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) examined caching in a new, separate Caching Layer.</span></span> <span data-ttu-id="1e62d-114">Sowohl mit diesen Lernprogrammen verwendet *reaktive laden* bei der Arbeit mit dem Datencache.</span><span class="sxs-lookup"><span data-stu-id="1e62d-114">Both of these tutorials used *reactive loading* in working with the data cache.</span></span> <span data-ttu-id="1e62d-115">Beim reaktiven laden, jedes Mal, die die Daten angefordert werden, das System zuerst überprüft, ob es s im Cache.</span><span class="sxs-lookup"><span data-stu-id="1e62d-115">With reactive loading, each time the data is requested, the system first checks if it s in the cache.</span></span> <span data-ttu-id="1e62d-116">Wenn dies nicht der Fall, er ruft die Daten aus der ursprünglichen Quelle, z. B. die Datenbank, und klicken Sie dann im Cache gespeichert.</span><span class="sxs-lookup"><span data-stu-id="1e62d-116">If not, it grabs the data from the originating source, such as the database, and then stores it in the cache.</span></span> <span data-ttu-id="1e62d-117">Der Hauptvorteil reaktive geladen wurde, wird der einfachen Implementierung.</span><span class="sxs-lookup"><span data-stu-id="1e62d-117">The main advantage to reactive loading is its ease of implementation.</span></span> <span data-ttu-id="1e62d-118">Einer der Nachteile ist seine ungleichmäßige Leistung anforderungsübergreifend.</span><span class="sxs-lookup"><span data-stu-id="1e62d-118">One of its disadvantages is its uneven performance across requests.</span></span> <span data-ttu-id="1e62d-119">Angenommen Sie, eine Seite, die die Caching-Ebene aus dem vorherigen Lernprogramm verwendet wird, um Produktinformationen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-119">Imagine a page that uses the Caching Layer from the preceding tutorial to display product information.</span></span> <span data-ttu-id="1e62d-120">Wenn diese Seite wird zum ersten Mal besucht oder besucht zum ersten Mal nach dem die zwischengespeicherten Daten aufgrund von arbeitsspeicherbeschränkungen oder dem angegebenen Ablaufdatum erreicht haben Clusterdefinition entfernt wurde, müssen die Daten aus der Datenbank abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-120">When this page is visited for the first time, or visited for the first time after the cached data has been evicted due to memory constraints or the specified expiry having been reached, the data must be retrieved from the database.</span></span> <span data-ttu-id="1e62d-121">Aus diesem Grund werden dieser Benutzer fordert dauert länger als Benutzer-Anforderungen, die bereitgestellt werden, können vom Cache.</span><span class="sxs-lookup"><span data-stu-id="1e62d-121">Therefore, these users requests will take longer than users requests that can be served by the cache.</span></span>

<span data-ttu-id="1e62d-122">*Proaktives laden* bietet eine alternative Cache Verwaltungsstrategie, glättet die speicherleistung anforderungsübergreifend durch Laden der zwischengespeicherten Daten, bevor sie s erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="1e62d-122">*Proactive loading* provides an alternative cache management strategy that smoothes out the performance across requests by loading the cached data before it s needed.</span></span> <span data-ttu-id="1e62d-123">Proaktives Laden verwendet normalerweise einen Prozess, der regelmäßig überprüft oder wird benachrichtigt, wenn ein Update der zugrunde liegenden Daten stattgefunden hat.</span><span class="sxs-lookup"><span data-stu-id="1e62d-123">Typically, proactive loading uses some process that either periodically checks or is notified when there has been an update to the underlying data.</span></span> <span data-ttu-id="1e62d-124">Dieser Vorgang aktualisiert dann den Cache, um den Lizenztoken aktuell zu halten.</span><span class="sxs-lookup"><span data-stu-id="1e62d-124">This process then updates the cache to keep it fresh.</span></span> <span data-ttu-id="1e62d-125">Proaktives Laden ist besonders nützlich, wenn die zugrunde liegenden Daten über eine langsame Verbindung, einen Webdienst oder eine andere besonders lange Datenquelle stammen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-125">Proactive loading is especially useful if the underlying data comes from a slow database connection, a Web service, or some other particularly sluggish data source.</span></span> <span data-ttu-id="1e62d-126">Dieser Ansatz ist jedoch die proaktive geladen wurde, schwieriger zu implementieren, erstellen, verwalten und Bereitstellen eines Prozesses, um auf Änderungen überprüfen und aktualisieren Sie den Cache benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="1e62d-126">But this approach to proactive loading is more difficult to implement, as it requires creating, managing, and deploying a process to check for changes and update the cache.</span></span>

<span data-ttu-id="1e62d-127">Eine andere Art von proaktives laden und der Typ, den wir in diesem Lernprogramm untersuchen müssen wird Daten in den Cache beim Anwendungsstart geladen werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-127">Another flavor of proactive loading, and the type we'll be exploring in this tutorial, is loading data into the cache at application startup.</span></span> <span data-ttu-id="1e62d-128">Dieser Ansatz eignet sich besonders zum Zwischenspeichern von statischer Daten, z. B. die Datensätze in Datenbanktabellen für die Suche.</span><span class="sxs-lookup"><span data-stu-id="1e62d-128">This approach is especially useful for caching static data, such as the records in database lookup tables.</span></span>

> [!NOTE]
> <span data-ttu-id="1e62d-129">Eine eingehendere Betrachtung der Unterschiede zwischen proaktive und reaktive laden als auch Listen mit vor- und Nachteile Implementierung Empfehlungen finden Sie in der [Verwalten des Inhalts eines Caches](https://msdn.microsoft.com/en-us/library/ms978503.aspx) Teil der [ Handbuch zur Referenzarchitektur für .NET Framework-Anwendungen Caching](https://msdn.microsoft.com/en-us/library/ms978498.aspx).</span><span class="sxs-lookup"><span data-stu-id="1e62d-129">For a more in-depth look at the differences between proactive and reactive loading, as well as lists of pros, cons, and implementation recommendations, refer to the [Managing the Contents of a Cache](https://msdn.microsoft.com/en-us/library/ms978503.aspx) section of the [Caching Architecture Guide for .NET Framework Applications](https://msdn.microsoft.com/en-us/library/ms978498.aspx).</span></span>


## <a name="step-1-determining-what-data-to-cache-at-application-startup"></a><span data-ttu-id="1e62d-130">Schritt 1: Bestimmen, welche Daten zum Cache beim Anwendungsstart</span><span class="sxs-lookup"><span data-stu-id="1e62d-130">Step 1: Determining What Data to Cache at Application Startup</span></span>

<span data-ttu-id="1e62d-131">Das Zwischenspeichern Beispiele zur Verwendung der reaktive laden, die wir in den vorherigen zwei Lernprogramme Arbeit auch mit Daten, die ggf. in regelmäßigen Abständen ändern und nutzt nicht exorbitantly lang zum Generieren untersucht werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-131">The caching examples using reactive loading that we examined in the previous two tutorials work well with data that may periodically change and does not take exorbitantly long to generate.</span></span> <span data-ttu-id="1e62d-132">Aber die zwischengespeicherten Daten nie ändert, Ablauf von reaktive Laden verwendet überflüssig ist.</span><span class="sxs-lookup"><span data-stu-id="1e62d-132">But if the cached data never changes, the expiry used by reactive loading is superfluous.</span></span> <span data-ttu-id="1e62d-133">Ebenso, wenn die Daten zwischengespeichert generieren äußerst lange ausgeführt wird, klicken Sie dann diese Benutzer, deren Anforderungen zu suchen, der Cache leeren muss für eine lange warten, während die zugrunde liegenden Daten Sender, wird abgerufen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-133">Likewise, if the data being cached takes an exceedingly long time to generate, then those users whose requests find the cache empty will have to endure a lengthy wait while the underlying data is retrieved.</span></span> <span data-ttu-id="1e62d-134">Erwägen Sie, Zwischenspeichern von statischen Daten sowie Daten, die eine außergewöhnlich lange dauert beim Start der Anwendung zu generieren.</span><span class="sxs-lookup"><span data-stu-id="1e62d-134">Consider caching static data and data that takes an exceptionally long time to generate at application startup.</span></span>

<span data-ttu-id="1e62d-135">Während Datenbanken viele dynamische besitzen, häufig geänderte Werte aufweisen, die meisten auch viel statische Daten.</span><span class="sxs-lookup"><span data-stu-id="1e62d-135">While databases have many dynamic, frequently-changing values, most also have a fair amount of static data.</span></span> <span data-ttu-id="1e62d-136">Nahezu alle Datenmodelle haben z. B. eine oder mehrere Spalten, die einen bestimmten Wert aus einen festen Satz von Optionen enthalten.</span><span class="sxs-lookup"><span data-stu-id="1e62d-136">For example, virtually all data models have one or more columns that contain a particular value from a fixed set of choices.</span></span> <span data-ttu-id="1e62d-137">Ein `Patients` Datenbanktabelle möglicherweise eine `PrimaryLanguage` Spalte, deren Werte konnte Englisch, Spanisch, Französisch, Russisch, Japanisch usw. sein.</span><span class="sxs-lookup"><span data-stu-id="1e62d-137">A `Patients` database table might have a `PrimaryLanguage` column, whose set of values could be English, Spanish, French, Russian, Japanese, and so on.</span></span> <span data-ttu-id="1e62d-138">Häufig, werden diese Typen von Spalten mit implementiert *Nachschlagetabellen*.</span><span class="sxs-lookup"><span data-stu-id="1e62d-138">Oftentimes, these types of columns are implemented using *lookup tables*.</span></span> <span data-ttu-id="1e62d-139">Anstatt das Speichern der Zeichenfolge Englisch oder Französisch in der `Patients` Tabelle, eine zweite Tabelle wird erstellt, die in der Regel zwei Spalten – ein eindeutiger Bezeichner und eine zeichenfolgenbeschreibung – mit einem Datensatz für jeden möglichen Wert verfügt.</span><span class="sxs-lookup"><span data-stu-id="1e62d-139">Rather than storing the string English or French in the `Patients` table, a second table is created that has, commonly, two columns - a unique identifier and a string description - with a record for each possible value.</span></span> <span data-ttu-id="1e62d-140">Die `PrimaryLanguage` Spalte in der `Patients` Tabelle speichert den entsprechenden Bezeichner in der Nachschlagetabelle.</span><span class="sxs-lookup"><span data-stu-id="1e62d-140">The `PrimaryLanguage` column in the `Patients` table stores the corresponding unique identifier in the lookup table.</span></span> <span data-ttu-id="1e62d-141">In Abbildung 1 ist Patienten John Doe s primäre Sprache Englisch, Ed Johnson s Russisch.</span><span class="sxs-lookup"><span data-stu-id="1e62d-141">In Figure 1, patient John Doe s primary language is English, while Ed Johnson s is Russian.</span></span>


![Die Tabelle Sprachen verwenden, wird eine Suche Tabelle durch die Patienten-Tabelle](caching-data-at-application-startup-cs/_static/image1.png)

<span data-ttu-id="1e62d-143">**Abbildung 1**: die `Languages` Tabelle verwenden, wird eine Suche Tabelle durch die `Patients` Tabelle</span><span class="sxs-lookup"><span data-stu-id="1e62d-143">**Figure 1**: The `Languages` Table is a Lookup Table Used by the `Patients` Table</span></span>


<span data-ttu-id="1e62d-144">Die Benutzeroberfläche zum Bearbeiten oder erstellen einen neuen Patienten zählen eine Dropdown-Liste der zulässigen Sprachen ausgefüllt, indem die Datensätze in der `Languages` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="1e62d-144">The user interface for editing or creating a new patient would include a drop-down list of allowable languages populated by the records in the `Languages` table.</span></span> <span data-ttu-id="1e62d-145">Ohne caching, besucht jedes Mal, die diese Schnittstelle ist das System muss die `Languages` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="1e62d-145">Without caching, each time this interface is visited the system must query the `Languages` table.</span></span> <span data-ttu-id="1e62d-146">Dies ist sehr aufwändig und unnötige da Tabellenwerte Suche sehr selten ändern falls überhaupt.</span><span class="sxs-lookup"><span data-stu-id="1e62d-146">This is wasteful and unnecessary since lookup table values change very infrequently, if ever.</span></span>

<span data-ttu-id="1e62d-147">Wir konnten Zwischenspeichern der `Languages` Daten, die mit den gleichen reaktive laden Verfahren in den vorherigen Lernprogrammen untersucht.</span><span class="sxs-lookup"><span data-stu-id="1e62d-147">We could cache the `Languages` data using the same reactive loading techniques examined in the previous tutorials.</span></span> <span data-ttu-id="1e62d-148">Reaktive geladen ist, verwendet jedoch eine zeitbasierte-Ablauf, die für die statischen Nachschlage-Tabellendaten nicht erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="1e62d-148">Reactive loading, however, uses a time-based expiry, which is not needed for static lookup table data.</span></span> <span data-ttu-id="1e62d-149">Beim Zwischenspeichern mit reaktive laden überhaupt kein Zwischenspeichern besser wäre, wäre der beste Ansatz die Tabellendaten für die Suche in den Cache beim Anwendungsstart proaktiv zu laden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-149">While caching using reactive loading would be better than no caching at all, the best approach would be to proactively load the lookup table data into the cache at application startup.</span></span>

<span data-ttu-id="1e62d-150">In diesem Lernprogramm werden wir das Tabellendaten für Cache-Suche und andere statische Informationen betrachten.</span><span class="sxs-lookup"><span data-stu-id="1e62d-150">In this tutorial we will look at how to cache lookup table data and other static information.</span></span>

## <a name="step-2-examining-the-different-ways-to-cache-data"></a><span data-ttu-id="1e62d-151">Schritt 2: Untersuchen die unterschiedlichen Möglichkeiten zum Zwischenspeichern von Daten</span><span class="sxs-lookup"><span data-stu-id="1e62d-151">Step 2: Examining the Different Ways to Cache Data</span></span>

<span data-ttu-id="1e62d-152">Informationen kann programmgesteuert in einer ASP.NET-Anwendung mithilfe einer Vielzahl von Ansätze zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-152">Information can be programmatically cached in an ASP.NET application using a variety of approaches.</span></span> <span data-ttu-id="1e62d-153">Wir haben bereits gesehen, wie den Datencache in vorherigen Lernprogrammen verwenden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-153">We ve already seen how to use the data cache in previous tutorials.</span></span> <span data-ttu-id="1e62d-154">Alternativ können Sie Objekte können zwischengespeichert werden, programmgesteuert mithilfe von *statische Member* oder *Anwendungsstatus*.</span><span class="sxs-lookup"><span data-stu-id="1e62d-154">Alternatively, objects can be programmatically cached using *static members* or *application state*.</span></span>

<span data-ttu-id="1e62d-155">Bei der Arbeit mit einer Klasse muss in der Regel zunächst die Klasse instanziiert werden, bevor ihre Member zugegriffen werden können.</span><span class="sxs-lookup"><span data-stu-id="1e62d-155">When working with a class, typically the class must first be instantiated before its members can be accessed.</span></span> <span data-ttu-id="1e62d-156">Um eine Methode von einer der Klassen in unserer Business Logic Layer aufrufen, müssen wir zunächst eine Instanz der Klasse erstellen:</span><span class="sxs-lookup"><span data-stu-id="1e62d-156">For example, in order to invoke a method from one of the classes in our Business Logic Layer, we must first create an instance of the class:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample1.cs)]

<span data-ttu-id="1e62d-157">Bevor wir aufrufen können *SomeMethod* oder funktionieren mit *SomeProperty*, wir müssen zunächst erstellen Sie eine Instanz der Klasse unter Verwendung der `new` Schlüsselwort.</span><span class="sxs-lookup"><span data-stu-id="1e62d-157">Before we can invoke *SomeMethod* or work with *SomeProperty*, we must first create an instance of the class using the `new` keyword.</span></span> <span data-ttu-id="1e62d-158">*SomeMethod* und *SomeProperty* mit einer bestimmten Instanz verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="1e62d-158">*SomeMethod* and *SomeProperty* are associated with a particular instance.</span></span> <span data-ttu-id="1e62d-159">Die Lebensdauer dieser Member wird mit der Lebensdauer der ihr zugeordnete-Objekt gebunden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-159">The lifetime of these members is tied to the lifetime of their associated object.</span></span> <span data-ttu-id="1e62d-160">*Statische Member*, andererseits, sind Variablen, Eigenschaften und Methoden, die gemeinsame *alle* Instanzen der Klasse und folglich über eine Lebensdauer, solange die Klasse.</span><span class="sxs-lookup"><span data-stu-id="1e62d-160">*Static members*, on the other hand, are variables, properties, and methods that are shared among *all* instances of the class and, consequently, have a lifetime as long as the class.</span></span> <span data-ttu-id="1e62d-161">Statische Member sind gekennzeichnet durch das Schlüsselwort `static`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-161">Static members are denoted by the keyword `static`.</span></span>

<span data-ttu-id="1e62d-162">Zusätzlich zum statischen Elementen können Daten mithilfe von Anwendungsstatus zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-162">In addition to static members, data can be cached using application state.</span></span> <span data-ttu-id="1e62d-163">Jede ASP.NET-Anwendung verwaltet einer Auflistung von Name-Wert, s, die alle Benutzer und die Seiten der Anwendung gemeinsam.</span><span class="sxs-lookup"><span data-stu-id="1e62d-163">Each ASP.NET application maintains a name/value collection that s shared across all users and pages of the application.</span></span> <span data-ttu-id="1e62d-164">Diese Auflistung kann zugegriffen werden, mithilfe der [ `HttpContext` Klasse](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.aspx) s [ `Application` Eigenschaft](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.application.aspx), und von einer ASP.NET Seite "s" Code-Behind-Klasse verwendet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="1e62d-164">This collection can be accessed using the [`HttpContext` class](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.aspx) s [`Application` property](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.application.aspx), and used from an ASP.NET page s code-behind class like so:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample2.cs)]

<span data-ttu-id="1e62d-165">Der Datencache bietet eine viel umfangreichere API zum Zwischenspeichern von Daten, die Mechanismen für Cacheobjekte Zeit und die Abhängigkeit basiert, Cache Element Prioritäten usw. bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-165">The data cache provides a much richer API for caching data, providing mechanisms for time- and dependency-based expiries, cache item priorities, and so forth.</span></span> <span data-ttu-id="1e62d-166">Statische Member und Anwendungsstatus müssen die solche Funktionen manuell vom Entwickler Seite hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-166">With static members and application state, such features must be manually added by the page developer.</span></span> <span data-ttu-id="1e62d-167">Beim Zwischenspeichern von Daten beim Start der Anwendung für die Lebensdauer der Anwendung, allerdings sind die Daten Cache s Vorteile hinfällig.</span><span class="sxs-lookup"><span data-stu-id="1e62d-167">When caching data at application startup for the lifetime of the application, however, the data cache s advantages are moot.</span></span> <span data-ttu-id="1e62d-168">In diesem Lernprogramm sehen wir uns Code, die allen drei Techniken zum Zwischenspeichern von statischer Daten verwendet.</span><span class="sxs-lookup"><span data-stu-id="1e62d-168">In this tutorial we'll look at code that uses all three techniques for caching static data.</span></span>

## <a name="step-3-caching-thesupplierstable-data"></a><span data-ttu-id="1e62d-169">Schritt 3: Zwischenspeichern der`Suppliers`Tabellendaten</span><span class="sxs-lookup"><span data-stu-id="1e62d-169">Step 3: Caching the`Suppliers`Table Data</span></span>

<span data-ttu-id="1e62d-170">Die Datenbanktabellen wir Ve bisheriges implementiert Northwind beinhalten keine herkömmlichen Nachschlagetabellen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-170">The Northwind database tables we ve implemented to date do not include any traditional lookup tables.</span></span> <span data-ttu-id="1e62d-171">Die vier DataTables implementiert in unserer DAL alle Tabellen im Modell, deren Werte nicht statisch sind.</span><span class="sxs-lookup"><span data-stu-id="1e62d-171">The four DataTables implemented in our DAL all model tables whose values are non-static.</span></span> <span data-ttu-id="1e62d-172">Anstatt die Zeit zum Hinzufügen einer neuen "DataTable" der DAL, und klicken Sie dann eine neue Klasse und Methoden, um die BLL Ausgaben für dieses Lernprogramm s an Ihre Seite nehmen an, die die `Suppliers` Tabellendaten s ist statisch.</span><span class="sxs-lookup"><span data-stu-id="1e62d-172">Rather than spending the time to add a new DataTable to the DAL and then a new class and methods to the BLL, for this tutorial let s just pretend that the `Suppliers` table s data is static.</span></span> <span data-ttu-id="1e62d-173">Aus diesem Grund können wir diese Daten beim Start der Anwendung Zwischenspeichern.</span><span class="sxs-lookup"><span data-stu-id="1e62d-173">Therefore, we could cache this data at application startup.</span></span>

<span data-ttu-id="1e62d-174">Um zu starten, erstellen Sie eine neue Klasse namens `StaticCache.cs` in den `CL` Ordner.</span><span class="sxs-lookup"><span data-stu-id="1e62d-174">To start, create a new class named `StaticCache.cs` in the `CL` folder.</span></span>


![Erstellen einer Klasse StaticCache.cs im Ordner "CL"](caching-data-at-application-startup-cs/_static/image2.png)

<span data-ttu-id="1e62d-176">**Abbildung 2**: Erstellen der `StaticCache.cs` -Klasse in der `CL` Ordner</span><span class="sxs-lookup"><span data-stu-id="1e62d-176">**Figure 2**: Create the `StaticCache.cs` Class in the `CL` Folder</span></span>


<span data-ttu-id="1e62d-177">Hinzufügen einer Methode, die die Daten während des Starts in der entsprechenden Cachespeicher lädt sowie Methoden, die Daten aus diesen Cache zurückgeben müssen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-177">We need to add a method that loads the data at startup into the appropriate cache store, as well as methods that return data from this cache.</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample3.cs)]

<span data-ttu-id="1e62d-178">Der obige Code verwendet eine statische Membervariable `suppliers`zur Aufnahme der Ergebnisse von der `SuppliersBLL` Klasse s `GetSuppliers()` -Methode, die aufgerufen wird, aus der `LoadStaticCache()` Methode.</span><span class="sxs-lookup"><span data-stu-id="1e62d-178">The above code uses a static member variable, `suppliers`, to hold the results from the `SuppliersBLL` class s `GetSuppliers()` method, which is called from the `LoadStaticCache()` method.</span></span> <span data-ttu-id="1e62d-179">Die `LoadStaticCache()` -Methode ist dafür vorgesehen, die während des Starts des s aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1e62d-179">The `LoadStaticCache()` method is meant to be called during the application s start.</span></span> <span data-ttu-id="1e62d-180">Sobald diese Daten beim Anwendungsstart geladen wurden, kann eine beliebige Seite, die zur Bearbeitung von Lieferantendaten muss Aufrufen der `StaticCache` Klasse s `GetSuppliers()` Methode.</span><span class="sxs-lookup"><span data-stu-id="1e62d-180">Once this data has been loaded at application startup, any page that needs to work with supplier data can call the `StaticCache` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="1e62d-181">Aus diesem Grund geschieht, den Aufruf an die Datenbank zum Abrufen von Lieferanten nur einmal am Anfang der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="1e62d-181">Therefore, the call to the database to get the suppliers only happens once, at application start.</span></span>

<span data-ttu-id="1e62d-182">Statt eine statische Membervariable als Cachespeicher zu verwenden, könnte wir Alternativ Anwendungsstatus oder der Datencache verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="1e62d-182">Rather than using a static member variable as the cache store, we could have alternatively used application state or the data cache.</span></span> <span data-ttu-id="1e62d-183">Der folgende Code zeigt die Verwendung des Anwendungszustands retooled Klasse:</span><span class="sxs-lookup"><span data-stu-id="1e62d-183">The following code shows the class retooled to use application state:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample4.cs)]

<span data-ttu-id="1e62d-184">In `LoadStaticCache()`, die Lieferanteninformationen werden gespeichert, an die Anwendungsvariable *Schlüssel*.</span><span class="sxs-lookup"><span data-stu-id="1e62d-184">In `LoadStaticCache()`, the supplier information is stored to the application variable *key*.</span></span> <span data-ttu-id="1e62d-185">Er e zurückgegeben wird, in den entsprechenden Typ (`Northwind.SuppliersDataTable`) von `GetSuppliers()`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-185">It s returned as the appropriate type (`Northwind.SuppliersDataTable`) from `GetSuppliers()`.</span></span> <span data-ttu-id="1e62d-186">Während des Anwendungszustands zugegriffen werden kann, in den Code-Behind-Klassen von ASP.NET-Seiten aus aufzurufen `Application["key"]`, in der Architektur wir verwenden `HttpContext.Current.Application["key"]` zum Abrufen des aktuellen `HttpContext`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-186">While application state can be accessed in the code-behind classes of ASP.NET pages using `Application["key"]`, in the architecture we must use `HttpContext.Current.Application["key"]` in order to get the current `HttpContext`.</span></span>

<span data-ttu-id="1e62d-187">Ebenso kann der Datencache als Cachespeicher, wie im folgenden Code gezeigt verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="1e62d-187">Likewise, the data cache can be used as a cache store, as the following code shows:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample5.cs)]

<span data-ttu-id="1e62d-188">Verwenden Sie zum Hinzufügen eines Elements für den Datencache ohne Ablaufdatum zeitbasierte der `System.Web.Caching.Cache.NoAbsoluteExpiration` und `System.Web.Caching.Cache.NoSlidingExpiration` Werte als Eingabeparameter.</span><span class="sxs-lookup"><span data-stu-id="1e62d-188">To add an item to the data cache with no time-based expiry, use the `System.Web.Caching.Cache.NoAbsoluteExpiration` and `System.Web.Caching.Cache.NoSlidingExpiration` values as input parameters.</span></span> <span data-ttu-id="1e62d-189">Diese bestimmte Überladung der Datencache s `Insert` Methode ausgewählt wurde, damit wir angeben konnte die *Priorität* des Cacheelements.</span><span class="sxs-lookup"><span data-stu-id="1e62d-189">This particular overload of the data cache s `Insert` method was selected so that we could specify the *priority* of the cache item.</span></span> <span data-ttu-id="1e62d-190">Die Priorität wird verwendet, um zu bestimmen, welche Elemente aus dem Cache Räumen auf, wenn der Speicherplatz knapp wird.</span><span class="sxs-lookup"><span data-stu-id="1e62d-190">The priority is used to determine what items to scavenge from the cache when available memory runs low.</span></span> <span data-ttu-id="1e62d-191">Hier verwenden wir die Priorität `NotRemovable`, wodurch sichergestellt wird, dass dieses Element im Cache/t gewonnen Anwendungscache gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-191">Here we use the priority `NotRemovable`, which ensures that this cache item won t be scavenged.</span></span>

> [!NOTE]
> <span data-ttu-id="1e62d-192">Dieses Lernprogramm s Download implementiert die `StaticCache` -Klasse unter Verwendung des statischen Member-Variable-Ansatzes.</span><span class="sxs-lookup"><span data-stu-id="1e62d-192">This tutorial s download implements the `StaticCache` class using the static member variable approach.</span></span> <span data-ttu-id="1e62d-193">Der Code für die Anwendung Anwendungszustands und der Cache-Techniken steht in den Kommentaren in der Klassendatei.</span><span class="sxs-lookup"><span data-stu-id="1e62d-193">The code for the application state and data cache techniques is available in the comments in the class file.</span></span>


## <a name="step-4-executing-code-at-application-startup"></a><span data-ttu-id="1e62d-194">Schritt 4: Ausführen von Code beim Start der Anwendung</span><span class="sxs-lookup"><span data-stu-id="1e62d-194">Step 4: Executing Code at Application Startup</span></span>

<span data-ttu-id="1e62d-195">Um Code auszuführen, wenn eine Webanwendung zuerst gestartet wird, müssen wir erstellen eine spezielle Datei namens `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-195">To execute code when a web application first starts, we need to create a special file named `Global.asax`.</span></span> <span data-ttu-id="1e62d-196">Diese Datei kann Ereignishandler für die Anwendung-, Session-enthalten, und Anforderungsebenen-Ereignisse, und es ist hier, in denen wir Code hinzufügen können, die bei jedem der Anwendung Start ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="1e62d-196">This file can contain event handlers for application-, session-, and request-level events, and it is here where we can add code that will be executed whenever the application starts.</span></span>

<span data-ttu-id="1e62d-197">Hinzufügen der `Global.asax` Datei in Ihrer Web-Anwendung s Root-Verzeichnis aus, indem Sie mit der rechten Maustaste auf den Namen der Website-Projekt in Visual Studio s. Projektmappen-Explorer und neues Element hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-197">Add the `Global.asax` file to your web application s root directory by right-clicking on the website project name in Visual Studio s Solution Explorer and choosing Add New Item.</span></span> <span data-ttu-id="1e62d-198">Klicken Sie im Dialogfeld Neues Element hinzufügen wählen Sie die Globale Anwendungsklasse Elementtyp aus, und klicken Sie dann auf die Schaltfläche "hinzufügen".</span><span class="sxs-lookup"><span data-stu-id="1e62d-198">From the Add New Item dialog box, select the Global Application Class item type and then click the Add button.</span></span>

> [!NOTE]
> <span data-ttu-id="1e62d-199">Falls Sie noch eine `Global.asax` Datei in Ihrem Projekt, das globale Anwendungsklasse work Item Type wird nicht in das Dialogfeld "Neues Element hinzufügen" aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="1e62d-199">If you already have a `Global.asax` file in your project, the Global Application Class item type will not be listed in the Add New Item dialog box.</span></span>


<span data-ttu-id="1e62d-200">[![Die Datei "Global.asax" s-Stammverzeichnis der Web-Anwendung hinzufügen](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="1e62d-200">[![Add the Global.asax File to Your Web Application s Root Directory](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span></span>

<span data-ttu-id="1e62d-201">**Abbildung 3**: Hinzufügen der `Global.asax` Datei in der Webanwendung s Stammverzeichnis ([klicken Sie hier, um das Bild in voller Größe angezeigt](caching-data-at-application-startup-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="1e62d-201">**Figure 3**: Add the `Global.asax` File to Your Web Application s Root Directory ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image5.png))</span></span>


<span data-ttu-id="1e62d-202">Die Standardeinstellung `Global.asax` Vorlage enthält fünf Methoden in einer serverseitigen `<script>` Tag:</span><span class="sxs-lookup"><span data-stu-id="1e62d-202">The default `Global.asax` file template includes five methods within a server-side `<script>` tag:</span></span>

- <span data-ttu-id="1e62d-203">**`Application_Start`**Führt beim Starten der Webanwendung</span><span class="sxs-lookup"><span data-stu-id="1e62d-203">**`Application_Start`** executes when the web application first starts</span></span>
- <span data-ttu-id="1e62d-204">**`Application_End`**wird ausgeführt, wenn die Anwendung heruntergefahren wird</span><span class="sxs-lookup"><span data-stu-id="1e62d-204">**`Application_End`** runs when the application is shutting down</span></span>
- <span data-ttu-id="1e62d-205">**`Application_Error`**wird immer ausgeführt, wenn eine nicht behandelte Ausnahme die Anwendung erreicht.</span><span class="sxs-lookup"><span data-stu-id="1e62d-205">**`Application_Error`** executes whenever an unhandled exception reaches the application</span></span>
- <span data-ttu-id="1e62d-206">**`Session_Start`**wird ausgeführt, wenn eine neue Sitzung erstellt wird</span><span class="sxs-lookup"><span data-stu-id="1e62d-206">**`Session_Start`** executes when a new session is created</span></span>
- <span data-ttu-id="1e62d-207">**`Session_End`**wird ausgeführt, wenn eine Sitzung abgelaufen ist oder abgebrochen wird</span><span class="sxs-lookup"><span data-stu-id="1e62d-207">**`Session_End`** runs when a session is expired or abandoned</span></span>

<span data-ttu-id="1e62d-208">Die `Application_Start` Ereignishandler wird nur einmal während des Lebenszyklus einer Anwendung s aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-208">The `Application_Start` event handler is called only once during an application s life cycle.</span></span> <span data-ttu-id="1e62d-209">Starten der Anwendung zum erste Mal eine ASP.NET-Ressource aus der Anwendung angefordert wird und weiterhin ausgeführt, bis die Anwendung neu gestartet wird, dies geschehen kann, durch Ändern des Inhalts der `/Bin` Ordner ändern `Global.asax`, Ändern der den Inhalt der `App_Code` Ordner, oder ändern Sie die `Web.config` -Datei zwischen hat andere Ursachen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-209">The application starts the first time an ASP.NET resource is requested from the application and continues to run until the application is restarted, which can happen by modifying the contents of the `/Bin` folder, modifying `Global.asax`, modifying the contents in the `App_Code` folder, or modifying the `Web.config` file, among other causes.</span></span> <span data-ttu-id="1e62d-210">Verweisen auf [Übersicht über ASP.NET den Lebenszyklus](https://msdn.microsoft.com/en-us/library/ms178473.aspx) für eine ausführlichere Erläuterung im Lebenszyklus Anwendung.</span><span class="sxs-lookup"><span data-stu-id="1e62d-210">Refer to [ASP.NET Application Life Cycle Overview](https://msdn.microsoft.com/en-us/library/ms178473.aspx) for a more detailed discussion on the application life cycle.</span></span>

<span data-ttu-id="1e62d-211">Für diese Lernprogramme müssen wir nur zum Hinzufügen von Code die `Application_Start` Methode, die so gerne So entfernen Sie die anderen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-211">For these tutorials we only need to add code to the `Application_Start` method, so feel free to remove the others.</span></span> <span data-ttu-id="1e62d-212">In `Application_Start`, rufen Sie einfach die `StaticCache` Klasse s `LoadStaticCache()` -Methode, die geladen und der Lieferanteninformationen zwischenzuspeichern:</span><span class="sxs-lookup"><span data-stu-id="1e62d-212">In `Application_Start`, simply call the `StaticCache` class s `LoadStaticCache()` method, which will load and cache the supplier information:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample6.aspx)]

<span data-ttu-id="1e62d-213">S alles ist es!</span><span class="sxs-lookup"><span data-stu-id="1e62d-213">That s all there is to it!</span></span> <span data-ttu-id="1e62d-214">Beim Start der Anwendung die `LoadStaticCache()` -Methode ziehen Sie die Lieferanteninformationen aus der BLL und speichern Sie sie in einer statischen Membervariablen gespeichert (oder den Cache zu speichern, Sie verwenden in sah die `StaticCache` Klasse).</span><span class="sxs-lookup"><span data-stu-id="1e62d-214">At application startup, the `LoadStaticCache()` method will grab the supplier information from the BLL, and store it in a static member variable (or whatever cache store you ended up using in the `StaticCache` class).</span></span> <span data-ttu-id="1e62d-215">Um dieses Verhalten zu überprüfen, legen Sie einen Haltepunkt der `Application_Start` Methode, und führen Sie die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="1e62d-215">To verify this behavior, set a breakpoint in the `Application_Start` method and run your application.</span></span> <span data-ttu-id="1e62d-216">Beachten Sie, dass der Haltepunkt beim Starten Anwendung erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="1e62d-216">Note that the breakpoint is hit upon the application starting.</span></span> <span data-ttu-id="1e62d-217">Nachfolgende Anforderungen führen jedoch nicht die `Application_Start` Methode ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="1e62d-217">Subsequent requests, however, do not cause the `Application_Start` method to execute.</span></span>


<span data-ttu-id="1e62d-218">[![Verwenden Sie einen Haltepunkt, stellen Sie sicher, dass der Application_Start-Ereignishandler ausgeführt wird](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="1e62d-218">[![Use a Breakpoint to Verify that the Application_Start Event Handler is Being Executed](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span></span>

<span data-ttu-id="1e62d-219">**Abbildung 4**: Verwenden Sie einen Haltepunkt zu überprüfen, die die `Application_Start` -Ereignishandler wird gerade ausgeführt wird ([klicken Sie hier, um das Bild in voller Größe angezeigt](caching-data-at-application-startup-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="1e62d-219">**Figure 4**: Use a Breakpoint to Verify that the `Application_Start` Event Handler is Being Executed ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image8.png))</span></span>


> [!NOTE]
> <span data-ttu-id="1e62d-220">Wenn Sie nicht erreicht, führen Sie die `Application_Start` Haltepunkt beim ersten Starten des Debuggens ist, da die Anwendung bereits begonnen wurde.</span><span class="sxs-lookup"><span data-stu-id="1e62d-220">If you do not hit the `Application_Start` breakpoint when you first start debugging, it is because your application has already started.</span></span> <span data-ttu-id="1e62d-221">Erzwingen Sie die Anwendung neu starten, indem Sie ändern die `Global.asax` oder `Web.config` Dateien, und wiederholen Sie den Vorgang.</span><span class="sxs-lookup"><span data-stu-id="1e62d-221">Force the application to restart by modifying your `Global.asax` or `Web.config` files and then try again.</span></span> <span data-ttu-id="1e62d-222">Sie können einfach hinzufügen (eine leere Zeile am Ende eine dieser Dateien können Sie die Anwendung schnell neu starten oder entfernen).</span><span class="sxs-lookup"><span data-stu-id="1e62d-222">You can simply add (or remove) a blank line at the end of one of these files to quickly restart the application.</span></span>


## <a name="step-5-displaying-the-cached-data"></a><span data-ttu-id="1e62d-223">Schritt 5: Anzeigen der zwischengespeicherten Daten</span><span class="sxs-lookup"><span data-stu-id="1e62d-223">Step 5: Displaying the Cached Data</span></span>

<span data-ttu-id="1e62d-224">An diesem Punkt der `StaticCache` -Klasse verfügt über eine Version von Lieferantendaten, die beim Start der Anwendung, die über zugegriffen werden kann zwischengespeichert seine `GetSuppliers()` Methode.</span><span class="sxs-lookup"><span data-stu-id="1e62d-224">At this point the `StaticCache` class has a version of the supplier data cached at application startup that can be accessed through its `GetSuppliers()` method.</span></span> <span data-ttu-id="1e62d-225">Zum Arbeiten mit diesen Daten aus der Darstellungsschicht wir verwenden eine ObjectDataSource oder programmgesteuert aufrufen können die `StaticCache` Klasse s `GetSuppliers()` Methode von einer ASP.NET Seite "s" Code-Behind-Klasse.</span><span class="sxs-lookup"><span data-stu-id="1e62d-225">To work with this data from the Presentation Layer, we can use an ObjectDataSource or programmatically invoke the `StaticCache` class s `GetSuppliers()` method from an ASP.NET page s code-behind class.</span></span> <span data-ttu-id="1e62d-226">Lassen Sie s sehen Sie sich mit den ObjectDataSource und GridView-Steuerelementen zum Anzeigen der zwischengespeicherten Lieferanteninformationen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-226">Let s look at using the ObjectDataSource and GridView controls to display the cached supplier information.</span></span>

<span data-ttu-id="1e62d-227">Öffnen Sie zunächst die `AtApplicationStartup.aspx` auf der Seite der `Caching` Ordner.</span><span class="sxs-lookup"><span data-stu-id="1e62d-227">Start by opening the `AtApplicationStartup.aspx` page in the `Caching` folder.</span></span> <span data-ttu-id="1e62d-228">Ziehen Sie eine GridView aus der Toolbox in den Designer, Festlegen seiner `ID` Eigenschaft `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-228">Drag a GridView from the Toolbox onto the designer, setting its `ID` property to `Suppliers`.</span></span> <span data-ttu-id="1e62d-229">Aus der GridView Smarttag s wählen Sie als Nächstes erstellen Sie eine neue, mit dem Namen ObjectDataSource `SuppliersCachedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-229">Next, from the GridView s smart tag choose to create a new ObjectDataSource named `SuppliersCachedDataSource`.</span></span> <span data-ttu-id="1e62d-230">Konfigurieren der ObjectDataSource verwenden die `StaticCache` Klasse s `GetSuppliers()` Methode.</span><span class="sxs-lookup"><span data-stu-id="1e62d-230">Configure the ObjectDataSource to use the `StaticCache` class s `GetSuppliers()` method.</span></span>


<span data-ttu-id="1e62d-231">[![Konfigurieren der ObjectDataSource zur Verwendung der StaticCache-Klasse](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="1e62d-231">[![Configure the ObjectDataSource to use the StaticCache Class](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span></span>

<span data-ttu-id="1e62d-232">**Abbildung 5**: Konfigurieren der ObjectDataSource verwenden die `StaticCache` Klasse ([klicken Sie hier, um das Bild in voller Größe angezeigt](caching-data-at-application-startup-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="1e62d-232">**Figure 5**: Configure the ObjectDataSource to use the `StaticCache` Class ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image11.png))</span></span>


<span data-ttu-id="1e62d-233">[![Verwenden Sie die GetSuppliers()-Methode zum Abrufen der zwischengespeicherten Lieferantendaten](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="1e62d-233">[![Use the GetSuppliers() Method to Retrieve the Cached Supplier Data](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span></span>

<span data-ttu-id="1e62d-234">**Abbildung 6**: Verwenden der `GetSuppliers()` Methode, um die Lieferantendaten zwischengespeichert abzurufen ([klicken Sie hier, um das Bild in voller Größe angezeigt](caching-data-at-application-startup-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="1e62d-234">**Figure 6**: Use the `GetSuppliers()` Method to Retrieve the Cached Supplier Data ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image14.png))</span></span>


<span data-ttu-id="1e62d-235">Nach Abschluss des Assistenten für Visual Studio automatisch hinzugefügt BoundFields für die einzelnen Datenfelder in `SuppliersDataTable`.</span><span class="sxs-lookup"><span data-stu-id="1e62d-235">After completing the wizard, Visual Studio will automatically add BoundFields for each of the data fields in `SuppliersDataTable`.</span></span> <span data-ttu-id="1e62d-236">GridView und ObjectDataSource s deklarative Markup sollte etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="1e62d-236">Your GridView and ObjectDataSource s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample7.aspx)]

<span data-ttu-id="1e62d-237">Abbildung 7 zeigt die Seite, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1e62d-237">Figure 7 shows the page when viewed through a browser.</span></span> <span data-ttu-id="1e62d-238">Die Ausgabe entspricht dem hatten wir die Daten aus den s BLL abgerufen `SuppliersBLL` Klasse, aber mithilfe der `StaticCache` Klasse gibt die Lieferantendaten als zwischengespeicherten beim Anwendungsstart.</span><span class="sxs-lookup"><span data-stu-id="1e62d-238">The output is the same had we pulled the data from the BLL s `SuppliersBLL` class, but using the `StaticCache` class returns the supplier data as cached at application startup.</span></span> <span data-ttu-id="1e62d-239">Sie können Haltepunkte festlegen, der `StaticCache` Klasse s `GetSuppliers()` Methode, um dieses Verhalten zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-239">You can set breakpoints in the `StaticCache` class s `GetSuppliers()` method to verify this behavior.</span></span>


<span data-ttu-id="1e62d-240">[![Die Lieferantendaten zwischengespeichert wird in einem GridView angezeigt.](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="1e62d-240">[![The Cached Supplier Data is Displayed in a GridView](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span></span>

<span data-ttu-id="1e62d-241">**Abbildung 7**: die Lieferantendaten zwischengespeichert wird angezeigt, in einem GridView ([klicken Sie hier, um das Bild in voller Größe angezeigt](caching-data-at-application-startup-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="1e62d-241">**Figure 7**: The Cached Supplier Data is Displayed in a GridView ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image17.png))</span></span>


## <a name="summary"></a><span data-ttu-id="1e62d-242">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="1e62d-242">Summary</span></span>

<span data-ttu-id="1e62d-243">Die meisten jedes Datenmodell enthält eine viel statische Daten, die in der Regel in Form von Nachschlagetabellen implementiert.</span><span class="sxs-lookup"><span data-stu-id="1e62d-243">Most every data model contains a fair amount of static data, usually implemented in the form of lookup tables.</span></span> <span data-ttu-id="1e62d-244">Da diese Informationen statisch ist, ist dort s keinen Grund, ständig die Datenbank bei jedem Zugriff auf diese Informationen angezeigt werden muss.</span><span class="sxs-lookup"><span data-stu-id="1e62d-244">Since this information is static, there s no reason to continually access the database each time this information needs to be displayed.</span></span> <span data-ttu-id="1e62d-245">Darüber hinaus aufgrund seiner statischer Natur hat beim Zwischenspeichern von Daten dort s keine Notwendigkeit, ein Ablaufdatum.</span><span class="sxs-lookup"><span data-stu-id="1e62d-245">Furthermore, due to its static nature, when caching the data there s no need for an expiry.</span></span> <span data-ttu-id="1e62d-246">In diesem Lernprogramm wurde erläutert, wie solche Daten und speichert sie in der Datencache Anwendungsstatus, und über eine statische Membervariable zwischen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-246">In this tutorial we saw how to take such data and cache it in the data cache, application state, and through a static member variable.</span></span> <span data-ttu-id="1e62d-247">Diese Informationen werden beim Start der Anwendung zwischengespeichert und verbleiben im Cache während der Lebensdauer der Anwendung s.</span><span class="sxs-lookup"><span data-stu-id="1e62d-247">This information is cached at application startup and remains in the cache throughout the application s lifetime.</span></span>

<span data-ttu-id="1e62d-248">In diesem Lernprogramm und den letzten beiden wir haben erläutert, das Zwischenspeichern von Daten für die Dauer der die Lebensdauer der Anwendung s als auch einen zeitbasierten Cacheobjekte.</span><span class="sxs-lookup"><span data-stu-id="1e62d-248">In this tutorial and the past two, we ve looked at caching data for the duration of the application s lifetime as well as using time-based expiries.</span></span> <span data-ttu-id="1e62d-249">Beim Zwischenspeichern von Datenbankdaten, jedoch kann eine zeitbasierte Ablauf auf weniger als ideal erweisen.</span><span class="sxs-lookup"><span data-stu-id="1e62d-249">When caching database data, though, a time-based expiry may be less than ideal.</span></span> <span data-ttu-id="1e62d-250">Anstatt in regelmäßigen Abständen leeren des Caches, wäre es am besten, nur das zwischengespeicherte Element entfernen, wenn Daten in der zugrunde liegenden Datenbank geändert werden.</span><span class="sxs-lookup"><span data-stu-id="1e62d-250">Rather than periodically flushing the cache, it would be optimal to only evict the cached item when the underlying database data is modified.</span></span> <span data-ttu-id="1e62d-251">Dieses Ideal ist möglich, durch die Verwendung von SQL-Cache-Abhängigkeiten, die untersuchen wir in unserer nächsten Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="1e62d-251">This ideal is possible through the use of SQL cache dependencies, which we'll examine in our next tutorial.</span></span>

<span data-ttu-id="1e62d-252">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="1e62d-252">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1e62d-253">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="1e62d-253">About the Author</span></span>

<span data-ttu-id="1e62d-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben ASP/ASP.NET-Büchern und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web-Technologien seit 1998 arbeitet.</span><span class="sxs-lookup"><span data-stu-id="1e62d-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1e62d-255">Scott fungiert als ein unabhängiger Berater, Trainer und Writer.</span><span class="sxs-lookup"><span data-stu-id="1e62d-255">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1e62d-256">Sein neueste Buch wird [ *Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1e62d-256">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1e62d-257">Er die erreicht werden kann, zur [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog die finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1e62d-257">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="1e62d-258">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="1e62d-258">Special Thanks To</span></span>

<span data-ttu-id="1e62d-259">Diese Reihe von Lernprogrammen wurde durch viele nützliche Bearbeiter überprüft.</span><span class="sxs-lookup"><span data-stu-id="1e62d-259">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1e62d-260">Lead Prüfer für dieses Lernprogramm wurden Teresa Murphy und Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="1e62d-260">Lead reviewers for this tutorial were Teresa Murphy and Zack Jones.</span></span> <span data-ttu-id="1e62d-261">Meine bevorstehende MSDN-Artikel Überprüfen von Interesse?</span><span class="sxs-lookup"><span data-stu-id="1e62d-261">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1e62d-262">Wenn dies der Fall ist, löschen Sie mich zeilenweise [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1e62d-262">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="1e62d-263">[Zurück](caching-data-in-the-architecture-cs.md)
[Weiter](using-sql-cache-dependencies-cs.md)</span><span class="sxs-lookup"><span data-stu-id="1e62d-263">[Previous](caching-data-in-the-architecture-cs.md)
[Next](using-sql-cache-dependencies-cs.md)</span></span>
