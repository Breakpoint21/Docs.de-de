---
uid: web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
title: "Durchführen einer was, wenn Bereitstellung | Microsoft Docs"
author: jrjlee
description: "In diesem Thema wird beschrieben, wie \"WhatIf\" ausführen (oder simuliert) mit dem Internet Information Services (IIS)-Webbereitstellungstool (Web Deploy) und V Bereitstellungen..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: c711b453-01ac-4e65-a48c-93d99bf22e58
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
msc.type: authoredcontent
ms.openlocfilehash: cea805c86f0764c7443ccc5c9f89248860a6a842
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2018
---
<a name="performing-a-what-if-deployment"></a><span data-ttu-id="36b32-103">Ausführen einer "Was-wäre-wenn" Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="36b32-103">Performing a "What If" Deployment</span></span>
====================
<span data-ttu-id="36b32-104">durch [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="36b32-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="36b32-105">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="36b32-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="36b32-106">In diesem Thema wird beschrieben, wie "Was-wäre-wenn" ausführen (oder simuliert) mit dem Internet Information Services (IIS)-Webbereitstellungstool (Web Deploy) und VSDBCMD Bereitstellungen.</span><span class="sxs-lookup"><span data-stu-id="36b32-106">This topic describes how to perform "what if" (or simulated) deployments using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) and VSDBCMD.</span></span> <span data-ttu-id="36b32-107">Dadurch können Sie die Auswirkungen Ihrer Bereitstellung Logik auf eine bestimmte zielumgebung zu bestimmen, bevor Sie die Anwendung tatsächlich bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="36b32-107">This lets you determine the effects of your deployment logic on a particular target environment before you actually deploy your application.</span></span>


<span data-ttu-id="36b32-108">Dieses Thema ist Teil einer Reihe von Lernprogrammen, die auf der Basis der Enterprise-bereitstellungsanforderungen eines fiktiven Unternehmens mit dem Namen Fabrikam, Inc. Diese Reihe von Lernprogrammen verwendet eine Beispielprojektmappe & #x 2014; die [Kontakt-Manager-Lösung](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)& #x 2014; zum Darstellen einer Webanwendung mit einer realistischen Maß an Komplexität, einschließlich einer ASP.NET MVC 3-Anwendung, eine Windows Communication Foundation (WCF)-Dienst, und ein Datenbankprojekt.</span><span class="sxs-lookup"><span data-stu-id="36b32-108">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="36b32-109">Die Bereitstellungsmethode das Herzstück mit diesen Lernprogrammen basiert auf in beschriebene Ansatz der Teilung Projekt Datei [verstehen die Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md)in die erstellungs-und Bereitstellung von zwei Projektdateien & #x 2014 kontrolliert wird; o Ne mit Buildanweisungen, die für jede zielumgebung und enthält umgebungsspezifische Einstellungen für Build- und Bereitstellungsprozess gelten.</span><span class="sxs-lookup"><span data-stu-id="36b32-109">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build and deployment process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="36b32-110">Zur Buildzeit ist die Unabhängigkeit von der Umgebung-Projektdatei, einen vollständigen Satz von Buildanweisungen bilden die Projektdatei umgebungsspezifische zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="36b32-110">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="performing-a-what-if-deployment-for-web-packages"></a><span data-ttu-id="36b32-111">Ausführen einer "Was-wäre-wenn" Bereitstellung für Webpakete</span><span class="sxs-lookup"><span data-stu-id="36b32-111">Performing a "What If" Deployment for Web Packages</span></span>

<span data-ttu-id="36b32-112">Web Deploy umfasst Funktionen, die können Sie Bereitstellungen in "Was-wäre-wenn" ausführen (oder Testversion) Modus.</span><span class="sxs-lookup"><span data-stu-id="36b32-112">Web Deploy includes functionality that lets you perform deployments in "what if" (or trial) mode.</span></span> <span data-ttu-id="36b32-113">Wenn Sie Elemente in "Was-wäre-wenn"-Modus bereitstellen, generiert das Web Deploy eine Protokolldatei, als ob mussten Sie die Bereitstellung ausgeführt, aber es ist nicht tatsächlich aller Elemente, die auf dem Zielserver ändern.</span><span class="sxs-lookup"><span data-stu-id="36b32-113">When you deploy artifacts in "what if" mode, Web Deploy generates a log file as if you had performed the deployment, but it doesn't actually change anything on the destination server.</span></span> <span data-ttu-id="36b32-114">Überprüfen die Protokolldatei kann Ihnen helfen, welche Auswirkung nachvollziehen zu können, die Bereitstellung auf dem Zielserver, insbesondere muss:</span><span class="sxs-lookup"><span data-stu-id="36b32-114">Reviewing the log file can help you to understand what impact your deployment will have on the destination server, in particular:</span></span>

- <span data-ttu-id="36b32-115">Was wird hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="36b32-115">What will get added.</span></span>
- <span data-ttu-id="36b32-116">Was wird aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="36b32-116">What will get updated.</span></span>
- <span data-ttu-id="36b32-117">Was wird gelöscht.</span><span class="sxs-lookup"><span data-stu-id="36b32-117">What will get deleted.</span></span>

<span data-ttu-id="36b32-118">Da eine "Was-wäre-wenn" Bereitstellung tatsächlich ändert nichts auf dem Zielserver, was immer nicht möglich ist, vorherzusagen, ob es sich bei eine Bereitstellung erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="36b32-118">Because a "what if" deployment doesn't actually change anything on the destination server, what it can't always do is predict whether a deployment will succeed.</span></span>

<span data-ttu-id="36b32-119">Wie in beschrieben [Bereitstellen von Webpaketen](../web-deployment-in-the-enterprise/deploying-web-packages.md), kann beim Bereitstellen von Webpaketen mithilfe von Web Deploy in zwei Arten & #x 2014; mit dem MSDeploy.exe-Befehlszeilen-Hilfsprogramm direkt oder durch Ausführen der *. deploy.cmd* die Datei, die während des Erstellungsprozesses generiert.</span><span class="sxs-lookup"><span data-stu-id="36b32-119">As described in [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md), you can deploy web packages using Web Deploy in two ways&#x2014;by using the MSDeploy.exe command-line utility directly or by running the *.deploy.cmd* file that the build process generates.</span></span>

<span data-ttu-id="36b32-120">Wenn Sie MSDeploy.exe direkt verwenden, können Sie eine "Was-wäre-wenn" Bereitstellung ausführen, durch Hinzufügen der **"-WhatIf"** Flag auf Ihre Befehlseingaben.</span><span class="sxs-lookup"><span data-stu-id="36b32-120">If you're using MSDeploy.exe directly, you can run a "what if" deployment by adding the **–whatif** flag to your command.</span></span> <span data-ttu-id="36b32-121">Beispielsweise sollte um auszuwerten, was passieren würde, wenn Sie das Paket ContactManager.Mvc.zip in einer Stagingumgebung bereitgestellt, der MSDeploy-Befehl diesem ähneln:</span><span class="sxs-lookup"><span data-stu-id="36b32-121">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package to a staging environment, the MSDeploy command should resemble this:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample1.cmd)]


<span data-ttu-id="36b32-122">Wenn Sie mit den Ergebnissen der Bereitstellung "Was-wäre-wenn" zufrieden sind, können Sie entfernen die **"-WhatIf"** Flag eine aktive Bereitstellung ausführen.</span><span class="sxs-lookup"><span data-stu-id="36b32-122">When you're satisfied with the results of your "what if" deployment, you can remove the **–whatif** flag to run a live deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="36b32-123">Weitere Informationen zu Befehlszeilenoptionen für MSDeploy.exe, finden Sie unter [Web Deploy Vorgang Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="36b32-123">For more information on command-line options for MSDeploy.exe, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>


<span data-ttu-id="36b32-124">Bei Verwendung der *. deploy.cmd* -Datei können Sie eine "Was-wäre-wenn" Bereitstellung ausführen, indem Sie z. B. die **/t** flag (Testmodus)-Flag anstelle von der **/y** Flag ("yes" oder Aktualisierungsmodus) in der Befehl.</span><span class="sxs-lookup"><span data-stu-id="36b32-124">If you're using the *.deploy.cmd* file, you can run a "what if" deployment by including the **/t** flag (trial mode) flag instead of the **/y** flag ("yes," or update mode) in your command.</span></span> <span data-ttu-id="36b32-125">Beispielsweise, um auszuwerten, was passieren würde, wenn Sie durch Ausführen des Pakets ContactManager.Mvc.zip bereitgestellt der *. deploy.cmd* -Datei der Befehl sollte diesem ähneln:</span><span class="sxs-lookup"><span data-stu-id="36b32-125">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package by running the *.deploy.cmd* file, your command should resemble this:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample2.cmd)]


<span data-ttu-id="36b32-126">Sie mit den Ergebnissen der Bereitstellungskonfiguration "Testmodus" zufrieden sind, können Sie ersetzen die **/t** flag mit einer **/y** Flag eine aktive Bereitstellung ausführen:</span><span class="sxs-lookup"><span data-stu-id="36b32-126">When you're satisfied with the results of your "trial mode" deployment, you can replace the **/t** flag with a **/y** flag to run a live deployment:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample3.cmd)]


> [!NOTE]
> <span data-ttu-id="36b32-127">Weitere Informationen zu Befehlszeilenoptionen für *. deploy.cmd* finden Sie unter [Vorgehensweise: Installieren Sie eine Bereitstellung Paket mithilfe der Datei deploy.cmd](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="36b32-127">For more information on command-line options for *.deploy.cmd* files, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="36b32-128">Wenn das Ausführen der *. deploy.cmd* Datei ohne Angabe von Flags, die Befehlszeile wird eine Liste der verfügbaren Flags angezeigt.</span><span class="sxs-lookup"><span data-stu-id="36b32-128">If you run the *.deploy.cmd* file without specifying any flags, the command prompt will display a list of available flags.</span></span>


## <a name="performing-a-what-if-deployment-for-databases"></a><span data-ttu-id="36b32-129">Ausführen einer "Was-wäre-wenn" Bereitstellung für Datenbanken</span><span class="sxs-lookup"><span data-stu-id="36b32-129">Performing a "What If" Deployment for Databases</span></span>

<span data-ttu-id="36b32-130">In diesem Abschnitt wird davon ausgegangen, dass Sie zum Ausführen von inkrementellen, schemabasierte datenbankbereitstellung VSDBCMD-Hilfsprogramm verwenden.</span><span class="sxs-lookup"><span data-stu-id="36b32-130">This section assumes that you're using the VSDBCMD utility to perform incremental, schema-based database deployment.</span></span> <span data-ttu-id="36b32-131">Dieser Ansatz wird ausführlich in [Datenbankprojekte bereitstellen](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="36b32-131">This approach is described in more detail in [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="36b32-132">Es wird empfohlen, dass Sie sich mit den in diesem Thema vertraut, bevor Sie die hier beschriebenen Konzepte gelten auch.</span><span class="sxs-lookup"><span data-stu-id="36b32-132">We recommend that you familiarize yourself with this topic before you apply the concepts described here.</span></span>

<span data-ttu-id="36b32-133">Bei Verwendung von VSDBCMD in **bereitstellen** -Modus können Sie die **/dd** (oder **/DeployToDatabase**) flag steuern, ob VSDBCMD tatsächlich die Datenbank stellt oder nur generiert eine Bereitstellungsskript.</span><span class="sxs-lookup"><span data-stu-id="36b32-133">When you use VSDBCMD in **Deploy** mode, you can use the **/dd** (or **/DeployToDatabase**) flag to control whether VSDBCMD actually deploys the database or just generates a deployment script.</span></span> <span data-ttu-id="36b32-134">Wenn Sie eine DBSCHEMA-Datei bereitstellen, ist dies das Verhalten auf:</span><span class="sxs-lookup"><span data-stu-id="36b32-134">If you're deploying a .dbschema file, this is the behavior:</span></span>

- <span data-ttu-id="36b32-135">Bei Angabe von **/dd+** oder **/dd**, VSDBCMD ein Bereitstellungsskript generiert und die Datenbank bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="36b32-135">If you specify **/dd+** or **/dd**, VSDBCMD will generate a deployment script and deploy the database.</span></span>
- <span data-ttu-id="36b32-136">Bei Angabe von **/dd-** oder ohne den Schalter, VSDBCMD wird nur ein Bereitstellungsskript generiert.</span><span class="sxs-lookup"><span data-stu-id="36b32-136">If you specify **/dd-** or omit the switch, VSDBCMD will generate a deployment script only.</span></span>

> [!NOTE]
> <span data-ttu-id="36b32-137">Wenn Sie die DEPLOYMANIFEST-Datei anstelle einer DBSCHEMA-Datei, das Verhalten der Bereitstellung der **/dd** Switch ist viel komplizierter.</span><span class="sxs-lookup"><span data-stu-id="36b32-137">If you're deploying a .deploymanifest file rather than a .dbschema file, the behavior of the **/dd** switch is a lot more complicated.</span></span> <span data-ttu-id="36b32-138">Im Wesentlichen VSDBCMD ignoriert den Wert von der **/dd** wechseln, wenn die DEPLOYMANIFEST-Datei enthält eine **DeployToDatabase** Element mit einem Wert von **"true"**.</span><span class="sxs-lookup"><span data-stu-id="36b32-138">Essentially, VSDBCMD will ignore the value of the **/dd** switch if the .deploymanifest file includes a **DeployToDatabase** element with a value of **True**.</span></span> <span data-ttu-id="36b32-139">[Bereitstellen von Datenbankprojekten](../web-deployment-in-the-enterprise/deploying-database-projects.md) wird dieses Verhalten vollständig beschrieben.</span><span class="sxs-lookup"><span data-stu-id="36b32-139">[Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md) describes this behavior in full.</span></span>


<span data-ttu-id="36b32-140">Beispielsweise, um das Generieren eines Bereitstellungsskripts für die **ContactManager** Datenbank ohne eigentlichen Bereitstellung der Datenbank, die VSDBCMD-Befehl sollte diesem ähneln:</span><span class="sxs-lookup"><span data-stu-id="36b32-140">For example, to generate a deployment script for the **ContactManager** database without actually deploying the database, your VSDBCMD command should resemble this:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample4.cmd)]


<span data-ttu-id="36b32-141">VSDBCMD ist ein Bereitstellungstool differenziellen Datenbank- und das Bereitstellungsskript wird als solche dynamisch generiert, um alle erforderlichen die aktuelle Datenbank zu aktualisieren, sofern, auf das angegebene Schema vorhanden SQL‑Befehle enthalten.</span><span class="sxs-lookup"><span data-stu-id="36b32-141">VSDBCMD is a differential database deployment tool, and as such the deployment script is dynamically generated to contain all the SQL commands necessary to update the current database, if one exists, to the specified schema.</span></span> <span data-ttu-id="36b32-142">Überprüfen das Bereitstellungsskript ist eine gute Möglichkeit, zu bestimmen, was die Bereitstellung auswirken hat in der aktuellen Datenbank und die darin enthaltenen Daten.</span><span class="sxs-lookup"><span data-stu-id="36b32-142">Reviewing the deployment script is a useful way to determine what impact your deployment will have on the current database and the data it contains.</span></span> <span data-ttu-id="36b32-143">Sie möchten z. B. zu ermitteln:</span><span class="sxs-lookup"><span data-stu-id="36b32-143">For example, you might want to determine:</span></span>

- <span data-ttu-id="36b32-144">Gibt an, ob vorhandenen Tabellen entfernt werden sollen, und gibt an, ob die, die zu Datenverlusten führen wird.</span><span class="sxs-lookup"><span data-stu-id="36b32-144">Whether any existing tables will be removed, and whether that will result in data loss.</span></span>
- <span data-ttu-id="36b32-145">Gibt an, ob die Reihenfolge der Vorgänge ein Risiko des Datenverlusts, z. B. führt, wenn Sie teilen oder Zusammenführen von Tabellen.</span><span class="sxs-lookup"><span data-stu-id="36b32-145">Whether the order of operations carries a risk of data loss, for example, if you're splitting or merging tables.</span></span>

<span data-ttu-id="36b32-146">Wenn Sie mit dem Bereitstellungsskript zufrieden sind, können Sie die VSDBCMD mit Wiederholen einer **/dd+** Flag die Änderungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="36b32-146">If you're happy with the deployment script, you can repeat the VSDBCMD with a **/dd+** flag to make the changes.</span></span> <span data-ttu-id="36b32-147">Alternativ können Sie das Bereitstellungsskript aus, um Ihre Anforderungen erfüllt, und führen Sie es manuell auf dem Datenbankserver bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="36b32-147">Alternatively, you can edit the deployment script to meet your requirements and then execute it manually on the database server.</span></span>

## <a name="integrating-what-if-functionality-into-custom-project-files"></a><span data-ttu-id="36b32-148">Integrieren von "Was-wäre-wenn-Funktionalität in benutzerdefinierten Projektdateien</span><span class="sxs-lookup"><span data-stu-id="36b32-148">Integrating "What If" Functionality into Custom Project Files</span></span>

<span data-ttu-id="36b32-149">In komplexeren Bereitstellungsszenarios, Sie möchten eine benutzerdefinierte Microsoft Build Engine (MSBuild)-Projektdatei zu verwenden, um Ihre Logik Build- und Bereitstellungsprozess kapseln, wie in beschrieben [verstehen die Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="36b32-149">In more complex deployment scenarios, you'll want to use a custom Microsoft Build Engine (MSBuild) project file to encapsulate your build and deployment logic, as described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span> <span data-ttu-id="36b32-150">Beispielsweise ist in der [Vorgesetzten Kontakts](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) Beispielprojektmappe, die *Publish.proj* Datei:</span><span class="sxs-lookup"><span data-stu-id="36b32-150">For example, in the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, the *Publish.proj* file:</span></span>

- <span data-ttu-id="36b32-151">Die Projektmappe erstellt.</span><span class="sxs-lookup"><span data-stu-id="36b32-151">Builds the solution.</span></span>
- <span data-ttu-id="36b32-152">Mithilfe von Web Deploy zum Packen und Bereitstellen der Anwendung ContactManager.Mvc.</span><span class="sxs-lookup"><span data-stu-id="36b32-152">Uses Web Deploy to package and deploy the ContactManager.Mvc application.</span></span>
- <span data-ttu-id="36b32-153">Mithilfe von Web Deploy zum Packen und Bereitstellen der Anwendung ContactManager.Service.</span><span class="sxs-lookup"><span data-stu-id="36b32-153">Uses Web Deploy to package and deploy the ContactManager.Service application.</span></span>
- <span data-ttu-id="36b32-154">Stellt die **ContactManager** Datenbank.</span><span class="sxs-lookup"><span data-stu-id="36b32-154">Deploys the **ContactManager** database.</span></span>

<span data-ttu-id="36b32-155">Wenn Sie die Bereitstellung von mehreren Webpaketen und/oder Datenbanken in einzelnen Schritten, die auf diese Weise zu integrieren, sollten Sie auch die Möglichkeit, die gesamte Bereitstellung in einer "Was-wäre-wenn"-Modus ausführen.</span><span class="sxs-lookup"><span data-stu-id="36b32-155">When you integrate the deployment of multiple web packages and/or databases into a single-step process in this way, you may also want the option of performing the entire deployment in a "what if" mode.</span></span>

<span data-ttu-id="36b32-156">Die *Publish.proj* Datei veranschaulicht, wie Sie dies tun können.</span><span class="sxs-lookup"><span data-stu-id="36b32-156">The *Publish.proj* file demonstrates how you can do this.</span></span> <span data-ttu-id="36b32-157">Zunächst müssen Sie eine Eigenschaft zum Speichern des Werts "Was-wäre-wenn" zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="36b32-157">First, you need to create a property to store the "what if" value:</span></span>


[!code-xml[Main](performing-a-what-if-deployment/samples/sample5.xml)]


<span data-ttu-id="36b32-158">In diesem Fall haben Sie eine Eigenschaft mit dem Namen erstellt **"WhatIf"** hat den Standardwert des **"false"**.</span><span class="sxs-lookup"><span data-stu-id="36b32-158">In this case, you've created a property named **WhatIf** with a default value of **false**.</span></span> <span data-ttu-id="36b32-159">Benutzer können diesen Wert überschreiben, indem Sie das Festlegen von **"true"** in einen Befehlszeilenparameter wie Sie sehen in Kürze.</span><span class="sxs-lookup"><span data-stu-id="36b32-159">Users can override this value by setting the property to **true** in a command-line parameter, as you'll see shortly.</span></span>

<span data-ttu-id="36b32-160">Die nächste Phase bezieht sich auf alle Web Deploy parametrisieren und VSDBCMD Befehle, damit die Flags entsprechen den **"WhatIf"** Eigenschaftswert.</span><span class="sxs-lookup"><span data-stu-id="36b32-160">The next stage is to parameterize any Web Deploy and VSDBCMD commands so that the flags reflect the **WhatIf** property value.</span></span> <span data-ttu-id="36b32-161">Z. B. das nächste Ziel (entnommen der *Publish.proj* Datei und vereinfachte) ausgeführt wird die *. deploy.cmd* Datei zum Bereitstellen eines Webpakets.</span><span class="sxs-lookup"><span data-stu-id="36b32-161">For example, the next target (taken from the *Publish.proj* file and simplified) runs the *.deploy.cmd* file to deploy a web package.</span></span> <span data-ttu-id="36b32-162">Wird standardmäßig der Befehl umfasst einen **/y** Switch ("yes" oder Updatemodus).</span><span class="sxs-lookup"><span data-stu-id="36b32-162">By default, the command includes a **/Y** switch ("yes," or update mode).</span></span> <span data-ttu-id="36b32-163">Wenn **"WhatIf"** festgelegt ist, um **"true"**, dies wird ersetzt durch eine **/t** Switch (Test- oder "Was-wäre-wenn"-Modus).</span><span class="sxs-lookup"><span data-stu-id="36b32-163">If **WhatIf** is set to **true**, this is replaced by a **/T** switch (trial, or "what if" mode).</span></span>


[!code-xml[Main](performing-a-what-if-deployment/samples/sample6.xml)]


<span data-ttu-id="36b32-164">Auf ähnliche Weise wird das nächste Ziel des Hilfsprogramms VSDBCMD zum Bereitstellen einer Datenbank verwendet.</span><span class="sxs-lookup"><span data-stu-id="36b32-164">Similarly, the next target uses the VSDBCMD utility to deploy a database.</span></span> <span data-ttu-id="36b32-165">Wird standardmäßig ein **/dd** Switch nicht enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="36b32-165">By default, a **/dd** switch is not included.</span></span> <span data-ttu-id="36b32-166">Dies bedeutet, dass VSDBCMD ein Bereitstellungsskript generiert, aber nicht werden, die Datenbank & #x 2014 bereitgestellt wird; das heißt, "Was-wäre-wenn-Szenario.</span><span class="sxs-lookup"><span data-stu-id="36b32-166">This means that VSDBCMD will generate a deployment script but will not deploy the database&#x2014;in other words, a "what if" scenario.</span></span> <span data-ttu-id="36b32-167">Wenn die **"WhatIf"** Eigenschaft nicht festgelegt ist, um **"true"**, **/dd** Schalter hinzugefügt wird und VSDBCMD wird die Datenbank bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="36b32-167">If the **WhatIf** property is not set to **true**, a **/dd** switch is added and VSDBCMD will deploy the database.</span></span>


[!code-xml[Main](performing-a-what-if-deployment/samples/sample7.xml)]


<span data-ttu-id="36b32-168">Sie können den gleichen Ansatz verwenden, parametrisieren Sie die entsprechenden Befehle in der Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="36b32-168">You can use the same approach to parameterize all the relevant commands in your project file.</span></span> <span data-ttu-id="36b32-169">Wenn Sie eine "Was-wäre-wenn" Bereitstellung ausführen möchten, können dann geben Sie einfach eine **"WhatIf"** Eigenschaftswert über die Befehlszeile:</span><span class="sxs-lookup"><span data-stu-id="36b32-169">When you want to run a "what if" deployment, you can then simply provide a **WhatIf** property value from the command line:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample8.cmd)]


<span data-ttu-id="36b32-170">Auf diese Weise können Sie eine "Was-wäre-wenn" Bereitstellung für alle Projektkomponenten in einem einzigen Schritt ausführen.</span><span class="sxs-lookup"><span data-stu-id="36b32-170">In this way, you can run a "what if" deployment for all your project components in a single step.</span></span>

## <a name="conclusion"></a><span data-ttu-id="36b32-171">Schlussbemerkung</span><span class="sxs-lookup"><span data-stu-id="36b32-171">Conclusion</span></span>

<span data-ttu-id="36b32-172">Dieses Thema beschreibt, wie Sie "Was-wäre-wenn-Bereitstellungen mithilfe von Web Deploy, VSDBCMD und MSBuild ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="36b32-172">This topic described how to run "what if" deployments using Web Deploy, VSDBCMD, and MSBuild.</span></span> <span data-ttu-id="36b32-173">Eine "Was-wäre-wenn" Bereitstellung können Sie das Auswerten der Auswirkungen einer vorgeschlagenen Bereitstellung aus, bevor Sie Änderungen in der zielumgebung tatsächlich vornehmen.</span><span class="sxs-lookup"><span data-stu-id="36b32-173">A "what if" deployment lets you evaluate the impact of a proposed deployment before you actually make any changes to the destination environment.</span></span>

## <a name="further-reading"></a><span data-ttu-id="36b32-174">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="36b32-174">Further Reading</span></span>

<span data-ttu-id="36b32-175">Weitere Informationen zu Web Deploy-Befehlszeilensyntax, finden Sie unter [Web Deploy Vorgang Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="36b32-175">For more information on Web Deploy command-line syntax, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="36b32-176">Um Hilfe bei der Befehlszeilenoptionen, die bei der Verwendung der *. deploy.cmd* finden Sie unter [Vorgehensweise: Installieren Sie eine Bereitstellung Paket mithilfe der Datei deploy.cmd](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="36b32-176">For guidance on command-line options when you use the *.deploy.cmd* file, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="36b32-177">Anleitungen zu VSDBCMD-Befehlszeilensyntax, finden Sie unter [Command-Line Reference for VSDBCMD. EXE-Datei (Bereitstellung und Schemaimport)](https://msdn.microsoft.com/library/dd193283.aspx).</span><span class="sxs-lookup"><span data-stu-id="36b32-177">For guidance on VSDBCMD command-line syntax, see [Command-Line Reference for VSDBCMD.EXE (Deployment and Schema Import)](https://msdn.microsoft.com/library/dd193283.aspx).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="36b32-178">[Zurück](advanced-enterprise-web-deployment.md)
[Weiter](customizing-database-deployments-for-multiple-environments.md)</span><span class="sxs-lookup"><span data-stu-id="36b32-178">[Previous](advanced-enterprise-web-deployment.md)
[Next](customizing-database-deployments-for-multiple-environments.md)</span></span>
