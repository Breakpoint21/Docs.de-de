---
uid: web-api/overview/security/external-authentication-services
title: Externen Authentifizierungsdienste mit ASP.NET Web-API (c#) | Microsoft Docs
author: rmcmurray
description: Beschreibt die Verwendung von externen Authentifizierungsdienste in ASP.NET Web-API.
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/26/2013
ms.topic: article
ms.assetid: 3bb8eb15-b518-44f5-a67d-a27e051aedc6
ms.technology: dotnet-webapi
ms.prod: .net-framework
msc.legacyurl: /web-api/overview/security/external-authentication-services
msc.type: authoredcontent
ms.openlocfilehash: 744396cb0c95d1887f259b1e2e890bd06ef7d049
ms.sourcegitcommit: 016f4d58663bcd442930227022de23fb3abee0b3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/12/2018
---
<a name="external-authentication-services-with-aspnet-web-api-c"></a><span data-ttu-id="9b2f0-103">Externen Authentifizierungsdienste mit ASP.NET Web-API (c#)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-103">External Authentication Services with ASP.NET Web API (C#)</span></span>
====================
<span data-ttu-id="9b2f0-104">durch [Robert McMurray](https://github.com/rmcmurray)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-104">by [Robert McMurray](https://github.com/rmcmurray)</span></span>

<span data-ttu-id="9b2f0-105">Visual Studio 2013 und ASP.NET 4.5.1 erweitern Sie die Sicherheitsoptionen für [Single Page Applications](../../../single-page-application/index.md) (SPA) und [Web-API](../../index.md) Services für die Integration von externen Authentifizierungsdienste, darunter mehrere OAuth-/OpenID und den Authentifizierungsdiensten für soziale Medien: Microsoft Accounts, Twitter, Facebook und Google.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-105">Visual Studio 2013 and ASP.NET 4.5.1 expand the security options for [Single Page Applications](../../../single-page-application/index.md) (SPA) and [Web API](../../index.md) services to integrate with external authentication services, which include several OAuth/OpenID and social media authentication services: Microsoft Accounts, Twitter, Facebook, and Google.</span></span>

### <a name="in-this-walkthrough"></a><span data-ttu-id="9b2f0-106">In dieser exemplarischen Vorgehensweise</span><span class="sxs-lookup"><span data-stu-id="9b2f0-106">In This Walkthrough</span></span>

- [<span data-ttu-id="9b2f0-107">Verwenden von externen Authentifizierungsdienste</span><span class="sxs-lookup"><span data-stu-id="9b2f0-107">Using External Authentication Services</span></span>](#USING)
- [<span data-ttu-id="9b2f0-108">Erstellen die Beispielwebanwendung</span><span class="sxs-lookup"><span data-stu-id="9b2f0-108">Creating the Sample Web Application</span></span>](#SAMPLE)
- [<span data-ttu-id="9b2f0-109">Facebook-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-109">Enabling Facebook Authentication</span></span>](#FACEBOOK)
- [<span data-ttu-id="9b2f0-110">Google-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-110">Enabling Google Authentication</span></span>](#GOOGLE)
- [<span data-ttu-id="9b2f0-111">Microsoft-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-111">Enabling Microsoft Authentication</span></span>](#MICROSOFT)
- [<span data-ttu-id="9b2f0-112">Twitter-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-112">Enabling Twitter Authentication</span></span>](#TWITTER)
- [<span data-ttu-id="9b2f0-113">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="9b2f0-113">Additional Information</span></span>](#MOREINFO)

    - [<span data-ttu-id="9b2f0-114">Kombinieren von externen Authentifizierungsdienste</span><span class="sxs-lookup"><span data-stu-id="9b2f0-114">Combining External Authentication Services</span></span>](#COMBINE)
    - [<span data-ttu-id="9b2f0-115">Konfigurieren von IIS Express verwendet einen vollständig qualifizierten Domänennamen</span><span class="sxs-lookup"><span data-stu-id="9b2f0-115">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>](#FQDN)
    - [<span data-ttu-id="9b2f0-116">So erhalten Sie die Einstellungen Ihrer Anwendung für Microsoft-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="9b2f0-116">How to Obtain your Application Settings for Microsoft Authentication</span></span>](#OBTAIN)
    - [<span data-ttu-id="9b2f0-117">Optional: Lokale Registrierung deaktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-117">Optional: Disable Local Registration</span></span>](#DISABLE)

### <a name="prerequisites"></a><span data-ttu-id="9b2f0-118">Erforderliche Komponenten</span><span class="sxs-lookup"><span data-stu-id="9b2f0-118">Prerequisites</span></span>

<span data-ttu-id="9b2f0-119">Um die Beispiele in dieser exemplarischen Vorgehensweise folgen zu können, müssen Sie über Folgendes verfügen:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-119">To follow the examples in this walkthrough, you need to have the following:</span></span>

- <span data-ttu-id="9b2f0-120">Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="9b2f0-120">Visual Studio 2013</span></span>
- <span data-ttu-id="9b2f0-121">Ein Konto für mindestens eine der folgenden externen Authentifizierungsdienste:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-121">An account for at least one of the following external authentication services:</span></span>

    - <span data-ttu-id="9b2f0-122">Ein Google-Benutzerkonto</span><span class="sxs-lookup"><span data-stu-id="9b2f0-122">A Google user account</span></span>
    - <span data-ttu-id="9b2f0-123">Ein Entwicklerkonto mit dem Anwendungsbezeichner und den geheimen Schlüssel für eines der folgenden Dienste für soziale Authentifizierung:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-123">A developer account with the application identifier and secret key for one of the following social media authentication services:</span></span>

        - <span data-ttu-id="9b2f0-124">Microsoft-Konten ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span><span class="sxs-lookup"><span data-stu-id="9b2f0-124">Microsoft Accounts ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span></span>
        - <span data-ttu-id="9b2f0-125">Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span><span class="sxs-lookup"><span data-stu-id="9b2f0-125">Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span></span>
        - <span data-ttu-id="9b2f0-126">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span><span class="sxs-lookup"><span data-stu-id="9b2f0-126">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span></span>

<a id="USING"></a>
## <a name="using-external-authentication-services"></a><span data-ttu-id="9b2f0-127">Verwenden von externen Authentifizierungsdienste</span><span class="sxs-lookup"><span data-stu-id="9b2f0-127">Using External Authentication Services</span></span>

<span data-ttu-id="9b2f0-128">Die Fülle von externen Authentifizierungsdienste, die für Entwickler Webhilfe Entwicklung reduzieren aktuell verfügbar sind Zeit, wenn neue Webanwendungen erstellen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-128">The abundance of external authentication services that are currently available to web developers help to reduce development time when creating new web applications.</span></span> <span data-ttu-id="9b2f0-129">Webbenutzern in der Regel haben mehrere vorhandene Konten für beliebte Webdienste und Websites für soziale Medien, daher, wenn eine Web-Anwendung implementiert den Authentifizierungsdiensten aus einem externen Webdienst oder soziale Website sie die Entwicklungszeit, speichert würde angelangen wurde eine Implementierung für die Authentifizierung erstellen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-129">Web users typically have several existing accounts for popular web services and social media websites, therefore when a web application implements the authentication services from an external web service or social media website, it saves the development time that would have been spent creating an authentication implementation.</span></span> <span data-ttu-id="9b2f0-130">Endbenutzer mit einem externen Authentifizierungsdienst gespeichert werden, müssen Sie ein anderes Konto für Ihre Webanwendung zu erstellen und zu einem anderen Benutzernamen und Kennwort merken müssen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-130">Using an external authentication service saves end users from having to create another account for your web application, and also from having to remember another username and password.</span></span>

<span data-ttu-id="9b2f0-131">In der Vergangenheit mussten Entwickler zwei Optionen: Erstellen Sie eine eigene Implementierung der Authentifizierung, oder erfahren Sie, wie einen externer Authentifizierungsdienst in ihre Anwendungen integrieren.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-131">In the past, developers have had two choices: create their own authentication implementation, or learn how to integrate an external authentication service into their applications.</span></span> <span data-ttu-id="9b2f0-132">Auf der grundlegendsten Ebene veranschaulicht das folgende Diagramm ein einfachen anforderungsflusses für einen Benutzer-Agent (Webbrowser), der Informationen aus einer Webanwendung anfordert, die einen externen Authentifizierungsdienst konfiguriert ist:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-132">At the most basic level, the following diagram illustrates a simple request flow for a user agent (web browser) that is requesting information from a web application that is configured to use an external authentication service:</span></span>

<span data-ttu-id="9b2f0-133">[![](external-authentication-services/_static/image2.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-133">[![](external-authentication-services/_static/image2.png "Click to Expand the Image")](external-authentication-services/_static/image1.png)</span></span>

<span data-ttu-id="9b2f0-134">Die Benutzer-Agent (oder einen Webbrowser in diesem Beispiel) sendet eine Anforderung im vorigen Diagramm um eine Web-Anwendung, mit die Webbrowser an einen externen Authentifizierungsdienst weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-134">In the preceding diagram, the user agent (or web browser in this example) makes a request to a web application, which redirects the web browser to an external authentication service.</span></span> <span data-ttu-id="9b2f0-135">Der Benutzer-Agent sendet seine Anmeldeinformationen mit dem externen Authentifizierungsdienst, und wenn der Benutzer-Agent erfolgreich authentifiziert hat, der externen Authentifizierungsdienst weitergeleitet wird des Benutzer-Agents, die ursprünglichen Webanwendung eine Form der token, das die Benutzer-Agent sendet an die Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-135">The user agent sends its credentials to the external authentication service, and if the user agent has successfully authenticated, the external authentication service will redirect the user agent to the original web application with some form of token which the user agent will send to the web application.</span></span> <span data-ttu-id="9b2f0-136">Die Webanwendung wird das Token verwenden, um sicherzustellen, dass der Benutzer-Agent wurde erfolgreich vom externen Authentication-Dienst authentifiziert, und die Webanwendung das Token verwenden kann, um weitere Informationen über die Benutzer-Agent zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-136">The web application will use the token to verify that the user agent has been successfully authenticated by the external authentication service, and the web application may use the token to gather more information about the user agent.</span></span> <span data-ttu-id="9b2f0-137">Sobald die Anwendung erfolgt Verarbeitungsinformationen für den Benutzer-Agent, gibt die Webanwendung die richtige Reaktion auf die Benutzer-Agent basierend auf seiner autorisierungseinstellungen zurück.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-137">Once the application is done processing the user agent's information, the web application will return the appropriate response to the user agent based on its authorization settings.</span></span>

<span data-ttu-id="9b2f0-138">In diesem zweiten Beispiel der Benutzer-Agent handelt, mit der Webanwendung und externen autorisierungsserver und die Webanwendung führt zusätzliche Kommunikation mit dem Server externe Autorisierung, um zusätzliche Informationen über den Benutzer abrufen -Agent:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-138">In this second example, the user agent negotiates with the web application and external authorization server, and the web application performs additional communication with the external authorization server to retrieve additional information about the user agent:</span></span>

<span data-ttu-id="9b2f0-139">[![](external-authentication-services/_static/image4.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-139">[![](external-authentication-services/_static/image4.png "Click to Expand the Image")](external-authentication-services/_static/image3.png)</span></span>

<span data-ttu-id="9b2f0-140">Visual Studio 2013 und ASP.NET 4.5.1 vereinfachen Integration mit externen Authentifizierungsdienste für Entwickler durch integrierte Integration für die folgenden Authentifizierungsdienste bereitstellen:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-140">Visual Studio 2013 and ASP.NET 4.5.1 make integration with external authentication services easier for developers by providing built-in integration for the following authentication services:</span></span>

- <span data-ttu-id="9b2f0-141">Facebook</span><span class="sxs-lookup"><span data-stu-id="9b2f0-141">Facebook</span></span>
- <span data-ttu-id="9b2f0-142">Google</span><span class="sxs-lookup"><span data-stu-id="9b2f0-142">Google</span></span>
- <span data-ttu-id="9b2f0-143">Microsoft-Accounts (Windows Live ID-Konten)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-143">Microsoft Accounts (Windows Live ID accounts)</span></span>
- <span data-ttu-id="9b2f0-144">Twitter</span><span class="sxs-lookup"><span data-stu-id="9b2f0-144">Twitter</span></span>

<span data-ttu-id="9b2f0-145">Die Beispiele in dieser exemplarischen Vorgehensweise zeigen, wie jede der unterstützten externen Authentifizierungsdienste mithilfe der neuen ASP.NET Web Application-Vorlage, die geliefert wird mit Visual Studio 2013 konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-145">The examples in this walkthrough will demonstrate how to configure each of the supported external authentication services by using the new ASP.NET Web Application template that ships with Visual Studio 2013.</span></span>

> [!NOTE]
> <span data-ttu-id="9b2f0-146">Ggf. müssen Sie möglicherweise Ihren FQDN ein an den Einstellungen für den Dienst für die externe Authentifizierung hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-146">If necessary, you may need to add your FQDN to the settings for your external authentication service.</span></span> <span data-ttu-id="9b2f0-147">Diese Anforderung basiert auf sicherheitseinschränkungen bei einigen Diensten externe Authentifizierung erforderlich ist den FQDN in den Anwendungseinstellungen Ihrer mit dem FQDN übereinstimmen, die von den Clients verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-147">This requirement is based on security constraints for some external authentication services which require the FQDN in your application settings to match the FQDN that is used by your clients.</span></span> <span data-ttu-id="9b2f0-148">(Die Schritte für diese werden für jeden Dienst externe Authentifizierung stark variieren, müssen Sie in der Dokumentation für jeden Dienst externe Authentifizierung, um festzustellen, ob dies erforderlich ist und wie Sie diese Einstellungen zu konfigurieren.) So konfigurieren Sie IIS Express zur Verwendung eines FQDNs für das Testen dieser Umgebung finden ggf. die [Konfigurieren von IIS Express verwenden Sie einen vollständig qualifizierten Domänennamen](#FQDN) Abschnitt weiter unten in dieser exemplarischen Vorgehensweise.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-148">(The steps for this will vary greatly for each external authentication service; you will need to consult the documentation for each external authentication service to see if this is required and how to configure these settings.) If you need to configure IIS Express to use an FQDN for testing this environment, see the [Configuring IIS Express to use a Fully Qualified Domain Name](#FQDN) section later in this walkthrough.</span></span>


<a id="SAMPLE"></a>
## <a name="creating-a-sample-web-application"></a><span data-ttu-id="9b2f0-149">Zum Erstellen einer Web-Beispielanwendung</span><span class="sxs-lookup"><span data-stu-id="9b2f0-149">Creating a Sample Web Application</span></span>

<span data-ttu-id="9b2f0-150">Die folgenden Schritte führen Sie durch die zum Erstellen einer beispielanwendung mithilfe der ASP.NET Web Application-Vorlage, und verwenden Sie diese beispielanwendung für die externe Authentifizierung Dienste weiter unten in dieser exemplarischen Vorgehensweise.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-150">The following steps will lead you through creating a sample application by using the ASP.NET Web Application template, and you will use this sample application for each of the external authentication services later in this walkthrough.</span></span>

<span data-ttu-id="9b2f0-151">Starten Sie Visual Studio 2013 wählen **neues Projekt** von der Startseite.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-151">Start Visual Studio 2013 select **New Project** from the Start page.</span></span> <span data-ttu-id="9b2f0-152">Oder von der **Datei** klicken Sie im Menü **neu** und dann **Projekt**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-152">Or, from the **File** menu, select **New** and then **Project**.</span></span>

<span data-ttu-id="9b2f0-153">[![](external-authentication-services/_static/image6.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-153">[![](external-authentication-services/_static/image6.png "Click to Expand the Image")](external-authentication-services/_static/image5.png)</span></span>

<span data-ttu-id="9b2f0-154">Wenn die **neues Projekt** im Dialogfeld angezeigt wird, wählen Sie **installiert** **Vorlagen** und erweitern Sie **Visual C#-**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-154">When the **New Project** dialog box is displayed, select **Installed** **Templates** and expand **Visual C#**.</span></span> <span data-ttu-id="9b2f0-155">Klicken Sie unter **Visual C#-**Option **Web**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-155">Under **Visual C#**, select **Web**.</span></span> <span data-ttu-id="9b2f0-156">Wählen Sie in der Liste der Projektvorlagen **ASP.NET-Webanwendung**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-156">In the list of project templates, select **ASP.NET Web Application**.</span></span> <span data-ttu-id="9b2f0-157">Geben Sie einen Namen für das Projekt, und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-157">Enter a name for your project and click **OK**.</span></span>

<span data-ttu-id="9b2f0-158">[![](external-authentication-services/_static/image8.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-158">[![](external-authentication-services/_static/image8.png "Click to Expand the Image")](external-authentication-services/_static/image7.png)</span></span>

<span data-ttu-id="9b2f0-159">Wenn die **neues ASP.NET-Projekt** gleichzeitig angezeigt werden, wählen Sie die **SPA** Vorlage, und klicken Sie auf **Projekt erstellen**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-159">When the **New ASP.NET Project** is displayed, select the **SPA** template and click **Create Project**.</span></span>

<span data-ttu-id="9b2f0-160">[![](external-authentication-services/_static/image10.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-160">[![](external-authentication-services/_static/image10.png "Click to Expand the Image")](external-authentication-services/_static/image9.png)</span></span>

<span data-ttu-id="9b2f0-161">Warten, wie Visual Studio 2013 erstellt das Projekt.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-161">Wait as Visual Studio 2013 creates your project.</span></span>

<span data-ttu-id="9b2f0-162">[![](external-authentication-services/_static/image12.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-162">[![](external-authentication-services/_static/image12.png "Click to Expand the Image")](external-authentication-services/_static/image11.png)</span></span>

<span data-ttu-id="9b2f0-163">Wenn Visual Studio 2013 Erstellen eines Projekts abgeschlossen ist, öffnen Sie die *Startup.Auth.cs* in die Datei der **App\_starten** Ordner.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-163">When Visual Studio 2013 has finished creating your project, open the *Startup.Auth.cs* file that is located in the **App\_Start** folder.</span></span>

<span data-ttu-id="9b2f0-164">[![](external-authentication-services/_static/image14.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-164">[![](external-authentication-services/_static/image14.png "Click to Expand the Image")](external-authentication-services/_static/image13.png)</span></span>

<span data-ttu-id="9b2f0-165">Wenn Sie das Projekt erstellen, sind keine externen Authentifizierungsdienste aktiviert *Startup.Auth.cs* Datei; die folgenden wird veranschaulicht, was der Code ähneln möglicherweise, mit, wo hervorgehobenen Abschnitte aktivieren Sie eine externe Authentifizierung-Dienst und alle relevanten Einstellungen, um Microsoft Accounts, Twitter, Facebook oder Google-Authentifizierung für Ihre ASP.NET-Anwendung zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-165">When you first create the project, none of the external authentication services are enabled in *Startup.Auth.cs* file; the following illustrates what your code might resemble, with the sections highlighted for where you would enable an external authentication service and any relevant settings in order to use Microsoft Accounts, Twitter, Facebook, or Google authentication with your ASP.NET application:</span></span>

[!code-csharp[Main](external-authentication-services/samples/sample1.cs)]

<span data-ttu-id="9b2f0-166">Wenn Sie F5 drücken, um Ihre Webanwendung Debuggen, werden Anmeldebildschirm angezeigt, wo Sie angezeigt werden, dass keine externen Authentifizierungsdienste definiert wurden.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-166">When you press F5 to build and debug your web application, it will display a login screen where you will see that no external authentication services have been defined.</span></span>

<span data-ttu-id="9b2f0-167">[![](external-authentication-services/_static/image16.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-167">[![](external-authentication-services/_static/image16.png "Click to Expand the Image")](external-authentication-services/_static/image15.png)</span></span>

<span data-ttu-id="9b2f0-168">In den folgenden Abschnitten erfahren Sie, wie der externen Authentifizierungsdienste aktivieren, die von ASP.NET in Visual Studio 2013 bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-168">In the following sections, you will learn how to enable each of the external authentication services that are provided with ASP.NET in Visual Studio 2013.</span></span>

<a id="FACEBOOK"></a>
## <a name="enabling-facebook-authentication"></a><span data-ttu-id="9b2f0-169">Facebook-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-169">Enabling Facebook Authentication</span></span>

<span data-ttu-id="9b2f0-170">Mithilfe von Facebook Authentifizierung erfordert, dass Sie eine Facebook-Entwicklerkonto erstellen und Ihr Projekt benötigen eine Anwendungs-ID und den geheimen Schlüssel von Facebook um zu funktionieren.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-170">Using Facebook authentication requires you to create a Facebook developer account, and your project will require an application ID and secret key from Facebook in order to function.</span></span> <span data-ttu-id="9b2f0-171">Informationen zum Erstellen einer Facebook-Entwicklerkonto und Abrufen der Anwendungs-ID und geheimer Schlüssel finden Sie unter [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="9b2f0-171">For information about creating a Facebook developer account and obtaining your application ID and secret key, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="9b2f0-172">Nach der Anwendungs-ID und geheimer Schlüssel abgerufen haben, verwenden die folgenden Schritte aus, um die Facebook-Authentifizierung für Ihre Webanwendung zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-172">Once you have obtained your application ID and secret key, use the following steps to enable Facebook authentication for your web application:</span></span>

1. <span data-ttu-id="9b2f0-173">Wenn Ihr Projekt in Visual Studio 2013 geöffnet ist, öffnen Sie die *Startup.Auth.cs* Datei:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-173">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="9b2f0-174">[![](external-authentication-services/_static/image18.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-174">[![](external-authentication-services/_static/image18.png "Click to Expand the Image")](external-authentication-services/_static/image17.png)</span></span>
2. <span data-ttu-id="9b2f0-175">Suchen Sie den markierten Abschnitt des Codes:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-175">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample2.cs)]
3. <span data-ttu-id="9b2f0-176">Entfernen Sie die &quot; // &quot; zu kommentieren Sie die hervorgehobenen Codezeilen, und fügen Sie dann die Anwendungs-ID und geheimer Schlüssel Zeichen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-176">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your application ID and secret key.</span></span> <span data-ttu-id="9b2f0-177">Nachdem Sie diese Parameter hinzugefügt haben, können Sie das Projekt neu kompilieren:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-177">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample3.cs)]
4. <span data-ttu-id="9b2f0-178">Wenn Sie F5, um Ihre Webanwendung im Webbrowser öffnen drücken, sehen Sie sich, dass Facebook als externe Authentifizierungsdienst definiert wurde:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-178">When you press F5 to open your web application in your web browser, you will see that Facebook has been defined as an external authentication service:</span></span>

    <span data-ttu-id="9b2f0-179">[![](external-authentication-services/_static/image20.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-179">[![](external-authentication-services/_static/image20.png "Click to Expand the Image")](external-authentication-services/_static/image19.png)</span></span>
5. <span data-ttu-id="9b2f0-180">Beim Klicken auf die **Facebook** Schaltfläche, Ihren Browser an die Facebook-Anmeldeseite umgeleitet werden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-180">When you click the **Facebook** button, your browser will be redirected to the Facebook login page:</span></span>

    <span data-ttu-id="9b2f0-181">[![](external-authentication-services/_static/image22.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-181">[![](external-authentication-services/_static/image22.png "Click to Expand the Image")](external-authentication-services/_static/image21.png)</span></span>
6. <span data-ttu-id="9b2f0-182">Nachdem Sie Ihre Facebook-Anmeldeinformationen eingeben, und klicken Sie auf **melden Sie sich**, Ihren Webbrowser wird zurück an Ihre Webanwendung umgeleitet werden Sie für die Eingabe der **Benutzername** , die Sie zuordnen möchten Ihre Facebook-Konto:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-182">After you enter your Facebook credentials and click **Log in**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Facebook account:</span></span>

    <span data-ttu-id="9b2f0-183">[![](external-authentication-services/_static/image24.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-183">[![](external-authentication-services/_static/image24.png "Click to Expand the Image")](external-authentication-services/_static/image23.png)</span></span>
7. <span data-ttu-id="9b2f0-184">Nachdem Sie Ihren Benutzernamen eingegeben und geklickt haben die **registrieren** Schaltfläche, Ihre Webanwendung zeigt die Standardeinstellung **Startseite** für Ihr Facebook-Konto:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-184">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Facebook account:</span></span>

    <span data-ttu-id="9b2f0-185">[![](external-authentication-services/_static/image26.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-185">[![](external-authentication-services/_static/image26.png "Click to Expand the Image")](external-authentication-services/_static/image25.png)</span></span>

<a id="GOOGLE"></a>
## <a name="enabling-google-authentication"></a><span data-ttu-id="9b2f0-186">Google-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-186">Enabling Google Authentication</span></span>

<span data-ttu-id="9b2f0-187">Google ist weitem am besten zu aktivieren, denn es nicht, dass ein Entwicklerkonto erfordern, und zusätzliche Informationen wie die Anwendungs-ID oder den geheimen Schlüssel als die anderen externen Authentifizierungsdienste erfordert Dienste externe Authentifizierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-187">Google is by far the easiest of the external authentication services to enable because it doesn't require a developer account, nor does it require additional information like your application ID or secret key as the other external authentication services necessitate.</span></span>

<span data-ttu-id="9b2f0-188">Verwenden Sie zum Aktivieren der Google-Authentifizierung für Ihre Webanwendung die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-188">To enable Google authentication for your web application, use the following steps:</span></span>

1. <span data-ttu-id="9b2f0-189">Wenn Ihr Projekt in Visual Studio 2013 geöffnet ist, öffnen Sie die *Startup.Auth.cs* Datei:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-189">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="9b2f0-190">[![](external-authentication-services/_static/image28.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-190">[![](external-authentication-services/_static/image28.png "Click to Expand the Image")](external-authentication-services/_static/image27.png)</span></span>
2. <span data-ttu-id="9b2f0-191">Suchen Sie den markierten Abschnitt des Codes:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-191">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample4.cs)]
3. <span data-ttu-id="9b2f0-192">Entfernen Sie die &quot; // &quot; Zeichen, kommentieren Sie die hervorgehobene Zeile des Codes, und kompilieren Sie das Projekt neu:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-192">Remove the &quot;//&quot; characters to uncomment the highlighted line of code, and then recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample5.cs)]
4. <span data-ttu-id="9b2f0-193">Wenn Sie F5, um Ihre Webanwendung im Webbrowser öffnen drücken, sehen Sie sich, dass Google als externe Authentifizierungsdienst definiert wurde:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-193">When you press F5 to open your web application in your web browser, you will see that Google has been defined as an external authentication service:</span></span>

    <span data-ttu-id="9b2f0-194">[![](external-authentication-services/_static/image30.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-194">[![](external-authentication-services/_static/image30.png "Click to Expand the Image")](external-authentication-services/_static/image29.png)</span></span>
5. <span data-ttu-id="9b2f0-195">Beim Klicken auf die **Google** Schaltfläche, Ihren Browser an der Google-Anmeldeseite umgeleitet werden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-195">When you click the **Google** button, your browser will be redirected to the Google login page:</span></span>

    <span data-ttu-id="9b2f0-196">[![](external-authentication-services/_static/image32.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-196">[![](external-authentication-services/_static/image32.png "Click to Expand the Image")](external-authentication-services/_static/image31.png)</span></span>
6. <span data-ttu-id="9b2f0-197">Nachdem Sie Ihre Google-Anmeldeinformationen eingeben, und klicken Sie auf **anmelden**, Google werden Sie aufgefordert, überprüfen Sie, ob die Webanwendung auf Ihr Google-Konto zuzugreifen:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-197">After you enter your Google credentials and click **Sign in**, Google will prompt you to verify that your web application has permissions to access your Google account:</span></span>

    <span data-ttu-id="9b2f0-198">[![](external-authentication-services/_static/image34.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-198">[![](external-authentication-services/_static/image34.png "Click to Expand the Image")](external-authentication-services/_static/image33.png)</span></span>
7. <span data-ttu-id="9b2f0-199">Beim Klicken auf **Accept**, Ihren Webbrowser wird zurück an Ihre Webanwendung umgeleitet werden Sie für die Eingabe der **Benutzername** , die mit Ihrem Google-Konto zugeordnet werden soll:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-199">When you click **Accept**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Google account:</span></span>

    <span data-ttu-id="9b2f0-200">[![](external-authentication-services/_static/image36.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-200">[![](external-authentication-services/_static/image36.png "Click to Expand the Image")](external-authentication-services/_static/image35.png)</span></span>
8. <span data-ttu-id="9b2f0-201">Nachdem Sie Ihren Benutzernamen eingegeben und geklickt haben die **registrieren** Schaltfläche, Ihre Webanwendung zeigt die Standardeinstellung **Startseite** für Ihr Google-Konto:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-201">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Google account:</span></span>

    <span data-ttu-id="9b2f0-202">[![](external-authentication-services/_static/image38.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-202">[![](external-authentication-services/_static/image38.png "Click to Expand the Image")](external-authentication-services/_static/image37.png)</span></span>

<a id="MICROSOFT"></a>
## <a name="enabling-microsoft-authentication"></a><span data-ttu-id="9b2f0-203">Microsoft-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-203">Enabling Microsoft Authentication</span></span>

<span data-ttu-id="9b2f0-204">Microsoft-Authentifizierung erfordert, dass Sie ein Entwicklerkonto erstellen, und erfordert eine Client-ID und geheimer Clientschlüssel ordnungsgemäßes funktionieren.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-204">Microsoft authentication requires you to create a developer account, and it requires a client ID and client secret in order to function.</span></span> <span data-ttu-id="9b2f0-205">Weitere Informationen zu einem Microsoft-Entwicklerkonto erstellen und Abrufen von Ihrem Client-ID und geheimer Clientschlüssel, finden Sie unter [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070).</span><span class="sxs-lookup"><span data-stu-id="9b2f0-205">For information about creating a Microsoft developer account and obtaining your client ID and client secret, see [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070).</span></span>

<span data-ttu-id="9b2f0-206">Sobald Ihre consumerschlüssel und dem geheimen consumerschlüssel abgerufen wurden, gehen Sie folgendermaßen vor, um Microsoft-Authentifizierung für Ihre Webanwendung zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-206">Once you have obtained your consumer key and consumer secret, use the following steps to enable Microsoft authentication for your web application:</span></span>

1. <span data-ttu-id="9b2f0-207">Wenn Ihr Projekt in Visual Studio 2013 geöffnet ist, öffnen Sie die *Startup.Auth.cs* Datei:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-207">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="9b2f0-208">[![](external-authentication-services/_static/image40.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-208">[![](external-authentication-services/_static/image40.png "Click to Expand the Image")](external-authentication-services/_static/image39.png)</span></span>
2. <span data-ttu-id="9b2f0-209">Suchen Sie den markierten Abschnitt des Codes:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-209">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample6.cs)]
3. <span data-ttu-id="9b2f0-210">Entfernen Sie die &quot; // &quot; zu kommentieren Sie die hervorgehobenen Codezeilen, und fügen Sie dann Ihre Client-ID und geheimer Clientschlüssel Zeichen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-210">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your client ID and client secret.</span></span> <span data-ttu-id="9b2f0-211">Nachdem Sie diese Parameter hinzugefügt haben, können Sie das Projekt neu kompilieren:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-211">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample7.cs)]
4. <span data-ttu-id="9b2f0-212">Wenn Sie F5, um Ihre Webanwendung im Webbrowser öffnen drücken, sehen Sie sich, dass Microsoft als externe Authentifizierungsdienst definiert wurde:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-212">When you press F5 to open your web application in your web browser, you will see that Microsoft has been defined as an external authentication service:</span></span>

    <span data-ttu-id="9b2f0-213">[![](external-authentication-services/_static/image42.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-213">[![](external-authentication-services/_static/image42.png "Click to Expand the Image")](external-authentication-services/_static/image41.png)</span></span>
5. <span data-ttu-id="9b2f0-214">Beim Klicken auf die **Microsoft** Schaltfläche, Ihren Browser an den Microsoft-Anmeldeseite umgeleitet werden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-214">When you click the **Microsoft** button, your browser will be redirected to the Microsoft login page:</span></span>

    <span data-ttu-id="9b2f0-215">[![](external-authentication-services/_static/image44.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-215">[![](external-authentication-services/_static/image44.png "Click to Expand the Image")](external-authentication-services/_static/image43.png)</span></span>
6. <span data-ttu-id="9b2f0-216">Nachdem Sie Ihre Microsoft-Anmeldeinformationen eingeben und auf **anmelden**, werden Sie aufgefordert, stellen Sie sicher, dass Ihre Webanwendung Zugriffsberechtigungen für Ihr Microsoft-Konto hat:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-216">After you enter your Microsoft credentials and click **Sign in**, you will be prompted to verify that your web application has permissions to access your Microsoft account:</span></span>

    <span data-ttu-id="9b2f0-217">[![](external-authentication-services/_static/image46.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-217">[![](external-authentication-services/_static/image46.png "Click to Expand the Image")](external-authentication-services/_static/image45.png)</span></span>
7. <span data-ttu-id="9b2f0-218">Beim Klicken auf **Ja**, Ihren Webbrowser wird zurück an Ihre Webanwendung umgeleitet werden Sie für die Eingabe der **Benutzername** , die mit Ihrem Microsoft-Konto zugeordnet werden soll:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-218">When you click **Yes**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Microsoft account:</span></span>

    <span data-ttu-id="9b2f0-219">[![](external-authentication-services/_static/image48.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-219">[![](external-authentication-services/_static/image48.png "Click to Expand the Image")](external-authentication-services/_static/image47.png)</span></span>
8. <span data-ttu-id="9b2f0-220">Nachdem Sie Ihren Benutzernamen eingegeben und geklickt haben die **registrieren** Schaltfläche, Ihre Webanwendung zeigt die Standardeinstellung **Startseite** für Ihr Microsoft-Konto:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-220">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Microsoft account:</span></span>

    <span data-ttu-id="9b2f0-221">[![](external-authentication-services/_static/image50.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-221">[![](external-authentication-services/_static/image50.png "Click to Expand the Image")](external-authentication-services/_static/image49.png)</span></span>

<a id="TWITTER"></a>
## <a name="enabling-twitter-authentication"></a><span data-ttu-id="9b2f0-222">Twitter-Authentifizierung aktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-222">Enabling Twitter Authentication</span></span>

<span data-ttu-id="9b2f0-223">Twitter-Authentifizierung erfordert, dass Sie ein Entwicklerkonto erstellen, und er erfordert ein consumerschlüssel und dem geheimen consumerschlüssel aus, um die Funktion.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-223">Twitter authentication requires you to create a developer account, and it requires a consumer key and consumer secret in order to function.</span></span> <span data-ttu-id="9b2f0-224">Informationen zu einem Twitter-Entwicklerkonto erstellen und Ihre consumerschlüssel und dem geheimen consumerschlüssel abrufen, finden Sie unter [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="9b2f0-224">For information about creating a Twitter developer account and obtaining your consumer key and consumer secret, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="9b2f0-225">Sobald Ihre consumerschlüssel und dem geheimen consumerschlüssel abgerufen wurden, verwenden die folgenden Schritte aus, um die Twitter-Authentifizierung für Ihre Webanwendung zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-225">Once you have obtained your consumer key and consumer secret, use the following steps to enable Twitter authentication for your web application:</span></span>

1. <span data-ttu-id="9b2f0-226">Wenn Ihr Projekt in Visual Studio 2013 geöffnet ist, öffnen Sie die *Startup.Auth.cs* Datei:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-226">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="9b2f0-227">[![](external-authentication-services/_static/image52.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-227">[![](external-authentication-services/_static/image52.png "Click to Expand the Image")](external-authentication-services/_static/image51.png)</span></span>
2. <span data-ttu-id="9b2f0-228">Suchen Sie den markierten Abschnitt des Codes:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-228">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample8.cs)]
3. <span data-ttu-id="9b2f0-229">Entfernen Sie die &quot; // &quot; zu kommentieren Sie die hervorgehobenen Codezeilen, und fügen Sie dann Ihre consumerschlüssel und dem geheimen consumerschlüssel Zeichen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-229">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your consumer key and consumer secret.</span></span> <span data-ttu-id="9b2f0-230">Nachdem Sie diese Parameter hinzugefügt haben, können Sie das Projekt neu kompilieren:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-230">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample9.cs)]
4. <span data-ttu-id="9b2f0-231">Wenn Sie F5, um Ihre Webanwendung im Webbrowser öffnen drücken, sehen Sie sich, dass Twitter als externe Authentifizierungsdienst definiert wurde:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-231">When you press F5 to open your web application in your web browser, you will see that Twitter has been defined as an external authentication service:</span></span>

    <span data-ttu-id="9b2f0-232">[![](external-authentication-services/_static/image54.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-232">[![](external-authentication-services/_static/image54.png "Click to Expand the Image")](external-authentication-services/_static/image53.png)</span></span>
5. <span data-ttu-id="9b2f0-233">Beim Klicken auf die **Twitter** Schaltfläche, Ihren Browser an der Twitter-Anmeldeseite umgeleitet werden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-233">When you click the **Twitter** button, your browser will be redirected to the Twitter login page:</span></span>

    <span data-ttu-id="9b2f0-234">[![](external-authentication-services/_static/image56.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-234">[![](external-authentication-services/_static/image56.png "Click to Expand the Image")](external-authentication-services/_static/image55.png)</span></span>
6. <span data-ttu-id="9b2f0-235">Nachdem Sie Ihre Twitter-Anmeldeinformationen eingeben, und klicken Sie auf **autorisieren app**, Ihren Webbrowser wird zurück an Ihre Webanwendung umgeleitet werden Sie für die Eingabe der **Benutzername** , die Sie zuordnen möchten Ihr Twitter-Konto:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-235">After you enter your Twitter credentials and click **Authorize app**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Twitter account:</span></span>

    <span data-ttu-id="9b2f0-236">[![](external-authentication-services/_static/image58.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-236">[![](external-authentication-services/_static/image58.png "Click to Expand the Image")](external-authentication-services/_static/image57.png)</span></span>
7. <span data-ttu-id="9b2f0-237">Nachdem Sie Ihren Benutzernamen eingegeben und geklickt haben die **registrieren** Schaltfläche, Ihre Webanwendung zeigt die Standardeinstellung **Startseite** für Ihr Twitter-Konto:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-237">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Twitter account:</span></span>

    <span data-ttu-id="9b2f0-238">[![](external-authentication-services/_static/image60.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image59.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-238">[![](external-authentication-services/_static/image60.png "Click to Expand the Image")](external-authentication-services/_static/image59.png)</span></span>

<a id="MOREINFO"></a>
## <a name="additional-information"></a><span data-ttu-id="9b2f0-239">Zusätzliche Informationen</span><span class="sxs-lookup"><span data-stu-id="9b2f0-239">Additional Information</span></span>

<span data-ttu-id="9b2f0-240">Weitere Informationen zum Erstellen von Anwendungen, die OAuth- und OpenID verwenden, finden Sie unter den folgenden URLs:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-240">For additional information about creating applications that use OAuth and OpenID, see the following URLs:</span></span>

- [<span data-ttu-id="9b2f0-241">https://go.microsoft.com/fwlink/?LinkID=252166</span><span class="sxs-lookup"><span data-stu-id="9b2f0-241">https://go.microsoft.com/fwlink/?LinkID=252166</span></span>](https://go.microsoft.com/fwlink/?LinkID=252166)
- [<span data-ttu-id="9b2f0-242">https://go.microsoft.com/fwlink/?LinkID=243995</span><span class="sxs-lookup"><span data-stu-id="9b2f0-242">https://go.microsoft.com/fwlink/?LinkID=243995</span></span>](https://go.microsoft.com/fwlink/?LinkID=243995)

<a id="COMBINE"></a>
### <a name="combining-external-authentication-services"></a><span data-ttu-id="9b2f0-243">Kombinieren von externen Authentifizierungsdienste</span><span class="sxs-lookup"><span data-stu-id="9b2f0-243">Combining External Authentication Services</span></span>

<span data-ttu-id="9b2f0-244">Höheres Maß an Flexibilität Sie können mehrere externen Authentifizierungsdienste definieren, zur gleichen Zeit - dadurch Ihre Web Anwendungsbenutzer ein Konto aus den aktivierter externen Authentifizierungsdienste verwenden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-244">For greater flexibility, you can define multiple external authentication services at the same time - this allows your web application's users to use an account from any of the enabled external authentication services:</span></span>

<span data-ttu-id="9b2f0-245">[![](external-authentication-services/_static/image62.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-245">[![](external-authentication-services/_static/image62.png "Click to Expand the Image")](external-authentication-services/_static/image61.png)</span></span>

<a id="FQDN"></a>
### <a name="configuring-iis-express-to-use-a-fully-qualified-domain-name"></a><span data-ttu-id="9b2f0-246">Konfigurieren von IIS Express verwendet einen vollständig qualifizierten Domänennamen</span><span class="sxs-lookup"><span data-stu-id="9b2f0-246">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>

<span data-ttu-id="9b2f0-247">Einige externe Authentifizierungsanbieter unterstützen keine Testen Ihrer Anwendung mithilfe einer HTTP-Adresse wie `http://localhost:port/`.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-247">Some external authentication providers do not support testing your application by using an HTTP address like `http://localhost:port/`.</span></span> <span data-ttu-id="9b2f0-248">Um dieses Problem zu umgehen, können Sie eine statische Zuordnung für den vollständig qualifizierten Domänennamen (FQDN) der HOSTS-Datei hinzufügen und konfigurieren die Optionen für Ihr Projekt in Visual Studio 2013, verwenden Sie den FQDN für das Testen/Debuggen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-248">To work around this issue, you can add a static Fully Qualified Domain Name (FQDN) mapping to your HOSTS file and configure your project options in Visual Studio 2013 to use the FQDN for testing/debugging.</span></span> <span data-ttu-id="9b2f0-249">Verwenden Sie hierzu die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-249">To do so, use the following steps:</span></span>

- <span data-ttu-id="9b2f0-250">Fügen Sie einen statischen FQDN Zuordnen der HOSTS-Datei hinzu:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-250">Add a static FQDN mapping your HOSTS file:</span></span>

    1. <span data-ttu-id="9b2f0-251">Öffnen Sie ein Eingabeaufforderungsfenster mit erhöhten Rechten in Windows.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-251">Open an elevated command prompt in Windows.</span></span>
    2. <span data-ttu-id="9b2f0-252">Geben Sie folgenden Befehl ein:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-252">Type the following command:</span></span>

        <span data-ttu-id="9b2f0-253"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span><span class="sxs-lookup"><span data-stu-id="9b2f0-253"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span></span>
    3. <span data-ttu-id="9b2f0-254">Fügen Sie einen Eintrag wie folgt zur Hostdatei hinzu:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-254">Add an entry like the following to the HOSTS file:</span></span>

        <span data-ttu-id="9b2f0-255"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span><span class="sxs-lookup"><span data-stu-id="9b2f0-255"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span></span>
    4. <span data-ttu-id="9b2f0-256">Speichern Sie und schließen Sie die Hostdatei.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-256">Save and close your HOSTS file.</span></span>
- <span data-ttu-id="9b2f0-257">Konfigurieren von Visual Studio-Projekt zur Verwendung des FQDN:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-257">Configure your Visual Studio project to use the FQDN:</span></span>

    1. <span data-ttu-id="9b2f0-258">Wenn Ihr Projekt in Visual Studio 2013 geöffnet ist, klicken Sie auf die **Projekt** Menü, und wählen Sie dann die Eigenschaften des Projekts.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-258">When your project is open in Visual Studio 2013, click the **Project** menu, and then select your project's properties.</span></span> <span data-ttu-id="9b2f0-259">Sie können z. B. auswählen **WebApplication1 Eigenschaften**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-259">For example, you might select **WebApplication1 Properties**.</span></span>
    2. <span data-ttu-id="9b2f0-260">Wählen Sie die **Web** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-260">Select the **Web** tab.</span></span>
    3. <span data-ttu-id="9b2f0-261">Geben Sie Ihren FQDN für den **Projekt Url**.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-261">Enter your FQDN for the **Project Url**.</span></span> <span data-ttu-id="9b2f0-262">Geben Sie z. B. <kbd>http://www.wingtiptoys.com</kbd> war, die die FQDN-Zuordnung, die Sie der HOSTS-Datei hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-262">For example, you would enter <kbd>http://www.wingtiptoys.com</kbd> if that was the FQDN mapping that you added to your HOSTS file.</span></span>
- <span data-ttu-id="9b2f0-263">Konfigurieren von IIS Express, um den vollqualifizierten Domänennamen für Ihre Anwendung verwenden:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-263">Configure IIS Express to use the FQDN for your application:</span></span>

    1. <span data-ttu-id="9b2f0-264">Öffnen Sie ein Eingabeaufforderungsfenster mit erhöhten Rechten in Windows.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-264">Open an elevated command prompt in Windows.</span></span>
    2. <span data-ttu-id="9b2f0-265">Geben Sie den folgenden Befehl in Ihrem Ordner "IIS Express" ändern:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-265">Type the following command to change to your IIS Express folder:</span></span>

        <span data-ttu-id="9b2f0-266"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span><span class="sxs-lookup"><span data-stu-id="9b2f0-266"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span></span>
    3. <span data-ttu-id="9b2f0-267">Geben Sie den folgenden Befehl aus, um den FQDN für Ihre Anwendung hinzufügen an:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-267">Type the following command to add the FQDN to your application:</span></span>

        <span data-ttu-id="9b2f0-268"><kbd>appcmd.exe set config -section:system.applicationHost/sites /+&quot;[name='WebApplication1'].bindings.[protocol='http',bindingInformation='\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span><span class="sxs-lookup"><span data-stu-id="9b2f0-268"><kbd>appcmd.exe set config -section:system.applicationHost/sites /+&quot;[name='WebApplication1'].bindings.[protocol='http',bindingInformation='\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span></span>

 <span data-ttu-id="9b2f0-269">Wobei **WebApplication1** ist der Name des Projekts und **BindingInformation** enthält die Portnummer und den vollqualifizierten Domänennamen, die Sie für die Tests verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-269">Where **WebApplication1** is the name of your project and **bindingInformation** contains the port number and FQDN that you want to use for your testing.</span></span>

<a id="OBTAIN"></a>
### <a name="how-to-obtain-your-application-settings-for-microsoft-authentication"></a><span data-ttu-id="9b2f0-270">So erhalten Sie die Einstellungen Ihrer Anwendung für Microsoft-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="9b2f0-270">How to Obtain your Application Settings for Microsoft Authentication</span></span>

<span data-ttu-id="9b2f0-271">Verknüpfen eine Anwendung für Windows Live für Microsoft Authentication ist ein einfacher Vorgang.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-271">Linking an application to Windows Live for Microsoft Authentication is a simple process.</span></span> <span data-ttu-id="9b2f0-272">Wenn Sie nicht bereits eine Anwendung für Windows Live verknüpft haben, können Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-272">If you have not already linked an application to Windows Live, you can use the following steps:</span></span>

1. <span data-ttu-id="9b2f0-273">Navigieren Sie zu [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070) Geben Sie Ihren Microsoft-Kontonamen und das Kennwort ein, und klicken Sie auf **anmelden**:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-273">Browse to [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070) and enter your Microsoft account name and password when prompted, then click **Sign in**:</span></span>

    <span data-ttu-id="9b2f0-274">[![](external-authentication-services/_static/image64.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-274">[![](external-authentication-services/_static/image64.png "Click to Expand the Image")](external-authentication-services/_static/image63.png)</span></span>
2. <span data-ttu-id="9b2f0-275">Geben Sie den Namen und die Sprache Ihrer Anwendung, wenn Sie aufgefordert werden, und klicken Sie dann auf **ich stimme**:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-275">Enter the name and language of your application when prompted, and then click **I accept**:</span></span>

    <span data-ttu-id="9b2f0-276">[![](external-authentication-services/_static/image66.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image65.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-276">[![](external-authentication-services/_static/image66.png "Click to Expand the Image")](external-authentication-services/_static/image65.png)</span></span>
3. <span data-ttu-id="9b2f0-277">Auf der **API-Einstellungen** Seite für Ihre Anwendung, geben Sie die umleitungsdomäne für Ihre Anwendung und die Kopie der **Client-ID** und **geheimen Clientschlüssel** für das Projekt, und klicken Sie dann Klicken Sie auf **speichern**:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-277">On the **API Settings** page for your application, enter the redirect domain for your application and copy the **Client ID** and **Client secret** for your project, and then click **Save**:</span></span>

    <span data-ttu-id="9b2f0-278">[![](external-authentication-services/_static/image68.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image67.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-278">[![](external-authentication-services/_static/image68.png "Click to Expand the Image")](external-authentication-services/_static/image67.png)</span></span>

<a id="DISABLE"></a>
### <a name="optional-disable-local-registration"></a><span data-ttu-id="9b2f0-279">Optional: Lokale Registrierung deaktivieren</span><span class="sxs-lookup"><span data-stu-id="9b2f0-279">Optional: Disable Local Registration</span></span>

<span data-ttu-id="9b2f0-280">Die aktuelle lokale Registrierung-Funktionalität von ASP.NET wird nicht verhindert, dass automatisierte Programme (Bots) Erstellen von Elementeigenschaften Konten; Mithilfe von Bot Prevention und Validierung-Technologie wie z. B. [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span><span class="sxs-lookup"><span data-stu-id="9b2f0-280">The current ASP.NET local registration functionality does not prevent automated programs (bots) from creating member accounts; for example, by using a bot-prevention and validation technology like [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span></span> <span data-ttu-id="9b2f0-281">Aus diesem Grund sollten Sie die lokale Anmeldung Formular und die Registrierung der Link auf der Anmeldeseite entfernen.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-281">Because of this, you should remove the local login form and registration link on the login page.</span></span> <span data-ttu-id="9b2f0-282">Öffnen Sie hierzu die  *\_Login.cshtml* Seite in Ihrem Projekt, und klicken Sie dann die Zeilen für den Bereich für die lokale Anmeldung und den Link auskommentieren.</span><span class="sxs-lookup"><span data-stu-id="9b2f0-282">To do so, open the *\_Login.cshtml* page in your project, and then comment out the lines for the local login panel and the registration link.</span></span> <span data-ttu-id="9b2f0-283">Ergebnisseite sollte wie im folgenden Codebeispiel aussehen:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-283">The resulting page should look like the following code sample:</span></span>

[!code-html[Main](external-authentication-services/samples/sample10.html)]

<span data-ttu-id="9b2f0-284">Sobald im Bereich für die lokale Anmeldung und den Registrierungslink deaktiviert wurde, zeigt die Anmeldeseite nur die externe Authentifizierungsanbieter, die Sie aktiviert haben:</span><span class="sxs-lookup"><span data-stu-id="9b2f0-284">Once the local login panel and the registration link have been disabled, your login page will only display the external authentication providers that you have enabled:</span></span>

<span data-ttu-id="9b2f0-285">[![](external-authentication-services/_static/image70.png "Klicken Sie hier, um das Bild zu erweitern.")](external-authentication-services/_static/image69.png)</span><span class="sxs-lookup"><span data-stu-id="9b2f0-285">[![](external-authentication-services/_static/image70.png "Click to Expand the Image")](external-authentication-services/_static/image69.png)</span></span>
